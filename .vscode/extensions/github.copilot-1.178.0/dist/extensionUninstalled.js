"use strict";var HU=Object.create;var om=Object.defineProperty;var VU=Object.getOwnPropertyDescriptor;var jU=Object.getOwnPropertyNames;var zU=Object.getPrototypeOf,GU=Object.prototype.hasOwnProperty;var KU=(e,t,r)=>t in e?om(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var o=(e,t)=>om(e,"name",{value:t,configurable:!0});var y0=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var WU=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of jU(t))!GU.call(e,s)&&s!==r&&om(e,s,{get:()=>t[s],enumerable:!(n=VU(t,s))||n.enumerable});return e};var Sn=(e,t,r)=>(r=e!=null?HU(zU(e)):{},WU(t||!e||!e.__esModule?om(r,"default",{value:e,enumerable:!0}):r,e));var fa=(e,t,r)=>(KU(e,typeof t!="symbol"?t+"":t,r),r),M_=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var N0=(e,t,r)=>(M_(e,t,"read from private field"),r?r.call(e):t.get(e)),Xi=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Qi=(e,t,r,n)=>(M_(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var gl=(e,t,r)=>(M_(e,t,"access private method"),r);var jl=y0(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.Type=Me.JsonType=Me.JavaScriptTypeBuilder=Me.JsonTypeBuilder=Me.TypeBuilder=Me.TypeBuilderError=Me.TransformEncodeBuilder=Me.TransformDecodeBuilder=Me.TemplateLiteralDslParser=Me.TemplateLiteralGenerator=Me.TemplateLiteralGeneratorError=Me.TemplateLiteralFinite=Me.TemplateLiteralFiniteError=Me.TemplateLiteralParser=Me.TemplateLiteralParserError=Me.TemplateLiteralResolver=Me.TemplateLiteralPattern=Me.TemplateLiteralPatternError=Me.UnionResolver=Me.KeyArrayResolver=Me.KeyArrayResolverError=Me.KeyResolver=Me.ObjectMap=Me.Intrinsic=Me.IndexedAccessor=Me.TypeClone=Me.TypeExtends=Me.TypeExtendsResult=Me.TypeExtendsError=Me.ExtendsUndefined=Me.TypeGuard=Me.TypeGuardUnknownTypeError=Me.ValueGuard=Me.FormatRegistry=Me.TypeBoxError=Me.TypeRegistry=Me.PatternStringExact=Me.PatternNumberExact=Me.PatternBooleanExact=Me.PatternString=Me.PatternNumber=Me.PatternBoolean=Me.Kind=Me.Hint=Me.Optional=Me.Readonly=Me.Transform=void 0;Me.Transform=Symbol.for("TypeBox.Transform");Me.Readonly=Symbol.for("TypeBox.Readonly");Me.Optional=Symbol.for("TypeBox.Optional");Me.Hint=Symbol.for("TypeBox.Hint");Me.Kind=Symbol.for("TypeBox.Kind");Me.PatternBoolean="(true|false)";Me.PatternNumber="(0|[1-9][0-9]*)";Me.PatternString="(.*)";Me.PatternBooleanExact=`^${Me.PatternBoolean}$`;Me.PatternNumberExact=`^${Me.PatternNumber}$`;Me.PatternStringExact=`^${Me.PatternString}$`;var U_;(function(e){let t=new Map;function r(){return new Map(t)}o(r,"Entries"),e.Entries=r;function n(){return t.clear()}o(n,"Clear"),e.Clear=n;function s(c){return t.delete(c)}o(s,"Delete"),e.Delete=s;function l(c){return t.has(c)}o(l,"Has"),e.Has=l;function a(c,u){t.set(c,u)}o(a,"Set"),e.Set=a;function f(c){return t.get(c)}o(f,"Get"),e.Get=f})(U_||(Me.TypeRegistry=U_={}));var j_=class j_ extends Error{constructor(t){super(t)}};o(j_,"TypeBoxError");var E1=j_;Me.TypeBoxError=E1;var kA;(function(e){let t=new Map;function r(){return new Map(t)}o(r,"Entries"),e.Entries=r;function n(){return t.clear()}o(n,"Clear"),e.Clear=n;function s(c){return t.delete(c)}o(s,"Delete"),e.Delete=s;function l(c){return t.has(c)}o(l,"Has"),e.Has=l;function a(c,u){t.set(c,u)}o(a,"Set"),e.Set=a;function f(c){return t.get(c)}o(f,"Get"),e.Get=f})(kA||(Me.FormatRegistry=kA={}));var Y0;(function(e){function t(h){return Array.isArray(h)}o(t,"IsArray"),e.IsArray=t;function r(h){return typeof h=="bigint"}o(r,"IsBigInt"),e.IsBigInt=r;function n(h){return typeof h=="boolean"}o(n,"IsBoolean"),e.IsBoolean=n;function s(h){return h instanceof globalThis.Date}o(s,"IsDate"),e.IsDate=s;function l(h){return h===null}o(l,"IsNull"),e.IsNull=l;function a(h){return typeof h=="number"}o(a,"IsNumber"),e.IsNumber=a;function f(h){return typeof h=="object"&&h!==null}o(f,"IsObject"),e.IsObject=f;function c(h){return typeof h=="string"}o(c,"IsString"),e.IsString=c;function u(h){return h instanceof globalThis.Uint8Array}o(u,"IsUint8Array"),e.IsUint8Array=u;function d(h){return h===void 0}o(d,"IsUndefined"),e.IsUndefined=d})(Y0||(Me.ValueGuard=Y0={}));var z_=class z_ extends E1{};o(z_,"TypeGuardUnknownTypeError");var q_=z_;Me.TypeGuardUnknownTypeError=q_;var qe;(function(e){function t(le){try{return new RegExp(le),!0}catch{return!1}}o(t,"IsPattern");function r(le){if(!Y0.IsString(le))return!1;for(let Hr=0;Hr<le.length;Hr++){let yr=le.charCodeAt(Hr);if(yr>=7&&yr<=13||yr===27||yr===127)return!1}return!0}o(r,"IsControlCharacterFree");function n(le){return a(le)||Lr(le)}o(n,"IsAdditionalProperties");function s(le){return Y0.IsUndefined(le)||Y0.IsBigInt(le)}o(s,"IsOptionalBigInt");function l(le){return Y0.IsUndefined(le)||Y0.IsNumber(le)}o(l,"IsOptionalNumber");function a(le){return Y0.IsUndefined(le)||Y0.IsBoolean(le)}o(a,"IsOptionalBoolean");function f(le){return Y0.IsUndefined(le)||Y0.IsString(le)}o(f,"IsOptionalString");function c(le){return Y0.IsUndefined(le)||Y0.IsString(le)&&r(le)&&t(le)}o(c,"IsOptionalPattern");function u(le){return Y0.IsUndefined(le)||Y0.IsString(le)&&r(le)}o(u,"IsOptionalFormat");function d(le){return Y0.IsUndefined(le)||Lr(le)}o(d,"IsOptionalSchema");function h(le){return V(le,"Any")&&f(le.$id)}o(h,"TAny"),e.TAny=h;function m(le){return V(le,"Array")&&le.type==="array"&&f(le.$id)&&Lr(le.items)&&l(le.minItems)&&l(le.maxItems)&&a(le.uniqueItems)&&d(le.contains)&&l(le.minContains)&&l(le.maxContains)}o(m,"TArray"),e.TArray=m;function p(le){return V(le,"AsyncIterator")&&le.type==="AsyncIterator"&&f(le.$id)&&Lr(le.items)}o(p,"TAsyncIterator"),e.TAsyncIterator=p;function v(le){return V(le,"BigInt")&&le.type==="bigint"&&f(le.$id)&&s(le.exclusiveMaximum)&&s(le.exclusiveMinimum)&&s(le.maximum)&&s(le.minimum)&&s(le.multipleOf)}o(v,"TBigInt"),e.TBigInt=v;function x(le){return V(le,"Boolean")&&le.type==="boolean"&&f(le.$id)}o(x,"TBoolean"),e.TBoolean=x;function E(le){return V(le,"Constructor")&&le.type==="Constructor"&&f(le.$id)&&Y0.IsArray(le.parameters)&&le.parameters.every(Hr=>Lr(Hr))&&Lr(le.returns)}o(E,"TConstructor"),e.TConstructor=E;function I(le){return V(le,"Date")&&le.type==="Date"&&f(le.$id)&&l(le.exclusiveMaximumTimestamp)&&l(le.exclusiveMinimumTimestamp)&&l(le.maximumTimestamp)&&l(le.minimumTimestamp)&&l(le.multipleOfTimestamp)}o(I,"TDate"),e.TDate=I;function A(le){return V(le,"Function")&&le.type==="Function"&&f(le.$id)&&Y0.IsArray(le.parameters)&&le.parameters.every(Hr=>Lr(Hr))&&Lr(le.returns)}o(A,"TFunction"),e.TFunction=A;function L(le){return V(le,"Integer")&&le.type==="integer"&&f(le.$id)&&l(le.exclusiveMaximum)&&l(le.exclusiveMinimum)&&l(le.maximum)&&l(le.minimum)&&l(le.multipleOf)}o(L,"TInteger"),e.TInteger=L;function D(le){return V(le,"Intersect")&&!(Y0.IsString(le.type)&&le.type!=="object")&&Y0.IsArray(le.allOf)&&le.allOf.every(Hr=>Lr(Hr)&&!O0(Hr))&&f(le.type)&&(a(le.unevaluatedProperties)||d(le.unevaluatedProperties))&&f(le.$id)}o(D,"TIntersect"),e.TIntersect=D;function R(le){return V(le,"Iterator")&&le.type==="Iterator"&&f(le.$id)&&Lr(le.items)}o(R,"TIterator"),e.TIterator=R;function V(le,Hr){return de(le)&&le[Me.Kind]===Hr}o(V,"TKindOf"),e.TKindOf=V;function de(le){return Y0.IsObject(le)&&Me.Kind in le&&Y0.IsString(le[Me.Kind])}o(de,"TKind"),e.TKind=de;function ve(le){return r0(le)&&Y0.IsString(le.const)}o(ve,"TLiteralString"),e.TLiteralString=ve;function n0(le){return r0(le)&&Y0.IsNumber(le.const)}o(n0,"TLiteralNumber"),e.TLiteralNumber=n0;function d0(le){return r0(le)&&Y0.IsBoolean(le.const)}o(d0,"TLiteralBoolean"),e.TLiteralBoolean=d0;function r0(le){return V(le,"Literal")&&f(le.$id)&&(Y0.IsBoolean(le.const)||Y0.IsNumber(le.const)||Y0.IsString(le.const))}o(r0,"TLiteral"),e.TLiteral=r0;function m0(le){return V(le,"Never")&&Y0.IsObject(le.not)&&Object.getOwnPropertyNames(le.not).length===0}o(m0,"TNever"),e.TNever=m0;function Ve(le){return V(le,"Not")&&Lr(le.not)}o(Ve,"TNot"),e.TNot=Ve;function we(le){return V(le,"Null")&&le.type==="null"&&f(le.$id)}o(we,"TNull"),e.TNull=we;function o0(le){return V(le,"Number")&&le.type==="number"&&f(le.$id)&&l(le.exclusiveMaximum)&&l(le.exclusiveMinimum)&&l(le.maximum)&&l(le.minimum)&&l(le.multipleOf)}o(o0,"TNumber"),e.TNumber=o0;function u0(le){return V(le,"Object")&&le.type==="object"&&f(le.$id)&&Y0.IsObject(le.properties)&&n(le.additionalProperties)&&l(le.minProperties)&&l(le.maxProperties)&&Object.entries(le.properties).every(([Hr,yr])=>r(Hr)&&Lr(yr))}o(u0,"TObject"),e.TObject=u0;function l0(le){return V(le,"Promise")&&le.type==="Promise"&&f(le.$id)&&Lr(le.item)}o(l0,"TPromise"),e.TPromise=l0;function R0(le){return V(le,"Record")&&le.type==="object"&&f(le.$id)&&n(le.additionalProperties)&&Y0.IsObject(le.patternProperties)&&(Hr=>{let yr=Object.getOwnPropertyNames(Hr.patternProperties);return yr.length===1&&t(yr[0])&&Y0.IsObject(Hr.patternProperties)&&Lr(Hr.patternProperties[yr[0]])})(le)}o(R0,"TRecord"),e.TRecord=R0;function t0(le){return Y0.IsObject(le)&&Me.Hint in le&&le[Me.Hint]==="Recursive"}o(t0,"TRecursive"),e.TRecursive=t0;function f0(le){return V(le,"Ref")&&f(le.$id)&&Y0.IsString(le.$ref)}o(f0,"TRef"),e.TRef=f0;function ce(le){return V(le,"String")&&le.type==="string"&&f(le.$id)&&l(le.minLength)&&l(le.maxLength)&&c(le.pattern)&&u(le.format)}o(ce,"TString"),e.TString=ce;function Ee(le){return V(le,"Symbol")&&le.type==="symbol"&&f(le.$id)}o(Ee,"TSymbol"),e.TSymbol=Ee;function C0(le){return V(le,"TemplateLiteral")&&le.type==="string"&&Y0.IsString(le.pattern)&&le.pattern[0]==="^"&&le.pattern[le.pattern.length-1]==="$"}o(C0,"TTemplateLiteral"),e.TTemplateLiteral=C0;function z0(le){return V(le,"This")&&f(le.$id)&&Y0.IsString(le.$ref)}o(z0,"TThis"),e.TThis=z0;function O0(le){return Y0.IsObject(le)&&Me.Transform in le}o(O0,"TTransform"),e.TTransform=O0;function v0(le){return V(le,"Tuple")&&le.type==="array"&&f(le.$id)&&Y0.IsNumber(le.minItems)&&Y0.IsNumber(le.maxItems)&&le.minItems===le.maxItems&&(Y0.IsUndefined(le.items)&&Y0.IsUndefined(le.additionalItems)&&le.minItems===0||Y0.IsArray(le.items)&&le.items.every(Hr=>Lr(Hr)))}o(v0,"TTuple"),e.TTuple=v0;function fr(le){return V(le,"Undefined")&&le.type==="undefined"&&f(le.$id)}o(fr,"TUndefined"),e.TUndefined=fr;function ue(le){return D0(le)&&le.anyOf.every(Hr=>ve(Hr)||n0(Hr))}o(ue,"TUnionLiteral"),e.TUnionLiteral=ue;function D0(le){return V(le,"Union")&&f(le.$id)&&Y0.IsObject(le)&&Y0.IsArray(le.anyOf)&&le.anyOf.every(Hr=>Lr(Hr))}o(D0,"TUnion"),e.TUnion=D0;function Ke(le){return V(le,"Uint8Array")&&le.type==="Uint8Array"&&f(le.$id)&&l(le.minByteLength)&&l(le.maxByteLength)}o(Ke,"TUint8Array"),e.TUint8Array=Ke;function L0(le){return V(le,"Unknown")&&f(le.$id)}o(L0,"TUnknown"),e.TUnknown=L0;function B0(le){return V(le,"Unsafe")}o(B0,"TUnsafe"),e.TUnsafe=B0;function G0(le){return V(le,"Void")&&le.type==="void"&&f(le.$id)}o(G0,"TVoid"),e.TVoid=G0;function br(le){return Y0.IsObject(le)&&le[Me.Readonly]==="Readonly"}o(br,"TReadonly"),e.TReadonly=br;function en(le){return Y0.IsObject(le)&&le[Me.Optional]==="Optional"}o(en,"TOptional"),e.TOptional=en;function Lr(le){return Y0.IsObject(le)&&(h(le)||m(le)||x(le)||v(le)||p(le)||E(le)||I(le)||A(le)||L(le)||D(le)||R(le)||r0(le)||m0(le)||Ve(le)||we(le)||o0(le)||u0(le)||l0(le)||R0(le)||f0(le)||ce(le)||Ee(le)||C0(le)||z0(le)||v0(le)||fr(le)||D0(le)||Ke(le)||L0(le)||B0(le)||G0(le)||de(le)&&U_.Has(le[Me.Kind]))}o(Lr,"TSchema"),e.TSchema=Lr})(qe||(Me.TypeGuard=qe={}));var BA;(function(e){function t(r){return r[Me.Kind]==="Intersect"?r.allOf.every(n=>t(n)):r[Me.Kind]==="Union"?r.anyOf.some(n=>t(n)):r[Me.Kind]==="Undefined"?!0:r[Me.Kind]==="Not"?!t(r.not):!1}o(t,"Check"),e.Check=t})(BA||(Me.ExtendsUndefined=BA={}));var G_=class G_ extends E1{};o(G_,"TypeExtendsError");var am=G_;Me.TypeExtendsError=am;var T0;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(T0||(Me.TypeExtendsResult=T0={}));var W2;(function(e){function t(Q){return Q===T0.False?Q:T0.True}o(t,"IntoBooleanResult");function r(Q){throw new am(Q)}o(r,"Throw");function n(Q){return qe.TNever(Q)||qe.TIntersect(Q)||qe.TUnion(Q)||qe.TUnknown(Q)||qe.TAny(Q)}o(n,"IsStructuralRight");function s(Q,se){return qe.TNever(se)?V(Q,se):qe.TIntersect(se)?A(Q,se):qe.TUnion(se)?Zs(Q,se):qe.TUnknown(se)?Rl(Q,se):qe.TAny(se)?l(Q,se):r("StructuralRight")}o(s,"StructuralRight");function l(Q,se){return T0.True}o(l,"TAnyRight");function a(Q,se){return qe.TIntersect(se)?A(Q,se):qe.TUnion(se)&&se.anyOf.some(on=>qe.TAny(on)||qe.TUnknown(on))?T0.True:qe.TUnion(se)?T0.Union:qe.TUnknown(se)||qe.TAny(se)?T0.True:T0.Union}o(a,"TAny");function f(Q,se){return qe.TUnknown(Q)?T0.False:qe.TAny(Q)?T0.Union:qe.TNever(Q)?T0.True:T0.False}o(f,"TArrayRight");function c(Q,se){return qe.TObject(se)&&C0(se)?T0.True:n(se)?s(Q,se):qe.TArray(se)?t(yn(Q.items,se.items)):T0.False}o(c,"TArray");function u(Q,se){return n(se)?s(Q,se):qe.TAsyncIterator(se)?t(yn(Q.items,se.items)):T0.False}o(u,"TAsyncIterator");function d(Q,se){return n(se)?s(Q,se):qe.TObject(se)?v0(Q,se):qe.TRecord(se)?L0(Q,se):qe.TBigInt(se)?T0.True:T0.False}o(d,"TBigInt");function h(Q,se){return qe.TLiteral(Q)&&Y0.IsBoolean(Q.const)||qe.TBoolean(Q)?T0.True:T0.False}o(h,"TBooleanRight");function m(Q,se){return n(se)?s(Q,se):qe.TObject(se)?v0(Q,se):qe.TRecord(se)?L0(Q,se):qe.TBoolean(se)?T0.True:T0.False}o(m,"TBoolean");function p(Q,se){return n(se)?s(Q,se):qe.TObject(se)?v0(Q,se):qe.TConstructor(se)?Q.parameters.length>se.parameters.length?T0.False:Q.parameters.every((on,Hs)=>t(yn(se.parameters[Hs],on))===T0.True)?t(yn(Q.returns,se.returns)):T0.False:T0.False}o(p,"TConstructor");function v(Q,se){return n(se)?s(Q,se):qe.TObject(se)?v0(Q,se):qe.TRecord(se)?L0(Q,se):qe.TDate(se)?T0.True:T0.False}o(v,"TDate");function x(Q,se){return n(se)?s(Q,se):qe.TObject(se)?v0(Q,se):qe.TFunction(se)?Q.parameters.length>se.parameters.length?T0.False:Q.parameters.every((on,Hs)=>t(yn(se.parameters[Hs],on))===T0.True)?t(yn(Q.returns,se.returns)):T0.False:T0.False}o(x,"TFunction");function E(Q,se){return qe.TLiteral(Q)&&Y0.IsNumber(Q.const)||qe.TNumber(Q)||qe.TInteger(Q)?T0.True:T0.False}o(E,"TIntegerRight");function I(Q,se){return qe.TInteger(se)||qe.TNumber(se)?T0.True:n(se)?s(Q,se):qe.TObject(se)?v0(Q,se):qe.TRecord(se)?L0(Q,se):T0.False}o(I,"TInteger");function A(Q,se){return se.allOf.every(on=>yn(Q,on)===T0.True)?T0.True:T0.False}o(A,"TIntersectRight");function L(Q,se){return Q.allOf.some(on=>yn(on,se)===T0.True)?T0.True:T0.False}o(L,"TIntersect");function D(Q,se){return n(se)?s(Q,se):qe.TIterator(se)?t(yn(Q.items,se.items)):T0.False}o(D,"TIterator");function R(Q,se){return qe.TLiteral(se)&&se.const===Q.const?T0.True:n(se)?s(Q,se):qe.TObject(se)?v0(Q,se):qe.TRecord(se)?L0(Q,se):qe.TString(se)?G0(Q,se):qe.TNumber(se)?r0(Q,se):qe.TInteger(se)?E(Q,se):qe.TBoolean(se)?h(Q,se):T0.False}o(R,"TLiteral");function V(Q,se){return T0.False}o(V,"TNeverRight");function de(Q,se){return T0.True}o(de,"TNever");function ve(Q){let[se,on]=[Q,0];for(;qe.TNot(se);)se=se.not,on+=1;return on%2===0?se:Me.Type.Unknown()}o(ve,"UnwrapTNot");function n0(Q,se){return qe.TNot(Q)?yn(ve(Q),se):qe.TNot(se)?yn(Q,ve(se)):r("Invalid fallthrough for Not")}o(n0,"TNot");function d0(Q,se){return n(se)?s(Q,se):qe.TObject(se)?v0(Q,se):qe.TRecord(se)?L0(Q,se):qe.TNull(se)?T0.True:T0.False}o(d0,"TNull");function r0(Q,se){return qe.TLiteralNumber(Q)||qe.TNumber(Q)||qe.TInteger(Q)?T0.True:T0.False}o(r0,"TNumberRight");function m0(Q,se){return n(se)?s(Q,se):qe.TObject(se)?v0(Q,se):qe.TRecord(se)?L0(Q,se):qe.TInteger(se)||qe.TNumber(se)?T0.True:T0.False}o(m0,"TNumber");function Ve(Q,se){return Object.getOwnPropertyNames(Q.properties).length===se}o(Ve,"IsObjectPropertyCount");function we(Q){return C0(Q)}o(we,"IsObjectStringLike");function o0(Q){return Ve(Q,0)||Ve(Q,1)&&"description"in Q.properties&&qe.TUnion(Q.properties.description)&&Q.properties.description.anyOf.length===2&&(qe.TString(Q.properties.description.anyOf[0])&&qe.TUndefined(Q.properties.description.anyOf[1])||qe.TString(Q.properties.description.anyOf[1])&&qe.TUndefined(Q.properties.description.anyOf[0]))}o(o0,"IsObjectSymbolLike");function u0(Q){return Ve(Q,0)}o(u0,"IsObjectNumberLike");function l0(Q){return Ve(Q,0)}o(l0,"IsObjectBooleanLike");function R0(Q){return Ve(Q,0)}o(R0,"IsObjectBigIntLike");function t0(Q){return Ve(Q,0)}o(t0,"IsObjectDateLike");function f0(Q){return C0(Q)}o(f0,"IsObjectUint8ArrayLike");function ce(Q){let se=Me.Type.Number();return Ve(Q,0)||Ve(Q,1)&&"length"in Q.properties&&t(yn(Q.properties.length,se))===T0.True}o(ce,"IsObjectFunctionLike");function Ee(Q){return Ve(Q,0)}o(Ee,"IsObjectConstructorLike");function C0(Q){let se=Me.Type.Number();return Ve(Q,0)||Ve(Q,1)&&"length"in Q.properties&&t(yn(Q.properties.length,se))===T0.True}o(C0,"IsObjectArrayLike");function z0(Q){let se=Me.Type.Function([Me.Type.Any()],Me.Type.Any());return Ve(Q,0)||Ve(Q,1)&&"then"in Q.properties&&t(yn(Q.properties.then,se))===T0.True}o(z0,"IsObjectPromiseLike");function O0(Q,se){return yn(Q,se)===T0.False||qe.TOptional(Q)&&!qe.TOptional(se)?T0.False:T0.True}o(O0,"Property");function v0(Q,se){return qe.TUnknown(Q)?T0.False:qe.TAny(Q)?T0.Union:qe.TNever(Q)||qe.TLiteralString(Q)&&we(se)||qe.TLiteralNumber(Q)&&u0(se)||qe.TLiteralBoolean(Q)&&l0(se)||qe.TSymbol(Q)&&o0(se)||qe.TBigInt(Q)&&R0(se)||qe.TString(Q)&&we(se)||qe.TSymbol(Q)&&o0(se)||qe.TNumber(Q)&&u0(se)||qe.TInteger(Q)&&u0(se)||qe.TBoolean(Q)&&l0(se)||qe.TUint8Array(Q)&&f0(se)||qe.TDate(Q)&&t0(se)||qe.TConstructor(Q)&&Ee(se)||qe.TFunction(Q)&&ce(se)?T0.True:qe.TRecord(Q)&&qe.TString(D0(Q))?se[Me.Hint]==="Record"?T0.True:T0.False:qe.TRecord(Q)&&qe.TNumber(D0(Q))?Ve(se,0)?T0.True:T0.False:T0.False}o(v0,"TObjectRight");function fr(Q,se){return n(se)?s(Q,se):qe.TRecord(se)?L0(Q,se):qe.TObject(se)?(()=>{for(let on of Object.getOwnPropertyNames(se.properties)){if(!(on in Q.properties)&&!qe.TOptional(se.properties[on]))return T0.False;if(qe.TOptional(se.properties[on]))return T0.True;if(O0(Q.properties[on],se.properties[on])===T0.False)return T0.False}return T0.True})():T0.False}o(fr,"TObject");function ue(Q,se){return n(se)?s(Q,se):qe.TObject(se)&&z0(se)?T0.True:qe.TPromise(se)?t(yn(Q.item,se.item)):T0.False}o(ue,"TPromise");function D0(Q){return Me.PatternNumberExact in Q.patternProperties?Me.Type.Number():Me.PatternStringExact in Q.patternProperties?Me.Type.String():r("Unknown record key pattern")}o(D0,"RecordKey");function Ke(Q){return Me.PatternNumberExact in Q.patternProperties?Q.patternProperties[Me.PatternNumberExact]:Me.PatternStringExact in Q.patternProperties?Q.patternProperties[Me.PatternStringExact]:r("Unable to get record value schema")}o(Ke,"RecordValue");function L0(Q,se){let[on,Hs]=[D0(se),Ke(se)];return qe.TLiteralString(Q)&&qe.TNumber(on)&&t(yn(Q,Hs))===T0.True?T0.True:qe.TUint8Array(Q)&&qe.TNumber(on)||qe.TString(Q)&&qe.TNumber(on)||qe.TArray(Q)&&qe.TNumber(on)?yn(Q,Hs):qe.TObject(Q)?(()=>{for(let _3 of Object.getOwnPropertyNames(Q.properties))if(O0(Hs,Q.properties[_3])===T0.False)return T0.False;return T0.True})():T0.False}o(L0,"TRecordRight");function B0(Q,se){return n(se)?s(Q,se):qe.TObject(se)?v0(Q,se):qe.TRecord(se)?yn(Ke(Q),Ke(se)):T0.False}o(B0,"TRecord");function G0(Q,se){return qe.TLiteral(Q)&&Y0.IsString(Q.const)||qe.TString(Q)?T0.True:T0.False}o(G0,"TStringRight");function br(Q,se){return n(se)?s(Q,se):qe.TObject(se)?v0(Q,se):qe.TRecord(se)?L0(Q,se):qe.TString(se)?T0.True:T0.False}o(br,"TString");function en(Q,se){return n(se)?s(Q,se):qe.TObject(se)?v0(Q,se):qe.TRecord(se)?L0(Q,se):qe.TSymbol(se)?T0.True:T0.False}o(en,"TSymbol");function Lr(Q,se){return qe.TTemplateLiteral(Q)?yn(mu.Resolve(Q),se):qe.TTemplateLiteral(se)?yn(Q,mu.Resolve(se)):r("Invalid fallthrough for TemplateLiteral")}o(Lr,"TTemplateLiteral");function le(Q,se){return qe.TArray(se)&&Q.items!==void 0&&Q.items.every(on=>yn(on,se.items)===T0.True)}o(le,"IsArrayOfTuple");function Hr(Q,se){return qe.TNever(Q)?T0.True:qe.TUnknown(Q)?T0.False:qe.TAny(Q)?T0.Union:T0.False}o(Hr,"TTupleRight");function yr(Q,se){return n(se)?s(Q,se):qe.TObject(se)&&C0(se)||qe.TArray(se)&&le(Q,se)?T0.True:qe.TTuple(se)?Y0.IsUndefined(Q.items)&&!Y0.IsUndefined(se.items)||!Y0.IsUndefined(Q.items)&&Y0.IsUndefined(se.items)?T0.False:Y0.IsUndefined(Q.items)&&!Y0.IsUndefined(se.items)||Q.items.every((on,Hs)=>yn(on,se.items[Hs])===T0.True)?T0.True:T0.False:T0.False}o(yr,"TTuple");function Xs(Q,se){return n(se)?s(Q,se):qe.TObject(se)?v0(Q,se):qe.TRecord(se)?L0(Q,se):qe.TUint8Array(se)?T0.True:T0.False}o(Xs,"TUint8Array");function Es(Q,se){return n(se)?s(Q,se):qe.TObject(se)?v0(Q,se):qe.TRecord(se)?L0(Q,se):qe.TVoid(se)?U1(Q,se):qe.TUndefined(se)?T0.True:T0.False}o(Es,"TUndefined");function Zs(Q,se){return se.anyOf.some(on=>yn(Q,on)===T0.True)?T0.True:T0.False}o(Zs,"TUnionRight");function Qs(Q,se){return Q.anyOf.every(on=>yn(on,se)===T0.True)?T0.True:T0.False}o(Qs,"TUnion");function Rl(Q,se){return T0.True}o(Rl,"TUnknownRight");function Zl(Q,se){return qe.TNever(se)?V(Q,se):qe.TIntersect(se)?A(Q,se):qe.TUnion(se)?Zs(Q,se):qe.TAny(se)?l(Q,se):qe.TString(se)?G0(Q,se):qe.TNumber(se)?r0(Q,se):qe.TInteger(se)?E(Q,se):qe.TBoolean(se)?h(Q,se):qe.TArray(se)?f(Q,se):qe.TTuple(se)?Hr(Q,se):qe.TObject(se)?v0(Q,se):qe.TUnknown(se)?T0.True:T0.False}o(Zl,"TUnknown");function U1(Q,se){return qe.TUndefined(Q)||qe.TUndefined(Q)?T0.True:T0.False}o(U1,"VoidRight");function Ql(Q,se){return qe.TIntersect(se)?A(Q,se):qe.TUnion(se)?Zs(Q,se):qe.TUnknown(se)?Rl(Q,se):qe.TAny(se)?l(Q,se):qe.TObject(se)?v0(Q,se):qe.TVoid(se)?T0.True:T0.False}o(Ql,"TVoid");function yn(Q,se){return qe.TTemplateLiteral(Q)||qe.TTemplateLiteral(se)?Lr(Q,se):qe.TNot(Q)||qe.TNot(se)?n0(Q,se):qe.TAny(Q)?a(Q,se):qe.TArray(Q)?c(Q,se):qe.TBigInt(Q)?d(Q,se):qe.TBoolean(Q)?m(Q,se):qe.TAsyncIterator(Q)?u(Q,se):qe.TConstructor(Q)?p(Q,se):qe.TDate(Q)?v(Q,se):qe.TFunction(Q)?x(Q,se):qe.TInteger(Q)?I(Q,se):qe.TIntersect(Q)?L(Q,se):qe.TIterator(Q)?D(Q,se):qe.TLiteral(Q)?R(Q,se):qe.TNever(Q)?de(Q,se):qe.TNull(Q)?d0(Q,se):qe.TNumber(Q)?m0(Q,se):qe.TObject(Q)?fr(Q,se):qe.TRecord(Q)?B0(Q,se):qe.TString(Q)?br(Q,se):qe.TSymbol(Q)?en(Q,se):qe.TTuple(Q)?yr(Q,se):qe.TPromise(Q)?ue(Q,se):qe.TUint8Array(Q)?Xs(Q,se):qe.TUndefined(Q)?Es(Q,se):qe.TUnion(Q)?Qs(Q,se):qe.TUnknown(Q)?Zl(Q,se):qe.TVoid(Q)?Ql(Q,se):r(`Unknown left type operand '${Q[Me.Kind]}'`)}o(yn,"Visit");function Wi(Q,se){return yn(Q,se)}o(Wi,"Extends"),e.Extends=Wi})(W2||(Me.TypeExtends=W2={}));var Sr;(function(e){function t(c){return c.map(u=>l(u))}o(t,"ArrayType");function r(c){return new Date(c.getTime())}o(r,"DateType");function n(c){return new Uint8Array(c)}o(n,"Uint8ArrayType");function s(c){let u=Object.getOwnPropertyNames(c).reduce((h,m)=>({...h,[m]:l(c[m])}),{}),d=Object.getOwnPropertySymbols(c).reduce((h,m)=>({...h,[m]:l(c[m])}),{});return{...u,...d}}o(s,"ObjectType");function l(c){return Y0.IsArray(c)?t(c):Y0.IsDate(c)?r(c):Y0.IsUint8Array(c)?n(c):Y0.IsObject(c)?s(c):c}o(l,"Visit");function a(c){return c.map(u=>f(u))}o(a,"Rest"),e.Rest=a;function f(c,u={}){return{...l(c),...u}}o(f,"Type"),e.Type=f})(Sr||(Me.TypeClone=Sr={}));var $_;(function(e){function t(p){return p.map(v=>{let{[Me.Optional]:x,...E}=Sr.Type(v);return E})}o(t,"OptionalUnwrap");function r(p){return p.every(v=>qe.TOptional(v))}o(r,"IsIntersectOptional");function n(p){return p.some(v=>qe.TOptional(v))}o(n,"IsUnionOptional");function s(p){return r(p.allOf)?Me.Type.Optional(Me.Type.Intersect(t(p.allOf))):p}o(s,"ResolveIntersect");function l(p){return n(p.anyOf)?Me.Type.Optional(Me.Type.Union(t(p.anyOf))):p}o(l,"ResolveUnion");function a(p){return p[Me.Kind]==="Intersect"?s(p):p[Me.Kind]==="Union"?l(p):p}o(a,"ResolveOptional");function f(p,v){let x=p.allOf.reduce((E,I)=>{let A=h(I,v);return A[Me.Kind]==="Never"?E:[...E,A]},[]);return a(Me.Type.Intersect(x))}o(f,"TIntersect");function c(p,v){let x=p.anyOf.map(E=>h(E,v));return a(Me.Type.Union(x))}o(c,"TUnion");function u(p,v){let x=p.properties[v];return Y0.IsUndefined(x)?Me.Type.Never():Me.Type.Union([x])}o(u,"TObject");function d(p,v){let x=p.items;if(Y0.IsUndefined(x))return Me.Type.Never();let E=x[v];return Y0.IsUndefined(E)?Me.Type.Never():E}o(d,"TTuple");function h(p,v){return p[Me.Kind]==="Intersect"?f(p,v):p[Me.Kind]==="Union"?c(p,v):p[Me.Kind]==="Object"?u(p,v):p[Me.Kind]==="Tuple"?d(p,v):Me.Type.Never()}o(h,"Visit");function m(p,v,x={}){let E=v.map(I=>h(p,I.toString()));return a(Me.Type.Union(E,x))}o(m,"Resolve"),e.Resolve=m})($_||(Me.IndexedAccessor=$_={}));var G4;(function(e){function t(d){let[h,m]=[d.slice(0,1),d.slice(1)];return`${h.toLowerCase()}${m}`}o(t,"Uncapitalize");function r(d){let[h,m]=[d.slice(0,1),d.slice(1)];return`${h.toUpperCase()}${m}`}o(r,"Capitalize");function n(d){return d.toUpperCase()}o(n,"Uppercase");function s(d){return d.toLowerCase()}o(s,"Lowercase");function l(d,h){let m=W4.ParseExact(d.pattern);if(!Y4.Check(m))return{...d,pattern:a(d.pattern,h)};let x=[...J4.Generate(m)].map(A=>Me.Type.Literal(A)),E=f(x,h),I=Me.Type.Union(E);return Me.Type.TemplateLiteral([I])}o(l,"IntrinsicTemplateLiteral");function a(d,h){return typeof d=="string"?h==="Uncapitalize"?t(d):h==="Capitalize"?r(d):h==="Uppercase"?n(d):h==="Lowercase"?s(d):d:d.toString()}o(a,"IntrinsicLiteral");function f(d,h){if(d.length===0)return[];let[m,...p]=d;return[u(m,h),...f(p,h)]}o(f,"IntrinsicRest");function c(d,h){return qe.TTemplateLiteral(d)?l(d,h):qe.TUnion(d)?Me.Type.Union(f(d.anyOf,h)):qe.TLiteral(d)?Me.Type.Literal(a(d.const,h)):d}o(c,"Visit");function u(d,h){return c(d,h)}o(u,"Map"),e.Map=u})(G4||(Me.Intrinsic=G4={}));var K4;(function(e){function t(a,f){return Me.Type.Intersect(a.allOf.map(c=>s(c,f)),{...a})}o(t,"TIntersect");function r(a,f){return Me.Type.Union(a.anyOf.map(c=>s(c,f)),{...a})}o(r,"TUnion");function n(a,f){return f(a)}o(n,"TObject");function s(a,f){return a[Me.Kind]==="Intersect"?t(a,f):a[Me.Kind]==="Union"?r(a,f):a[Me.Kind]==="Object"?n(a,f):a}o(s,"Visit");function l(a,f,c){return{...s(Sr.Type(a),f),...c}}o(l,"Map"),e.Map=l})(K4||(Me.ObjectMap=K4={}));var lm;(function(e){function t(u){return u[0]==="^"&&u[u.length-1]==="$"?u.slice(1,u.length-1):u}o(t,"UnwrapPattern");function r(u,d){return u.allOf.reduce((h,m)=>[...h,...a(m,d)],[])}o(r,"TIntersect");function n(u,d){let h=u.anyOf.map(m=>a(m,d));return[...h.reduce((m,p)=>p.map(v=>h.every(x=>x.includes(v))?m.add(v):m)[0],new Set)]}o(n,"TUnion");function s(u,d){return Object.getOwnPropertyNames(u.properties)}o(s,"TObject");function l(u,d){return d.includePatterns?Object.getOwnPropertyNames(u.patternProperties):[]}o(l,"TRecord");function a(u,d){return qe.TIntersect(u)?r(u,d):qe.TUnion(u)?n(u,d):qe.TObject(u)?s(u,d):qe.TRecord(u)?l(u,d):[]}o(a,"Visit");function f(u,d){return[...new Set(a(u,d))]}o(f,"ResolveKeys"),e.ResolveKeys=f;function c(u){return`^(${f(u,{includePatterns:!0}).map(m=>`(${t(m)})`).join("|")})$`}o(c,"ResolvePattern"),e.ResolvePattern=c})(lm||(Me.KeyResolver=lm={}));var K_=class K_ extends E1{};o(K_,"KeyArrayResolverError");var fm=K_;Me.KeyArrayResolverError=fm;var d9;(function(e){function t(r){return Array.isArray(r)?r:qe.TUnionLiteral(r)?r.anyOf.map(n=>n.const.toString()):qe.TLiteral(r)?[r.const]:qe.TTemplateLiteral(r)?(()=>{let n=W4.ParseExact(r.pattern);if(!Y4.Check(n))throw new fm("Cannot resolve keys from infinite template expression");return[...J4.Generate(n)]})():[]}o(t,"Resolve"),e.Resolve=t})(d9||(Me.KeyArrayResolver=d9={}));var H_;(function(e){function*t(n){for(let s of n.anyOf)s[Me.Kind]==="Union"?yield*t(s):yield s}o(t,"TUnion");function r(n){return Me.Type.Union([...t(n)],{...n})}o(r,"Resolve"),e.Resolve=r})(H_||(Me.UnionResolver=H_={}));var W_=class W_ extends E1{};o(W_,"TemplateLiteralPatternError");var cm=W_;Me.TemplateLiteralPatternError=cm;var um;(function(e){function t(l){throw new cm(l)}o(t,"Throw");function r(l){return l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(r,"Escape");function n(l,a){return qe.TTemplateLiteral(l)?l.pattern.slice(1,l.pattern.length-1):qe.TUnion(l)?`(${l.anyOf.map(f=>n(f,a)).join("|")})`:qe.TNumber(l)?`${a}${Me.PatternNumber}`:qe.TInteger(l)?`${a}${Me.PatternNumber}`:qe.TBigInt(l)?`${a}${Me.PatternNumber}`:qe.TString(l)?`${a}${Me.PatternString}`:qe.TLiteral(l)?`${a}${r(l.const.toString())}`:qe.TBoolean(l)?`${a}${Me.PatternBoolean}`:t(`Unexpected Kind '${l[Me.Kind]}'`)}o(n,"Visit");function s(l){return`^${l.map(a=>n(a,"")).join("")}$`}o(s,"Create"),e.Create=s})(um||(Me.TemplateLiteralPattern=um={}));var mu;(function(e){function t(r){let n=W4.ParseExact(r.pattern);if(!Y4.Check(n))return Me.Type.String();let s=[...J4.Generate(n)].map(l=>Me.Type.Literal(l));return Me.Type.Union(s)}o(t,"Resolve"),e.Resolve=t})(mu||(Me.TemplateLiteralResolver=mu={}));var Y_=class Y_ extends E1{};o(Y_,"TemplateLiteralParserError");var h9=Y_;Me.TemplateLiteralParserError=h9;var W4;(function(e){function t(p,v,x){return p[v]===x&&p.charCodeAt(v-1)!==92}o(t,"IsNonEscaped");function r(p,v){return t(p,v,"(")}o(r,"IsOpenParen");function n(p,v){return t(p,v,")")}o(n,"IsCloseParen");function s(p,v){return t(p,v,"|")}o(s,"IsSeparator");function l(p){if(!(r(p,0)&&n(p,p.length-1)))return!1;let v=0;for(let x=0;x<p.length;x++)if(r(p,x)&&(v+=1),n(p,x)&&(v-=1),v===0&&x!==p.length-1)return!1;return!0}o(l,"IsGroup");function a(p){return p.slice(1,p.length-1)}o(a,"InGroup");function f(p){let v=0;for(let x=0;x<p.length;x++)if(r(p,x)&&(v+=1),n(p,x)&&(v-=1),s(p,x)&&v===0)return!0;return!1}o(f,"IsPrecedenceOr");function c(p){for(let v=0;v<p.length;v++)if(r(p,v))return!0;return!1}o(c,"IsPrecedenceAnd");function u(p){let[v,x]=[0,0],E=[];for(let A=0;A<p.length;A++)if(r(p,A)&&(v+=1),n(p,A)&&(v-=1),s(p,A)&&v===0){let L=p.slice(x,A);L.length>0&&E.push(h(L)),x=A+1}let I=p.slice(x);return I.length>0&&E.push(h(I)),E.length===0?{type:"const",const:""}:E.length===1?E[0]:{type:"or",expr:E}}o(u,"Or");function d(p){function v(I,A){if(!r(I,A))throw new h9("TemplateLiteralParser: Index must point to open parens");let L=0;for(let D=A;D<I.length;D++)if(r(I,D)&&(L+=1),n(I,D)&&(L-=1),L===0)return[A,D];throw new h9("TemplateLiteralParser: Unclosed group parens in expression")}o(v,"Group");function x(I,A){for(let L=A;L<I.length;L++)if(r(I,L))return[A,L];return[A,I.length]}o(x,"Range");let E=[];for(let I=0;I<p.length;I++)if(r(p,I)){let[A,L]=v(p,I),D=p.slice(A,L+1);E.push(h(D)),I=L}else{let[A,L]=x(p,I),D=p.slice(A,L);D.length>0&&E.push(h(D)),I=L-1}return E.length===0?{type:"const",const:""}:E.length===1?E[0]:{type:"and",expr:E}}o(d,"And");function h(p){return l(p)?h(a(p)):f(p)?u(p):c(p)?d(p):{type:"const",const:p}}o(h,"Parse"),e.Parse=h;function m(p){return h(p.slice(1,p.length-1))}o(m,"ParseExact"),e.ParseExact=m})(W4||(Me.TemplateLiteralParser=W4={}));var J_=class J_ extends E1{};o(J_,"TemplateLiteralFiniteError");var dm=J_;Me.TemplateLiteralFiniteError=dm;var Y4;(function(e){function t(a){throw new dm(a)}o(t,"Throw");function r(a){return a.type==="or"&&a.expr.length===2&&a.expr[0].type==="const"&&a.expr[0].const==="0"&&a.expr[1].type==="const"&&a.expr[1].const==="[1-9][0-9]*"}o(r,"IsNumber");function n(a){return a.type==="or"&&a.expr.length===2&&a.expr[0].type==="const"&&a.expr[0].const==="true"&&a.expr[1].type==="const"&&a.expr[1].const==="false"}o(n,"IsBoolean");function s(a){return a.type==="const"&&a.const===".*"}o(s,"IsString");function l(a){return n(a)?!0:r(a)||s(a)?!1:a.type==="and"?a.expr.every(f=>l(f)):a.type==="or"?a.expr.every(f=>l(f)):a.type==="const"?!0:t("Unknown expression type")}o(l,"Check"),e.Check=l})(Y4||(Me.TemplateLiteralFinite=Y4={}));var X_=class X_ extends E1{};o(X_,"TemplateLiteralGeneratorError");var hm=X_;Me.TemplateLiteralGeneratorError=hm;var J4;(function(e){function*t(a){if(a.length===1)return yield*a[0];for(let f of a[0])for(let c of t(a.slice(1)))yield`${f}${c}`}o(t,"Reduce");function*r(a){return yield*t(a.expr.map(f=>[...l(f)]))}o(r,"And");function*n(a){for(let f of a.expr)yield*l(f)}o(n,"Or");function*s(a){return yield a.const}o(s,"Const");function*l(a){return a.type==="and"?yield*r(a):a.type==="or"?yield*n(a):a.type==="const"?yield*s(a):(()=>{throw new hm("Unknown expression")})()}o(l,"Generate"),e.Generate=l})(J4||(Me.TemplateLiteralGenerator=J4={}));var V_;(function(e){function*t(l){let a=l.trim().replace(/"|'/g,"");return a==="boolean"?yield Me.Type.Boolean():a==="number"?yield Me.Type.Number():a==="bigint"?yield Me.Type.BigInt():a==="string"?yield Me.Type.String():yield(()=>{let f=a.split("|").map(c=>Me.Type.Literal(c.trim()));return f.length===0?Me.Type.Never():f.length===1?f[0]:Me.Type.Union(f)})()}o(t,"ParseUnion");function*r(l){if(l[1]!=="{"){let a=Me.Type.Literal("$"),f=n(l.slice(1));return yield*[a,...f]}for(let a=2;a<l.length;a++)if(l[a]==="}"){let f=t(l.slice(2,a)),c=n(l.slice(a+1));return yield*[...f,...c]}yield Me.Type.Literal(l)}o(r,"ParseTerminal");function*n(l){for(let a=0;a<l.length;a++)if(l[a]==="$"){let f=Me.Type.Literal(l.slice(0,a)),c=r(l.slice(a));return yield*[f,...c]}yield Me.Type.Literal(l)}o(n,"ParseLiteral");function s(l){return[...n(l)]}o(s,"Parse"),e.Parse=s})(V_||(Me.TemplateLiteralDslParser=V_={}));var Z_=class Z_{constructor(t){this.schema=t}Decode(t){return new mm(this.schema,t)}};o(Z_,"TransformDecodeBuilder");var gm=Z_;Me.TransformDecodeBuilder=gm;var Q_=class Q_{constructor(t,r){this.schema=t,this.decode=r}Encode(t){let r=Sr.Type(this.schema);return qe.TTransform(r)?(()=>{let l={Encode:o(a=>r[Me.Transform].Encode(t(a)),"Encode"),Decode:o(a=>this.decode(r[Me.Transform].Decode(a)),"Decode")};return{...r,[Me.Transform]:l}})():(()=>{let n={Decode:this.decode,Encode:t};return{...r,[Me.Transform]:n}})()}};o(Q_,"TransformEncodeBuilder");var mm=Q_;Me.TransformEncodeBuilder=mm;var YU=0,eb=class eb extends E1{};o(eb,"TypeBuilderError");var pm=eb;Me.TypeBuilderError=pm;var tb=class tb{Create(t){return t}Throw(t){throw new pm(t)}Discard(t,r){return r.reduce((n,s)=>{let{[s]:l,...a}=n;return a},t)}Strict(t){return JSON.parse(JSON.stringify(t))}};o(tb,"TypeBuilder");var ym=tb;Me.TypeBuilder=ym;var rb=class rb extends ym{ReadonlyOptional(t){return this.Readonly(this.Optional(t))}Readonly(t){return{...Sr.Type(t),[Me.Readonly]:"Readonly"}}Optional(t){return{...Sr.Type(t),[Me.Optional]:"Optional"}}Any(t={}){return this.Create({...t,[Me.Kind]:"Any"})}Array(t,r={}){return this.Create({...r,[Me.Kind]:"Array",type:"array",items:Sr.Type(t)})}Boolean(t={}){return this.Create({...t,[Me.Kind]:"Boolean",type:"boolean"})}Capitalize(t,r={}){return{...G4.Map(Sr.Type(t),"Capitalize"),...r}}Composite(t,r){let n=Me.Type.Intersect(t,{}),l=lm.ResolveKeys(n,{includePatterns:!1}).reduce((a,f)=>({...a,[f]:Me.Type.Index(n,[f])}),{});return Me.Type.Object(l,r)}Enum(t,r={}){if(Y0.IsUndefined(t))return this.Throw("Enum undefined or empty");let n=Object.getOwnPropertyNames(t).filter(a=>isNaN(a)).map(a=>t[a]),l=[...new Set(n)].map(a=>Me.Type.Literal(a));return this.Union(l,{...r,[Me.Hint]:"Enum"})}Extends(t,r,n,s,l={}){switch(W2.Extends(t,r)){case T0.Union:return this.Union([Sr.Type(n,l),Sr.Type(s,l)]);case T0.True:return Sr.Type(n,l);case T0.False:return Sr.Type(s,l)}}Exclude(t,r,n={}){return qe.TTemplateLiteral(t)?this.Exclude(mu.Resolve(t),r,n):qe.TTemplateLiteral(r)?this.Exclude(t,mu.Resolve(r),n):qe.TUnion(t)?(()=>{let s=t.anyOf.filter(l=>W2.Extends(l,r)===T0.False);return s.length===1?Sr.Type(s[0],n):this.Union(s,n)})():W2.Extends(t,r)!==T0.False?this.Never(n):Sr.Type(t,n)}Extract(t,r,n={}){return qe.TTemplateLiteral(t)?this.Extract(mu.Resolve(t),r,n):qe.TTemplateLiteral(r)?this.Extract(t,mu.Resolve(r),n):qe.TUnion(t)?(()=>{let s=t.anyOf.filter(l=>W2.Extends(l,r)!==T0.False);return s.length===1?Sr.Type(s[0],n):this.Union(s,n)})():W2.Extends(t,r)!==T0.False?Sr.Type(t,n):this.Never(n)}Index(t,r,n={}){return qe.TArray(t)&&qe.TNumber(r)?Sr.Type(t.items,n):qe.TTuple(t)&&qe.TNumber(r)?(()=>{let l=(Y0.IsUndefined(t.items)?[]:t.items).map(a=>Sr.Type(a));return this.Union(l,n)})():(()=>{let s=d9.Resolve(r),l=Sr.Type(t);return $_.Resolve(l,s,n)})()}Integer(t={}){return this.Create({...t,[Me.Kind]:"Integer",type:"integer"})}Intersect(t,r={}){if(t.length===0)return Me.Type.Never();if(t.length===1)return Sr.Type(t[0],r);t.some(a=>qe.TTransform(a))&&this.Throw("Cannot intersect transform types");let n=t.every(a=>qe.TObject(a)),s=Sr.Rest(t),l=qe.TSchema(r.unevaluatedProperties)?{unevaluatedProperties:Sr.Type(r.unevaluatedProperties)}:{};return r.unevaluatedProperties===!1||qe.TSchema(r.unevaluatedProperties)||n?this.Create({...r,...l,[Me.Kind]:"Intersect",type:"object",allOf:s}):this.Create({...r,...l,[Me.Kind]:"Intersect",allOf:s})}KeyOf(t,r={}){return qe.TRecord(t)?(()=>{let n=Object.getOwnPropertyNames(t.patternProperties)[0];return n===Me.PatternNumberExact?this.Number(r):n===Me.PatternStringExact?this.String(r):this.Throw("Unable to resolve key type from Record key pattern")})():qe.TTuple(t)?(()=>{let s=(Y0.IsUndefined(t.items)?[]:t.items).map((l,a)=>Me.Type.Literal(a.toString()));return this.Union(s,r)})():qe.TArray(t)?this.Number(r):(()=>{let n=lm.ResolveKeys(t,{includePatterns:!1});if(n.length===0)return this.Never(r);let s=n.map(l=>this.Literal(l));return this.Union(s,r)})()}Literal(t,r={}){return this.Create({...r,[Me.Kind]:"Literal",const:t,type:typeof t})}Lowercase(t,r={}){return{...G4.Map(Sr.Type(t),"Lowercase"),...r}}Never(t={}){return this.Create({...t,[Me.Kind]:"Never",not:{}})}Not(t,r){return this.Create({...r,[Me.Kind]:"Not",not:Sr.Type(t)})}Null(t={}){return this.Create({...t,[Me.Kind]:"Null",type:"null"})}Number(t={}){return this.Create({...t,[Me.Kind]:"Number",type:"number"})}Object(t,r={}){let n=Object.getOwnPropertyNames(t),s=n.filter(c=>qe.TOptional(t[c])),l=n.filter(c=>!s.includes(c)),a=qe.TSchema(r.additionalProperties)?{additionalProperties:Sr.Type(r.additionalProperties)}:{},f=n.reduce((c,u)=>({...c,[u]:Sr.Type(t[u])}),{});return l.length>0?this.Create({...r,...a,[Me.Kind]:"Object",type:"object",properties:f,required:l}):this.Create({...r,...a,[Me.Kind]:"Object",type:"object",properties:f})}Omit(t,r,n={}){let s=d9.Resolve(r);return K4.Map(this.Discard(Sr.Type(t),["$id",Me.Transform]),l=>{Y0.IsArray(l.required)&&(l.required=l.required.filter(a=>!s.includes(a)),l.required.length===0&&delete l.required);for(let a of Object.getOwnPropertyNames(l.properties))s.includes(a)&&delete l.properties[a];return this.Create(l)},n)}Partial(t,r={}){return K4.Map(this.Discard(Sr.Type(t),["$id",Me.Transform]),n=>{let s=Object.getOwnPropertyNames(n.properties).reduce((l,a)=>({...l,[a]:this.Optional(n.properties[a])}),{});return this.Object(s,this.Discard(n,["required"]))},r)}Pick(t,r,n={}){let s=d9.Resolve(r);return K4.Map(this.Discard(Sr.Type(t),["$id",Me.Transform]),l=>{Y0.IsArray(l.required)&&(l.required=l.required.filter(a=>s.includes(a)),l.required.length===0&&delete l.required);for(let a of Object.getOwnPropertyNames(l.properties))s.includes(a)||delete l.properties[a];return this.Create(l)},n)}Record(t,r,n={}){return qe.TTemplateLiteral(t)?(()=>{let s=W4.ParseExact(t.pattern);return Y4.Check(s)?this.Object([...J4.Generate(s)].reduce((l,a)=>({...l,[a]:Sr.Type(r)}),{}),n):this.Create({...n,[Me.Kind]:"Record",type:"object",patternProperties:{[t.pattern]:Sr.Type(r)}})})():qe.TUnion(t)?(()=>{let s=H_.Resolve(t);if(qe.TUnionLiteral(s)){let l=s.anyOf.reduce((a,f)=>({...a,[f.const]:Sr.Type(r)}),{});return this.Object(l,{...n,[Me.Hint]:"Record"})}else this.Throw("Record key of type union contains non-literal types")})():qe.TLiteral(t)?Y0.IsString(t.const)||Y0.IsNumber(t.const)?this.Object({[t.const]:Sr.Type(r)},n):this.Throw("Record key of type literal is not of type string or number"):qe.TInteger(t)||qe.TNumber(t)?this.Create({...n,[Me.Kind]:"Record",type:"object",patternProperties:{[Me.PatternNumberExact]:Sr.Type(r)}}):qe.TString(t)?(()=>{let s=Y0.IsUndefined(t.pattern)?Me.PatternStringExact:t.pattern;return this.Create({...n,[Me.Kind]:"Record",type:"object",patternProperties:{[s]:Sr.Type(r)}})})():this.Never()}Recursive(t,r={}){Y0.IsUndefined(r.$id)&&(r.$id=`T${YU++}`);let n=t({[Me.Kind]:"This",$ref:`${r.$id}`});return n.$id=r.$id,this.Create({...r,[Me.Hint]:"Recursive",...n})}Ref(t,r={}){return Y0.IsString(t)?this.Create({...r,[Me.Kind]:"Ref",$ref:t}):(Y0.IsUndefined(t.$id)&&this.Throw("Reference target type must specify an $id"),this.Create({...r,[Me.Kind]:"Ref",$ref:t.$id}))}Required(t,r={}){return K4.Map(this.Discard(Sr.Type(t),["$id",Me.Transform]),n=>{let s=Object.getOwnPropertyNames(n.properties).reduce((l,a)=>({...l,[a]:this.Discard(n.properties[a],[Me.Optional])}),{});return this.Object(s,n)},r)}Rest(t){return qe.TTuple(t)&&!Y0.IsUndefined(t.items)?Sr.Rest(t.items):qe.TIntersect(t)?Sr.Rest(t.allOf):qe.TUnion(t)?Sr.Rest(t.anyOf):[]}String(t={}){return this.Create({...t,[Me.Kind]:"String",type:"string"})}TemplateLiteral(t,r={}){let n=Y0.IsString(t)?um.Create(V_.Parse(t)):um.Create(t);return this.Create({...r,[Me.Kind]:"TemplateLiteral",type:"string",pattern:n})}Transform(t){return new gm(t)}Tuple(t,r={}){let[n,s,l]=[!1,t.length,t.length],a=Sr.Rest(t),f=t.length>0?{...r,[Me.Kind]:"Tuple",type:"array",items:a,additionalItems:n,minItems:s,maxItems:l}:{...r,[Me.Kind]:"Tuple",type:"array",minItems:s,maxItems:l};return this.Create(f)}Uncapitalize(t,r={}){return{...G4.Map(Sr.Type(t),"Uncapitalize"),...r}}Union(t,r={}){return qe.TTemplateLiteral(t)?mu.Resolve(t):(()=>{let n=t;if(n.length===0)return this.Never(r);if(n.length===1)return this.Create(Sr.Type(n[0],r));let s=Sr.Rest(n);return this.Create({...r,[Me.Kind]:"Union",anyOf:s})})()}Unknown(t={}){return this.Create({...t,[Me.Kind]:"Unknown"})}Unsafe(t={}){return this.Create({...t,[Me.Kind]:t[Me.Kind]||"Unsafe"})}Uppercase(t,r={}){return{...G4.Map(Sr.Type(t),"Uppercase"),...r}}};o(rb,"JsonTypeBuilder");var g9=rb;Me.JsonTypeBuilder=g9;var nb=class nb extends g9{AsyncIterator(t,r={}){return this.Create({...r,[Me.Kind]:"AsyncIterator",type:"AsyncIterator",items:Sr.Type(t)})}Awaited(t,r={}){let n=o(s=>s.length>0?(()=>{let[l,...a]=s;return[this.Awaited(l),...n(a)]})():s,"Unwrap");return qe.TIntersect(t)?Me.Type.Intersect(n(t.allOf)):qe.TUnion(t)?Me.Type.Union(n(t.anyOf)):qe.TPromise(t)?this.Awaited(t.item):Sr.Type(t,r)}BigInt(t={}){return this.Create({...t,[Me.Kind]:"BigInt",type:"bigint"})}ConstructorParameters(t,r={}){return this.Tuple([...t.parameters],{...r})}Constructor(t,r,n){let[s,l]=[Sr.Rest(t),Sr.Type(r)];return this.Create({...n,[Me.Kind]:"Constructor",type:"Constructor",parameters:s,returns:l})}Date(t={}){return this.Create({...t,[Me.Kind]:"Date",type:"Date"})}Function(t,r,n){let[s,l]=[Sr.Rest(t),Sr.Type(r)];return this.Create({...n,[Me.Kind]:"Function",type:"Function",parameters:s,returns:l})}InstanceType(t,r={}){return Sr.Type(t.returns,r)}Iterator(t,r={}){return this.Create({...r,[Me.Kind]:"Iterator",type:"Iterator",items:Sr.Type(t)})}Parameters(t,r={}){return this.Tuple(t.parameters,{...r})}Promise(t,r={}){return this.Create({...r,[Me.Kind]:"Promise",type:"Promise",item:Sr.Type(t)})}RegExp(t,r={}){let n=Y0.IsString(t)?t:t.source;return this.Create({...r,[Me.Kind]:"String",type:"string",pattern:n})}RegEx(t,r={}){return this.RegExp(t,r)}ReturnType(t,r={}){return Sr.Type(t.returns,r)}Symbol(t){return this.Create({...t,[Me.Kind]:"Symbol",type:"symbol"})}Undefined(t={}){return this.Create({...t,[Me.Kind]:"Undefined",type:"undefined"})}Uint8Array(t={}){return this.Create({...t,[Me.Kind]:"Uint8Array",type:"Uint8Array"})}Void(t={}){return this.Create({...t,[Me.Kind]:"Void",type:"void"})}};o(nb,"JavaScriptTypeBuilder");var vm=nb;Me.JavaScriptTypeBuilder=vm;Me.JsonType=new g9;Me.Type=new vm});var zl=y0(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.IsValueType=fn.IsSymbol=fn.IsFunction=fn.IsString=fn.IsBigInt=fn.IsInteger=fn.IsNumber=fn.IsBoolean=fn.IsNull=fn.IsUndefined=fn.IsArray=fn.IsObject=fn.IsPlainObject=fn.HasPropertyKey=fn.IsDate=fn.IsUint8Array=fn.IsPromise=fn.IsTypedArray=fn.IsIterator=fn.IsAsyncIterator=void 0;function JU(e){return xm(e)&&Symbol.asyncIterator in e}o(JU,"IsAsyncIterator");fn.IsAsyncIterator=JU;function XU(e){return xm(e)&&Symbol.iterator in e}o(XU,"IsIterator");fn.IsIterator=XU;function ZU(e){return ArrayBuffer.isView(e)}o(ZU,"IsTypedArray");fn.IsTypedArray=ZU;function QU(e){return e instanceof Promise}o(QU,"IsPromise");fn.IsPromise=QU;function eq(e){return e instanceof Uint8Array}o(eq,"IsUint8Array");fn.IsUint8Array=eq;function tq(e){return e instanceof Date&&Number.isFinite(e.getTime())}o(tq,"IsDate");fn.IsDate=tq;function rq(e,t){return t in e}o(rq,"HasPropertyKey");fn.HasPropertyKey=rq;function nq(e){return xm(e)&&UA(e.constructor)&&e.constructor.name==="Object"}o(nq,"IsPlainObject");fn.IsPlainObject=nq;function xm(e){return e!==null&&typeof e=="object"}o(xm,"IsObject");fn.IsObject=xm;function iq(e){return Array.isArray(e)&&!ArrayBuffer.isView(e)}o(iq,"IsArray");fn.IsArray=iq;function DA(e){return e===void 0}o(DA,"IsUndefined");fn.IsUndefined=DA;function LA(e){return e===null}o(LA,"IsNull");fn.IsNull=LA;function FA(e){return typeof e=="boolean"}o(FA,"IsBoolean");fn.IsBoolean=FA;function ib(e){return typeof e=="number"}o(ib,"IsNumber");fn.IsNumber=ib;function sq(e){return ib(e)&&Number.isInteger(e)}o(sq,"IsInteger");fn.IsInteger=sq;function OA(e){return typeof e=="bigint"}o(OA,"IsBigInt");fn.IsBigInt=OA;function MA(e){return typeof e=="string"}o(MA,"IsString");fn.IsString=MA;function UA(e){return typeof e=="function"}o(UA,"IsFunction");fn.IsFunction=UA;function qA(e){return typeof e=="symbol"}o(qA,"IsSymbol");fn.IsSymbol=qA;function oq(e){return OA(e)||FA(e)||LA(e)||ib(e)||MA(e)||qA(e)||DA(e)}o(oq,"IsValueType");fn.IsValueType=oq});var lb=y0(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});Gl.DefaultErrorFunction=Gl.TypeSystemPolicy=Gl.TypeSystemErrorFunction=Gl.TypeSystem=Gl.TypeSystemDuplicateFormat=Gl.TypeSystemDuplicateTypeKind=void 0;var _m=zl(),xr=m9(),pu=jl(),ob=class ob extends pu.TypeBoxError{constructor(t){super(`Duplicate type kind '${t}' detected`)}};o(ob,"TypeSystemDuplicateTypeKind");var bm=ob;Gl.TypeSystemDuplicateTypeKind=bm;var ab=class ab extends pu.TypeBoxError{constructor(t){super(`Duplicate string format '${t}' detected`)}};o(ab,"TypeSystemDuplicateFormat");var Cm=ab;Gl.TypeSystemDuplicateFormat=Cm;var $A;(function(e){function t(n,s){if(pu.TypeRegistry.Has(n))throw new bm(n);return pu.TypeRegistry.Set(n,s),(l={})=>pu.Type.Unsafe({...l,[pu.Kind]:n})}o(t,"Type"),e.Type=t;function r(n,s){if(pu.FormatRegistry.Has(n))throw new Cm(n);return pu.FormatRegistry.Set(n,s),n}o(r,"Format"),e.Format=r})($A||(Gl.TypeSystem=$A={}));var HA;(function(e){let t=sb;function r(){t=sb}o(r,"Reset"),e.Reset=r;function n(l){t=l}o(n,"Set"),e.Set=n;function s(){return t}o(s,"Get"),e.Get=s})(HA||(Gl.TypeSystemErrorFunction=HA={}));var VA;(function(e){e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(a,f){return e.ExactOptionalPropertyTypes?f in a:a[f]!==void 0}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){let f=(0,_m.IsObject)(a);return e.AllowArrayObject?f:f&&!(0,_m.IsArray)(a)}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return r(a)&&!(a instanceof Date)&&!(a instanceof Uint8Array)}o(n,"IsRecordLike"),e.IsRecordLike=n;function s(a){let f=(0,_m.IsNumber)(a);return e.AllowNaN?f:f&&Number.isFinite(a)}o(s,"IsNumberLike"),e.IsNumberLike=s;function l(a){let f=(0,_m.IsUndefined)(a);return e.AllowNullVoid?f||a===null:f}o(l,"IsVoidLike"),e.IsVoidLike=l})(VA||(Gl.TypeSystemPolicy=VA={}));function sb(e,t){switch(t){case xr.ValueErrorType.ArrayContains:return"Expected array to contain at least one matching value";case xr.ValueErrorType.ArrayMaxContains:return`Expected array to contain no more than ${e.maxContains} matching values`;case xr.ValueErrorType.ArrayMinContains:return`Expected array to contain at least ${e.minContains} matching values`;case xr.ValueErrorType.ArrayMaxItems:return`Expected array length to be less or equal to ${e.maxItems}`;case xr.ValueErrorType.ArrayMinItems:return`Expected array length to be greater or equal to ${e.minItems}`;case xr.ValueErrorType.ArrayUniqueItems:return"Expected array elements to be unique";case xr.ValueErrorType.Array:return"Expected array";case xr.ValueErrorType.AsyncIterator:return"Expected AsyncIterator";case xr.ValueErrorType.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.exclusiveMaximum}`;case xr.ValueErrorType.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.exclusiveMinimum}`;case xr.ValueErrorType.BigIntMaximum:return`Expected bigint to be less or equal to ${e.maximum}`;case xr.ValueErrorType.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.minimum}`;case xr.ValueErrorType.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.multipleOf}`;case xr.ValueErrorType.BigInt:return"Expected bigint";case xr.ValueErrorType.Boolean:return"Expected boolean";case xr.ValueErrorType.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.exclusiveMinimumTimestamp}`;case xr.ValueErrorType.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.exclusiveMaximumTimestamp}`;case xr.ValueErrorType.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.minimumTimestamp}`;case xr.ValueErrorType.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.maximumTimestamp}`;case xr.ValueErrorType.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.multipleOfTimestamp}`;case xr.ValueErrorType.Date:return"Expected Date";case xr.ValueErrorType.Function:return"Expected function";case xr.ValueErrorType.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.exclusiveMaximum}`;case xr.ValueErrorType.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.exclusiveMinimum}`;case xr.ValueErrorType.IntegerMaximum:return`Expected integer to be less or equal to ${e.maximum}`;case xr.ValueErrorType.IntegerMinimum:return`Expected integer to be greater or equal to ${e.minimum}`;case xr.ValueErrorType.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.multipleOf}`;case xr.ValueErrorType.Integer:return"Expected integer";case xr.ValueErrorType.IntersectUnevaluatedProperties:return"Unexpected property";case xr.ValueErrorType.Intersect:return"Expected all values to match";case xr.ValueErrorType.Iterator:return"Expected Iterator";case xr.ValueErrorType.Literal:return`Expected ${typeof e.const=="string"?`'${e.const}'`:e.const}`;case xr.ValueErrorType.Never:return"Never";case xr.ValueErrorType.Not:return"Value should not match";case xr.ValueErrorType.Null:return"Expected null";case xr.ValueErrorType.NumberExclusiveMaximum:return`Expected number to be less than ${e.exclusiveMaximum}`;case xr.ValueErrorType.NumberExclusiveMinimum:return`Expected number to be greater than ${e.exclusiveMinimum}`;case xr.ValueErrorType.NumberMaximum:return`Expected number to be less or equal to ${e.maximum}`;case xr.ValueErrorType.NumberMinimum:return`Expected number to be greater or equal to ${e.minimum}`;case xr.ValueErrorType.NumberMultipleOf:return`Expected number to be a multiple of ${e.multipleOf}`;case xr.ValueErrorType.Number:return"Expected number";case xr.ValueErrorType.Object:return"Expected object";case xr.ValueErrorType.ObjectAdditionalProperties:return"Unexpected property";case xr.ValueErrorType.ObjectMaxProperties:return`Expected object to have no more than ${e.maxProperties} properties`;case xr.ValueErrorType.ObjectMinProperties:return`Expected object to have at least ${e.minProperties} properties`;case xr.ValueErrorType.ObjectRequiredProperty:return"Required property";case xr.ValueErrorType.Promise:return"Expected Promise";case xr.ValueErrorType.StringFormatUnknown:return`Unknown format '${e.format}'`;case xr.ValueErrorType.StringFormat:return`Expected string to match '${e.format}' format`;case xr.ValueErrorType.StringMaxLength:return`Expected string length less or equal to ${e.maxLength}`;case xr.ValueErrorType.StringMinLength:return`Expected string length greater or equal to ${e.minLength}`;case xr.ValueErrorType.StringPattern:return`Expected string to match '${e.pattern}'`;case xr.ValueErrorType.String:return"Expected string";case xr.ValueErrorType.Symbol:return"Expected symbol";case xr.ValueErrorType.TupleLength:return`Expected tuple to have ${e.maxItems||0} elements`;case xr.ValueErrorType.Tuple:return"Expected tuple";case xr.ValueErrorType.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.maxByteLength}`;case xr.ValueErrorType.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.minByteLength}`;case xr.ValueErrorType.Uint8Array:return"Expected Uint8Array";case xr.ValueErrorType.Undefined:return"Expected undefined";case xr.ValueErrorType.Union:return"Expected union value";case xr.ValueErrorType.Void:return"Expected void";case xr.ValueErrorType.Kind:return`Expected kind '${e[pu.Kind]}'`;default:return"Unknown error type"}}o(sb,"DefaultErrorFunction");Gl.DefaultErrorFunction=sb});var z5=y0(X4=>{"use strict";Object.defineProperty(X4,"__esModule",{value:!0});X4.Deref=X4.TypeDereferenceError=void 0;var aq=jl(),fb=class fb extends aq.TypeBoxError{constructor(t){super(`Unable to dereference schema with $id '${t.$id}'`),this.schema=t}};o(fb,"TypeDereferenceError");var Em=fb;X4.TypeDereferenceError=Em;function lq(e,t){let r=t.findIndex(n=>n.$id===e.$ref);if(r===-1)throw new Em(e);return t[r]}o(lq,"Deref");X4.Deref=lq});var p9=y0(G5=>{"use strict";Object.defineProperty(G5,"__esModule",{value:!0});G5.Hash=G5.ByteMarker=G5.ValueHashError=void 0;var T1=zl(),cb=class cb extends Error{constructor(t){super("Unable to hash value"),this.value=t}};o(cb,"ValueHashError");var Tm=cb;G5.ValueHashError=Tm;var hf;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(hf||(G5.ByteMarker=hf={}));var Z4=BigInt("14695981039346656037"),[fq,cq]=[BigInt("1099511628211"),BigInt("2")**BigInt("64")],uq=Array.from({length:256}).map((e,t)=>BigInt(t)),jA=new Float64Array(1),zA=new DataView(jA.buffer),GA=new Uint8Array(jA.buffer);function*dq(e){let t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let r=0;r<t;r++)yield e>>8*(t-1-r)&255}o(dq,"NumberToBytes");function hq(e){ml(hf.Array);for(let t of e)Q4(t)}o(hq,"ArrayType");function gq(e){ml(hf.Boolean),ml(e?1:0)}o(gq,"BooleanType");function mq(e){ml(hf.BigInt),zA.setBigInt64(0,e);for(let t of GA)ml(t)}o(mq,"BigIntType");function pq(e){ml(hf.Date),Q4(e.getTime())}o(pq,"DateType");function yq(e){ml(hf.Null)}o(yq,"NullType");function vq(e){ml(hf.Number),zA.setFloat64(0,e);for(let t of GA)ml(t)}o(vq,"NumberType");function xq(e){ml(hf.Object);for(let t of globalThis.Object.keys(e).sort())Q4(t),Q4(e[t])}o(xq,"ObjectType");function _q(e){ml(hf.String);for(let t=0;t<e.length;t++)for(let r of dq(e.charCodeAt(t)))ml(r)}o(_q,"StringType");function bq(e){ml(hf.Symbol),Q4(e.description)}o(bq,"SymbolType");function Cq(e){ml(hf.Uint8Array);for(let t=0;t<e.length;t++)ml(e[t])}o(Cq,"Uint8ArrayType");function Eq(e){return ml(hf.Undefined)}o(Eq,"UndefinedType");function Q4(e){if((0,T1.IsArray)(e))return hq(e);if((0,T1.IsBoolean)(e))return gq(e);if((0,T1.IsBigInt)(e))return mq(e);if((0,T1.IsDate)(e))return pq(e);if((0,T1.IsNull)(e))return yq(e);if((0,T1.IsNumber)(e))return vq(e);if((0,T1.IsPlainObject)(e))return xq(e);if((0,T1.IsString)(e))return _q(e);if((0,T1.IsSymbol)(e))return bq(e);if((0,T1.IsUint8Array)(e))return Cq(e);if((0,T1.IsUndefined)(e))return Eq(e);throw new Tm(e)}o(Q4,"Visit");function ml(e){Z4=Z4^uq[e],Z4=Z4*fq%cq}o(ml,"FNV1A64");function Tq(e){return Z4=BigInt("14695981039346656037"),Q4(e),Z4}o(Tq,"Hash");G5.Hash=Tq});var m9=y0(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.Errors=Of.ValueErrorIterator=Of.EscapeKey=Of.ValueErrorsUnknownTypeError=Of.ValueErrorType=void 0;var ca=zl(),e8=lb(),KA=z5(),Sq=p9(),Mf=jl(),Et;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.StringFormatUnknown=48]="StringFormatUnknown",e[e.StringFormat=49]="StringFormat",e[e.StringMaxLength=50]="StringMaxLength",e[e.StringMinLength=51]="StringMinLength",e[e.StringPattern=52]="StringPattern",e[e.String=53]="String",e[e.Symbol=54]="Symbol",e[e.TupleLength=55]="TupleLength",e[e.Tuple=56]="Tuple",e[e.Uint8ArrayMaxByteLength=57]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=58]="Uint8ArrayMinByteLength",e[e.Uint8Array=59]="Uint8Array",e[e.Undefined=60]="Undefined",e[e.Union=61]="Union",e[e.Void=62]="Void"})(Et||(Of.ValueErrorType=Et={}));var ub=class ub extends Mf.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(ub,"ValueErrorsUnknownTypeError");var Sm=ub;Of.ValueErrorsUnknownTypeError=Sm;function pc(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}o(pc,"EscapeKey");Of.EscapeKey=pc;function qi(e){return e!==void 0}o(qi,"IsDefined");var db=class db{constructor(t){this.iterator=t}[Symbol.iterator](){return this.iterator}First(){let t=this.iterator.next();return t.done?void 0:t.value}};o(db,"ValueErrorIterator");var Im=db;Of.ValueErrorIterator=Im;function Ft(e,t,r,n){return{type:e,schema:t,path:r,value:n,message:e8.TypeSystemErrorFunction.Get()(t,e)}}o(Ft,"Create");function*Iq(e,t,r,n){}o(Iq,"TAny");function*wq(e,t,r,n){if(!(0,ca.IsArray)(n))return yield Ft(Et.Array,e,r,n);qi(e.minItems)&&!(n.length>=e.minItems)&&(yield Ft(Et.ArrayMinItems,e,r,n)),qi(e.maxItems)&&!(n.length<=e.maxItems)&&(yield Ft(Et.ArrayMaxItems,e,r,n));for(let a=0;a<n.length;a++)yield*za(e.items,t,`${r}/${a}`,n[a]);if(e.uniqueItems===!0&&!function(){let a=new Set;for(let f of n){let c=(0,Sq.Hash)(f);if(a.has(c))return!1;a.add(c)}return!0}()&&(yield Ft(Et.ArrayUniqueItems,e,r,n)),!(qi(e.contains)||qi(e.minContains)||qi(e.maxContains)))return;let s=qi(e.contains)?e.contains:Mf.Type.Never(),l=n.reduce((a,f,c)=>za(s,t,`${r}${c}`,f).next().done===!0?a+1:a,0);l===0&&(yield Ft(Et.ArrayContains,e,r,n)),(0,ca.IsNumber)(e.minContains)&&l<e.minContains&&(yield Ft(Et.ArrayMinContains,e,r,n)),(0,ca.IsNumber)(e.maxContains)&&l>e.maxContains&&(yield Ft(Et.ArrayMaxContains,e,r,n))}o(wq,"TArray");function*Aq(e,t,r,n){(0,ca.IsAsyncIterator)(n)||(yield Ft(Et.AsyncIterator,e,r,n))}o(Aq,"TAsyncIterator");function*Pq(e,t,r,n){if(!(0,ca.IsBigInt)(n))return yield Ft(Et.BigInt,e,r,n);qi(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield Ft(Et.BigIntExclusiveMaximum,e,r,n)),qi(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield Ft(Et.BigIntExclusiveMinimum,e,r,n)),qi(e.maximum)&&!(n<=e.maximum)&&(yield Ft(Et.BigIntMaximum,e,r,n)),qi(e.minimum)&&!(n>=e.minimum)&&(yield Ft(Et.BigIntMinimum,e,r,n)),qi(e.multipleOf)&&n%e.multipleOf!==BigInt(0)&&(yield Ft(Et.BigIntMultipleOf,e,r,n))}o(Pq,"TBigInt");function*Nq(e,t,r,n){(0,ca.IsBoolean)(n)||(yield Ft(Et.Boolean,e,r,n))}o(Nq,"TBoolean");function*Rq(e,t,r,n){yield*za(e.returns,t,r,n.prototype)}o(Rq,"TConstructor");function*kq(e,t,r,n){if(!(0,ca.IsDate)(n))return yield Ft(Et.Date,e,r,n);qi(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)&&(yield Ft(Et.DateExclusiveMaximumTimestamp,e,r,n)),qi(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)&&(yield Ft(Et.DateExclusiveMinimumTimestamp,e,r,n)),qi(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)&&(yield Ft(Et.DateMaximumTimestamp,e,r,n)),qi(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)&&(yield Ft(Et.DateMinimumTimestamp,e,r,n)),qi(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0&&(yield Ft(Et.DateMultipleOfTimestamp,e,r,n))}o(kq,"TDate");function*Bq(e,t,r,n){(0,ca.IsFunction)(n)||(yield Ft(Et.Function,e,r,n))}o(Bq,"TFunction");function*Dq(e,t,r,n){if(!(0,ca.IsInteger)(n))return yield Ft(Et.Integer,e,r,n);qi(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield Ft(Et.IntegerExclusiveMaximum,e,r,n)),qi(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield Ft(Et.IntegerExclusiveMinimum,e,r,n)),qi(e.maximum)&&!(n<=e.maximum)&&(yield Ft(Et.IntegerMaximum,e,r,n)),qi(e.minimum)&&!(n>=e.minimum)&&(yield Ft(Et.IntegerMinimum,e,r,n)),qi(e.multipleOf)&&n%e.multipleOf!==0&&(yield Ft(Et.IntegerMultipleOf,e,r,n))}o(Dq,"TInteger");function*Lq(e,t,r,n){for(let s of e.allOf){let l=za(s,t,r,n).next();l.done||(yield Ft(Et.Intersect,e,r,n),yield l.value)}if(e.unevaluatedProperties===!1){let s=new RegExp(Mf.KeyResolver.ResolvePattern(e));for(let l of Object.getOwnPropertyNames(n))s.test(l)||(yield Ft(Et.IntersectUnevaluatedProperties,e,`${r}/${l}`,n))}if(typeof e.unevaluatedProperties=="object"){let s=new RegExp(Mf.KeyResolver.ResolvePattern(e));for(let l of Object.getOwnPropertyNames(n))if(!s.test(l)){let a=za(e.unevaluatedProperties,t,`${r}/${l}`,n[l]).next();a.done||(yield a.value)}}}o(Lq,"TIntersect");function*Fq(e,t,r,n){(0,ca.IsIterator)(n)||(yield Ft(Et.Iterator,e,r,n))}o(Fq,"TIterator");function*Oq(e,t,r,n){n!==e.const&&(yield Ft(Et.Literal,e,r,n))}o(Oq,"TLiteral");function*Mq(e,t,r,n){yield Ft(Et.Never,e,r,n)}o(Mq,"TNever");function*Uq(e,t,r,n){za(e.not,t,r,n).next().done===!0&&(yield Ft(Et.Not,e,r,n))}o(Uq,"TNot");function*qq(e,t,r,n){(0,ca.IsNull)(n)||(yield Ft(Et.Null,e,r,n))}o(qq,"TNull");function*$q(e,t,r,n){if(!e8.TypeSystemPolicy.IsNumberLike(n))return yield Ft(Et.Number,e,r,n);qi(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield Ft(Et.NumberExclusiveMaximum,e,r,n)),qi(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield Ft(Et.NumberExclusiveMinimum,e,r,n)),qi(e.maximum)&&!(n<=e.maximum)&&(yield Ft(Et.NumberMaximum,e,r,n)),qi(e.minimum)&&!(n>=e.minimum)&&(yield Ft(Et.NumberMinimum,e,r,n)),qi(e.multipleOf)&&n%e.multipleOf!==0&&(yield Ft(Et.NumberMultipleOf,e,r,n))}o($q,"TNumber");function*Hq(e,t,r,n){if(!e8.TypeSystemPolicy.IsObjectLike(n))return yield Ft(Et.Object,e,r,n);qi(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield Ft(Et.ObjectMinProperties,e,r,n)),qi(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield Ft(Et.ObjectMaxProperties,e,r,n));let s=Array.isArray(e.required)?e.required:[],l=Object.getOwnPropertyNames(e.properties),a=Object.getOwnPropertyNames(n);for(let f of s)a.includes(f)||(yield Ft(Et.ObjectRequiredProperty,e.properties[f],`${r}/${pc(f)}`,void 0));if(e.additionalProperties===!1)for(let f of a)l.includes(f)||(yield Ft(Et.ObjectAdditionalProperties,e,`${r}/${pc(f)}`,n[f]));if(typeof e.additionalProperties=="object")for(let f of a)l.includes(f)||(yield*za(e.additionalProperties,t,`${r}/${pc(f)}`,n[f]));for(let f of l){let c=e.properties[f];e.required&&e.required.includes(f)?(yield*za(c,t,`${r}/${pc(f)}`,n[f]),Mf.ExtendsUndefined.Check(e)&&!(f in n)&&(yield Ft(Et.ObjectRequiredProperty,c,`${r}/${pc(f)}`,void 0))):e8.TypeSystemPolicy.IsExactOptionalProperty(n,f)&&(yield*za(c,t,`${r}/${pc(f)}`,n[f]))}}o(Hq,"TObject");function*Vq(e,t,r,n){(0,ca.IsPromise)(n)||(yield Ft(Et.Promise,e,r,n))}o(Vq,"TPromise");function*jq(e,t,r,n){if(!e8.TypeSystemPolicy.IsRecordLike(n))return yield Ft(Et.Object,e,r,n);qi(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield Ft(Et.ObjectMinProperties,e,r,n)),qi(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield Ft(Et.ObjectMaxProperties,e,r,n));let[s,l]=Object.entries(e.patternProperties)[0],a=new RegExp(s);for(let[f,c]of Object.entries(n))a.test(f)&&(yield*za(l,t,`${r}/${pc(f)}`,c));if(typeof e.additionalProperties=="object")for(let[f,c]of Object.entries(n))a.test(f)||(yield*za(e.additionalProperties,t,`${r}/${pc(f)}`,c));if(e.additionalProperties===!1){for(let[f,c]of Object.entries(n))if(!a.test(f))return yield Ft(Et.ObjectAdditionalProperties,e,`${r}/${pc(f)}`,c)}}o(jq,"TRecord");function*zq(e,t,r,n){yield*za((0,KA.Deref)(e,t),t,r,n)}o(zq,"TRef");function*Gq(e,t,r,n){if(!(0,ca.IsString)(n))return yield Ft(Et.String,e,r,n);qi(e.minLength)&&!(n.length>=e.minLength)&&(yield Ft(Et.StringMinLength,e,r,n)),qi(e.maxLength)&&!(n.length<=e.maxLength)&&(yield Ft(Et.StringMaxLength,e,r,n)),(0,ca.IsString)(e.pattern)&&(new RegExp(e.pattern).test(n)||(yield Ft(Et.StringPattern,e,r,n))),(0,ca.IsString)(e.format)&&(Mf.FormatRegistry.Has(e.format)?Mf.FormatRegistry.Get(e.format)(n)||(yield Ft(Et.StringFormat,e,r,n)):yield Ft(Et.StringFormatUnknown,e,r,n))}o(Gq,"TString");function*Kq(e,t,r,n){(0,ca.IsSymbol)(n)||(yield Ft(Et.Symbol,e,r,n))}o(Kq,"TSymbol");function*Wq(e,t,r,n){if(!(0,ca.IsString)(n))return yield Ft(Et.String,e,r,n);new RegExp(e.pattern).test(n)||(yield Ft(Et.StringPattern,e,r,n))}o(Wq,"TTemplateLiteral");function*Yq(e,t,r,n){yield*za((0,KA.Deref)(e,t),t,r,n)}o(Yq,"TThis");function*Jq(e,t,r,n){if(!(0,ca.IsArray)(n))return yield Ft(Et.Tuple,e,r,n);if(e.items===void 0&&n.length!==0)return yield Ft(Et.TupleLength,e,r,n);if(n.length!==e.maxItems)return yield Ft(Et.TupleLength,e,r,n);if(e.items)for(let s=0;s<e.items.length;s++)yield*za(e.items[s],t,`${r}/${s}`,n[s])}o(Jq,"TTuple");function*Xq(e,t,r,n){(0,ca.IsUndefined)(n)||(yield Ft(Et.Undefined,e,r,n))}o(Xq,"TUndefined");function*Zq(e,t,r,n){let s=0;for(let l of e.anyOf){let a=[...za(l,t,r,n)];if(a.length===0)return;s+=a.length}s>0&&(yield Ft(Et.Union,e,r,n))}o(Zq,"TUnion");function*Qq(e,t,r,n){if(!(0,ca.IsUint8Array)(n))return yield Ft(Et.Uint8Array,e,r,n);qi(e.maxByteLength)&&!(n.length<=e.maxByteLength)&&(yield Ft(Et.Uint8ArrayMaxByteLength,e,r,n)),qi(e.minByteLength)&&!(n.length>=e.minByteLength)&&(yield Ft(Et.Uint8ArrayMinByteLength,e,r,n))}o(Qq,"TUint8Array");function*e$(e,t,r,n){}o(e$,"TUnknown");function*t$(e,t,r,n){e8.TypeSystemPolicy.IsVoidLike(n)||(yield Ft(Et.Void,e,r,n))}o(t$,"TVoid");function*r$(e,t,r,n){Mf.TypeRegistry.Get(e[Mf.Kind])(e,n)||(yield Ft(Et.Kind,e,r,n))}o(r$,"TKind");function*za(e,t,r,n){let s=qi(e.$id)?[...t,e]:t,l=e;switch(l[Mf.Kind]){case"Any":return yield*Iq(l,s,r,n);case"Array":return yield*wq(l,s,r,n);case"AsyncIterator":return yield*Aq(l,s,r,n);case"BigInt":return yield*Pq(l,s,r,n);case"Boolean":return yield*Nq(l,s,r,n);case"Constructor":return yield*Rq(l,s,r,n);case"Date":return yield*kq(l,s,r,n);case"Function":return yield*Bq(l,s,r,n);case"Integer":return yield*Dq(l,s,r,n);case"Intersect":return yield*Lq(l,s,r,n);case"Iterator":return yield*Fq(l,s,r,n);case"Literal":return yield*Oq(l,s,r,n);case"Never":return yield*Mq(l,s,r,n);case"Not":return yield*Uq(l,s,r,n);case"Null":return yield*qq(l,s,r,n);case"Number":return yield*$q(l,s,r,n);case"Object":return yield*Hq(l,s,r,n);case"Promise":return yield*Vq(l,s,r,n);case"Record":return yield*jq(l,s,r,n);case"Ref":return yield*zq(l,s,r,n);case"String":return yield*Gq(l,s,r,n);case"Symbol":return yield*Kq(l,s,r,n);case"TemplateLiteral":return yield*Wq(l,s,r,n);case"This":return yield*Yq(l,s,r,n);case"Tuple":return yield*Jq(l,s,r,n);case"Undefined":return yield*Xq(l,s,r,n);case"Union":return yield*Zq(l,s,r,n);case"Uint8Array":return yield*Qq(l,s,r,n);case"Unknown":return yield*e$(l,s,r,n);case"Void":return yield*t$(l,s,r,n);default:if(!Mf.TypeRegistry.Has(l[Mf.Kind]))throw new Sm(e);return yield*r$(l,s,r,n)}}o(za,"Visit");function n$(...e){let t=e.length===3?za(e[0],e[1],"",e[2]):za(e[0],[],"",e[1]);return new Im(t)}o(n$,"Errors");Of.Errors=n$});var wm=y0(Y2=>{"use strict";var i$=Y2&&Y2.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),s$=Y2&&Y2.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&i$(t,e,r)};Object.defineProperty(Y2,"__esModule",{value:!0});s$(m9(),Y2)});var hb=y0(yu=>{"use strict";var o$=yu&&yu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),a$=yu&&yu.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&o$(t,e,r)};Object.defineProperty(yu,"__esModule",{value:!0});yu.ValueErrorType=void 0;var l$=m9();Object.defineProperty(yu,"ValueErrorType",{enumerable:!0,get:function(){return l$.ValueErrorType}});a$(lb(),yu)});var r8=y0(t8=>{"use strict";Object.defineProperty(t8,"__esModule",{value:!0});t8.Check=t8.ValueCheckUnknownTypeError=void 0;var ua=zl(),y9=hb(),WA=z5(),f$=p9(),Ka=jl(),gb=class gb extends Ka.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(gb,"ValueCheckUnknownTypeError");var Am=gb;t8.ValueCheckUnknownTypeError=Am;function c$(e){return e[Ka.Kind]==="Any"||e[Ka.Kind]==="Unknown"}o(c$,"IsAnyOrUnknown");function $i(e){return e!==void 0}o($i,"IsDefined");function u$(e,t,r){return!0}o(u$,"TAny");function d$(e,t,r){if(!(0,ua.IsArray)(r)||$i(e.minItems)&&!(r.length>=e.minItems)||$i(e.maxItems)&&!(r.length<=e.maxItems)||!r.every(l=>Wa(e.items,t,l))||e.uniqueItems===!0&&!function(){let l=new Set;for(let a of r){let f=(0,f$.Hash)(a);if(l.has(f))return!1;l.add(f)}return!0}())return!1;if(!($i(e.contains)||(0,ua.IsNumber)(e.minContains)||(0,ua.IsNumber)(e.maxContains)))return!0;let n=$i(e.contains)?e.contains:Ka.Type.Never(),s=r.reduce((l,a)=>Wa(n,t,a)?l+1:l,0);return!(s===0||(0,ua.IsNumber)(e.minContains)&&s<e.minContains||(0,ua.IsNumber)(e.maxContains)&&s>e.maxContains)}o(d$,"TArray");function h$(e,t,r){return(0,ua.IsAsyncIterator)(r)}o(h$,"TAsyncIterator");function g$(e,t,r){return!(!(0,ua.IsBigInt)(r)||$i(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||$i(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||$i(e.maximum)&&!(r<=e.maximum)||$i(e.minimum)&&!(r>=e.minimum)||$i(e.multipleOf)&&r%e.multipleOf!==BigInt(0))}o(g$,"TBigInt");function m$(e,t,r){return(0,ua.IsBoolean)(r)}o(m$,"TBoolean");function p$(e,t,r){return Wa(e.returns,t,r.prototype)}o(p$,"TConstructor");function y$(e,t,r){return!(!(0,ua.IsDate)(r)||$i(e.exclusiveMaximumTimestamp)&&!(r.getTime()<e.exclusiveMaximumTimestamp)||$i(e.exclusiveMinimumTimestamp)&&!(r.getTime()>e.exclusiveMinimumTimestamp)||$i(e.maximumTimestamp)&&!(r.getTime()<=e.maximumTimestamp)||$i(e.minimumTimestamp)&&!(r.getTime()>=e.minimumTimestamp)||$i(e.multipleOfTimestamp)&&r.getTime()%e.multipleOfTimestamp!==0)}o(y$,"TDate");function v$(e,t,r){return(0,ua.IsFunction)(r)}o(v$,"TFunction");function x$(e,t,r){return!(!(0,ua.IsInteger)(r)||$i(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||$i(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||$i(e.maximum)&&!(r<=e.maximum)||$i(e.minimum)&&!(r>=e.minimum)||$i(e.multipleOf)&&r%e.multipleOf!==0)}o(x$,"TInteger");function _$(e,t,r){let n=e.allOf.every(s=>Wa(s,t,r));if(e.unevaluatedProperties===!1){let s=new RegExp(Ka.KeyResolver.ResolvePattern(e)),l=Object.getOwnPropertyNames(r).every(a=>s.test(a));return n&&l}else if(Ka.TypeGuard.TSchema(e.unevaluatedProperties)){let s=new RegExp(Ka.KeyResolver.ResolvePattern(e)),l=Object.getOwnPropertyNames(r).every(a=>s.test(a)||Wa(e.unevaluatedProperties,t,r[a]));return n&&l}else return n}o(_$,"TIntersect");function b$(e,t,r){return(0,ua.IsIterator)(r)}o(b$,"TIterator");function C$(e,t,r){return r===e.const}o(C$,"TLiteral");function E$(e,t,r){return!1}o(E$,"TNever");function T$(e,t,r){return!Wa(e.not,t,r)}o(T$,"TNot");function S$(e,t,r){return(0,ua.IsNull)(r)}o(S$,"TNull");function I$(e,t,r){return!(!y9.TypeSystemPolicy.IsNumberLike(r)||$i(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||$i(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||$i(e.minimum)&&!(r>=e.minimum)||$i(e.maximum)&&!(r<=e.maximum)||$i(e.multipleOf)&&r%e.multipleOf!==0)}o(I$,"TNumber");function w$(e,t,r){if(!y9.TypeSystemPolicy.IsObjectLike(r)||$i(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||$i(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let n=Object.getOwnPropertyNames(e.properties);for(let s of n){let l=e.properties[s];if(e.required&&e.required.includes(s)){if(!Wa(l,t,r[s])||(Ka.ExtendsUndefined.Check(l)||c$(l))&&!(s in r))return!1}else if(y9.TypeSystemPolicy.IsExactOptionalProperty(r,s)&&!Wa(l,t,r[s]))return!1}if(e.additionalProperties===!1){let s=Object.getOwnPropertyNames(r);return e.required&&e.required.length===n.length&&s.length===n.length?!0:s.every(l=>n.includes(l))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(l=>n.includes(l)||Wa(e.additionalProperties,t,r[l])):!0}o(w$,"TObject");function A$(e,t,r){return(0,ua.IsPromise)(r)}o(A$,"TPromise");function P$(e,t,r){if(!y9.TypeSystemPolicy.IsRecordLike(r)||$i(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||$i(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let[n,s]=Object.entries(e.patternProperties)[0],l=new RegExp(n),a=Object.entries(r).every(([u,d])=>l.test(u)?Wa(s,t,d):!0),f=typeof e.additionalProperties=="object"?Object.entries(r).every(([u,d])=>l.test(u)?!0:Wa(e.additionalProperties,t,d)):!0,c=e.additionalProperties===!1?Object.getOwnPropertyNames(r).every(u=>l.test(u)):!0;return a&&f&&c}o(P$,"TRecord");function N$(e,t,r){return Wa((0,WA.Deref)(e,t),t,r)}o(N$,"TRef");function R$(e,t,r){return!(0,ua.IsString)(r)||$i(e.minLength)&&!(r.length>=e.minLength)||$i(e.maxLength)&&!(r.length<=e.maxLength)||$i(e.pattern)&&!new RegExp(e.pattern).test(r)?!1:$i(e.format)?Ka.FormatRegistry.Has(e.format)?Ka.FormatRegistry.Get(e.format)(r):!1:!0}o(R$,"TString");function k$(e,t,r){return(0,ua.IsSymbol)(r)}o(k$,"TSymbol");function B$(e,t,r){return(0,ua.IsString)(r)&&new RegExp(e.pattern).test(r)}o(B$,"TTemplateLiteral");function D$(e,t,r){return Wa((0,WA.Deref)(e,t),t,r)}o(D$,"TThis");function L$(e,t,r){if(!(0,ua.IsArray)(r)||e.items===void 0&&r.length!==0||r.length!==e.maxItems)return!1;if(!e.items)return!0;for(let n=0;n<e.items.length;n++)if(!Wa(e.items[n],t,r[n]))return!1;return!0}o(L$,"TTuple");function F$(e,t,r){return(0,ua.IsUndefined)(r)}o(F$,"TUndefined");function O$(e,t,r){return e.anyOf.some(n=>Wa(n,t,r))}o(O$,"TUnion");function M$(e,t,r){return!(!(0,ua.IsUint8Array)(r)||$i(e.maxByteLength)&&!(r.length<=e.maxByteLength)||$i(e.minByteLength)&&!(r.length>=e.minByteLength))}o(M$,"TUint8Array");function U$(e,t,r){return!0}o(U$,"TUnknown");function q$(e,t,r){return y9.TypeSystemPolicy.IsVoidLike(r)}o(q$,"TVoid");function $$(e,t,r){return Ka.TypeRegistry.Has(e[Ka.Kind])?Ka.TypeRegistry.Get(e[Ka.Kind])(e,r):!1}o($$,"TKind");function Wa(e,t,r){let n=$i(e.$id)?[...t,e]:t,s=e;switch(s[Ka.Kind]){case"Any":return u$(s,n,r);case"Array":return d$(s,n,r);case"AsyncIterator":return h$(s,n,r);case"BigInt":return g$(s,n,r);case"Boolean":return m$(s,n,r);case"Constructor":return p$(s,n,r);case"Date":return y$(s,n,r);case"Function":return v$(s,n,r);case"Integer":return x$(s,n,r);case"Intersect":return _$(s,n,r);case"Iterator":return b$(s,n,r);case"Literal":return C$(s,n,r);case"Never":return E$(s,n,r);case"Not":return T$(s,n,r);case"Null":return S$(s,n,r);case"Number":return I$(s,n,r);case"Object":return w$(s,n,r);case"Promise":return A$(s,n,r);case"Record":return P$(s,n,r);case"Ref":return N$(s,n,r);case"String":return R$(s,n,r);case"Symbol":return k$(s,n,r);case"TemplateLiteral":return B$(s,n,r);case"This":return D$(s,n,r);case"Tuple":return L$(s,n,r);case"Undefined":return F$(s,n,r);case"Union":return O$(s,n,r);case"Uint8Array":return M$(s,n,r);case"Unknown":return U$(s,n,r);case"Void":return q$(s,n,r);default:if(!Ka.TypeRegistry.Has(s[Ka.Kind]))throw new Am(s);return $$(s,n,r)}}o(Wa,"Visit");function H$(...e){return e.length===3?Wa(e[0],e[1],e[2]):Wa(e[0],[],e[1])}o(H$,"Check");t8.Check=H$});var Cb=y0(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.EncodeTransform=pl.DecodeTransform=pl.HasTransform=pl.TransformEncodeError=pl.TransformDecodeError=pl.TransformEncodeCheckError=pl.TransformDecodeCheckError=void 0;var Sl=zl(),n8=z5(),mb=r8(),cn=jl(),vb=class vb extends cn.TypeBoxError{constructor(t,r,n){super("Unable to decode due to invalid value"),this.schema=t,this.value=r,this.error=n}};o(vb,"TransformDecodeCheckError");var pb=vb;pl.TransformDecodeCheckError=pb;var xb=class xb extends cn.TypeBoxError{constructor(t,r,n){super("Unable to encode due to invalid value"),this.schema=t,this.value=r,this.error=n}};o(xb,"TransformEncodeCheckError");var yb=xb;pl.TransformEncodeCheckError=yb;var _b=class _b extends cn.TypeBoxError{constructor(t,r,n){super(`${n instanceof Error?n.message:"Unknown error"}`),this.schema=t,this.value=r}};o(_b,"TransformDecodeError");var Pm=_b;pl.TransformDecodeError=Pm;var bb=class bb extends cn.TypeBoxError{constructor(t,r,n){super(`${n instanceof Error?n.message:"Unknown error"}`),this.schema=t,this.value=r}};o(bb,"TransformEncodeError");var Nm=bb;pl.TransformEncodeError=Nm;var YA;(function(e){function t(A,L){return cn.TypeGuard.TTransform(A)||x(A.items,L)}o(t,"TArray");function r(A,L){return cn.TypeGuard.TTransform(A)||x(A.items,L)}o(r,"TAsyncIterator");function n(A,L){return cn.TypeGuard.TTransform(A)||x(A.returns,L)||A.parameters.some(D=>x(D,L))}o(n,"TConstructor");function s(A,L){return cn.TypeGuard.TTransform(A)||x(A.returns,L)||A.parameters.some(D=>x(D,L))}o(s,"TFunction");function l(A,L){return cn.TypeGuard.TTransform(A)||cn.TypeGuard.TTransform(A.unevaluatedProperties)||A.allOf.some(D=>x(D,L))}o(l,"TIntersect");function a(A,L){return cn.TypeGuard.TTransform(A)||x(A.items,L)}o(a,"TIterator");function f(A,L){return cn.TypeGuard.TTransform(A)||x(A.not,L)}o(f,"TNot");function c(A,L){return cn.TypeGuard.TTransform(A)||Object.values(A.properties).some(D=>x(D,L))||cn.TypeGuard.TSchema(A.additionalProperties)&&x(A.additionalProperties,L)}o(c,"TObject");function u(A,L){return cn.TypeGuard.TTransform(A)||x(A.item,L)}o(u,"TPromise");function d(A,L){let D=Object.getOwnPropertyNames(A.patternProperties)[0],R=A.patternProperties[D];return cn.TypeGuard.TTransform(A)||x(R,L)||cn.TypeGuard.TSchema(A.additionalProperties)&&cn.TypeGuard.TTransform(A.additionalProperties)}o(d,"TRecord");function h(A,L){return cn.TypeGuard.TTransform(A)?!0:x((0,n8.Deref)(A,L),L)}o(h,"TRef");function m(A,L){return cn.TypeGuard.TTransform(A)?!0:x((0,n8.Deref)(A,L),L)}o(m,"TThis");function p(A,L){return cn.TypeGuard.TTransform(A)||!(0,Sl.IsUndefined)(A.items)&&A.items.some(D=>x(D,L))}o(p,"TTuple");function v(A,L){return cn.TypeGuard.TTransform(A)||A.anyOf.some(D=>x(D,L))}o(v,"TUnion");function x(A,L){let D=(0,Sl.IsString)(A.$id)?[...L,A]:L,R=A;if(A.$id&&E.has(A.$id))return!1;switch(A.$id&&E.add(A.$id),A[cn.Kind]){case"Array":return t(R,D);case"AsyncIterator":return r(R,D);case"Constructor":return n(R,D);case"Function":return s(R,D);case"Intersect":return l(R,D);case"Iterator":return a(R,D);case"Not":return f(R,D);case"Object":return c(R,D);case"Promise":return u(R,D);case"Record":return d(R,D);case"Ref":return h(R,D);case"This":return m(R,D);case"Tuple":return p(R,D);case"Union":return v(R,D);default:return cn.TypeGuard.TTransform(A)}}o(x,"Visit");let E=new Set;function I(A,L){return E.clear(),x(A,L)}o(I,"Has"),e.Has=I})(YA||(pl.HasTransform=YA={}));var JA;(function(e){function t(p,v){try{return cn.TypeGuard.TTransform(p)?p[cn.Transform].Decode(v):v}catch(x){throw new Pm(p,v,x)}}o(t,"Default");function r(p,v,x){return(0,Sl.IsArray)(x)?t(p,x.map(E=>h(p.items,v,E))):t(p,x)}o(r,"TArray");function n(p,v,x){if(!(0,Sl.IsPlainObject)(x)||(0,Sl.IsValueType)(x))return t(p,x);let E=cn.KeyResolver.ResolveKeys(p,{includePatterns:!1}),I=E.reduce((R,V)=>V in R?{...R,[V]:h(cn.IndexedAccessor.Resolve(p,[V]),v,R[V])}:R,x);if(!cn.TypeGuard.TTransform(p.unevaluatedProperties))return t(p,I);let A=Object.getOwnPropertyNames(I),L=p.unevaluatedProperties,D=A.reduce((R,V)=>E.includes(V)?R:{...R,[V]:t(L,R[V])},I);return t(p,D)}o(n,"TIntersect");function s(p,v,x){return t(p,h(p.not,v,x))}o(s,"TNot");function l(p,v,x){if(!(0,Sl.IsPlainObject)(x))return t(p,x);let E=cn.KeyResolver.ResolveKeys(p,{includePatterns:!1}),I=E.reduce((R,V)=>V in R?{...R,[V]:h(p.properties[V],v,R[V])}:R,x);if(!cn.TypeGuard.TSchema(p.additionalProperties))return t(p,I);let A=Object.getOwnPropertyNames(I),L=p.additionalProperties,D=A.reduce((R,V)=>E.includes(V)?R:{...R,[V]:t(L,R[V])},I);return t(p,D)}o(l,"TObject");function a(p,v,x){if(!(0,Sl.IsPlainObject)(x))return t(p,x);let E=Object.getOwnPropertyNames(p.patternProperties)[0],I=new RegExp(E),A=Object.getOwnPropertyNames(x).reduce((V,de)=>I.test(de)?{...V,[de]:h(p.patternProperties[E],v,V[de])}:V,x);if(!cn.TypeGuard.TSchema(p.additionalProperties))return t(p,A);let L=Object.getOwnPropertyNames(A),D=p.additionalProperties,R=L.reduce((V,de)=>I.test(de)?V:{...V,[de]:t(D,V[de])},A);return t(p,R)}o(a,"TRecord");function f(p,v,x){let E=(0,n8.Deref)(p,v);return t(p,h(E,v,x))}o(f,"TRef");function c(p,v,x){let E=(0,n8.Deref)(p,v);return t(p,h(E,v,x))}o(c,"TThis");function u(p,v,x){return(0,Sl.IsArray)(x)&&(0,Sl.IsArray)(p.items)?t(p,p.items.map((E,I)=>h(E,v,x[I]))):t(p,x)}o(u,"TTuple");function d(p,v,x){let E=t(p,x);for(let I of p.anyOf)if((0,mb.Check)(I,v,E))return h(I,v,E);return E}o(d,"TUnion");function h(p,v,x){let E=typeof p.$id=="string"?[...v,p]:v,I=p;switch(p[cn.Kind]){case"Array":return r(I,E,x);case"Intersect":return n(I,E,x);case"Not":return s(I,E,x);case"Object":return l(I,E,x);case"Record":return a(I,E,x);case"Ref":return f(I,E,x);case"Symbol":return t(I,x);case"This":return c(I,E,x);case"Tuple":return u(I,E,x);case"Union":return d(I,E,x);default:return t(I,x)}}o(h,"Visit");function m(p,v,x){return h(p,v,x)}o(m,"Decode"),e.Decode=m})(JA||(pl.DecodeTransform=JA={}));var XA;(function(e){function t(p,v){try{return cn.TypeGuard.TTransform(p)?p[cn.Transform].Encode(v):v}catch(x){throw new Nm(p,v,x)}}o(t,"Default");function r(p,v,x){let E=t(p,x);return(0,Sl.IsArray)(E)?E.map(I=>h(p.items,v,I)):E}o(r,"TArray");function n(p,v,x){let E=t(p,x);if(!(0,Sl.IsPlainObject)(x)||(0,Sl.IsValueType)(x))return E;let I=cn.KeyResolver.ResolveKeys(p,{includePatterns:!1}),A=I.reduce((R,V)=>V in E?{...R,[V]:h(cn.IndexedAccessor.Resolve(p,[V]),v,R[V])}:R,E);if(!cn.TypeGuard.TTransform(p.unevaluatedProperties))return t(p,A);let L=Object.getOwnPropertyNames(A),D=p.unevaluatedProperties;return L.reduce((R,V)=>I.includes(V)?R:{...R,[V]:t(D,R[V])},A)}o(n,"TIntersect");function s(p,v,x){return t(p.not,t(p,x))}o(s,"TNot");function l(p,v,x){let E=t(p,x);if(!(0,Sl.IsPlainObject)(x))return E;let I=cn.KeyResolver.ResolveKeys(p,{includePatterns:!1}),A=I.reduce((R,V)=>V in R?{...R,[V]:h(p.properties[V],v,R[V])}:R,E);if(!cn.TypeGuard.TSchema(p.additionalProperties))return A;let L=Object.getOwnPropertyNames(A),D=p.additionalProperties;return L.reduce((R,V)=>I.includes(V)?R:{...R,[V]:t(D,R[V])},A)}o(l,"TObject");function a(p,v,x){let E=t(p,x);if(!(0,Sl.IsPlainObject)(x))return E;let I=Object.getOwnPropertyNames(p.patternProperties)[0],A=new RegExp(I),L=Object.getOwnPropertyNames(x).reduce((V,de)=>A.test(de)?{...V,[de]:h(p.patternProperties[I],v,V[de])}:V,E);if(!cn.TypeGuard.TSchema(p.additionalProperties))return t(p,L);let D=Object.getOwnPropertyNames(L),R=p.additionalProperties;return D.reduce((V,de)=>A.test(de)?V:{...V,[de]:t(R,V[de])},L)}o(a,"TRecord");function f(p,v,x){let E=(0,n8.Deref)(p,v),I=h(E,v,x);return t(p,I)}o(f,"TRef");function c(p,v,x){let E=(0,n8.Deref)(p,v),I=h(E,v,x);return t(p,I)}o(c,"TThis");function u(p,v,x){let E=t(p,x);return(0,Sl.IsArray)(p.items)?p.items.map((I,A)=>h(I,v,E[A])):[]}o(u,"TTuple");function d(p,v,x){for(let E of p.anyOf){if(!(0,mb.Check)(E,v,x))continue;let I=h(E,v,x);return t(p,I)}for(let E of p.anyOf){let I=h(E,v,x);if((0,mb.Check)(p,v,I))return t(p,I)}return t(p,x)}o(d,"TUnion");function h(p,v,x){let E=typeof p.$id=="string"?[...v,p]:v,I=p;switch(p[cn.Kind]){case"Array":return r(I,E,x);case"Intersect":return n(I,E,x);case"Not":return s(I,E,x);case"Object":return l(I,E,x);case"Record":return a(I,E,x);case"Ref":return f(I,E,x);case"This":return c(I,E,x);case"Tuple":return u(I,E,x);case"Union":return d(I,E,x);default:return t(I,x)}}o(h,"Visit");function m(p,v,x){return h(p,v,x)}o(m,"Encode"),e.Encode=m})(XA||(pl.EncodeTransform=XA={}))});var QA=y0(Uf=>{"use strict";Object.defineProperty(Uf,"__esModule",{value:!0});Uf.TypeCompiler=Uf.Policy=Uf.TypeCompilerTypeGuardError=Uf.TypeCompilerUnknownTypeError=Uf.TypeCheck=void 0;var v9=Cb(),wn=zl(),V$=m9(),x9=hb(),j$=z5(),z$=p9(),Ws=jl(),Sb=class Sb{constructor(t,r,n,s){this.schema=t,this.references=r,this.checkFunc=n,this.code=s,this.hasTransform=v9.HasTransform.Has(t,r)}Code(){return this.code}Errors(t){return(0,V$.Errors)(this.schema,this.references,t)}Check(t){return this.checkFunc(t)}Decode(t){if(!this.checkFunc(t))throw new v9.TransformDecodeCheckError(this.schema,t,this.Errors(t).First());return this.hasTransform?v9.DecodeTransform.Decode(this.schema,this.references,t):t}Encode(t){let r=this.hasTransform?v9.EncodeTransform.Encode(this.schema,this.references,t):t;if(!this.checkFunc(r))throw new v9.TransformEncodeCheckError(this.schema,t,this.Errors(t).First());return r}};o(Sb,"TypeCheck");var Rm=Sb;Uf.TypeCheck=Rm;var vu;(function(e){function t(l){return l===36}o(t,"DollarSign"),e.DollarSign=t;function r(l){return l===95}o(r,"IsUnderscore"),e.IsUnderscore=r;function n(l){return l>=65&&l<=90||l>=97&&l<=122}o(n,"IsAlpha"),e.IsAlpha=n;function s(l){return l>=48&&l<=57}o(s,"IsNumeric"),e.IsNumeric=s})(vu||(vu={}));var km;(function(e){function t(l){return l.length===0?!1:vu.IsNumeric(l.charCodeAt(0))}o(t,"IsFirstCharacterNumeric");function r(l){if(t(l))return!1;for(let a=0;a<l.length;a++){let f=l.charCodeAt(a);if(!(vu.IsAlpha(f)||vu.IsNumeric(f)||vu.DollarSign(f)||vu.IsUnderscore(f)))return!1}return!0}o(r,"IsAccessor");function n(l){return l.replace(/'/g,"\\'")}o(n,"EscapeHyphen");function s(l,a){return r(a)?`${l}.${a}`:`${l}['${n(a)}']`}o(s,"Encode"),e.Encode=s})(km||(km={}));var Eb;(function(e){function t(r){let n=[];for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);vu.IsNumeric(l)||vu.IsAlpha(l)?n.push(r.charAt(s)):n.push(`_${l}_`)}return n.join("").replace(/__/g,"_")}o(t,"Encode"),e.Encode=t})(Eb||(Eb={}));var Tb;(function(e){function t(r){return r.replace(/'/g,"\\'")}o(t,"Escape"),e.Escape=t})(Tb||(Tb={}));var Ib=class Ib extends Ws.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(Ib,"TypeCompilerUnknownTypeError");var Bm=Ib;Uf.TypeCompilerUnknownTypeError=Bm;var wb=class wb extends Ws.TypeBoxError{constructor(t){super("Preflight validation check failed to guard for the given schema"),this.schema=t}};o(wb,"TypeCompilerTypeGuardError");var _9=wb;Uf.TypeCompilerTypeGuardError=_9;var J2;(function(e){function t(a,f,c){return x9.TypeSystemPolicy.ExactOptionalPropertyTypes?`('${f}' in ${a} ? ${c} : true)`:`(${km.Encode(a,f)} !== undefined ? ${c} : true)`}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){return x9.TypeSystemPolicy.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null)`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}))`}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return x9.TypeSystemPolicy.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}) && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`}o(n,"IsRecordLike"),e.IsRecordLike=n;function s(a){return x9.TypeSystemPolicy.AllowNaN?`typeof ${a} === 'number'`:`(typeof ${a} === 'number' && Number.isFinite(${a}))`}o(s,"IsNumberLike"),e.IsNumberLike=s;function l(a){return x9.TypeSystemPolicy.AllowNullVoid?`(${a} === undefined || ${a} === null)`:`${a} === undefined`}o(l,"IsVoidLike"),e.IsVoidLike=l})(J2||(Uf.Policy=J2={}));var ZA;(function(e){function t(ue){return ue[Ws.Kind]==="Any"||ue[Ws.Kind]==="Unknown"}o(t,"IsAnyOrUnknown");function*r(ue,D0,Ke){yield"true"}o(r,"TAny");function*n(ue,D0,Ke){yield`Array.isArray(${Ke})`;let[L0,B0]=[C0("value","any"),C0("acc","number")];(0,wn.IsNumber)(ue.maxItems)&&(yield`${Ke}.length <= ${ue.maxItems}`),(0,wn.IsNumber)(ue.minItems)&&(yield`${Ke}.length >= ${ue.minItems}`);let G0=t0(ue.items,D0,"value");if(yield`${Ke}.every((${L0}) => ${G0})`,Ws.TypeGuard.TSchema(ue.contains)||(0,wn.IsNumber)(ue.minContains)||(0,wn.IsNumber)(ue.maxContains)){let br=Ws.TypeGuard.TSchema(ue.contains)?ue.contains:Ws.Type.Never(),en=t0(br,D0,"value"),Lr=(0,wn.IsNumber)(ue.minContains)?[`(count >= ${ue.minContains})`]:[],le=(0,wn.IsNumber)(ue.maxContains)?[`(count <= ${ue.maxContains})`]:[],Hr=`const count = value.reduce((${B0}, ${L0}) => ${en} ? acc + 1 : acc, 0)`,yr=["(count > 0)",...Lr,...le].join(" && ");yield`((${L0}) => { ${Hr}; return ${yr}})(${Ke})`}ue.uniqueItems===!0&&(yield`((${L0}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${Ke})`)}o(n,"TArray");function*s(ue,D0,Ke){yield`(typeof value === 'object' && Symbol.asyncIterator in ${Ke})`}o(s,"TAsyncIterator");function*l(ue,D0,Ke){yield`(typeof ${Ke} === 'bigint')`,(0,wn.IsBigInt)(ue.exclusiveMaximum)&&(yield`${Ke} < BigInt(${ue.exclusiveMaximum})`),(0,wn.IsBigInt)(ue.exclusiveMinimum)&&(yield`${Ke} > BigInt(${ue.exclusiveMinimum})`),(0,wn.IsBigInt)(ue.maximum)&&(yield`${Ke} <= BigInt(${ue.maximum})`),(0,wn.IsBigInt)(ue.minimum)&&(yield`${Ke} >= BigInt(${ue.minimum})`),(0,wn.IsBigInt)(ue.multipleOf)&&(yield`(${Ke} % BigInt(${ue.multipleOf})) === 0`)}o(l,"TBigInt");function*a(ue,D0,Ke){yield`(typeof ${Ke} === 'boolean')`}o(a,"TBoolean");function*f(ue,D0,Ke){yield*l0(ue.returns,D0,`${Ke}.prototype`)}o(f,"TConstructor");function*c(ue,D0,Ke){yield`(${Ke} instanceof Date) && Number.isFinite(${Ke}.getTime())`,(0,wn.IsNumber)(ue.exclusiveMaximumTimestamp)&&(yield`${Ke}.getTime() < ${ue.exclusiveMaximumTimestamp}`),(0,wn.IsNumber)(ue.exclusiveMinimumTimestamp)&&(yield`${Ke}.getTime() > ${ue.exclusiveMinimumTimestamp}`),(0,wn.IsNumber)(ue.maximumTimestamp)&&(yield`${Ke}.getTime() <= ${ue.maximumTimestamp}`),(0,wn.IsNumber)(ue.minimumTimestamp)&&(yield`${Ke}.getTime() >= ${ue.minimumTimestamp}`),(0,wn.IsNumber)(ue.multipleOfTimestamp)&&(yield`(${Ke}.getTime() % ${ue.multipleOfTimestamp}) === 0`)}o(c,"TDate");function*u(ue,D0,Ke){yield`(typeof ${Ke} === 'function')`}o(u,"TFunction");function*d(ue,D0,Ke){yield`(typeof ${Ke} === 'number' && Number.isInteger(${Ke}))`,(0,wn.IsNumber)(ue.exclusiveMaximum)&&(yield`${Ke} < ${ue.exclusiveMaximum}`),(0,wn.IsNumber)(ue.exclusiveMinimum)&&(yield`${Ke} > ${ue.exclusiveMinimum}`),(0,wn.IsNumber)(ue.maximum)&&(yield`${Ke} <= ${ue.maximum}`),(0,wn.IsNumber)(ue.minimum)&&(yield`${Ke} >= ${ue.minimum}`),(0,wn.IsNumber)(ue.multipleOf)&&(yield`(${Ke} % ${ue.multipleOf}) === 0`)}o(d,"TInteger");function*h(ue,D0,Ke){let L0=ue.allOf.map(B0=>t0(B0,D0,Ke)).join(" && ");if(ue.unevaluatedProperties===!1){let B0=ce(`${new RegExp(Ws.KeyResolver.ResolvePattern(ue))};`),G0=`Object.getOwnPropertyNames(${Ke}).every(key => ${B0}.test(key))`;yield`(${L0} && ${G0})`}else if(Ws.TypeGuard.TSchema(ue.unevaluatedProperties)){let B0=ce(`${new RegExp(Ws.KeyResolver.ResolvePattern(ue))};`),G0=`Object.getOwnPropertyNames(${Ke}).every(key => ${B0}.test(key) || ${t0(ue.unevaluatedProperties,D0,`${Ke}[key]`)})`;yield`(${L0} && ${G0})`}else yield`(${L0})`}o(h,"TIntersect");function*m(ue,D0,Ke){yield`(typeof value === 'object' && Symbol.iterator in ${Ke})`}o(m,"TIterator");function*p(ue,D0,Ke){typeof ue.const=="number"||typeof ue.const=="boolean"?yield`(${Ke} === ${ue.const})`:yield`(${Ke} === '${Tb.Escape(ue.const)}')`}o(p,"TLiteral");function*v(ue,D0,Ke){yield"false"}o(v,"TNever");function*x(ue,D0,Ke){yield`(!${t0(ue.not,D0,Ke)})`}o(x,"TNot");function*E(ue,D0,Ke){yield`(${Ke} === null)`}o(E,"TNull");function*I(ue,D0,Ke){yield J2.IsNumberLike(Ke),(0,wn.IsNumber)(ue.exclusiveMaximum)&&(yield`${Ke} < ${ue.exclusiveMaximum}`),(0,wn.IsNumber)(ue.exclusiveMinimum)&&(yield`${Ke} > ${ue.exclusiveMinimum}`),(0,wn.IsNumber)(ue.maximum)&&(yield`${Ke} <= ${ue.maximum}`),(0,wn.IsNumber)(ue.minimum)&&(yield`${Ke} >= ${ue.minimum}`),(0,wn.IsNumber)(ue.multipleOf)&&(yield`(${Ke} % ${ue.multipleOf}) === 0`)}o(I,"TNumber");function*A(ue,D0,Ke){yield J2.IsObjectLike(Ke),(0,wn.IsNumber)(ue.minProperties)&&(yield`Object.getOwnPropertyNames(${Ke}).length >= ${ue.minProperties}`),(0,wn.IsNumber)(ue.maxProperties)&&(yield`Object.getOwnPropertyNames(${Ke}).length <= ${ue.maxProperties}`);let L0=Object.getOwnPropertyNames(ue.properties);for(let B0 of L0){let G0=km.Encode(Ke,B0),br=ue.properties[B0];if(ue.required&&ue.required.includes(B0))yield*l0(br,D0,G0),(Ws.ExtendsUndefined.Check(br)||t(br))&&(yield`('${B0}' in ${Ke})`);else{let en=t0(br,D0,G0);yield J2.IsExactOptionalProperty(Ke,B0,en)}}if(ue.additionalProperties===!1)if(ue.required&&ue.required.length===L0.length)yield`Object.getOwnPropertyNames(${Ke}).length === ${L0.length}`;else{let B0=`[${L0.map(G0=>`'${G0}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${Ke}).every(key => ${B0}.includes(key))`}if(typeof ue.additionalProperties=="object"){let B0=t0(ue.additionalProperties,D0,`${Ke}[key]`),G0=`[${L0.map(br=>`'${br}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${Ke}).every(key => ${G0}.includes(key) || ${B0}))`}}o(A,"TObject");function*L(ue,D0,Ke){yield`(typeof value === 'object' && typeof ${Ke}.then === 'function')`}o(L,"TPromise");function*D(ue,D0,Ke){yield J2.IsRecordLike(Ke),(0,wn.IsNumber)(ue.minProperties)&&(yield`Object.getOwnPropertyNames(${Ke}).length >= ${ue.minProperties}`),(0,wn.IsNumber)(ue.maxProperties)&&(yield`Object.getOwnPropertyNames(${Ke}).length <= ${ue.maxProperties}`);let[L0,B0]=Object.entries(ue.patternProperties)[0],G0=ce(`${new RegExp(L0)}`),br=t0(B0,D0,"value"),en=Ws.TypeGuard.TSchema(ue.additionalProperties)?t0(ue.additionalProperties,D0,Ke):ue.additionalProperties===!1?"false":"true",Lr=`(${G0}.test(key) ? ${br} : ${en})`;yield`(Object.entries(${Ke}).every(([key, value]) => ${Lr}))`}o(D,"TRecord");function*R(ue,D0,Ke){let L0=(0,j$.Deref)(ue,D0);if(R0.functions.has(ue.$ref))return yield`${f0(ue.$ref)}(${Ke})`;yield*l0(L0,D0,Ke)}o(R,"TRef");function*V(ue,D0,Ke){yield`(typeof ${Ke} === 'string')`,(0,wn.IsNumber)(ue.maxLength)&&(yield`${Ke}.length <= ${ue.maxLength}`),(0,wn.IsNumber)(ue.minLength)&&(yield`${Ke}.length >= ${ue.minLength}`),ue.pattern!==void 0&&(yield`${ce(`${new RegExp(ue.pattern)};`)}.test(${Ke})`),ue.format!==void 0&&(yield`format('${ue.format}', ${Ke})`)}o(V,"TString");function*de(ue,D0,Ke){yield`(typeof ${Ke} === 'symbol')`}o(de,"TSymbol");function*ve(ue,D0,Ke){yield`(typeof ${Ke} === 'string')`,yield`${ce(`${new RegExp(ue.pattern)};`)}.test(${Ke})`}o(ve,"TTemplateLiteral");function*n0(ue,D0,Ke){yield`${f0(ue.$ref)}(${Ke})`}o(n0,"TThis");function*d0(ue,D0,Ke){if(yield`Array.isArray(${Ke})`,ue.items===void 0)return yield`${Ke}.length === 0`;yield`(${Ke}.length === ${ue.maxItems})`;for(let L0=0;L0<ue.items.length;L0++)yield`${t0(ue.items[L0],D0,`${Ke}[${L0}]`)}`}o(d0,"TTuple");function*r0(ue,D0,Ke){yield`${Ke} === undefined`}o(r0,"TUndefined");function*m0(ue,D0,Ke){yield`(${ue.anyOf.map(B0=>t0(B0,D0,Ke)).join(" || ")})`}o(m0,"TUnion");function*Ve(ue,D0,Ke){yield`${Ke} instanceof Uint8Array`,(0,wn.IsNumber)(ue.maxByteLength)&&(yield`(${Ke}.length <= ${ue.maxByteLength})`),(0,wn.IsNumber)(ue.minByteLength)&&(yield`(${Ke}.length >= ${ue.minByteLength})`)}o(Ve,"TUint8Array");function*we(ue,D0,Ke){yield"true"}o(we,"TUnknown");function*o0(ue,D0,Ke){yield J2.IsVoidLike(Ke)}o(o0,"TVoid");function*u0(ue,D0,Ke){let L0=R0.instances.size;R0.instances.set(L0,ue),yield`kind('${ue[Ws.Kind]}', ${L0}, ${Ke})`}o(u0,"TKind");function*l0(ue,D0,Ke,L0=!0){let B0=(0,wn.IsString)(ue.$id)?[...D0,ue]:D0,G0=ue;if(L0&&(0,wn.IsString)(ue.$id)){let br=f0(ue.$id);if(R0.functions.has(br))return yield`${br}(${Ke})`;{let en=Ee(br,ue,D0,"value",!1);return R0.functions.set(br,en),yield`${br}(${Ke})`}}switch(G0[Ws.Kind]){case"Any":return yield*r(G0,B0,Ke);case"Array":return yield*n(G0,B0,Ke);case"AsyncIterator":return yield*s(G0,B0,Ke);case"BigInt":return yield*l(G0,B0,Ke);case"Boolean":return yield*a(G0,B0,Ke);case"Constructor":return yield*f(G0,B0,Ke);case"Date":return yield*c(G0,B0,Ke);case"Function":return yield*u(G0,B0,Ke);case"Integer":return yield*d(G0,B0,Ke);case"Intersect":return yield*h(G0,B0,Ke);case"Iterator":return yield*m(G0,B0,Ke);case"Literal":return yield*p(G0,B0,Ke);case"Never":return yield*v(G0,B0,Ke);case"Not":return yield*x(G0,B0,Ke);case"Null":return yield*E(G0,B0,Ke);case"Number":return yield*I(G0,B0,Ke);case"Object":return yield*A(G0,B0,Ke);case"Promise":return yield*L(G0,B0,Ke);case"Record":return yield*D(G0,B0,Ke);case"Ref":return yield*R(G0,B0,Ke);case"String":return yield*V(G0,B0,Ke);case"Symbol":return yield*de(G0,B0,Ke);case"TemplateLiteral":return yield*ve(G0,B0,Ke);case"This":return yield*n0(G0,B0,Ke);case"Tuple":return yield*d0(G0,B0,Ke);case"Undefined":return yield*r0(G0,B0,Ke);case"Union":return yield*m0(G0,B0,Ke);case"Uint8Array":return yield*Ve(G0,B0,Ke);case"Unknown":return yield*we(G0,B0,Ke);case"Void":return yield*o0(G0,B0,Ke);default:if(!Ws.TypeRegistry.Has(G0[Ws.Kind]))throw new Bm(ue);return yield*u0(G0,B0,Ke)}}o(l0,"Visit");let R0={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function t0(ue,D0,Ke,L0=!0){return`(${[...l0(ue,D0,Ke,L0)].join(" && ")})`}o(t0,"CreateExpression");function f0(ue){return`check_${Eb.Encode(ue)}`}o(f0,"CreateFunctionName");function ce(ue){let D0=`local_${R0.variables.size}`;return R0.variables.set(D0,`const ${D0} = ${ue}`),D0}o(ce,"CreateVariable");function Ee(ue,D0,Ke,L0,B0=!0){let[G0,br]=[`
`,Hr=>"".padStart(Hr," ")],en=C0("value","any"),Lr=z0("boolean"),le=[...l0(D0,Ke,L0,B0)].map(Hr=>`${br(4)}${Hr}`).join(` &&${G0}`);return`function ${ue}(${en})${Lr} {${G0}${br(2)}return (${G0}${le}${G0}${br(2)})
}`}o(Ee,"CreateFunction");function C0(ue,D0){let Ke=R0.language==="typescript"?`: ${D0}`:"";return`${ue}${Ke}`}o(C0,"CreateParameter");function z0(ue){return R0.language==="typescript"?`: ${ue}`:""}o(z0,"CreateReturns");function O0(ue,D0,Ke){let L0=Ee("check",ue,D0,"value"),B0=C0("value","any"),G0=z0("boolean"),br=[...R0.functions.values()],en=[...R0.variables.values()],Lr=(0,wn.IsString)(ue.$id)?`return function check(${B0})${G0} {
  return ${f0(ue.$id)}(value)
}`:`return ${L0}`;return[...en,...br,Lr].join(`
`)}o(O0,"Build");function v0(...ue){let D0={language:"javascript"},[Ke,L0,B0]=ue.length===2&&(0,wn.IsArray)(ue[1])?[ue[0],ue[1],D0]:ue.length===2&&!(0,wn.IsArray)(ue[1])?[ue[0],[],ue[1]]:ue.length===3?[ue[0],ue[1],ue[2]]:ue.length===1?[ue[0],[],D0]:[null,[],D0];if(R0.language=B0.language,R0.variables.clear(),R0.functions.clear(),R0.instances.clear(),!Ws.TypeGuard.TSchema(Ke))throw new _9(Ke);for(let G0 of L0)if(!Ws.TypeGuard.TSchema(G0))throw new _9(G0);return O0(Ke,L0,B0)}o(v0,"Code"),e.Code=v0;function fr(ue,D0=[]){let Ke=v0(ue,D0,{language:"javascript"}),L0=globalThis.Function("kind","format","hash",Ke),B0=new Map(R0.instances);function G0(le,Hr,yr){if(!Ws.TypeRegistry.Has(le)||!B0.has(Hr))return!1;let Xs=Ws.TypeRegistry.Get(le),Es=B0.get(Hr);return Xs(Es,yr)}o(G0,"typeRegistryFunction");function br(le,Hr){return Ws.FormatRegistry.Has(le)?Ws.FormatRegistry.Get(le)(Hr):!1}o(br,"formatRegistryFunction");function en(le){return(0,z$.Hash)(le)}o(en,"hashFunction");let Lr=L0(G0,br,en);return new Rm(ue,D0,Lr,Ke)}o(fr,"Compile"),e.Compile=fr})(ZA||(Uf.TypeCompiler=ZA={}))});var tP=y0(S1=>{"use strict";var G$=S1&&S1.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),K$=S1&&S1.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&G$(t,e,r)};Object.defineProperty(S1,"__esModule",{value:!0});S1.ValueErrorIterator=S1.ValueErrorType=void 0;var eP=wm();Object.defineProperty(S1,"ValueErrorType",{enumerable:!0,get:function(){return eP.ValueErrorType}});Object.defineProperty(S1,"ValueErrorIterator",{enumerable:!0,get:function(){return eP.ValueErrorIterator}});K$(QA(),S1)});var qf=y0((exports,module)=>{"use strict";var go=Object.create,Le=Object.defineProperty,ho=Object.getOwnPropertyDescriptor,bo=Object.getOwnPropertyNames,yo=Object.getPrototypeOf,wo=Object.prototype.hasOwnProperty,i=o((e,t)=>Le(e,"name",{value:t,configurable:!0}),"i"),k=o((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),"k"),vo=o((e,t)=>{for(var r in t)Le(e,r,{get:t[r],enumerable:!0})},"vo"),kn=o((e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of bo(t))!wo.call(e,s)&&s!==r&&Le(e,s,{get:()=>t[s],enumerable:!(n=ho(t,s))||n.enumerable});return e},"kn"),Rt=o((e,t,r)=>(r=e!=null?go(yo(e)):{},kn(t||!e||!e.__esModule?Le(r,"default",{value:e,enumerable:!0}):r,e)),"Rt"),So=o(e=>kn(Le({},"__esModule",{value:!0}),e),"So"),gr=k(e=>{var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");e.encode=function(r){if(0<=r&&r<t.length)return t[r];throw new TypeError("Must be between 0 and 63: "+r)},e.decode=function(r){var n=65,s=90,l=97,a=122,f=48,c=57,u=43,d=47,h=26,m=52;return n<=r&&r<=s?r-n:l<=r&&r<=a?r-l+h:f<=r&&r<=c?r-f+m:r==u?62:r==d?63:-1}}),rn=k(e=>{var t=gr(),r=5,n=1<<r,s=n-1,l=n;function a(c){return c<0?(-c<<1)+1:(c<<1)+0}o(a,"bs"),i(a,"toVLQSigned");function f(c){var u=(c&1)===1,d=c>>1;return u?-d:d}o(f,"ys"),i(f,"fromVLQSigned"),e.encode=i(function(c){var u="",d,h=a(c);do d=h&s,h>>>=r,h>0&&(d|=l),u+=t.encode(d);while(h>0);return u},"base64VLQ_encode"),e.decode=i(function(c,u,d){var h=c.length,m=0,p=0,v,x;do{if(u>=h)throw new Error("Expected more digits in base 64 VLQ value.");if(x=t.decode(c.charCodeAt(u++)),x===-1)throw new Error("Invalid base64 digit: "+c.charAt(u-1));v=!!(x&l),x&=s,m=m+(x<<p),p+=r}while(v);d.value=f(m),d.rest=u},"base64VLQ_decode")}),Se=k(e=>{function t(D,R,V){if(R in D)return D[R];if(arguments.length===3)return V;throw new Error('"'+R+'" is a required argument.')}o(t,"ws"),i(t,"getArg"),e.getArg=t;var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function s(D){var R=D.match(r);return R?{scheme:R[1],auth:R[2],host:R[3],port:R[4],path:R[5]}:null}o(s,"Ve"),i(s,"urlParse"),e.urlParse=s;function l(D){var R="";return D.scheme&&(R+=D.scheme+":"),R+="//",D.auth&&(R+=D.auth+"@"),D.host&&(R+=D.host),D.port&&(R+=":"+D.port),D.path&&(R+=D.path),R}o(l,"we"),i(l,"urlGenerate"),e.urlGenerate=l;function a(D){var R=D,V=s(D);if(V){if(!V.path)return D;R=V.path}for(var de=e.isAbsolute(R),ve=R.split(/\/+/),n0,d0=0,r0=ve.length-1;r0>=0;r0--)n0=ve[r0],n0==="."?ve.splice(r0,1):n0===".."?d0++:d0>0&&(n0===""?(ve.splice(r0+1,d0),d0=0):(ve.splice(r0,2),d0--));return R=ve.join("/"),R===""&&(R=de?"/":"."),V?(V.path=R,l(V)):R}o(a,"on"),i(a,"normalize"),e.normalize=a;function f(D,R){D===""&&(D="."),R===""&&(R=".");var V=s(R),de=s(D);if(de&&(D=de.path||"/"),V&&!V.scheme)return de&&(V.scheme=de.scheme),l(V);if(V||R.match(n))return R;if(de&&!de.host&&!de.path)return de.host=R,l(de);var ve=R.charAt(0)==="/"?R:a(D.replace(/\/+$/,"")+"/"+R);return de?(de.path=ve,l(de)):ve}o(f,"Sr"),i(f,"join"),e.join=f,e.isAbsolute=function(D){return D.charAt(0)==="/"||r.test(D)};function c(D,R){D===""&&(D="."),D=D.replace(/\/$/,"");for(var V=0;R.indexOf(D+"/")!==0;){var de=D.lastIndexOf("/");if(de<0||(D=D.slice(0,de),D.match(/^([^\/]+:\/)?\/*$/)))return R;++V}return Array(V+1).join("../")+R.substr(D.length+1)}o(c,"Ss"),i(c,"relative"),e.relative=c;var u=function(){var D=Object.create(null);return!("__proto__"in D)}();function d(D){return D}o(d,"Mr"),i(d,"identity");function h(D){return p(D)?"$"+D:D}o(h,"Es"),i(h,"toSetString"),e.toSetString=u?d:h;function m(D){return p(D)?D.slice(1):D}o(m,"Ms"),i(m,"fromSetString"),e.fromSetString=u?d:m;function p(D){if(!D)return!1;var R=D.length;if(R<9||D.charCodeAt(R-1)!==95||D.charCodeAt(R-2)!==95||D.charCodeAt(R-3)!==111||D.charCodeAt(R-4)!==116||D.charCodeAt(R-5)!==111||D.charCodeAt(R-6)!==114||D.charCodeAt(R-7)!==112||D.charCodeAt(R-8)!==95||D.charCodeAt(R-9)!==95)return!1;for(var V=R-10;V>=0;V--)if(D.charCodeAt(V)!==36)return!1;return!0}o(p,"Tr"),i(p,"isProtoString");function v(D,R,V){var de=E(D.source,R.source);return de!==0||(de=D.originalLine-R.originalLine,de!==0)||(de=D.originalColumn-R.originalColumn,de!==0||V)||(de=D.generatedColumn-R.generatedColumn,de!==0)||(de=D.generatedLine-R.generatedLine,de!==0)?de:E(D.name,R.name)}o(v,"Ts"),i(v,"compareByOriginalPositions"),e.compareByOriginalPositions=v;function x(D,R,V){var de=D.generatedLine-R.generatedLine;return de!==0||(de=D.generatedColumn-R.generatedColumn,de!==0||V)||(de=E(D.source,R.source),de!==0)||(de=D.originalLine-R.originalLine,de!==0)||(de=D.originalColumn-R.originalColumn,de!==0)?de:E(D.name,R.name)}o(x,"xs"),i(x,"compareByGeneratedPositionsDeflated"),e.compareByGeneratedPositionsDeflated=x;function E(D,R){return D===R?0:D===null?1:R===null?-1:D>R?1:-1}o(E,"ve"),i(E,"strcmp");function I(D,R){var V=D.generatedLine-R.generatedLine;return V!==0||(V=D.generatedColumn-R.generatedColumn,V!==0)||(V=E(D.source,R.source),V!==0)||(V=D.originalLine-R.originalLine,V!==0)||(V=D.originalColumn-R.originalColumn,V!==0)?V:E(D.name,R.name)}o(I,"Is"),i(I,"compareByGeneratedPositionsInflated"),e.compareByGeneratedPositionsInflated=I;function A(D){return JSON.parse(D.replace(/^\)]}'[^\n]*\n/,""))}o(A,"Ls"),i(A,"parseSourceMapInput"),e.parseSourceMapInput=A;function L(D,R,V){if(R=R||"",D&&(D[D.length-1]!=="/"&&R[0]!=="/"&&(D+="/"),R=D+R),V){var de=s(V);if(!de)throw new Error("sourceMapURL could not be parsed");if(de.path){var ve=de.path.lastIndexOf("/");ve>=0&&(de.path=de.path.substring(0,ve+1))}R=f(l(de),R)}return a(R)}o(L,"Ns"),i(L,"computeSourceURL"),e.computeSourceURL=L}),ln=k(e=>{var t=Se(),r=Object.prototype.hasOwnProperty,n=typeof Map<"u";function s(){this._array=[],this._set=n?new Map:Object.create(null)}o(s,"Q"),i(s,"ArraySet"),s.fromArray=i(function(l,a){for(var f=new s,c=0,u=l.length;c<u;c++)f.add(l[c],a);return f},"ArraySet_fromArray"),s.prototype.size=i(function(){return n?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size"),s.prototype.add=i(function(l,a){var f=n?l:t.toSetString(l),c=n?this.has(l):r.call(this._set,f),u=this._array.length;(!c||a)&&this._array.push(l),c||(n?this._set.set(l,u):this._set[f]=u)},"ArraySet_add"),s.prototype.has=i(function(l){if(n)return this._set.has(l);var a=t.toSetString(l);return r.call(this._set,a)},"ArraySet_has"),s.prototype.indexOf=i(function(l){if(n){var a=this._set.get(l);if(a>=0)return a}else{var f=t.toSetString(l);if(r.call(this._set,f))return this._set[f]}throw new Error('"'+l+'" is not in the set.')},"ArraySet_indexOf"),s.prototype.at=i(function(l){if(l>=0&&l<this._array.length)return this._array[l];throw new Error("No element indexed by "+l)},"ArraySet_at"),s.prototype.toArray=i(function(){return this._array.slice()},"ArraySet_toArray"),e.ArraySet=s}),Nr=k(e=>{var t=Se();function r(s,l){var a=s.generatedLine,f=l.generatedLine,c=s.generatedColumn,u=l.generatedColumn;return f>a||f==a&&u>=c||t.compareByGeneratedPositionsInflated(s,l)<=0}o(r,"ks"),i(r,"generatedPositionAfter");function n(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}o(n,"vt"),i(n,"MappingList"),n.prototype.unsortedForEach=i(function(s,l){this._array.forEach(s,l)},"MappingList_forEach"),n.prototype.add=i(function(s){r(this._last,s)?(this._last=s,this._array.push(s)):(this._sorted=!1,this._array.push(s))},"MappingList_add"),n.prototype.toArray=i(function(){return this._sorted||(this._array.sort(t.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray"),e.MappingList=n}),un=k(e=>{var t=rn(),r=Se(),n=ln().ArraySet,s=Nr().MappingList;function l(a){a||(a={}),this._file=r.getArg(a,"file",null),this._sourceRoot=r.getArg(a,"sourceRoot",null),this._skipValidation=r.getArg(a,"skipValidation",!1),this._sources=new n,this._names=new n,this._mappings=new s,this._sourcesContents=null}o(l,"D"),i(l,"SourceMapGenerator"),l.prototype._version=3,l.fromSourceMap=i(function(a){var f=a.sourceRoot,c=new l({file:a.file,sourceRoot:f});return a.eachMapping(function(u){var d={generated:{line:u.generatedLine,column:u.generatedColumn}};u.source!=null&&(d.source=u.source,f!=null&&(d.source=r.relative(f,d.source)),d.original={line:u.originalLine,column:u.originalColumn},u.name!=null&&(d.name=u.name)),c.addMapping(d)}),a.sources.forEach(function(u){var d=u;f!==null&&(d=r.relative(f,u)),c._sources.has(d)||c._sources.add(d);var h=a.sourceContentFor(u);h!=null&&c.setSourceContent(u,h)}),c},"SourceMapGenerator_fromSourceMap"),l.prototype.addMapping=i(function(a){var f=r.getArg(a,"generated"),c=r.getArg(a,"original",null),u=r.getArg(a,"source",null),d=r.getArg(a,"name",null);this._skipValidation||this._validateMapping(f,c,u,d),u!=null&&(u=String(u),this._sources.has(u)||this._sources.add(u)),d!=null&&(d=String(d),this._names.has(d)||this._names.add(d)),this._mappings.add({generatedLine:f.line,generatedColumn:f.column,originalLine:c!=null&&c.line,originalColumn:c!=null&&c.column,source:u,name:d})},"SourceMapGenerator_addMapping"),l.prototype.setSourceContent=i(function(a,f){var c=a;this._sourceRoot!=null&&(c=r.relative(this._sourceRoot,c)),f!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[r.toSetString(c)]=f):this._sourcesContents&&(delete this._sourcesContents[r.toSetString(c)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent"),l.prototype.applySourceMap=i(function(a,f,c){var u=f;if(f==null){if(a.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);u=a.file}var d=this._sourceRoot;d!=null&&(u=r.relative(d,u));var h=new n,m=new n;this._mappings.unsortedForEach(function(p){if(p.source===u&&p.originalLine!=null){var v=a.originalPositionFor({line:p.originalLine,column:p.originalColumn});v.source!=null&&(p.source=v.source,c!=null&&(p.source=r.join(c,p.source)),d!=null&&(p.source=r.relative(d,p.source)),p.originalLine=v.line,p.originalColumn=v.column,v.name!=null&&(p.name=v.name))}var x=p.source;x!=null&&!h.has(x)&&h.add(x);var E=p.name;E!=null&&!m.has(E)&&m.add(E)},this),this._sources=h,this._names=m,a.sources.forEach(function(p){var v=a.sourceContentFor(p);v!=null&&(c!=null&&(p=r.join(c,p)),d!=null&&(p=r.relative(d,p)),this.setSourceContent(p,v))},this)},"SourceMapGenerator_applySourceMap"),l.prototype._validateMapping=i(function(a,f,c,u){if(f&&typeof f.line!="number"&&typeof f.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(a&&"line"in a&&"column"in a&&a.line>0&&a.column>=0&&!f&&!c&&!u)){if(a&&"line"in a&&"column"in a&&f&&"line"in f&&"column"in f&&a.line>0&&a.column>=0&&f.line>0&&f.column>=0&&c)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:a,source:c,original:f,name:u}))}},"SourceMapGenerator_validateMapping"),l.prototype._serializeMappings=i(function(){for(var a=0,f=1,c=0,u=0,d=0,h=0,m="",p,v,x,E,I=this._mappings.toArray(),A=0,L=I.length;A<L;A++){if(v=I[A],p="",v.generatedLine!==f)for(a=0;v.generatedLine!==f;)p+=";",f++;else if(A>0){if(!r.compareByGeneratedPositionsInflated(v,I[A-1]))continue;p+=","}p+=t.encode(v.generatedColumn-a),a=v.generatedColumn,v.source!=null&&(E=this._sources.indexOf(v.source),p+=t.encode(E-h),h=E,p+=t.encode(v.originalLine-1-u),u=v.originalLine-1,p+=t.encode(v.originalColumn-c),c=v.originalColumn,v.name!=null&&(x=this._names.indexOf(v.name),p+=t.encode(x-d),d=x)),m+=p}return m},"SourceMapGenerator_serializeMappings"),l.prototype._generateSourcesContent=i(function(a,f){return a.map(function(c){if(!this._sourcesContents)return null;f!=null&&(c=r.relative(f,c));var u=r.toSetString(c);return Object.prototype.hasOwnProperty.call(this._sourcesContents,u)?this._sourcesContents[u]:null},this)},"SourceMapGenerator_generateSourcesContent"),l.prototype.toJSON=i(function(){var a={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(a.file=this._file),this._sourceRoot!=null&&(a.sourceRoot=this._sourceRoot),this._sourcesContents&&(a.sourcesContent=this._generateSourcesContent(a.sources,a.sourceRoot)),a},"SourceMapGenerator_toJSON"),l.prototype.toString=i(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString"),e.SourceMapGenerator=l}),Pr=k(e=>{e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2;function t(r,n,s,l,a,f){var c=Math.floor((n-r)/2)+r,u=a(s,l[c],!0);return u===0?c:u>0?n-c>1?t(c,n,s,l,a,f):f==e.LEAST_UPPER_BOUND?n<l.length?n:-1:c:c-r>1?t(r,c,s,l,a,f):f==e.LEAST_UPPER_BOUND?c:r<0?-1:r}o(t,"cn"),i(t,"recursiveSearch"),e.search=i(function(r,n,s,l){if(n.length===0)return-1;var a=t(-1,n.length,r,n,s,l||e.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&s(n[a],n[a-1],!0)===0;)--a;return a},"search")}),Ar=k(e=>{function t(s,l,a){var f=s[l];s[l]=s[a],s[a]=f}o(t,"dn"),i(t,"swap");function r(s,l){return Math.round(s+Math.random()*(l-s))}o(r,"Cs"),i(r,"randomIntInRange");function n(s,l,a,f){if(a<f){var c=r(a,f),u=a-1;t(s,c,f);for(var d=s[f],h=a;h<f;h++)l(s[h],d)<=0&&(u+=1,t(s,u,h));t(s,u+1,h);var m=u+1;n(s,l,a,m-1),n(s,l,m+1,f)}}o(n,"_n"),i(n,"doQuickSort"),e.quickSort=function(s,l){n(s,l,0,s.length-1)}}),Rr=k(e=>{var t=Se(),r=Pr(),n=ln().ArraySet,s=rn(),l=Ar().quickSort;function a(d,h){var m=d;return typeof d=="string"&&(m=t.parseSourceMapInput(d)),m.sections!=null?new u(m,h):new f(m,h)}o(a,"E"),i(a,"SourceMapConsumer"),a.fromSourceMap=function(d,h){return f.fromSourceMap(d,h)},a.prototype._version=3,a.prototype.__generatedMappings=null,Object.defineProperty(a.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),a.prototype.__originalMappings=null,Object.defineProperty(a.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),a.prototype._charIsMappingSeparator=i(function(d,h){var m=d.charAt(h);return m===";"||m===","},"SourceMapConsumer_charIsMappingSeparator"),a.prototype._parseMappings=i(function(d,h){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings"),a.GENERATED_ORDER=1,a.ORIGINAL_ORDER=2,a.GREATEST_LOWER_BOUND=1,a.LEAST_UPPER_BOUND=2,a.prototype.eachMapping=i(function(d,h,m){var p=h||null,v=m||a.GENERATED_ORDER,x;switch(v){case a.GENERATED_ORDER:x=this._generatedMappings;break;case a.ORIGINAL_ORDER:x=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var E=this.sourceRoot;x.map(function(I){var A=I.source===null?null:this._sources.at(I.source);return A=t.computeSourceURL(E,A,this._sourceMapURL),{source:A,generatedLine:I.generatedLine,generatedColumn:I.generatedColumn,originalLine:I.originalLine,originalColumn:I.originalColumn,name:I.name===null?null:this._names.at(I.name)}},this).forEach(d,p)},"SourceMapConsumer_eachMapping"),a.prototype.allGeneratedPositionsFor=i(function(d){var h=t.getArg(d,"line"),m={source:t.getArg(d,"source"),originalLine:h,originalColumn:t.getArg(d,"column",0)};if(m.source=this._findSourceIndex(m.source),m.source<0)return[];var p=[],v=this._findMapping(m,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,r.LEAST_UPPER_BOUND);if(v>=0){var x=this._originalMappings[v];if(d.column===void 0)for(var E=x.originalLine;x&&x.originalLine===E;)p.push({line:t.getArg(x,"generatedLine",null),column:t.getArg(x,"generatedColumn",null),lastColumn:t.getArg(x,"lastGeneratedColumn",null)}),x=this._originalMappings[++v];else for(var I=x.originalColumn;x&&x.originalLine===h&&x.originalColumn==I;)p.push({line:t.getArg(x,"generatedLine",null),column:t.getArg(x,"generatedColumn",null),lastColumn:t.getArg(x,"lastGeneratedColumn",null)}),x=this._originalMappings[++v]}return p},"SourceMapConsumer_allGeneratedPositionsFor"),e.SourceMapConsumer=a;function f(d,h){var m=d;typeof d=="string"&&(m=t.parseSourceMapInput(d));var p=t.getArg(m,"version"),v=t.getArg(m,"sources"),x=t.getArg(m,"names",[]),E=t.getArg(m,"sourceRoot",null),I=t.getArg(m,"sourcesContent",null),A=t.getArg(m,"mappings"),L=t.getArg(m,"file",null);if(p!=this._version)throw new Error("Unsupported version: "+p);E&&(E=t.normalize(E)),v=v.map(String).map(t.normalize).map(function(D){return E&&t.isAbsolute(E)&&t.isAbsolute(D)?t.relative(E,D):D}),this._names=n.fromArray(x.map(String),!0),this._sources=n.fromArray(v,!0),this._absoluteSources=this._sources.toArray().map(function(D){return t.computeSourceURL(E,D,h)}),this.sourceRoot=E,this.sourcesContent=I,this._mappings=A,this._sourceMapURL=h,this.file=L}o(f,"L"),i(f,"BasicSourceMapConsumer"),f.prototype=Object.create(a.prototype),f.prototype.consumer=a,f.prototype._findSourceIndex=function(d){var h=d;if(this.sourceRoot!=null&&(h=t.relative(this.sourceRoot,h)),this._sources.has(h))return this._sources.indexOf(h);var m;for(m=0;m<this._absoluteSources.length;++m)if(this._absoluteSources[m]==d)return m;return-1},f.fromSourceMap=i(function(d,h){var m=Object.create(f.prototype),p=m._names=n.fromArray(d._names.toArray(),!0),v=m._sources=n.fromArray(d._sources.toArray(),!0);m.sourceRoot=d._sourceRoot,m.sourcesContent=d._generateSourcesContent(m._sources.toArray(),m.sourceRoot),m.file=d._file,m._sourceMapURL=h,m._absoluteSources=m._sources.toArray().map(function(V){return t.computeSourceURL(m.sourceRoot,V,h)});for(var x=d._mappings.toArray().slice(),E=m.__generatedMappings=[],I=m.__originalMappings=[],A=0,L=x.length;A<L;A++){var D=x[A],R=new c;R.generatedLine=D.generatedLine,R.generatedColumn=D.generatedColumn,D.source&&(R.source=v.indexOf(D.source),R.originalLine=D.originalLine,R.originalColumn=D.originalColumn,D.name&&(R.name=p.indexOf(D.name)),I.push(R)),E.push(R)}return l(m.__originalMappings,t.compareByOriginalPositions),m},"SourceMapConsumer_fromSourceMap"),f.prototype._version=3,Object.defineProperty(f.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function c(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}o(c,"Fr"),i(c,"Mapping"),f.prototype._parseMappings=i(function(d,h){for(var m=1,p=0,v=0,x=0,E=0,I=0,A=d.length,L=0,D={},R={},V=[],de=[],ve,n0,d0,r0,m0;L<A;)if(d.charAt(L)===";")m++,L++,p=0;else if(d.charAt(L)===",")L++;else{for(ve=new c,ve.generatedLine=m,r0=L;r0<A&&!this._charIsMappingSeparator(d,r0);r0++);if(n0=d.slice(L,r0),d0=D[n0],d0)L+=n0.length;else{for(d0=[];L<r0;)s.decode(d,L,R),m0=R.value,L=R.rest,d0.push(m0);if(d0.length===2)throw new Error("Found a source, but no line and column");if(d0.length===3)throw new Error("Found a source and line, but no column");D[n0]=d0}ve.generatedColumn=p+d0[0],p=ve.generatedColumn,d0.length>1&&(ve.source=E+d0[1],E+=d0[1],ve.originalLine=v+d0[2],v=ve.originalLine,ve.originalLine+=1,ve.originalColumn=x+d0[3],x=ve.originalColumn,d0.length>4&&(ve.name=I+d0[4],I+=d0[4])),de.push(ve),typeof ve.originalLine=="number"&&V.push(ve)}l(de,t.compareByGeneratedPositionsDeflated),this.__generatedMappings=de,l(V,t.compareByOriginalPositions),this.__originalMappings=V},"SourceMapConsumer_parseMappings"),f.prototype._findMapping=i(function(d,h,m,p,v,x){if(d[m]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+d[m]);if(d[p]<0)throw new TypeError("Column must be greater than or equal to 0, got "+d[p]);return r.search(d,h,v,x)},"SourceMapConsumer_findMapping"),f.prototype.computeColumnSpans=i(function(){for(var d=0;d<this._generatedMappings.length;++d){var h=this._generatedMappings[d];if(d+1<this._generatedMappings.length){var m=this._generatedMappings[d+1];if(h.generatedLine===m.generatedLine){h.lastGeneratedColumn=m.generatedColumn-1;continue}}h.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans"),f.prototype.originalPositionFor=i(function(d){var h={generatedLine:t.getArg(d,"line"),generatedColumn:t.getArg(d,"column")},m=this._findMapping(h,this._generatedMappings,"generatedLine","generatedColumn",t.compareByGeneratedPositionsDeflated,t.getArg(d,"bias",a.GREATEST_LOWER_BOUND));if(m>=0){var p=this._generatedMappings[m];if(p.generatedLine===h.generatedLine){var v=t.getArg(p,"source",null);v!==null&&(v=this._sources.at(v),v=t.computeSourceURL(this.sourceRoot,v,this._sourceMapURL));var x=t.getArg(p,"name",null);return x!==null&&(x=this._names.at(x)),{source:v,line:t.getArg(p,"originalLine",null),column:t.getArg(p,"originalColumn",null),name:x}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor"),f.prototype.hasContentsOfAllSources=i(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(d){return d==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources"),f.prototype.sourceContentFor=i(function(d,h){if(!this.sourcesContent)return null;var m=this._findSourceIndex(d);if(m>=0)return this.sourcesContent[m];var p=d;this.sourceRoot!=null&&(p=t.relative(this.sourceRoot,p));var v;if(this.sourceRoot!=null&&(v=t.urlParse(this.sourceRoot))){var x=p.replace(/^file:\/\//,"");if(v.scheme=="file"&&this._sources.has(x))return this.sourcesContent[this._sources.indexOf(x)];if((!v.path||v.path=="/")&&this._sources.has("/"+p))return this.sourcesContent[this._sources.indexOf("/"+p)]}if(h)return null;throw new Error('"'+p+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor"),f.prototype.generatedPositionFor=i(function(d){var h=t.getArg(d,"source");if(h=this._findSourceIndex(h),h<0)return{line:null,column:null,lastColumn:null};var m={source:h,originalLine:t.getArg(d,"line"),originalColumn:t.getArg(d,"column")},p=this._findMapping(m,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,t.getArg(d,"bias",a.GREATEST_LOWER_BOUND));if(p>=0){var v=this._originalMappings[p];if(v.source===m.source)return{line:t.getArg(v,"generatedLine",null),column:t.getArg(v,"generatedColumn",null),lastColumn:t.getArg(v,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor"),e.BasicSourceMapConsumer=f;function u(d,h){var m=d;typeof d=="string"&&(m=t.parseSourceMapInput(d));var p=t.getArg(m,"version"),v=t.getArg(m,"sections");if(p!=this._version)throw new Error("Unsupported version: "+p);this._sources=new n,this._names=new n;var x={line:-1,column:0};this._sections=v.map(function(E){if(E.url)throw new Error("Support for url field in sections not implemented.");var I=t.getArg(E,"offset"),A=t.getArg(I,"line"),L=t.getArg(I,"column");if(A<x.line||A===x.line&&L<x.column)throw new Error("Section offsets must be ordered and non-overlapping.");return x=I,{generatedOffset:{generatedLine:A+1,generatedColumn:L+1},consumer:new a(t.getArg(E,"map"),h)}})}o(u,"V"),i(u,"IndexedSourceMapConsumer"),u.prototype=Object.create(a.prototype),u.prototype.constructor=a,u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){for(var d=[],h=0;h<this._sections.length;h++)for(var m=0;m<this._sections[h].consumer.sources.length;m++)d.push(this._sections[h].consumer.sources[m]);return d}}),u.prototype.originalPositionFor=i(function(d){var h={generatedLine:t.getArg(d,"line"),generatedColumn:t.getArg(d,"column")},m=r.search(h,this._sections,function(v,x){var E=v.generatedLine-x.generatedOffset.generatedLine;return E||v.generatedColumn-x.generatedOffset.generatedColumn}),p=this._sections[m];return p?p.consumer.originalPositionFor({line:h.generatedLine-(p.generatedOffset.generatedLine-1),column:h.generatedColumn-(p.generatedOffset.generatedLine===h.generatedLine?p.generatedOffset.generatedColumn-1:0),bias:d.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor"),u.prototype.hasContentsOfAllSources=i(function(){return this._sections.every(function(d){return d.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources"),u.prototype.sourceContentFor=i(function(d,h){for(var m=0;m<this._sections.length;m++){var p=this._sections[m],v=p.consumer.sourceContentFor(d,!0);if(v)return v}if(h)return null;throw new Error('"'+d+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor"),u.prototype.generatedPositionFor=i(function(d){for(var h=0;h<this._sections.length;h++){var m=this._sections[h];if(m.consumer._findSourceIndex(t.getArg(d,"source"))!==-1){var p=m.consumer.generatedPositionFor(d);if(p){var v={line:p.line+(m.generatedOffset.generatedLine-1),column:p.column+(m.generatedOffset.generatedLine===p.line?m.generatedOffset.generatedColumn-1:0)};return v}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor"),u.prototype._parseMappings=i(function(d,h){this.__generatedMappings=[],this.__originalMappings=[];for(var m=0;m<this._sections.length;m++)for(var p=this._sections[m],v=p.consumer._generatedMappings,x=0;x<v.length;x++){var E=v[x],I=p.consumer._sources.at(E.source);I=t.computeSourceURL(p.consumer.sourceRoot,I,this._sourceMapURL),this._sources.add(I),I=this._sources.indexOf(I);var A=null;E.name&&(A=p.consumer._names.at(E.name),this._names.add(A),A=this._names.indexOf(A));var L={source:I,generatedLine:E.generatedLine+(p.generatedOffset.generatedLine-1),generatedColumn:E.generatedColumn+(p.generatedOffset.generatedLine===E.generatedLine?p.generatedOffset.generatedColumn-1:0),originalLine:E.originalLine,originalColumn:E.originalColumn,name:A};this.__generatedMappings.push(L),typeof L.originalLine=="number"&&this.__originalMappings.push(L)}l(this.__generatedMappings,t.compareByGeneratedPositionsDeflated),l(this.__originalMappings,t.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings"),e.IndexedSourceMapConsumer=u}),Dr=k(e=>{var t=un().SourceMapGenerator,r=Se(),n=/(\r?\n)/,s=10,l="$$$isSourceNode$$$";function a(f,c,u,d,h){this.children=[],this.sourceContents={},this.line=f!=null?f:null,this.column=c!=null?c:null,this.source=u!=null?u:null,this.name=h!=null?h:null,this[l]=!0,d!=null&&this.add(d)}o(a,"R"),i(a,"SourceNode"),a.fromStringWithSourceMap=i(function(f,c,u){var d=new a,h=f.split(n),m=0,p=i(function(){var A=D(),L=D()||"";return A+L;function D(){return m<h.length?h[m++]:void 0}},"shiftNextLine"),v=1,x=0,E=null;return c.eachMapping(function(A){if(E!==null)if(v<A.generatedLine)I(E,p()),v++,x=0;else{var L=h[m]||"",D=L.substr(0,A.generatedColumn-x);h[m]=L.substr(A.generatedColumn-x),x=A.generatedColumn,I(E,D),E=A;return}for(;v<A.generatedLine;)d.add(p()),v++;if(x<A.generatedColumn){var L=h[m]||"";d.add(L.substr(0,A.generatedColumn)),h[m]=L.substr(A.generatedColumn),x=A.generatedColumn}E=A},this),m<h.length&&(E&&I(E,p()),d.add(h.splice(m).join(""))),c.sources.forEach(function(A){var L=c.sourceContentFor(A);L!=null&&(u!=null&&(A=r.join(u,A)),d.setSourceContent(A,L))}),d;function I(A,L){if(A===null||A.source===void 0)d.add(L);else{var D=u?r.join(u,A.source):A.source;d.add(new a(A.originalLine,A.originalColumn,D,L,A.name))}}},"SourceNode_fromStringWithSourceMap"),a.prototype.add=i(function(f){if(Array.isArray(f))f.forEach(function(c){this.add(c)},this);else if(f[l]||typeof f=="string")f&&this.children.push(f);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+f);return this},"SourceNode_add"),a.prototype.prepend=i(function(f){if(Array.isArray(f))for(var c=f.length-1;c>=0;c--)this.prepend(f[c]);else if(f[l]||typeof f=="string")this.children.unshift(f);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+f);return this},"SourceNode_prepend"),a.prototype.walk=i(function(f){for(var c,u=0,d=this.children.length;u<d;u++)c=this.children[u],c[l]?c.walk(f):c!==""&&f(c,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk"),a.prototype.join=i(function(f){var c,u,d=this.children.length;if(d>0){for(c=[],u=0;u<d-1;u++)c.push(this.children[u]),c.push(f);c.push(this.children[u]),this.children=c}return this},"SourceNode_join"),a.prototype.replaceRight=i(function(f,c){var u=this.children[this.children.length-1];return u[l]?u.replaceRight(f,c):typeof u=="string"?this.children[this.children.length-1]=u.replace(f,c):this.children.push("".replace(f,c)),this},"SourceNode_replaceRight"),a.prototype.setSourceContent=i(function(f,c){this.sourceContents[r.toSetString(f)]=c},"SourceNode_setSourceContent"),a.prototype.walkSourceContents=i(function(f){for(var c=0,u=this.children.length;c<u;c++)this.children[c][l]&&this.children[c].walkSourceContents(f);for(var d=Object.keys(this.sourceContents),c=0,u=d.length;c<u;c++)f(r.fromSetString(d[c]),this.sourceContents[d[c]])},"SourceNode_walkSourceContents"),a.prototype.toString=i(function(){var f="";return this.walk(function(c){f+=c}),f},"SourceNode_toString"),a.prototype.toStringWithSourceMap=i(function(f){var c={code:"",line:1,column:0},u=new t(f),d=!1,h=null,m=null,p=null,v=null;return this.walk(function(x,E){c.code+=x,E.source!==null&&E.line!==null&&E.column!==null?((h!==E.source||m!==E.line||p!==E.column||v!==E.name)&&u.addMapping({source:E.source,original:{line:E.line,column:E.column},generated:{line:c.line,column:c.column},name:E.name}),h=E.source,m=E.line,p=E.column,v=E.name,d=!0):d&&(u.addMapping({generated:{line:c.line,column:c.column}}),h=null,d=!1);for(var I=0,A=x.length;I<A;I++)x.charCodeAt(I)===s?(c.line++,c.column=0,I+1===A?(h=null,d=!1):d&&u.addMapping({source:E.source,original:{line:E.line,column:E.column},generated:{line:c.line,column:c.column},name:E.name})):c.column++}),this.walkSourceContents(function(x,E){u.setSourceContent(x,E)}),{code:c.code,map:u}},"SourceNode_toStringWithSourceMap"),e.SourceNode=a}),Br=k(e=>{e.SourceMapGenerator=un().SourceMapGenerator,e.SourceMapConsumer=Rr().SourceMapConsumer,e.SourceNode=Dr().SourceNode}),Ur=k((e,t)=>{var r=Object.prototype.toString,n=typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function s(c){return r.call(c).slice(8,-1)==="ArrayBuffer"}o(s,"Bs"),i(s,"isArrayBuffer");function l(c,u,d){u>>>=0;var h=c.byteLength-u;if(h<0)throw new RangeError("'offset' is out of bounds");if(d===void 0)d=h;else if(d>>>=0,d>h)throw new RangeError("'length' is out of bounds");return n?Buffer.from(c.slice(u,u+d)):new Buffer(new Uint8Array(c.slice(u,u+d)))}o(l,"Ws"),i(l,"fromArrayBuffer");function a(c,u){if((typeof u!="string"||u==="")&&(u="utf8"),!Buffer.isEncoding(u))throw new TypeError('"encoding" must be a valid string encoding');return n?Buffer.from(c,u):new Buffer(c,u)}o(a,"Us"),i(a,"fromString");function f(c,u,d){if(typeof c=="number")throw new TypeError('"value" argument must not be a number');return s(c)?l(c,u,d):typeof c=="string"?a(c,u):n?Buffer.from(c):new Buffer(c)}o(f,"zs"),i(f,"bufferFrom"),t.exports=f}),Gr=k((e,t)=>{var r=Br().SourceMapConsumer,n=require("path"),s;try{s=require("fs"),(!s.existsSync||!s.readFileSync)&&(s=null)}catch{}var l=Ur();function a(ce,Ee){return ce.require(Ee)}o(a,"zr"),i(a,"dynamicRequire");var f=!1,c=!1,u=!1,d="auto",h={},m={},p=/^data:application\/json[^,]+base64,/,v=[],x=[];function E(){return d==="browser"?!0:d==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}o(E,"yn"),i(E,"isInBrowser");function I(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}o(I,"js"),i(I,"hasGlobalProcessEventEmitter");function A(){return typeof process=="object"&&process!==null?process.version:""}o(A,"Zs"),i(A,"globalProcessVersion");function L(){if(typeof process=="object"&&process!==null)return process.stderr}o(L,"$s"),i(L,"globalProcessStderr");function D(ce){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(ce)}o(D,"Gs"),i(D,"globalProcessExit");function R(ce){return function(Ee){for(var C0=0;C0<ce.length;C0++){var z0=ce[C0](Ee);if(z0)return z0}return null}}o(R,"xt"),i(R,"handlerExec");var V=R(v);v.push(function(ce){if(ce=ce.trim(),/^file:/.test(ce)&&(ce=ce.replace(/file:\/\/\/(\w:)?/,function(z0,O0){return O0?"":"/"})),ce in h)return h[ce];var Ee="";try{if(s)s.existsSync(ce)&&(Ee=s.readFileSync(ce,"utf8"));else{var C0=new XMLHttpRequest;C0.open("GET",ce,!1),C0.send(null),C0.readyState===4&&C0.status===200&&(Ee=C0.responseText)}}catch{}return h[ce]=Ee});function de(ce,Ee){if(!ce)return Ee;var C0=n.dirname(ce),z0=/^\w+:\/\/[^\/]*/.exec(C0),O0=z0?z0[0]:"",v0=C0.slice(O0.length);return O0&&/^\/\w\:/.test(v0)?(O0+="/",O0+n.resolve(C0.slice(O0.length),Ee).replace(/\\/g,"/")):O0+n.resolve(C0.slice(O0.length),Ee)}o(de,"hn"),i(de,"supportRelativeURL");function ve(ce){var Ee;if(E())try{var C0=new XMLHttpRequest;C0.open("GET",ce,!1),C0.send(null),Ee=C0.readyState===4?C0.responseText:null;var z0=C0.getResponseHeader("SourceMap")||C0.getResponseHeader("X-SourceMap");if(z0)return z0}catch{}Ee=V(ce);for(var O0=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,v0,fr;fr=O0.exec(Ee);)v0=fr;return v0?v0[1]:null}o(ve,"Ks"),i(ve,"retrieveSourceMapURL");var n0=R(x);x.push(function(ce){var Ee=ve(ce);if(!Ee)return null;var C0;if(p.test(Ee)){var z0=Ee.slice(Ee.indexOf(",")+1);C0=l(z0,"base64").toString(),Ee=ce}else Ee=de(ce,Ee),C0=V(Ee);return C0?{url:Ee,map:C0}:null});function d0(ce){var Ee=m[ce.source];if(!Ee){var C0=n0(ce.source);C0?(Ee=m[ce.source]={url:C0.url,map:new r(C0.map)},Ee.map.sourcesContent&&Ee.map.sources.forEach(function(O0,v0){var fr=Ee.map.sourcesContent[v0];if(fr){var ue=de(Ee.url,O0);h[ue]=fr}})):Ee=m[ce.source]={url:null,map:null}}if(Ee&&Ee.map&&typeof Ee.map.originalPositionFor=="function"){var z0=Ee.map.originalPositionFor(ce);if(z0.source!==null)return z0.source=de(Ee.url,z0.source),z0}return ce}o(d0,"Sn"),i(d0,"mapSourcePosition");function r0(ce){var Ee=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(ce);if(Ee){var C0=d0({source:Ee[2],line:+Ee[3],column:Ee[4]-1});return"eval at "+Ee[1]+" ("+C0.source+":"+C0.line+":"+(C0.column+1)+")"}return Ee=/^eval at ([^(]+) \((.+)\)$/.exec(ce),Ee?"eval at "+Ee[1]+" ("+r0(Ee[2])+")":ce}o(r0,"jr"),i(r0,"mapEvalOrigin");function m0(){var ce,Ee="";if(this.isNative())Ee="native";else{ce=this.getScriptNameOrSourceURL(),!ce&&this.isEval()&&(Ee=this.getEvalOrigin(),Ee+=", "),ce?Ee+=ce:Ee+="<anonymous>";var C0=this.getLineNumber();if(C0!=null){Ee+=":"+C0;var z0=this.getColumnNumber();z0&&(Ee+=":"+z0)}}var O0="",v0=this.getFunctionName(),fr=!0,ue=this.isConstructor(),D0=!(this.isToplevel()||ue);if(D0){var Ke=this.getTypeName();Ke==="[object Object]"&&(Ke="null");var L0=this.getMethodName();v0?(Ke&&v0.indexOf(Ke)!=0&&(O0+=Ke+"."),O0+=v0,L0&&v0.indexOf("."+L0)!=v0.length-L0.length-1&&(O0+=" [as "+L0+"]")):O0+=Ke+"."+(L0||"<anonymous>")}else ue?O0+="new "+(v0||"<anonymous>"):v0?O0+=v0:(O0+=Ee,fr=!1);return fr&&(O0+=" ("+Ee+")"),O0}o(m0,"Js"),i(m0,"CallSiteToString");function Ve(ce){var Ee={};return Object.getOwnPropertyNames(Object.getPrototypeOf(ce)).forEach(function(C0){Ee[C0]=/^(?:is|get)/.test(C0)?function(){return ce[C0].call(ce)}:ce[C0]}),Ee.toString=m0,Ee}o(Ve,"qr"),i(Ve,"cloneCallSite");function we(ce,Ee){if(Ee===void 0&&(Ee={nextPosition:null,curPosition:null}),ce.isNative())return Ee.curPosition=null,ce;var C0=ce.getFileName()||ce.getScriptNameOrSourceURL();if(C0){var z0=ce.getLineNumber(),O0=ce.getColumnNumber()-1,v0=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,fr=v0.test(A())?0:62;z0===1&&O0>fr&&!E()&&!ce.isEval()&&(O0-=fr);var ue=d0({source:C0,line:z0,column:O0});Ee.curPosition=ue,ce=Ve(ce);var D0=ce.getFunctionName;return ce.getFunctionName=function(){return Ee.nextPosition==null?D0():Ee.nextPosition.name||D0()},ce.getFileName=function(){return ue.source},ce.getLineNumber=function(){return ue.line},ce.getColumnNumber=function(){return ue.column+1},ce.getScriptNameOrSourceURL=function(){return ue.source},ce}var Ke=ce.isEval()&&ce.getEvalOrigin();return Ke&&(Ke=r0(Ke),ce=Ve(ce),ce.getEvalOrigin=function(){return Ke}),ce}o(we,"Zr"),i(we,"wrapCallSite");function o0(ce,Ee){u&&(h={},m={});for(var C0=ce.name||"Error",z0=ce.message||"",O0=C0+": "+z0,v0={nextPosition:null,curPosition:null},fr=[],ue=Ee.length-1;ue>=0;ue--)fr.push(`
    at `+we(Ee[ue],v0)),v0.nextPosition=v0.curPosition;return v0.curPosition=v0.nextPosition=null,O0+fr.reverse().join("")}o(o0,"Qs"),i(o0,"prepareStackTrace");function u0(ce){var Ee=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(ce.stack);if(Ee){var C0=Ee[1],z0=+Ee[2],O0=+Ee[3],v0=h[C0];if(!v0&&s&&s.existsSync(C0))try{v0=s.readFileSync(C0,"utf8")}catch{v0=""}if(v0){var fr=v0.split(/(?:\r\n|\r|\n)/)[z0-1];if(fr)return C0+":"+z0+`
`+fr+`
`+new Array(O0).join(" ")+"^"}}return null}o(u0,"$r"),i(u0,"getErrorSource");function l0(ce){var Ee=u0(ce),C0=L();C0&&C0._handle&&C0._handle.setBlocking&&C0._handle.setBlocking(!0),Ee&&(console.error(),console.error(Ee)),console.error(ce.stack),D(1)}o(l0,"Xs"),i(l0,"printErrorAndExit");function R0(){var ce=process.emit;process.emit=function(Ee){if(Ee==="uncaughtException"){var C0=arguments[1]&&arguments[1].stack,z0=this.listeners(Ee).length>0;if(C0&&!z0)return l0(arguments[1])}return ce.apply(this,arguments)}}o(R0,"Ys"),i(R0,"shimEmitUncaughtException");var t0=v.slice(0),f0=x.slice(0);e.wrapCallSite=we,e.getErrorSource=u0,e.mapSourcePosition=d0,e.retrieveSourceMap=n0,e.install=function(ce){if(ce=ce||{},ce.environment&&(d=ce.environment,["node","browser","auto"].indexOf(d)===-1))throw new Error("environment "+d+" was unknown. Available options are {auto, browser, node}");if(ce.retrieveFile&&(ce.overrideRetrieveFile&&(v.length=0),v.unshift(ce.retrieveFile)),ce.retrieveSourceMap&&(ce.overrideRetrieveSourceMap&&(x.length=0),x.unshift(ce.retrieveSourceMap)),ce.hookRequire&&!E()){var Ee=a(t,"module"),C0=Ee.prototype._compile;C0.__sourceMapSupport||(Ee.prototype._compile=function(v0,fr){return h[fr]=v0,m[fr]=void 0,C0.call(this,v0,fr)},Ee.prototype._compile.__sourceMapSupport=!0)}if(u||(u="emptyCacheBetweenOperations"in ce?ce.emptyCacheBetweenOperations:!1),f||(f=!0,Error.prepareStackTrace=o0),!c){var z0="handleUncaughtExceptions"in ce?ce.handleUncaughtExceptions:!0;try{var O0=a(t,"worker_threads");O0.isMainThread===!1&&(z0=!1)}catch{}z0&&I()&&(c=!0,R0())}},e.resetRetrieveHandlers=function(){v.length=0,x.length=0,v=t0.slice(0),x=f0.slice(0),n0=R(x),V=R(v)}}),Kr=k(()=>{Gr().install()}),no=k((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;let _Parser=class _Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=i((a,f)=>{throw f},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(a){return Module.locateFile?Module.locateFile(a,scriptDirectory):scriptDirectory+a}o(locateFile,"locateFile"),i(locateFile,"locateFile");function logExceptionOnExit(a){a instanceof ExitStatus||err("exiting due to exception: "+a)}if(o(logExceptionOnExit,"logExceptionOnExit"),i(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=i((a,f)=>(a=isFileURI(a)?new URL(a):nodePath.normalize(a),fs.readFileSync(a,f?void 0:"utf8")),"read_"),readBinary=i(a=>{var f=read_(a,!0);return f.buffer||(f=new Uint8Array(f)),f},"readBinary"),readAsync=i((a,f,c)=>{a=isFileURI(a)?new URL(a):nodePath.normalize(a),fs.readFile(a,function(u,d){u?c(u):f(d.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=i((a,f)=>{if(keepRuntimeAlive())throw process.exitCode=a,f;logExceptionOnExit(f),process.exit(a)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=i(a=>{var f=new XMLHttpRequest;return f.open("GET",a,!1),f.send(null),f.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=i(a=>{var f=new XMLHttpRequest;return f.open("GET",a,!1),f.responseType="arraybuffer",f.send(null),new Uint8Array(f.response)},"readBinary")),readAsync=i((a,f,c)=>{var u=new XMLHttpRequest;u.open("GET",a,!0),u.responseType="arraybuffer",u.onload=()=>{u.status==200||u.status==0&&u.response?f(u.response):c()},u.onerror=c,u.send(null)},"readAsync"),setWindowTitle=i(a=>document.title=a,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(a,f,c){for(var u=f+c,d=f;a[d]&&!(d>=u);)++d;if(d-f>16&&a.buffer&&UTF8Decoder)return UTF8Decoder.decode(a.subarray(f,d));for(var h="";f<d;){var m=a[f++];if(128&m){var p=63&a[f++];if((224&m)!=192){var v=63&a[f++];if((m=(240&m)==224?(15&m)<<12|p<<6|v:(7&m)<<18|p<<12|v<<6|63&a[f++])<65536)h+=String.fromCharCode(m);else{var x=m-65536;h+=String.fromCharCode(55296|x>>10,56320|1023&x)}}else h+=String.fromCharCode((31&m)<<6|p)}else h+=String.fromCharCode(m)}return h}o(UTF8ArrayToString,"UTF8ArrayToString"),i(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(a,f){return a?UTF8ArrayToString(HEAPU8,a,f):""}o(UTF8ToString,"UTF8ToString"),i(UTF8ToString,"UTF8ToString");function stringToUTF8Array(a,f,c,u){if(!(u>0))return 0;for(var d=c,h=c+u-1,m=0;m<a.length;++m){var p=a.charCodeAt(m);if(p>=55296&&p<=57343&&(p=65536+((1023&p)<<10)|1023&a.charCodeAt(++m)),p<=127){if(c>=h)break;f[c++]=p}else if(p<=2047){if(c+1>=h)break;f[c++]=192|p>>6,f[c++]=128|63&p}else if(p<=65535){if(c+2>=h)break;f[c++]=224|p>>12,f[c++]=128|p>>6&63,f[c++]=128|63&p}else{if(c+3>=h)break;f[c++]=240|p>>18,f[c++]=128|p>>12&63,f[c++]=128|p>>6&63,f[c++]=128|63&p}}return f[c]=0,c-d}o(stringToUTF8Array,"stringToUTF8Array"),i(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(a,f,c){return stringToUTF8Array(a,HEAPU8,f,c)}o(stringToUTF8,"stringToUTF8"),i(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(a){for(var f=0,c=0;c<a.length;++c){var u=a.charCodeAt(c);u<=127?f++:u<=2047?f+=2:u>=55296&&u<=57343?(f+=4,++c):f+=3}return f}o(lengthBytesUTF8,"lengthBytesUTF8"),i(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(a){buffer=a,Module.HEAP8=HEAP8=new Int8Array(a),Module.HEAP16=HEAP16=new Int16Array(a),Module.HEAP32=HEAP32=new Int32Array(a),Module.HEAPU8=HEAPU8=new Uint8Array(a),Module.HEAPU16=HEAPU16=new Uint16Array(a),Module.HEAPU32=HEAPU32=new Uint32Array(a),Module.HEAPF32=HEAPF32=new Float32Array(a),Module.HEAPF64=HEAPF64=new Float64Array(a)}o(updateGlobalBufferAndViews,"updateGlobalBufferAndViews"),i(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}o(keepRuntimeAlive,"keepRuntimeAlive"),i(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}o(preRun,"preRun"),i(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}o(initRuntime,"initRuntime"),i(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}o(preMain,"preMain"),i(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}o(postRun,"postRun"),i(postRun,"postRun");function addOnPreRun(a){__ATPRERUN__.unshift(a)}o(addOnPreRun,"addOnPreRun"),i(addOnPreRun,"addOnPreRun");function addOnInit(a){__ATINIT__.unshift(a)}o(addOnInit,"addOnInit"),i(addOnInit,"addOnInit");function addOnPostRun(a){__ATPOSTRUN__.unshift(a)}o(addOnPostRun,"addOnPostRun"),i(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(a){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}o(addRunDependency,"addRunDependency"),i(addRunDependency,"addRunDependency");function removeRunDependency(a){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var f=dependenciesFulfilled;dependenciesFulfilled=null,f()}}o(removeRunDependency,"removeRunDependency"),i(removeRunDependency,"removeRunDependency");function abort(a){throw Module.onAbort&&Module.onAbort(a),err(a="Aborted("+a+")"),ABORT=!0,EXITSTATUS=1,a+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(a)}o(abort,"abort"),i(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(a){return a.startsWith(dataURIPrefix)}o(isDataURI,"isDataURI"),i(isDataURI,"isDataURI");function isFileURI(a){return a.startsWith("file://")}o(isFileURI,"isFileURI"),i(isFileURI,"isFileURI");function getBinary(a){try{if(a==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(a);throw"both async and sync fetching of the wasm failed"}catch(f){abort(f)}}o(getBinary,"getBinary"),i(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return a.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(a,f){readAsync(wasmBinaryFile,function(c){a(new Uint8Array(c))},f)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}o(getBinaryPromise,"getBinaryPromise"),i(getBinaryPromise,"getBinaryPromise");function createWasm(){var a={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function f(d,h){var m=d.exports;m=relocateExports(m,1024);var p=getDylinkMetadata(h);p.neededDynlibs&&(dynamicLibraries=p.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(m,"main"),Module.asm=m,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}o(f,"e"),i(f,"t");function c(d){f(d.instance,d.module)}o(c,"n"),i(c,"r");function u(d){return getBinaryPromise().then(function(h){return WebAssembly.instantiate(h,a)}).then(function(h){return h}).then(d,function(h){err("failed to asynchronously prepare wasm: "+h),abort(h)})}if(o(u,"r"),i(u,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(a,f)}catch(d){return err("Module.instantiateWasm callback failed with error: "+d),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?u(c):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(d){return WebAssembly.instantiateStreaming(d,a).then(c,function(h){return err("wasm streaming compile failed: "+h),err("falling back to ArrayBuffer instantiation"),u(c)})}),{}}o(createWasm,"createWasm"),i(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(a){this.name="ExitStatus",this.message="Program terminated with exit("+a+")",this.status=a}o(ExitStatus,"ExitStatus"),i(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:function(a,f){var c=GOT[f];return c||(c=GOT[f]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(f)||(c.required=!0),c}};function callRuntimeCallbacks(a){for(;a.length>0;)a.shift()(Module)}o(callRuntimeCallbacks,"callRuntimeCallbacks"),i(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(a){var f=0,c=0;function u(){for(var de=0,ve=1;;){var n0=a[f++];if(de+=(127&n0)*ve,ve*=128,!(128&n0))break}return de}o(u,"r"),i(u,"_");function d(){var de=u();return UTF8ArrayToString(a,(f+=de)-de,de)}o(d,"o"),i(d,"n");function h(de,ve){if(de)throw new Error(ve)}o(h,"s"),i(h,"s");var m="dylink.0";if(a instanceof WebAssembly.Module){var p=WebAssembly.Module.customSections(a,m);p.length===0&&(m="dylink",p=WebAssembly.Module.customSections(a,m)),h(p.length===0,"need dylink section"),c=(a=new Uint8Array(p[0])).length}else{h(new Uint32Array(new Uint8Array(a.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),h(a[8]!==0,"need the dylink section to be first"),f=9;var v=u();c=f+v,m=d()}var x={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(m=="dylink"){x.memorySize=u(),x.memoryAlign=u(),x.tableSize=u(),x.tableAlign=u();for(var E=u(),I=0;I<E;++I){var A=d();x.neededDynlibs.push(A)}}else for(h(m!=="dylink.0");f<c;){var L=a[f++],D=u();if(L===1)x.memorySize=u(),x.memoryAlign=u(),x.tableSize=u(),x.tableAlign=u();else if(L===2)for(E=u(),I=0;I<E;++I)A=d(),x.neededDynlibs.push(A);else if(L===3)for(var R=u();R--;){var V=d();256&u()&&x.tlsExports.add(V)}else if(L===4)for(R=u();R--;)d(),V=d(),(3&u())==1&&x.weakImports.add(V);else f+=D}return x}o(getDylinkMetadata,"getDylinkMetadata"),i(getDylinkMetadata,"getDylinkMetadata");function getValue(a,f="i8"){switch(f.endsWith("*")&&(f="*"),f){case"i1":case"i8":return HEAP8[a>>0];case"i16":return HEAP16[a>>1];case"i32":case"i64":return HEAP32[a>>2];case"float":return HEAPF32[a>>2];case"double":return HEAPF64[a>>3];case"*":return HEAPU32[a>>2];default:abort("invalid type for getValue: "+f)}return null}o(getValue,"getValue"),i(getValue,"getValue");function asmjsMangle(a){return a.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(a)?a:"_"+a}o(asmjsMangle,"asmjsMangle"),i(asmjsMangle,"asmjsMangle");function mergeLibSymbols(a,f){for(var c in a)if(a.hasOwnProperty(c)){asmLibraryArg.hasOwnProperty(c)||(asmLibraryArg[c]=a[c]);var u=asmjsMangle(c);Module.hasOwnProperty(u)||(Module[u]=a[c]),c=="__main_argc_argv"&&(Module._main=a[c])}}o(mergeLibSymbols,"mergeLibSymbols"),i(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(a,f,c){var u=Module["dynCall_"+a];return c&&c.length?u.apply(null,[f].concat(c)):u.call(null,f)}o(dynCallLegacy,"dynCallLegacy"),i(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(a){var f=wasmTableMirror[a];return f||(a>=wasmTableMirror.length&&(wasmTableMirror.length=a+1),wasmTableMirror[a]=f=wasmTable.get(a)),f}o(getWasmTableEntry,"getWasmTableEntry"),i(getWasmTableEntry,"getWasmTableEntry");function dynCall(a,f,c){return a.includes("j")?dynCallLegacy(a,f,c):getWasmTableEntry(f).apply(null,c)}o(dynCall,"dynCall"),i(dynCall,"dynCall");function createInvokeFunction(a){return function(){var f=stackSave();try{return dynCall(a,arguments[0],Array.prototype.slice.call(arguments,1))}catch(c){if(stackRestore(f),c!==c+0)throw c;_setThrew(1,0)}}}o(createInvokeFunction,"createInvokeFunction"),i(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(a,f){return HEAPU8.fill(0,a,a+f),a}o(zeroMemory,"zeroMemory"),i(zeroMemory,"zeroMemory");function getMemory(a){if(runtimeInitialized)return zeroMemory(_malloc(a),a);var f=___heap_base,c=f+a+15&-16;return ___heap_base=c,GOT.__heap_base.value=c,f}o(getMemory,"getMemory"),i(getMemory,"getMemory");function isInternalSym(a){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(a)}o(isInternalSym,"isInternalSym"),i(isInternalSym,"isInternalSym");function uleb128Encode(a,f){a<128?f.push(a):f.push(a%128|128,a>>7)}o(uleb128Encode,"uleb128Encode"),i(uleb128Encode,"uleb128Encode");function sigToWasmTypes(a){for(var f={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},c={parameters:[],results:a[0]=="v"?[]:[f[a[0]]]},u=1;u<a.length;++u)c.parameters.push(f[a[u]]),a[u]==="j"&&c.parameters.push("i32");return c}o(sigToWasmTypes,"sigToWasmTypes"),i(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(a,f){var c=a.slice(0,1),u=a.slice(1),d={i:127,p:127,j:126,f:125,d:124};f.push(96),uleb128Encode(u.length,f);for(var h=0;h<u.length;++h)f.push(d[u[h]]);c=="v"?f.push(0):f.push(1,d[c])}o(generateFuncType,"generateFuncType"),i(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(a,f){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(f),a);var c=[1];generateFuncType(f,c);var u=[0,97,115,109,1,0,0,0,1];uleb128Encode(c.length,u),u.push.apply(u,c),u.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var d=new WebAssembly.Module(new Uint8Array(u));return new WebAssembly.Instance(d,{e:{f:a}}).exports.f}o(convertJsFunctionToWasm,"convertJsFunctionToWasm"),i(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(a,f){if(functionsInTableMap)for(var c=a;c<a+f;c++){var u=getWasmTableEntry(c);u&&functionsInTableMap.set(u,c)}}o(updateTableMap,"updateTableMap"),i(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(a){throw a instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":a}return wasmTable.length-1}o(getEmptyTableSlot,"getEmptyTableSlot"),i(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(a,f){wasmTable.set(a,f),wasmTableMirror[a]=wasmTable.get(a)}o(setWasmTableEntry,"setWasmTableEntry"),i(setWasmTableEntry,"setWasmTableEntry");function addFunction(a,f){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(a))return functionsInTableMap.get(a);var c=getEmptyTableSlot();try{setWasmTableEntry(c,a)}catch(u){if(!(u instanceof TypeError))throw u;setWasmTableEntry(c,convertJsFunctionToWasm(a,f))}return functionsInTableMap.set(a,c),c}o(addFunction,"addFunction"),i(addFunction,"addFunction");function updateGOT(a,f){for(var c in a)if(!isInternalSym(c)){var u=a[c];c.startsWith("orig$")&&(c=c.split("$")[1],f=!0),GOT[c]||(GOT[c]=new WebAssembly.Global({value:"i32",mutable:!0})),(f||GOT[c].value==0)&&(typeof u=="function"?GOT[c].value=addFunction(u):typeof u=="number"?GOT[c].value=u:err("unhandled export type for `"+c+"`: "+typeof u))}}o(updateGOT,"updateGOT"),i(updateGOT,"updateGOT");function relocateExports(a,f,c){var u={};for(var d in a){var h=a[d];typeof h=="object"&&(h=h.value),typeof h=="number"&&(h+=f),u[d]=h}return updateGOT(u,c),u}o(relocateExports,"relocateExports"),i(relocateExports,"relocateExports");function resolveGlobalSymbol(a,f){var c;return f&&(c=asmLibraryArg["orig$"+a]),c||(c=asmLibraryArg[a])&&c.stub&&(c=void 0),c||(c=Module[asmjsMangle(a)]),!c&&a.startsWith("invoke_")&&(c=createInvokeFunction(a.split("_")[1])),c}o(resolveGlobalSymbol,"resolveGlobalSymbol"),i(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(a,f){return Math.ceil(a/f)*f}o(alignMemory,"alignMemory"),i(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(a){var f=resolveGlobalSymbol(a,!1);return f||(f=moduleExports[a]),f}o(resolveSymbol,"resolveSymbol"),i(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:function(a,f){switch(f){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(f in asmLibraryArg)return asmLibraryArg[f];var c;return f in a||(a[f]=function(){return c||(c=resolveSymbol(f)),c.apply(null,arguments)}),a[f]}},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(o(addEmAsm,"addEmAsm"),i(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(o(postInstantiation,"postInstantiation"),i(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(a){return postInstantiation(a.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return o(loadModule,"loadModule"),i(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(a,f){return a.then(function(){return loadDynamicLibrary(f,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(a){loadDynamicLibrary(a,flags)}),loadModule())}o(loadWebAssemblyModule,"loadWebAssemblyModule"),i(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(a,f,c){f=f||{global:!0,nodelete:!0};var u=LDSO.loadedLibsByName[a];if(u)return f.global&&!u.global&&(u.global=!0,u.module!=="loading"&&mergeLibSymbols(u.module,a)),f.nodelete&&u.refcount!==1/0&&(u.refcount=1/0),u.refcount++,c&&(LDSO.loadedLibsByHandle[c]=u),!f.loadAsync||Promise.resolve(!0);function d(p){if(f.fs&&f.fs.findObject(p)){var v=f.fs.readFile(p,{encoding:"binary"});return v instanceof Uint8Array||(v=new Uint8Array(v)),f.loadAsync?Promise.resolve(v):v}if(p=locateFile(p),f.loadAsync)return new Promise(function(x,E){readAsync(p,I=>x(new Uint8Array(I)),E)});if(!readBinary)throw new Error(p+": file not found, and synchronous loading of external files is not available");return readBinary(p)}o(d,"o"),i(d,"n");function h(){if(typeof preloadedWasm<"u"&&preloadedWasm[a]){var p=preloadedWasm[a];return f.loadAsync?Promise.resolve(p):p}return f.loadAsync?d(a).then(function(v){return loadWebAssemblyModule(v,f,c)}):loadWebAssemblyModule(d(a),f,c)}o(h,"s"),i(h,"s");function m(p){u.global&&mergeLibSymbols(p,a),u.module=p}return o(m,"a"),i(m,"a"),u={refcount:f.nodelete?1/0:1,name:a,module:"loading",global:f.global},LDSO.loadedLibsByName[a]=u,c&&(LDSO.loadedLibsByHandle[c]=u),f.loadAsync?h().then(function(p){return m(p),!0}):(m(h()),!0)}o(loadDynamicLibrary,"loadDynamicLibrary"),i(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var a in GOT)if(GOT[a].value==0){var f=resolveGlobalSymbol(a,!0);if(!f&&!GOT[a].required)continue;if(typeof f=="function")GOT[a].value=addFunction(f,f.sig);else{if(typeof f!="number")throw new Error("bad export type for `"+a+"`: "+typeof f);GOT[a].value=f}}}o(reportUndefinedSymbols,"reportUndefinedSymbols"),i(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(a,f){return a.then(function(){return loadDynamicLibrary(f,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}o(preloadDylibs,"preloadDylibs"),i(preloadDylibs,"preloadDylibs");function setValue(a,f,c="i8"){switch(c.endsWith("*")&&(c="*"),c){case"i1":case"i8":HEAP8[a>>0]=f;break;case"i16":HEAP16[a>>1]=f;break;case"i32":HEAP32[a>>2]=f;break;case"i64":tempI64=[f>>>0,(tempDouble=f,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[a>>2]=tempI64[0],HEAP32[a+4>>2]=tempI64[1];break;case"float":HEAPF32[a>>2]=f;break;case"double":HEAPF64[a>>3]=f;break;case"*":HEAPU32[a>>2]=f;break;default:abort("invalid type for setValue: "+c)}}o(setValue,"setValue"),i(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}o(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic"),i(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}o(_abort,"_abort"),i(_abort,"_abort");function _emscripten_date_now(){return Date.now()}o(_emscripten_date_now,"_emscripten_date_now"),i(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(a,f,c){HEAPU8.copyWithin(a,f,f+c)}o(_emscripten_memcpy_big,"_emscripten_memcpy_big"),i(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}o(getHeapMax,"getHeapMax"),i(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(a){try{return wasmMemory.grow(a-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}o(emscripten_realloc_buffer,"emscripten_realloc_buffer"),i(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(a){var f=HEAPU8.length;a>>>=0;var c=getHeapMax();if(a>c)return!1;for(var u=1;u<=4;u*=2){var d=f*(1+.2/u);if(d=Math.min(d,a+100663296),emscripten_realloc_buffer(Math.min(c,(h=Math.max(a,d))+((m=65536)-h%m)%m)))return!0}var h,m;return!1}o(_emscripten_resize_heap,"_emscripten_resize_heap"),i(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var a=process.hrtime();return 1e3*a[0]+a[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:function(a,f,c){if(PATH.isAbs(f))return f;var u;if(a===-100?u=FS.cwd():u=SYSCALLS.getStreamFromFD(a).path,f.length==0){if(!c)throw new FS.ErrnoError(44);return u}return PATH.join2(u,f)},doStat:function(a,f,c){try{var u=a(f)}catch(p){if(p&&p.node&&PATH.normalize(f)!==PATH.normalize(FS.getPath(p.node)))return-54;throw p}HEAP32[c>>2]=u.dev,HEAP32[c+8>>2]=u.ino,HEAP32[c+12>>2]=u.mode,HEAPU32[c+16>>2]=u.nlink,HEAP32[c+20>>2]=u.uid,HEAP32[c+24>>2]=u.gid,HEAP32[c+28>>2]=u.rdev,tempI64=[u.size>>>0,(tempDouble=u.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+40>>2]=tempI64[0],HEAP32[c+44>>2]=tempI64[1],HEAP32[c+48>>2]=4096,HEAP32[c+52>>2]=u.blocks;var d=u.atime.getTime(),h=u.mtime.getTime(),m=u.ctime.getTime();return tempI64=[Math.floor(d/1e3)>>>0,(tempDouble=Math.floor(d/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+56>>2]=tempI64[0],HEAP32[c+60>>2]=tempI64[1],HEAPU32[c+64>>2]=d%1e3*1e3,tempI64=[Math.floor(h/1e3)>>>0,(tempDouble=Math.floor(h/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+72>>2]=tempI64[0],HEAP32[c+76>>2]=tempI64[1],HEAPU32[c+80>>2]=h%1e3*1e3,tempI64=[Math.floor(m/1e3)>>>0,(tempDouble=Math.floor(m/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+88>>2]=tempI64[0],HEAP32[c+92>>2]=tempI64[1],HEAPU32[c+96>>2]=m%1e3*1e3,tempI64=[u.ino>>>0,(tempDouble=u.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+104>>2]=tempI64[0],HEAP32[c+108>>2]=tempI64[1],0},doMsync:function(a,f,c,u,d){if(!FS.isFile(f.node.mode))throw new FS.ErrnoError(43);if(2&u)return 0;var h=HEAPU8.slice(a,a+c);FS.msync(f,h,d,c,u)},varargs:void 0,get:function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(a){return UTF8ToString(a)},getStreamFromFD:function(a){var f=FS.getStream(a);if(!f)throw new FS.ErrnoError(8);return f}};function _proc_exit(a){EXITSTATUS=a,keepRuntimeAlive()||(Module.onExit&&Module.onExit(a),ABORT=!0),quit_(a,new ExitStatus(a))}o(_proc_exit,"_proc_exit"),i(_proc_exit,"_proc_exit");function exitJS(a,f){EXITSTATUS=a,_proc_exit(a)}o(exitJS,"exitJS"),i(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(a){try{var f=SYSCALLS.getStreamFromFD(a);return FS.close(f),0}catch(c){if(typeof FS>"u"||!(c instanceof FS.ErrnoError))throw c;return c.errno}}o(_fd_close,"_fd_close"),i(_fd_close,"_fd_close");function convertI32PairToI53Checked(a,f){return f+2097152>>>0<4194305-!!a?(a>>>0)+4294967296*f:NaN}o(convertI32PairToI53Checked,"convertI32PairToI53Checked"),i(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(a,f,c,u,d){try{var h=convertI32PairToI53Checked(f,c);if(isNaN(h))return 61;var m=SYSCALLS.getStreamFromFD(a);return FS.llseek(m,h,u),tempI64=[m.position>>>0,(tempDouble=m.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[d>>2]=tempI64[0],HEAP32[d+4>>2]=tempI64[1],m.getdents&&h===0&&u===0&&(m.getdents=null),0}catch(p){if(typeof FS>"u"||!(p instanceof FS.ErrnoError))throw p;return p.errno}}o(_fd_seek,"_fd_seek"),i(_fd_seek,"_fd_seek");function doWritev(a,f,c,u){for(var d=0,h=0;h<c;h++){var m=HEAPU32[f>>2],p=HEAPU32[f+4>>2];f+=8;var v=FS.write(a,HEAP8,m,p,u);if(v<0)return-1;d+=v,u!==void 0&&(u+=v)}return d}o(doWritev,"doWritev"),i(doWritev,"doWritev");function _fd_write(a,f,c,u){try{var d=doWritev(SYSCALLS.getStreamFromFD(a),f,c);return HEAPU32[u>>2]=d,0}catch(h){if(typeof FS>"u"||!(h instanceof FS.ErrnoError))throw h;return h.errno}}o(_fd_write,"_fd_write"),i(_fd_write,"_fd_write");function _tree_sitter_log_callback(a,f){if(currentLogCallback){let c=UTF8ToString(f);currentLogCallback(c,a!==0)}}o(_tree_sitter_log_callback,"_tree_sitter_log_callback"),i(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(a,f,c,u,d){var h=currentParseCallback(f,{row:c,column:u});typeof h=="string"?(setValue(d,h.length,"i32"),stringToUTF16(h,a,10240)):setValue(d,0,"i32")}o(_tree_sitter_parse_callback,"_tree_sitter_parse_callback"),i(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(a){if(a instanceof ExitStatus||a=="unwind")return EXITSTATUS;quit_(1,a)}o(handleException,"handleException"),i(handleException,"handleException");function allocateUTF8OnStack(a){var f=lengthBytesUTF8(a)+1,c=stackAlloc(f);return stringToUTF8Array(a,HEAP8,c,f),c}o(allocateUTF8OnStack,"allocateUTF8OnStack"),i(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(a,f,c){if(c===void 0&&(c=2147483647),c<2)return 0;for(var u=f,d=(c-=2)<2*a.length?c/2:a.length,h=0;h<d;++h){var m=a.charCodeAt(h);HEAP16[f>>1]=m,f+=2}return HEAP16[f>>1]=0,f-u}o(stringToUTF16,"stringToUTF16"),i(stringToUTF16,"stringToUTF16");function AsciiToString(a){for(var f="";;){var c=HEAPU8[a++>>0];if(!c)return f;f+=String.fromCharCode(c)}}o(AsciiToString,"AsciiToString"),i(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(a){var f=Module._main;if(f){(a=a||[]).unshift(thisProgram);var c=a.length,u=stackAlloc(4*(c+1)),d=u>>2;a.forEach(m=>{HEAP32[d++]=allocateUTF8OnStack(m)}),HEAP32[d]=0;try{var h=f(c,u);return exitJS(h,!0),h}catch(m){return handleException(m)}}}o(callMain,"callMain"),i(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=i(o(function a(){calledRun||run(),calledRun||(dependenciesFulfilled=a)},"t"),"e");var dylibsLoaded=!1;function run(a){function f(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(a),postRun()))}o(f,"e"),i(f,"t"),a=a||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),f()},1)):f()))}if(o(run,"run"),i(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;let e=class e{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(f){let c;if(f){if(f.constructor!==Language)throw new Error("Argument must be a Language");{c=f[0];let u=C._ts_language_version(c);if(u<MIN_COMPATIBLE_VERSION||VERSION<u)throw new Error(`Incompatible language version ${u}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else c=0,f=null;return this.language=f,C._ts_parser_set_language(this[0],c),this}getLanguage(){return this.language}parse(f,c,u){if(typeof f=="string")currentParseCallback=i((v,x,E)=>f.slice(v,E),"currentParseCallback");else{if(typeof f!="function")throw new Error("Argument must be a string or a function");currentParseCallback=f}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let d=0,h=0;if(u&&u.includedRanges){d=u.includedRanges.length,h=C._calloc(d,SIZE_OF_RANGE);let v=h;for(let x=0;x<d;x++)marshalRange(v,u.includedRanges[x]),v+=SIZE_OF_RANGE}let m=C._ts_parser_parse_wasm(this[0],this[1],c?c[0]:0,h,d);if(!m)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let p=new Tree(INTERNAL,m,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,p}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(f){C._ts_parser_set_timeout_micros(this[0],f)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(f){if(f){if(typeof f!="function")throw new Error("Logger callback must be a function")}else f=null;return this.logCallback=f,this}getLogger(){return this.logCallback}};o(e,"ParserImpl"),i(e,"ParserImpl");let ParserImpl=e,t=class t{constructor(f,c,u,d){assertInternal(f),this[0]=c,this.language=u,this.textCallback=d}copy(){let f=C._ts_tree_copy(this[0]);return new t(INTERNAL,f,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(f){marshalEdit(f),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(f){if(f.constructor!==t)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],f[0]);let c=getValue(TRANSFER_BUFFER,"i32"),u=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),d=new Array(c);if(c>0){let h=u;for(let m=0;m<c;m++)d[m]=unmarshalRange(h),h+=SIZE_OF_RANGE;C._free(u)}return d}};o(t,"Tree"),i(t,"Tree");let Tree=t,r=class r{constructor(f,c){assertInternal(f),this.tree=c}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(f){return this.id===f.id}child(f){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],f),unmarshalNode(this.tree)}namedChild(f){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],f),unmarshalNode(this.tree)}childForFieldId(f){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],f),unmarshalNode(this.tree)}childForFieldName(f){let c=this.tree.language.fields.indexOf(f);if(c!==-1)return this.childForFieldId(c)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let f=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(f),f>0){let u=c;for(let d=0;d<f;d++)this._children[d]=unmarshalNode(this.tree,u),u+=SIZE_OF_NODE;C._free(c)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let f=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(f),f>0){let u=c;for(let d=0;d<f;d++)this._namedChildren[d]=unmarshalNode(this.tree,u),u+=SIZE_OF_NODE;C._free(c)}}return this._namedChildren}descendantsOfType(f,c,u){Array.isArray(f)||(f=[f]),c||(c=ZERO_POINT),u||(u=ZERO_POINT);let d=[],h=this.tree.language.types;for(let E=0,I=h.length;E<I;E++)f.includes(h[E])&&d.push(E);let m=C._malloc(SIZE_OF_INT*d.length);for(let E=0,I=d.length;E<I;E++)setValue(m+E*SIZE_OF_INT,d[E],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],m,d.length,c.row,c.column,u.row,u.column);let p=getValue(TRANSFER_BUFFER,"i32"),v=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),x=new Array(p);if(p>0){let E=v;for(let I=0;I<p;I++)x[I]=unmarshalNode(this.tree,E),E+=SIZE_OF_NODE}return C._free(v),C._free(m),x}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(f,c=f){if(typeof f!="number"||typeof c!="number")throw new Error("Arguments must be numbers");marshalNode(this);let u=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(u,f,"i32"),setValue(u+SIZE_OF_INT,c,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(f,c=f){if(typeof f!="number"||typeof c!="number")throw new Error("Arguments must be numbers");marshalNode(this);let u=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(u,f,"i32"),setValue(u+SIZE_OF_INT,c,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(f,c=f){if(!isPoint(f)||!isPoint(c))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let u=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(u,f),marshalPoint(u+SIZE_OF_POINT,c),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(f,c=f){if(!isPoint(f)||!isPoint(c))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let u=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(u,f),marshalPoint(u+SIZE_OF_POINT,c),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let f=C._ts_node_to_string_wasm(this.tree[0]),c=AsciiToString(f);return C._free(f),c}};o(r,"Node"),i(r,"Node");let Node=r,n=class n{constructor(f,c){assertInternal(f),this.tree=c,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(f){marshalNode(f),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let f=C._ts_tree_cursor_start_index_wasm(this.tree[0]),c=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,f,c)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let f=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),f===1}gotoNextSibling(){marshalTreeCursor(this);let f=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),f===1}gotoParent(){marshalTreeCursor(this);let f=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),f===1}};o(n,"TreeCursor"),i(n,"TreeCursor");let TreeCursor=n,s=class s{constructor(f,c){assertInternal(f),this[0]=c,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let u=0,d=this.types.length;u<d;u++)C._ts_language_symbol_type(this[0],u)<2&&(this.types[u]=UTF8ToString(C._ts_language_symbol_name(this[0],u)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let u=0,d=this.fields.length;u<d;u++){let h=C._ts_language_field_name_for_id(this[0],u);this.fields[u]=h!==0?UTF8ToString(h):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(f){let c=this.fields.indexOf(f);return c!==-1?c:null}fieldNameForId(f){return this.fields[f]||null}idForNodeType(f,c){let u=lengthBytesUTF8(f),d=C._malloc(u+1);stringToUTF8(f,d,u+1);let h=C._ts_language_symbol_for_name(this[0],d,u,c);return C._free(d),h||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(f){let c=C._ts_language_symbol_name(this[0],f);return c?UTF8ToString(c):null}nodeTypeIsNamed(f){return!!C._ts_language_type_is_named_wasm(this[0],f)}nodeTypeIsVisible(f){return!!C._ts_language_type_is_visible_wasm(this[0],f)}query(f){let c=lengthBytesUTF8(f),u=C._malloc(c+1);stringToUTF8(f,u,c+1);let d=C._ts_query_new(this[0],u,c,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!d){let R=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),V=UTF8ToString(u,getValue(TRANSFER_BUFFER,"i32")).length,de=f.substr(V,100).split(`
`)[0],ve,n0=de.match(QUERY_WORD_REGEX)[0];switch(R){case 2:ve=new RangeError(`Bad node name '${n0}'`);break;case 3:ve=new RangeError(`Bad field name '${n0}'`);break;case 4:ve=new RangeError(`Bad capture name @${n0}`);break;case 5:ve=new TypeError(`Bad pattern structure at offset ${V}: '${de}'...`),n0="";break;default:ve=new SyntaxError(`Bad syntax at offset ${V}: '${de}'...`),n0=""}throw ve.index=V,ve.length=n0.length,C._free(u),ve}let h=C._ts_query_string_count(d),m=C._ts_query_capture_count(d),p=C._ts_query_pattern_count(d),v=new Array(m),x=new Array(h);for(let R=0;R<m;R++){let V=C._ts_query_capture_name_for_id(d,R,TRANSFER_BUFFER),de=getValue(TRANSFER_BUFFER,"i32");v[R]=UTF8ToString(V,de)}for(let R=0;R<h;R++){let V=C._ts_query_string_value_for_id(d,R,TRANSFER_BUFFER),de=getValue(TRANSFER_BUFFER,"i32");x[R]=UTF8ToString(V,de)}let E=new Array(p),I=new Array(p),A=new Array(p),L=new Array(p),D=new Array(p);for(let R=0;R<p;R++){let V=C._ts_query_predicates_for_pattern(d,R,TRANSFER_BUFFER),de=getValue(TRANSFER_BUFFER,"i32");L[R]=[],D[R]=[];let ve=[],n0=V;for(let d0=0;d0<de;d0++){let r0=getValue(n0,"i32");n0+=SIZE_OF_INT;let m0=getValue(n0,"i32");if(n0+=SIZE_OF_INT,r0===PREDICATE_STEP_TYPE_CAPTURE)ve.push({type:"capture",name:v[m0]});else if(r0===PREDICATE_STEP_TYPE_STRING)ve.push({type:"string",value:x[m0]});else if(ve.length>0){if(ve[0].type!=="string")throw new Error("Predicates must begin with a literal value");let Ve=ve[0].value,we=!0;switch(Ve){case"not-eq?":we=!1;case"eq?":if(ve.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(ve.length-1));if(ve[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${ve[1].value}"`);if(ve[2].type==="capture"){let R0=ve[1].name,t0=ve[2].name;D[R].push(function(f0){let ce,Ee;for(let C0 of f0)C0.name===R0&&(ce=C0.node),C0.name===t0&&(Ee=C0.node);return ce===void 0||Ee===void 0||ce.text===Ee.text===we})}else{let R0=ve[1].name,t0=ve[2].value;D[R].push(function(f0){for(let ce of f0)if(ce.name===R0)return ce.node.text===t0===we;return!0})}break;case"not-match?":we=!1;case"match?":if(ve.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${ve.length-1}.`);if(ve[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${ve[1].value}".`);if(ve[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${ve[2].value}.`);let o0=ve[1].name,u0=new RegExp(ve[2].value);D[R].push(function(R0){for(let t0 of R0)if(t0.name===o0)return u0.test(t0.node.text)===we;return!0});break;case"set!":if(ve.length<2||ve.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${ve.length-1}.`);if(ve.some(R0=>R0.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');E[R]||(E[R]={}),E[R][ve[1].value]=ve[2]?ve[2].value:null;break;case"is?":case"is-not?":if(ve.length<2||ve.length>3)throw new Error(`Wrong number of arguments to \`#${Ve}\` predicate. Expected 1 or 2. Got ${ve.length-1}.`);if(ve.some(R0=>R0.type!=="string"))throw new Error(`Arguments to \`#${Ve}\` predicate must be a strings.".`);let l0=Ve==="is?"?I:A;l0[R]||(l0[R]={}),l0[R][ve[1].value]=ve[2]?ve[2].value:null;break;default:L[R].push({operator:Ve,operands:ve.slice(1)})}ve.length=0}}Object.freeze(E[R]),Object.freeze(I[R]),Object.freeze(A[R])}return C._free(u),new Query(INTERNAL,d,v,D,L,Object.freeze(E),Object.freeze(I),Object.freeze(A))}static load(f){let c;if(f instanceof Uint8Array)c=Promise.resolve(f);else{let d=f;if(typeof process<"u"&&process.versions&&process.versions.node){let h=require("fs");c=Promise.resolve(h.readFileSync(d))}else c=fetch(d).then(h=>h.arrayBuffer().then(m=>{if(h.ok)return new Uint8Array(m);{let p=new TextDecoder("utf-8").decode(m);throw new Error(`Language.load failed with status ${h.status}.

${p}`)}}))}let u=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return c.then(d=>u(d,{loadAsync:!0})).then(d=>{let h=Object.keys(d),m=h.find(v=>LANGUAGE_FUNCTION_REGEX.test(v)&&!v.includes("external_scanner_"));m||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(h,null,2)}`);let p=d[m]();return new s(INTERNAL,p)})}};o(s,"Language"),i(s,"Language");let Language=s,l=class l{constructor(f,c,u,d,h,m,p,v){assertInternal(f),this[0]=c,this.captureNames=u,this.textPredicates=d,this.predicates=h,this.setProperties=m,this.assertedProperties=p,this.refutedProperties=v,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(f,c,u,d){c||(c=ZERO_POINT),u||(u=ZERO_POINT),d||(d={});let h=d.matchLimit;if(h===void 0)h=0;else if(typeof h!="number")throw new Error("Arguments must be numbers");marshalNode(f),C._ts_query_matches_wasm(this[0],f.tree[0],c.row,c.column,u.row,u.column,h);let m=getValue(TRANSFER_BUFFER,"i32"),p=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),v=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),x=new Array(m);this.exceededMatchLimit=!!v;let E=0,I=p;for(let A=0;A<m;A++){let L=getValue(I,"i32");I+=SIZE_OF_INT;let D=getValue(I,"i32");I+=SIZE_OF_INT;let R=new Array(D);if(I=unmarshalCaptures(this,f.tree,I,R),this.textPredicates[L].every(V=>V(R))){x[E++]={pattern:L,captures:R};let V=this.setProperties[L];V&&(x[A].setProperties=V);let de=this.assertedProperties[L];de&&(x[A].assertedProperties=de);let ve=this.refutedProperties[L];ve&&(x[A].refutedProperties=ve)}}return x.length=E,C._free(p),x}captures(f,c,u,d){c||(c=ZERO_POINT),u||(u=ZERO_POINT),d||(d={});let h=d.matchLimit;if(h===void 0)h=0;else if(typeof h!="number")throw new Error("Arguments must be numbers");marshalNode(f),C._ts_query_captures_wasm(this[0],f.tree[0],c.row,c.column,u.row,u.column,h);let m=getValue(TRANSFER_BUFFER,"i32"),p=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),v=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),x=[];this.exceededMatchLimit=!!v;let E=[],I=p;for(let A=0;A<m;A++){let L=getValue(I,"i32");I+=SIZE_OF_INT;let D=getValue(I,"i32");I+=SIZE_OF_INT;let R=getValue(I,"i32");if(I+=SIZE_OF_INT,E.length=D,I=unmarshalCaptures(this,f.tree,I,E),this.textPredicates[L].every(V=>V(E))){let V=E[R],de=this.setProperties[L];de&&(V.setProperties=de);let ve=this.assertedProperties[L];ve&&(V.assertedProperties=ve);let n0=this.refutedProperties[L];n0&&(V.refutedProperties=n0),x.push(V)}}return C._free(p),x}predicatesForPattern(f){return this.predicates[f]}didExceedMatchLimit(){return this.exceededMatchLimit}};o(l,"Query"),i(l,"Query");let Query=l;function getText(a,f,c){let u=c-f,d=a.textCallback(f,null,c);for(f+=d.length;f<c;){let h=a.textCallback(f,null,c);if(!(h&&h.length>0))break;f+=h.length,d+=h}return f>c&&(d=d.slice(0,u)),d}o(getText,"getText"),i(getText,"getText");function unmarshalCaptures(a,f,c,u){for(let d=0,h=u.length;d<h;d++){let m=getValue(c,"i32"),p=unmarshalNode(f,c+=SIZE_OF_INT);c+=SIZE_OF_NODE,u[d]={name:a.captureNames[m],node:p}}return c}o(unmarshalCaptures,"unmarshalCaptures"),i(unmarshalCaptures,"unmarshalCaptures");function assertInternal(a){if(a!==INTERNAL)throw new Error("Illegal constructor")}o(assertInternal,"assertInternal"),i(assertInternal,"assertInternal");function isPoint(a){return a&&typeof a.row=="number"&&typeof a.column=="number"}o(isPoint,"isPoint"),i(isPoint,"isPoint");function marshalNode(a){let f=TRANSFER_BUFFER;setValue(f,a.id,"i32"),f+=SIZE_OF_INT,setValue(f,a.startIndex,"i32"),f+=SIZE_OF_INT,setValue(f,a.startPosition.row,"i32"),f+=SIZE_OF_INT,setValue(f,a.startPosition.column,"i32"),f+=SIZE_OF_INT,setValue(f,a[0],"i32")}o(marshalNode,"marshalNode"),i(marshalNode,"marshalNode");function unmarshalNode(a,f=TRANSFER_BUFFER){let c=getValue(f,"i32");if(c===0)return null;let u=getValue(f+=SIZE_OF_INT,"i32"),d=getValue(f+=SIZE_OF_INT,"i32"),h=getValue(f+=SIZE_OF_INT,"i32"),m=getValue(f+=SIZE_OF_INT,"i32"),p=new Node(INTERNAL,a);return p.id=c,p.startIndex=u,p.startPosition={row:d,column:h},p[0]=m,p}o(unmarshalNode,"unmarshalNode"),i(unmarshalNode,"unmarshalNode");function marshalTreeCursor(a,f=TRANSFER_BUFFER){setValue(f+0*SIZE_OF_INT,a[0],"i32"),setValue(f+1*SIZE_OF_INT,a[1],"i32"),setValue(f+2*SIZE_OF_INT,a[2],"i32")}o(marshalTreeCursor,"marshalTreeCursor"),i(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(a){a[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),a[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),a[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}o(unmarshalTreeCursor,"unmarshalTreeCursor"),i(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(a,f){setValue(a,f.row,"i32"),setValue(a+SIZE_OF_INT,f.column,"i32")}o(marshalPoint,"marshalPoint"),i(marshalPoint,"marshalPoint");function unmarshalPoint(a){return{row:getValue(a,"i32"),column:getValue(a+SIZE_OF_INT,"i32")}}o(unmarshalPoint,"unmarshalPoint"),i(unmarshalPoint,"unmarshalPoint");function marshalRange(a,f){marshalPoint(a,f.startPosition),marshalPoint(a+=SIZE_OF_POINT,f.endPosition),setValue(a+=SIZE_OF_POINT,f.startIndex,"i32"),setValue(a+=SIZE_OF_INT,f.endIndex,"i32"),a+=SIZE_OF_INT}o(marshalRange,"marshalRange"),i(marshalRange,"marshalRange");function unmarshalRange(a){let f={};return f.startPosition=unmarshalPoint(a),a+=SIZE_OF_POINT,f.endPosition=unmarshalPoint(a),a+=SIZE_OF_POINT,f.startIndex=getValue(a,"i32"),a+=SIZE_OF_INT,f.endIndex=getValue(a,"i32"),f}o(unmarshalRange,"unmarshalRange"),i(unmarshalRange,"unmarshalRange");function marshalEdit(a){let f=TRANSFER_BUFFER;marshalPoint(f,a.startPosition),f+=SIZE_OF_POINT,marshalPoint(f,a.oldEndPosition),f+=SIZE_OF_POINT,marshalPoint(f,a.newEndPosition),f+=SIZE_OF_POINT,setValue(f,a.startIndex,"i32"),f+=SIZE_OF_INT,setValue(f,a.oldEndIndex,"i32"),f+=SIZE_OF_INT,setValue(f,a.newEndIndex,"i32"),f+=SIZE_OF_INT}o(marshalEdit,"marshalEdit"),i(marshalEdit,"marshalEdit");for(let a of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(_Parser.prototype,a,{value:ParserImpl.prototype[a],enumerable:!1,writable:!1});_Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}};o(_Parser,"Parser"),i(_Parser,"Parser");let Parser=_Parser;return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)}),ki={};vo(ki,{DEFAULT_NUM_OF_SNIPPETS:()=>dr,DEFAULT_TREE_TRAVERSAL_CONFIG:()=>qn,ElidableText:()=>Fe,FileSystem:()=>Oe,FileType:()=>Kt,LineEndingOptions:()=>Jt,LineWithValueAndCost:()=>he,LocalFileSystem:()=>De,MAX_PROMPT_LENGTH:()=>cr,MAX_TOOLTIP_SIGNATURE_TOKENS:()=>_r,NeighboringTabsOption:()=>ze,PromptOptions:()=>gt,ProviderTimeoutError:()=>re,SnippetOrchestrator:()=>Lt,SnippetProviderType:()=>j,SnippetSemantics:()=>ie,SuffixMatchOption:()=>pr,SuffixOption:()=>mr,TokenizerName:()=>Xe,WASMLanguage:()=>ao,blankNode:()=>et,buildLabelRules:()=>fe,clearLabels:()=>Fn,clearLabelsIf:()=>zt,combineClosersAndOpeners:()=>tt,comment:()=>Be,commentBlockAsSingles:()=>be,createWorker:()=>Ni,cutTreeAfterLine:()=>Io,deparseAndCutTree:()=>Do,deparseLine:()=>Ae,deparseTree:()=>Wn,describeTree:()=>Un,duplicateTree:()=>Lo,elidableTextForDiff:()=>Ko,elidableTextForSourceCode:()=>Ht,encodeTree:()=>zn,firstLineOf:()=>Vn,flattenVirtual:()=>q,foldTree:()=>ke,fromTreeWithFocussedLines:()=>ge,fromTreeWithValuedLines:()=>jn,getAncestorWithSiblingFunctions:()=>yi,getBlockCloseToken:()=>pi,getBlockParser:()=>At,getCursorContext:()=>it,getFirstPrecedingComment:()=>vi,getFunctionPositions:()=>Si,getLanguage:()=>uo,getNodeStart:()=>Li,getPrompt:()=>hs,getTokenizer:()=>U,groupBlocks:()=>Vt,isBlank:()=>M,isBlockBodyFinished:()=>Ii,isEmptyBlockStart:()=>xi,isFunction:()=>Nt,isFunctionDefinition:()=>wi,isLine:()=>z,isSupportedLanguageId:()=>$e,isTop:()=>ee,isVirtual:()=>F,labelLines:()=>pe,labelVirtualInherited:()=>Ce,languageCommentMarkers:()=>st,languageIdToWasmLanguage:()=>B,lastLineOf:()=>Hn,lineNode:()=>Ut,mapLabels:()=>H,normalizeLanguageId:()=>ne,parseRaw:()=>Rn,parseTree:()=>te,parseTreeSitter:()=>Te,parsesWithoutError:()=>mi,providersErrors:()=>eo,providersPerformance:()=>to,providersSnippets:()=>Yr,queryExports:()=>gi,queryFunctions:()=>co,queryGlobalVars:()=>hi,queryImports:()=>fi,queryPythonIsDocstring:()=>Nn,rebuildTree:()=>Pe,registerLanguageSpecificParser:()=>nt,resetLineNumbers:()=>No,topNode:()=>Ne,virtualNode:()=>Ye,visitTree:()=>T,visitTreeConditionally:()=>ko});module.exports=So(ki);var po=require("path"),fo=require("worker_threads"),Ot=Rt(require("fs")),Dt=Rt(require("path")),Qe=require("util"),Je=i((e,t)=>Array.from(Array(t).keys()).slice(e),"range"),me=i(e=>e.charCodeAt(0),"ord"),Eo=i(e=>String.fromCharCode(e),"chr"),Mo=new Qe.TextDecoder("utf-8"),Pn=i(e=>Mo.decode(new Uint8Array(e)),"decodeStr"),To=i((e,t)=>{let r=new Map;return e.forEach((n,s)=>{r.set(e[s],t[s])}),r},"dictZip");function xo(e){let t=Je(me("!"),me("~")+1).concat(Je(me("\xA1"),me("\xAC")+1),Je(me("\xAE"),me("\xFF")+1)),r=t.slice(),n=0;for(let l=0;l<2**8;l++)t.includes(l)||(t.push(l),r.push(2**8+n),n=n+1);let s=r.map(l=>Eo(l));for(let l=0;l<t.length;l++)e.set(t[l],s[l])}o(xo,"xo");i(xo,"bytes_to_unicode");function Cn(e){let t=new Set,r=e[0];for(let n=1;n<e.length;n++){let s=e[n];t.add([r,s]),r=s}return t}o(Cn,"Cn");i(Cn,"get_char_pairs");var Xe=(e=>(e.cl100k="cl100k",e.mock="mock",e))(Xe||{}),An=new Map;function U(e="cl100k"){let t=An.get(e);return t!==void 0||(e==="mock"?t=new Wt:t=new Bt(e),An.set(e,t)),t}o(U,"U");i(U,"getTokenizer");var i8,Bt=(i8=class{constructor(t="cl100k"){this.decoder=new Map,this.byte_encoder=new Map,this.byte_decoder=new Map,this.cache=new Map,this.textEncoder=new Qe.TextEncoder,this.encodeStr=f=>Array.from(this.textEncoder.encode(f));let r="",n="";if(t==="cl100k")r="vocab_cushman002.bpe",n="tokenizer_cushman002.json",this.pat=new RegExp("'s|'t|'re|'ve|'m|'ll|'d|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+","giu");else throw new Error(`Unknown tokenizer name: ${t}`);let s,l;try{let f=Ot.readFileSync(Dt.resolve(__dirname,"resources",t,n));s=JSON.parse(f.toString()),l=Ot.readFileSync(Dt.resolve(__dirname,"resources",t,r),"utf-8")}catch(f){if(typeof f.code=="string"&&f instanceof Error&&f.name==="Error"||f instanceof SyntaxError){let c=new Error(`Could not load tokenizer: ${t}`);throw c.code="CopilotPromptLoadFailure",c.cause=f,c}throw f}this.encoder=new Map(Object.entries(s));for(let[f,c]of this.encoder)this.decoder.set(c,f);let a=l.split(`
`).slice(1).filter(f=>f.trim().length>0);this.bpe_ranks=To(a,Je(0,a.length)),xo(this.byte_encoder),this.byte_encoder.forEach((f,c,u)=>{this.byte_decoder.set(f,c)})}byteEncodeStr(t){return this.encodeStr(t).map(r=>this.byte_encoder.get(r))}mutatingConcat(t,r){for(let n=0;n<r.length;n++)t.push(r[n]);return t}bpe(t){if(this.cache.has(t))return this.cache.get(t);let r=this.byteEncodeStr(t),n=Cn(r);if(!n)return r.map(l=>this.encoder.get(l));for(;;){let l=new Map;n.forEach(m=>{let p=m.join(" "),v=this.bpe_ranks.get(p);l.set(v===void 0||isNaN(v)?1e11:v,m)});let a=Array.from(l.keys()).map(m=>Number(m)),f=l.get(Math.min(...a));if(!f||!this.bpe_ranks.has(f.join(" ")))break;let c=f[0],u=f[1],d=[],h=0;for(;h<r.length;){let m=r.indexOf(c,h);if(m===-1){this.mutatingConcat(d,r.slice(h));break}this.mutatingConcat(d,r.slice(h,m)),h=m,r[h]===c&&h<r.length-1&&r[h+1]===u?(d.push(c+u),h=h+2):(d.push(r[h]),h=h+1)}if(r=d,r.length===1)break;n=Cn(r)}let s=r.map(l=>this.encoder.get(l));return this.cache.set(t,s),s}tokenize(t){let r=[];for(let[n]of t.matchAll(this.pat)){let s=this.bpe(n);this.mutatingConcat(r,s)}return r}tokenLength(t){return this.tokenize(t).length}takeLastTokens(t,r){if(r<=0)return"";let n=4,s=1,l=Math.min(t.length,r*n),a=t.slice(-l),f=this.tokenize(a);for(;f.length<r+2&&l<t.length;)l=Math.min(t.length,l+r*s),a=t.slice(-l),f=this.tokenize(a);return f.length<r?t:(f=f.slice(-r),this.detokenize(f))}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,s=1,l=Math.min(t.length,r*n),a=t.slice(0,l),f=this.tokenize(a);for(;f.length<r+2&&l<t.length;)l=Math.min(t.length,l+r*s),a=t.slice(0,l),f=this.tokenize(a);return f.length<r?{text:t,tokens:f}:(f=f.slice(0,r),{text:this.detokenize(f),tokens:f})}takeLastLinesTokens(t,r){let n=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let s=n.indexOf(`
`);return n.substring(s+1)}detokenize(t){let r=t.map(n=>this.decoder.get(n)).join("");return r=Pn(r.split("").map(n=>this.byte_decoder.get(n))),r}tokenizeStrings(t){return this.tokenize(t).map(r=>Pn(this.decoder.get(r).split("").map(n=>this.byte_decoder.get(n))))}},o(i8,"Bt"),i(i8,"BPETokenizer"),i8),s8,Wt=(s8=class{constructor(){this.hash=t=>{let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);r=(r<<5)-r+s,r&=r&65535}return r}}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){return this.tokenizeStrings(t).slice(-r).join("")}takeFirstTokens(t,r){let n=this.tokenizeStrings(t).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(t,r){let n=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let s=n.indexOf(`
`);return n.substring(s+1)}},o(s8,"Wt"),i(s8,"MockTokenizer"),s8);function Ye(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}o(Ye,"Ye");i(Ye,"virtualNode");function Ut(e,t,r,n,s){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:r,subs:n,label:s}}o(Ut,"Ut");i(Ut,"lineNode");function et(e){return{type:"blank",lineNumber:e,subs:[]}}o(et,"et");i(et,"blankNode");function Ne(e){return{type:"top",indentation:-1,subs:e!=null?e:[]}}o(Ne,"Ne");i(Ne,"topNode");function M(e){return e.type==="blank"}o(M,"M");i(M,"isBlank");function z(e){return e.type==="line"}o(z,"z");i(z,"isLine");function F(e){return e.type==="virtual"}o(F,"F");i(F,"isVirtual");function ee(e){return e.type==="top"}o(ee,"ee");i(ee,"isTop");function Io(e,t){function r(n){if(!F(n)&&!ee(n)&&n.lineNumber===t)return n.subs=[],!0;for(let s=0;s<n.subs.length;s++)if(r(n.subs[s]))return n.subs=n.subs.slice(0,s+1),!0;return!1}o(r,"n"),i(r,"cut"),r(e)}o(Io,"Io");i(Io,"cutTreeAfterLine");function Lo(e){return JSON.parse(JSON.stringify(e))}o(Lo,"Lo");i(Lo,"duplicateTree");function Fn(e){return T(e,t=>{t.label=void 0},"bottomUp"),e}o(Fn,"Fn");i(Fn,"clearLabels");function zt(e,t){return T(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}o(zt,"zt");i(zt,"clearLabelsIf");function H(e,t){switch(e.type){case"line":case"virtual":let r=e.subs.map(n=>H(n,t));return{...e,subs:r,label:e.label?t(e.label):void 0};case"blank":return{...e,label:e.label?t(e.label):void 0};case"top":return{...e,subs:e.subs.map(n=>H(n,t)),label:e.label?t(e.label):void 0}}}o(H,"H");i(H,"mapLabels");function No(e){let t=0;function r(n){!F(n)&&!ee(n)&&(n.lineNumber=t,t++)}o(r,"n"),i(r,"visitor"),T(e,r,"topDown")}o(No,"No");i(No,"resetLineNumbers");function T(e,t,r){function n(s){r==="topDown"&&t(s),s.subs.forEach(l=>{n(l)}),r==="bottomUp"&&t(s)}o(n,"r"),i(n,"_visit"),n(e)}o(T,"T");i(T,"visitTree");function ko(e,t,r){function n(s){if(r==="topDown"&&!t(s))return!1;let l=!0;return s.subs.forEach(a=>{l=l&&n(a)}),r==="bottomUp"&&(l=l&&t(s)),l}o(n,"r"),i(n,"_visit"),n(e)}o(ko,"ko");i(ko,"visitTreeConditionally");function ke(e,t,r,n){let s=t;function l(a){s=r(a,s)}return o(l,"s"),i(l,"visitor"),T(e,l,n),s}o(ke,"ke");i(ke,"foldTree");function Pe(e,t,r){let n=i(l=>{if(r!==void 0&&r(l))return l;{let a=l.subs.map(n).filter(f=>f!==void 0);return l.subs=a,t(l)}},"rebuild"),s=n(e);return s!==void 0?s:Ne()}o(Pe,"Pe");i(Pe,"rebuildTree");function Rn(e){let t=e.split(`
`),r=t.map(u=>u.match(/^\s*/)[0].length),n=t.map(u=>u.trimLeft());function s(u){let[d,h]=l(u+1,r[u]);return[Ut(r[u],u,n[u],d),h]}o(s,"o"),i(s,"parseNode");function l(u,d){let h,m=[],p=u,v;for(;p<n.length&&(n[p]===""||r[p]>d);)if(n[p]==="")v===void 0&&(v=p),p+=1;else{if(v!==void 0){for(let x=v;x<p;x++)m.push(et(x));v=void 0}[h,p]=s(p),m.push(h)}return v!==void 0&&(p=v),[m,p]}o(l,"s"),i(l,"parseSubs");let[a,f]=l(0,-1),c=f;for(;c<n.length&&n[c]==="";)a.push(et(c)),c+=1;if(c<n.length)throw new Error(`Parsing did not go to end of file. Ended at ${c} out of ${n.length}`);return Ne(a)}o(Rn,"Rn");i(Rn,"parseRaw");function pe(e,t){function r(n){if(z(n)){let s=t.find(l=>l.matches(n.sourceLine));s&&(n.label=s.label)}}o(r,"n"),i(r,"visitor"),T(e,r,"bottomUp")}o(pe,"pe");i(pe,"labelLines");function Ce(e){function t(r){if(F(r)&&r.label===void 0){let n=r.subs.filter(s=>!M(s));n.length===1&&(r.label=n[0].label)}}o(t,"e"),i(t,"visitor"),T(e,t,"bottomUp")}o(Ce,"Ce");i(Ce,"labelVirtualInherited");function fe(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=i(n=>e[t].test(n),"matches"):r=e[t],{matches:r,label:t}})}o(fe,"fe");i(fe,"buildLabelRules");function tt(e){let t=Pe(e,i(function(r){if(r.subs.length===0||r.subs.findIndex(l=>l.label==="closer"||l.label==="opener")===-1)return r;let n=[],s;for(let l=0;l<r.subs.length;l++){let a=r.subs[l],f=r.subs[l-1];if(a.label==="opener"&&f!==void 0&&z(f))f.subs.push(a),a.subs.forEach(c=>f.subs.push(c)),a.subs=[];else if(a.label==="closer"&&s!==void 0&&(z(a)||F(a))&&a.indentation>=s.indentation){let c=n.length-1;for(;c>0&&M(n[c]);)c-=1;if(s.subs.push(...n.splice(c+1)),a.subs.length>0){let u=s.subs.findIndex(p=>p.label!=="newVirtual"),d=s.subs.slice(0,u),h=s.subs.slice(u),m=h.length>0?[Ye(a.indentation,h,"newVirtual")]:[];s.subs=[...d,...m,a]}else s.subs.push(a)}else n.push(a),M(a)||(s=a)}return r.subs=n,r},"rebuilder"));return zt(e,r=>r==="newVirtual"),t}o(tt,"tt");i(tt,"combineClosersAndOpeners");function Vt(e,t=M,r){return Pe(e,i(function(n){if(n.subs.length<=1)return n;let s=[],l=[],a,f=!1;function c(u=!1){if(a!==void 0&&(s.length>0||!u)){let d=Ye(a,l,r);s.push(d)}else l.forEach(d=>s.push(d))}o(c,"d"),i(c,"flushBlockIntoNewSubs");for(let u=0;u<n.subs.length;u++){let d=n.subs[u],h=t(d);!h&&f&&(c(),l=[]),f=h,l.push(d),M(d)||(a=a!=null?a:d.indentation)}return c(!0),n.subs=s,n},"rebuilder"))}o(Vt,"Vt");i(Vt,"groupBlocks");function q(e){return Pe(e,i(function(t){return F(t)&&t.label===void 0&&t.subs.length<=1?t.subs.length===0?void 0:t.subs[0]:(t.subs.length===1&&F(t.subs[0])&&t.subs[0].label===void 0&&(t.subs=t.subs[0].subs),t)},"rebuilder"))}o(q,"q");i(q,"flattenVirtual");var Po={opener:/^[\[({]/,closer:/^[\])}]/},Co=fe(Po),On={};function nt(e,t){On[e]=t}o(nt,"nt");i(nt,"registerLanguageSpecificParser");function te(e,t){let r=Rn(e),n=On[t!=null?t:""];return n?n(r):(pe(r,Co),tt(r))}o(te,"te");i(te,"parseTree");var Ao={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[\[({]/,closer:/^[\])}]/},Fo=fe(Ao);function Dn(e){let t=e;return pe(t,Fo),t=tt(t),t=q(t),Ce(t),T(t,r=>{if(r.label==="class"||r.label==="interface")for(let n of r.subs)!M(n)&&(n.label===void 0||n.label==="annotation")&&(n.label="member")},"bottomUp"),t}o(Dn,"Dn");i(Dn,"processJava");var Ro={heading:/^# /,subheading:/^## /,subsubheading:/### /},Oo=fe(Ro);function Bn(e){let t=e;if(pe(t,Oo),M(t))return t;function r(l){if(l.label==="heading")return 1;if(l.label==="subheading")return 2;if(l.label==="subsubheading")return 3}o(r,"n"),i(r,"headingLevel");let n=[t],s=[...t.subs];t.subs=[];for(let l of s){let a=r(l);if(a===void 0||M(l))n[n.length-1].subs.push(l);else{for(;n.length<a;)n.push(n[n.length-1]);for(n[a-1].subs.push(l),n[a]=l;n.length>a+1;)n.pop()}}return t=Vt(t),t=q(t),Ce(t),t}o(Bn,"Bn");i(Bn,"processMarkdown");function Ae(e){return" ".repeat(e.indentation)+e.sourceLine+`
`}o(Ae,"Ae");i(Ae,"deparseLine");function Wn(e){function t(r,n){let s="";return z(r)?s=Ae(r):M(r)&&(s=`
`),n+s}return o(t,"e"),i(t,"accumulator"),ke(e,"",t,"topDown")}o(Wn,"Wn");i(Wn,"deparseTree");function Do(e,t){let r=new Set(t),n=[],s="";function l(a){a.label!==void 0&&r.has(a.label)?(s!==""&&n.push({label:void 0,source:s}),n.push({label:a.label,source:Wn(a)}),s=""):(z(a)&&(s+=Ae(a)),a.subs.forEach(l))}return o(l,"s"),i(l,"visit"),l(e),s!==""&&n.push({label:void 0,source:s}),n}o(Do,"Do");i(Do,"deparseAndCutTree");function Un(e,t=0){let r=" ".repeat(t);if(e===void 0)return"UNDEFINED NODE";let n;e.subs===void 0?n="UNDEFINED SUBS":n=e.subs.map(a=>Un(a,t+2)).join(`,
`),n===""?n="[]":n=`[
${n}
      ${r}]`;let s=(F(e)||ee(e)?"   ":String(e.lineNumber).padStart(3," "))+`:  ${r}`,l=e.label===void 0?"":JSON.stringify(e.label);return F(e)||ee(e)?`${s}vnode(${e.indentation}, ${l}, ${n})`:M(e)?`${s}blank(${l!=null?l:""})`:`${s}lnode(${e.indentation}, ${l}, ${JSON.stringify(e.sourceLine)}, ${n})`}o(Un,"Un");i(Un,"describeTree");function zn(e,t=""){let r=e.label===void 0?"":`, ${JSON.stringify(e.label)}`,n=!M(e)&&e.subs.length>0?`[
${e.subs.map(s=>zn(s,t+"  ")).join(`, 
`)}
${t}]`:"[]";switch(e.type){case"blank":return`${t}blankNode(${e.lineNumber}${r})`;case"top":return`topNode(${n}${r})`;case"virtual":return`${t}virtualNode(${e.indentation}, ${n}${r})`;case"line":return`${t}lineNode(${e.indentation}, ${e.lineNumber}, "${e.sourceLine}", ${n}${r})`}}o(zn,"zn");i(zn,"encodeTree");function Vn(e){if(z(e)||M(e))return e.lineNumber;for(let t of e.subs){let r=Vn(t);if(r!==void 0)return r}}o(Vn,"Vn");i(Vn,"firstLineOf");function Hn(e){let t,r=e.subs.length-1;for(;r>=0&&t===void 0;)t=Hn(e.subs[r]),r--;return t===void 0&&!F(e)&&!ee(e)?e.lineNumber:t}o(Hn,"Hn");i(Hn,"lastLineOf");nt("markdown",Bn);nt("java",Dn);var qn={worthUp:.9,worthSibling:.88,worthDown:.8};function ge(e,t=qn){let r=H(e,n=>n?1:void 0);return T(r,n=>{var l;if(M(n))return;let s=n.subs.reduce((a,f)=>{var c;return Math.max(a,(c=f.label)!=null?c:0)},0);n.label=Math.max((l=n.label)!=null?l:0,s*t.worthUp)},"bottomUp"),T(r,n=>{if(M(n))return;let s=n.subs.map(f=>{var c;return(c=f.label)!=null?c:0}),l=[...s];for(let f=0;f<s.length;f++)s[f]!==0&&(l=l.map((c,u)=>Math.max(c,Math.pow(t.worthSibling,Math.abs(f-u))*s[f])));let a=n.label;a!==void 0&&(l=l.map(f=>Math.max(f,t.worthDown*a))),n.subs.forEach((f,c)=>f.label=l[c])},"topDown"),jn(r)}o(ge,"ge");i(ge,"fromTreeWithFocussedLines");function jn(e){let t=ke(e,[],(r,n)=>{var s,l;return(r.type==="line"||r.type==="blank")&&n.push(r.type==="line"?[Ae(r).trimEnd(),(s=r.label)!=null?s:0]:["",(l=r.label)!=null?l:0]),n},"topDown");return new Fe(t)}o(jn,"jn");i(jn,"fromTreeWithValuedLines");function Ht(e,t=!0,r=!0){let n=typeof e=="string"?te(e):te(e.source,e.languageId);q(n);let s=H(n,l=>t&&l!=="closer");return T(s,l=>{l.label===void 0&&(l.label=t&&l.label!==!1)},"topDown"),t&&T(s,l=>{if(l.label){let a=!1;for(let f of[...l.subs].reverse())f.label&&!a?a=!0:f.label=!1}else for(let a of l.subs)a.label=!1;l.subs.length>0&&(l.label=!1)},"topDown"),r&&T(s,l=>{l.label||(l.label=(z(l)||M(l))&&l.lineNumber==0)},"topDown"),ge(s)}o(Ht,"Ht");i(Ht,"elidableTextForSourceCode");var Z2,he=(Z2=class{constructor(t,r,n=U().tokenLength(t+`
`),s="strict"){if(this.text=t,this._value=r,this._cost=n,t.includes(`
`)&&s!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(r<0&&s!=="none")throw new Error("LineWithValueAndCost: value is negative");if(n<0&&s!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(s=="strict"&&r>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}get value(){return this._value}get cost(){return this._cost}adjustValue(t){return this._value*=t,this}recost(t=r=>U().tokenLength(r+`
`)){return this._cost=t(this.text),this}copy(){return new Z2(this.text,this.value,this.cost,"none")}},o(Z2,"t"),i(Z2,"LineWithValueAndCost"),Z2),Q2,Fe=(Q2=class{constructor(t){this.lines=[];let r=[];for(let n of t){let s=Array.isArray(n)?n[1]:1,l=Array.isArray(n)?n[0]:n;typeof l=="string"?l.split(`
`).forEach(a=>r.push(new he(a,s))):l instanceof Q2?l.lines.forEach(a=>r.push(a.copy().adjustValue(s))):"source"in l&&"languageId"in l&&Ht(l).lines.forEach(a=>r.push(a.copy().adjustValue(s)))}this.lines=r}adjust(t){this.lines.forEach(r=>r.adjustValue(t))}recost(t=r=>U().tokenLength(r+`
`)){this.lines.forEach(r=>r.recost(t))}makePrompt(t,r="[...]",n=!0,s="removeLeastDesirable",l=U()){let a=this.lines.map(f=>f.copy());return Bo(a,t,r,n,s,l)}},o(Q2,"t"),i(Q2,"ElidableText"),Q2);function Bo(e,t,r,n,s,l){var h,m,p,v,x,E,I,A,L,D,R,V,de;if(l.tokenLength(r+`
`)>t)throw new Error("maxTokens must be larger than the ellipsis length");s==="removeLeastBangForBuck"&&e.forEach(ve=>ve.adjustValue(1/ve.cost));let a=e.reduce((ve,n0)=>Math.max(ve,n0.value),0)+1,f=e.reduce((ve,n0)=>Math.max(ve,n0.text.length),0)+1,c=r.trim(),u=e.reduce((ve,n0)=>ve+n0.cost,0),d=e.length+1;for(;u>t&&d-->=-1;){let ve=e.reduce((o0,u0)=>u0.value<o0.value?u0:o0),n0=e.indexOf(ve),d0=(h=e.slice(0,n0+1).reverse().find(o0=>o0.text.trim()!==""))!=null?h:{text:""},r0=n?Math.min((p=(m=d0.text.match(/^\s*/))==null?void 0:m[0].length)!=null?p:0,((v=e[n0-1])==null?void 0:v.text.trim())===c?(I=(E=(x=e[n0-1])==null?void 0:x.text.match(/^\s*/))==null?void 0:E[0].length)!=null?I:0:f,((A=e[n0+1])==null?void 0:A.text.trim())===c?(R=(D=(L=e[n0+1])==null?void 0:L.text.match(/^\s*/))==null?void 0:D[0].length)!=null?R:0:f):0,m0=" ".repeat(r0)+r,Ve=new he(m0,a,l.tokenLength(m0+`
`),"loose");e.splice(n0,1,Ve),((V=e[n0+1])==null?void 0:V.text.trim())===c&&e.splice(n0+1,1),((de=e[n0-1])==null?void 0:de.text.trim())===c&&e.splice(n0-1,1);let we=e.reduce((o0,u0)=>o0+u0.cost,0);we>=u&&e.every(o0=>o0.value===a)&&(n=!1),u=we}if(d<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return e.map(ve=>ve.text).join(`
`)}o(Bo,"Bo");i(Bo,"makePrompt");function J(){}o(J,"J");i(J,"Diff");J.prototype={diff:i(function(e,t){var r,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.callback;typeof n=="function"&&(s=n,n={}),this.options=n;var l=this;function a(L){return s?(setTimeout(function(){s(void 0,L)},0),!0):L}o(a,"l"),i(a,"done"),e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));var f=t.length,c=e.length,u=1,d=f+c;n.maxEditLength&&(d=Math.min(d,n.maxEditLength));var h=(r=n.timeout)!==null&&r!==void 0?r:1/0,m=Date.now()+h,p=[{oldPos:-1,lastComponent:void 0}],v=this.extractCommon(p[0],t,e,0);if(p[0].oldPos+1>=c&&v+1>=f)return a([{value:this.join(t),count:t.length}]);var x=-1/0,E=1/0;function I(){for(var L=Math.max(x,-u);L<=Math.min(E,u);L+=2){var D=void 0,R=p[L-1],V=p[L+1];R&&(p[L-1]=void 0);var de=!1;if(V){var ve=V.oldPos-L;de=V&&0<=ve&&ve<f}var n0=R&&R.oldPos+1<c;if(!de&&!n0){p[L]=void 0;continue}if(!n0||de&&R.oldPos+1<V.oldPos?D=l.addToPath(V,!0,void 0,0):D=l.addToPath(R,void 0,!0,1),v=l.extractCommon(D,t,e,L),D.oldPos+1>=c&&v+1>=f)return a(Wo(l,D.lastComponent,t,e,l.useLongestToken));p[L]=D,D.oldPos+1>=c&&(E=Math.min(E,L-1)),v+1>=f&&(x=Math.max(x,L+1))}u++}if(o(I,"h"),i(I,"execEditLength"),s)i(o(function L(){setTimeout(function(){if(u>d||Date.now()>m)return s();I()||L()},0)},"v"),"exec")();else for(;u<=d&&Date.now()<=m;){var A=I();if(A)return A}},"diff"),addToPath:i(function(e,t,r,n){var s=e.lastComponent;return s&&s.added===t&&s.removed===r?{oldPos:e.oldPos+n,lastComponent:{count:s.count+1,added:t,removed:r,previousComponent:s.previousComponent}}:{oldPos:e.oldPos+n,lastComponent:{count:1,added:t,removed:r,previousComponent:s}}},"addToPath"),extractCommon:i(function(e,t,r,n){for(var s=t.length,l=r.length,a=e.oldPos,f=a-n,c=0;f+1<s&&a+1<l&&this.equals(t[f+1],r[a+1]);)f++,a++,c++;return c&&(e.lastComponent={count:c,previousComponent:e.lastComponent}),e.oldPos=a,f},"extractCommon"),equals:i(function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},"equals"),removeEmpty:i(function(e){for(var t=[],r=0;r<e.length;r++)e[r]&&t.push(e[r]);return t},"removeEmpty"),castInput:i(function(e){return e},"castInput"),tokenize:i(function(e){return e.split("")},"tokenize"),join:i(function(e){return e.join("")},"join")};function Wo(e,t,r,n,s){for(var l=[],a;t;)l.push(t),a=t.previousComponent,delete t.previousComponent,t=a;l.reverse();for(var f=0,c=l.length,u=0,d=0;f<c;f++){var h=l[f];if(h.removed){if(h.value=e.join(n.slice(d,d+h.count)),d+=h.count,f&&l[f-1].added){var m=l[f-1];l[f-1]=l[f],l[f]=m}}else{if(!h.added&&s){var p=r.slice(u,u+h.count);p=p.map(function(x,E){var I=n[d+E];return I.length>x.length?I:x}),h.value=e.join(p)}else h.value=e.join(r.slice(u,u+h.count));u+=h.count,h.added||(d+=h.count)}}var v=l[c-1];return c>1&&typeof v.value=="string"&&(v.added||v.removed)&&e.equals("",v.value)&&(l[c-2].value+=v.value,l.pop()),l}o(Wo,"Wo");i(Wo,"buildValues");var Ga=new J,Zn=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,$n=/\S/,Gn=new J;Gn.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!$n.test(e)&&!$n.test(t)};Gn.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<t.length-1;r++)!t[r+1]&&t[r+2]&&Zn.test(t[r])&&Zn.test(t[r+2])&&(t[r]+=t[r+2],t.splice(r+1,2),r--);return t};var Gt=new J;Gt.tokenize=function(e){this.options.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var n=0;n<r.length;n++){var s=r[n];n%2&&!this.options.newlineIsToken?t[t.length-1]+=s:(this.options.ignoreWhitespace&&(s=s.trim()),t.push(s))}return t};function Uo(e,t,r){return Gt.diff(e,t,r)}o(Uo,"Uo");i(Uo,"diffLines");var zo=new J;zo.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var Vo=new J;Vo.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function rt(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rt=i(function(t){return typeof t},"_typeof"):rt=i(function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},"_typeof"),rt(e)}o(rt,"rt");i(rt,"_typeof");function qt(e){return Ho(e)||qo(e)||jo(e)||Zo()}o(qt,"qt");i(qt,"_toConsumableArray");function Ho(e){if(Array.isArray(e))return jt(e)}o(Ho,"Ho");i(Ho,"_arrayWithoutHoles");function qo(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}o(qo,"qo");i(qo,"_iterableToArray");function jo(e,t){if(e){if(typeof e=="string")return jt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jt(e,t)}}o(jo,"jo");i(jo,"_unsupportedIterableToArray");function jt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}o(jt,"jt");i(jt,"_arrayLikeToArray");function Zo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}o(Zo,"Zo");i(Zo,"_nonIterableSpread");var $o=Object.prototype.toString,Re=new J;Re.useLongestToken=!0;Re.tokenize=Gt.tokenize;Re.castInput=function(e){var t=this.options,r=t.undefinedReplacement,n=t.stringifyReplacer,s=n===void 0?function(l,a){return typeof a>"u"?r:a}:n;return typeof e=="string"?e:JSON.stringify(Zt(e,null,null,s),s,"  ")};Re.equals=function(e,t){return J.prototype.equals.call(Re,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function Zt(e,t,r,n,s){t=t||[],r=r||[],n&&(e=n(s,e));var l;for(l=0;l<t.length;l+=1)if(t[l]===e)return r[l];var a;if($o.call(e)==="[object Array]"){for(t.push(e),a=new Array(e.length),r.push(a),l=0;l<e.length;l+=1)a[l]=Zt(e[l],t,r,n,s);return t.pop(),r.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),rt(e)==="object"&&e!==null){t.push(e),a={},r.push(a);var f=[],c;for(c in e)e.hasOwnProperty(c)&&f.push(c);for(f.sort(),l=0;l<f.length;l+=1)c=f[l],a[c]=Zt(e[c],t,r,n,c);t.pop(),r.pop()}else a=e;return a}o(Zt,"Zt");i(Zt,"canonicalize");var $t=new J;$t.tokenize=function(e){return e.slice()};$t.join=$t.removeEmpty=function(e){return e};function Kn(e,t,r,n,s,l,a){a||(a={}),typeof a.context>"u"&&(a.context=4);var f=Uo(r,n,a);if(!f)return;f.push({value:"",lines:[]});function c(I){return I.map(function(A){return" "+A})}o(c,"u"),i(c,"contextLines");for(var u=[],d=0,h=0,m=[],p=1,v=1,x=i(function(I){var A=f[I],L=A.lines||A.value.replace(/\n$/,"").split(`
`);if(A.lines=L,A.added||A.removed){var D;if(!d){var R=f[I-1];d=p,h=v,R&&(m=a.context>0?c(R.lines.slice(-a.context)):[],d-=m.length,h-=m.length)}(D=m).push.apply(D,qt(L.map(function(Ve){return(A.added?"+":"-")+Ve}))),A.added?v+=L.length:p+=L.length}else{if(d)if(L.length<=a.context*2&&I<f.length-2){var V;(V=m).push.apply(V,qt(c(L)))}else{var de,ve=Math.min(L.length,a.context);(de=m).push.apply(de,qt(c(L.slice(0,ve))));var n0={oldStart:d,oldLines:p-d+ve,newStart:h,newLines:v-h+ve,lines:m};if(I>=f.length-2&&L.length<=a.context){var d0=/\n$/.test(r),r0=/\n$/.test(n),m0=L.length==0&&m.length>n0.oldLines;!d0&&m0&&r.length>0&&m.splice(n0.oldLines,0,"\\ No newline at end of file"),(!d0&&!m0||!r0)&&m.push("\\ No newline at end of file")}u.push(n0),d=0,h=0,m=[]}p+=L.length,v+=L.length}},"_loop"),E=0;E<f.length;E++)x(E);return{oldFileName:e,newFileName:t,oldHeader:s,newHeader:l,hunks:u}}o(Kn,"Kn");i(Kn,"structuredPatch");function Ko(e,t){let r=typeof e=="string"?typeof t=="string"?void 0:t.languageId:typeof t=="string"||e.languageId===t.languageId?e.languageId:void 0;e=typeof e=="string"?e:e.source,t=typeof t=="string"?t:t.source;let n=Kn("","",e,t),s=new Set,l=new Set;for(let c of n.hunks){for(let u=c.oldStart;u<c.oldStart+c.oldLines;u++)s.add(u);for(let u=c.newStart;u<c.newStart+c.newLines;u++)l.add(u)}let a=H(q(te(e,r)),()=>!1),f=H(q(te(t,r)),()=>!1);return T(a,c=>{(c.type==="line"||c.type==="blank")&&s.has(c.lineNumber)&&(c.label=!0)},"topDown"),T(f,c=>{(c.type==="line"||c.type==="blank")&&l.has(c.lineNumber)&&(c.label=!0)},"topDown"),[ge(a),ge(f)]}o(Ko,"Ko");i(Ko,"elidableTextForDiff");var ot=require("fs"),Kt=(e=>(e[e.Unknown=0]="Unknown",e[e.File=1]="File",e[e.Directory=2]="Directory",e[e.SymbolicLink=64]="SymbolicLink",e))(Kt||{}),o8,Oe=(o8=class{},o(o8,"Oe"),i(o8,"FileSystem"),o8),a8,De=(a8=class extends Oe{getFsPath(t){if(t.scheme!=="file")throw new Error(`Unsupported scheme: ${t.scheme}`);return t.fsPath}async readFileString(t){return(await ot.promises.readFile(this.getFsPath(t))).toString()}async stat(t){let{targetStat:r,lstat:n,stat:s}=await this.statWithLink(this.getFsPath(t));return{ctime:r.ctimeMs,mtime:r.mtimeMs,size:r.size,type:this.getFileType(r,n,s)}}async statWithLink(t){let r=await ot.promises.lstat(t);if(r.isSymbolicLink())try{let n=await ot.promises.stat(t);return{lstat:r,stat:n,targetStat:n}}catch{}return{lstat:r,targetStat:r}}getFileType(t,r,n){let s=0;return t.isFile()&&(s=1),t.isDirectory()&&(s=2),r.isSymbolicLink()&&n&&(s|=64),s}},o(a8,"De"),i(a8,"LocalFileSystem"),a8),al=new De,st={abap:{start:'"',end:""},aspdotnet:{start:"<%--",end:"--%>"},bat:{start:"REM",end:""},bibtex:{start:"%",end:""},blade:{start:"#",end:""},BluespecSystemVerilog:{start:"//",end:""},c:{start:"//",end:""},clojure:{start:";",end:""},coffeescript:{start:"//",end:""},cpp:{start:"//",end:""},csharp:{start:"//",end:""},css:{start:"/*",end:"*/"},cuda:{start:"//",end:""},dart:{start:"//",end:""},dockerfile:{start:"#",end:""},dotenv:{start:"#",end:""},elixir:{start:"#",end:""},erb:{start:"<%#",end:"%>"},erlang:{start:"%",end:""},fsharp:{start:"//",end:""},go:{start:"//",end:""},graphql:{start:"#",end:""},groovy:{start:"//",end:""},haml:{start:"-#",end:""},handlebars:{start:"{{!",end:"}}"},haskell:{start:"--",end:""},hlsl:{start:"//",end:""},html:{start:"<!--",end:"-->"},ini:{start:";",end:""},java:{start:"//",end:""},javascript:{start:"//",end:""},javascriptreact:{start:"//",end:""},jsonc:{start:"//",end:""},jsx:{start:"//",end:""},julia:{start:"#",end:""},kotlin:{start:"//",end:""},latex:{start:"%",end:""},legend:{start:"//",end:""},less:{start:"//",end:""},lua:{start:"--",end:""},makefile:{start:"#",end:""},markdown:{start:"[]: #",end:""},"objective-c":{start:"//",end:""},"objective-cpp":{start:"//",end:""},perl:{start:"#",end:""},php:{start:"//",end:""},powershell:{start:"#",end:""},pug:{start:"//",end:""},python:{start:"#",end:""},ql:{start:"//",end:""},r:{start:"#",end:""},razor:{start:"<!--",end:"-->"},ruby:{start:"#",end:""},rust:{start:"//",end:""},sass:{start:"//",end:""},scala:{start:"//",end:""},scss:{start:"//",end:""},shellscript:{start:"#",end:""},slim:{start:"/",end:""},solidity:{start:"//",end:""},sql:{start:"--",end:""},stylus:{start:"//",end:""},svelte:{start:"<!--",end:"-->"},swift:{start:"//",end:""},systemverilog:{start:"//",end:""},terraform:{start:"#",end:""},tex:{start:"%",end:""},typescript:{start:"//",end:""},typescriptreact:{start:"//",end:""},vb:{start:"'",end:""},verilog:{start:"//",end:""},"vue-html":{start:"<!--",end:"-->"},vue:{start:"//",end:""},xml:{start:"<!--",end:"-->"},xsl:{start:"<!--",end:"-->"},yaml:{start:"#",end:""}},Jo=["php","plaintext"],Jn={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};function Qo({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}o(Qo,"Qo");i(Qo,"hasLanguageMarker");function Be(e,t,r){var s;let n=(s=st[t])!=null?s:r;if(n){let l=n.end==""?"":" "+n.end;return`${n.start} ${e}${l}`}return""}o(Be,"Be");i(Be,"comment");function be(e,t,r){if(!st[t]&&!r||e==="")return"";let n=e.endsWith(`
`),s=(n?e.slice(0,-1):e).split(`
`).map(l=>Be(l,t,r)).join(`
`);return n?s+`
`:s}o(be,"be");i(be,"commentBlockAsSingles");function Qn(e,t){let{languageId:r}=e;return Jo.indexOf(r)===-1&&!Qo(e)?r in Jn?Jn[r]:Be(`Language: ${r}`,r,t):""}o(Qn,"Qn");i(Qn,"getLanguageMarker");function Xn(e,t){return e.relativePath?Be(`Path: ${e.relativePath}`,e.languageId,t):""}o(Xn,"Xn");i(Xn,"getPathMarker");function ye(e){return e===""||e.endsWith(`
`)?e:e+`
`}o(ye,"ye");i(ye,"newLineEnded");var Xo={tokenizerName:"cl100k"};function Yo(e){return{...Xo,...e}}o(Yo,"Yo");i(Yo,"cursorContextOptions");function it(e,t={}){let r=Yo(t),n=U(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let s=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(s=s.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(s=n.takeLastLinesTokens(s,r.maxTokenLength)),{context:s,lineCount:s.split(`
`).length,tokenLength:n.tokenLength(s),tokenizerName:r.tokenizerName}}o(it,"it");i(it,"getCursorContext");function Yn(e,t){if(e.length===0||t.length===0)return{score:e.length+t.length};let r=Array.from({length:e.length}).map(()=>Array.from({length:t.length}).map(()=>0));for(let n=0;n<e.length;n++)r[n][0]=n;for(let n=0;n<t.length;n++)r[0][n]=n;for(let n=0;n<t.length;n++)for(let s=0;s<e.length;s++)r[s][n]=Math.min((s==0?n:r[s-1][n])+1,(n==0?s:r[s][n-1])+1,(s==0||n==0?Math.max(s,n):r[s-1][n-1])+(e[s]==t[n]?0:1));return{score:r[e.length-1][t.length-1]}}o(Yn,"Yn");i(Yn,"findEditDistanceScore");var We=50,es=5,l8,at=(l8=class{constructor(){this.used=new Map,this.unused=new Map}add(t){for(let[r,n]of t.used)this.used.set(r,n);for(let[r,n]of t.unused)this.unused.set(r,n)}markUsed(t){this.IsSnippet(t)&&this.used.set(t.id,this.convert(t))}undoMarkUsed(t){this.IsSnippet(t)&&this.used.delete(t.id)}markUnused(t){this.IsSnippet(t)&&this.unused.set(t.id,this.convert(t))}convert(t){return{score:t.score.toFixed(4),length:t.text.length}}IsSnippet(t){return t.kind=="SimilarFile"||t.kind=="RetrievalSnippet"||t.kind=="TooltipSignature"}},o(l8,"at"),i(l8,"PromptBackground"),l8),f8,lt=(f8=class{constructor(){this.used=new Map,this.unused=new Map,this.usedCounts=new Map,this.unusedCounts=new Map}add(t){for(let[r,n]of t.used)this.used.set(r,(this.used.get(r)||0)+n);for(let[r,n]of t.unused)this.unused.set(r,(this.unused.get(r)||0)+n);for(let[r,n]of t.usedCounts)this.usedCounts.set(r,(this.usedCounts.get(r)||0)+n);for(let[r,n]of t.unusedCounts)this.unusedCounts.set(r,(this.unusedCounts.get(r)||0)+n)}markUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+1)}undoMarkUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)-t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-1)}markUnused(t){this.unused.set(t.kind,(this.unused.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+1)}},o(f8,"lt"),i(f8,"PromptChoices"),f8),c8,Ue=(c8=class{constructor(t="default"){switch(t){default:this._rankedList=["LanguageMarker","PathMarker","RetrievalSnippet","SimilarFile","BeforeCursor","TooltipSignature"]}}get rankedList(){return this._rankedList}sortElements(t){return t.sort((r,n)=>{let s=this._rankedList.indexOf(r.kind),l=this._rankedList.indexOf(n.kind);if(s===-1||l===-1)throw`Invalid element kind: ${r.kind} or ${n.kind}, not found in prompt element ordering list`;return s===l?r.id-n.id:s-l})}},o(c8,"Ue"),i(c8,"PromptOrderList"),c8),u8,ut=(u8=class extends Ue{constructor(t="default"){switch(super(),t){case"office-exp":this._rankedList=["PathMarker","TooltipSignature","BeforeCursor","SimilarFile","RetrievalSnippet","LanguageMarker"];break;default:this._rankedList=["TooltipSignature","BeforeCursor","SimilarFile","RetrievalSnippet","PathMarker","LanguageMarker"]}}sortElements(t){return t.sort((r,n)=>{let s=this._rankedList.indexOf(r.kind),l=this._rankedList.indexOf(n.kind);if(s===-1||l===-1)throw`Invalid element kind: ${r.kind} or ${n.kind}, not found in snippet provider priority list`;return s===l?n.id-r.id:s-l})}},o(u8,"ut"),i(u8,"PromptPriorityList"),u8);function _t(e){switch(e){case"neighboring-tabs":return"SimilarFile";case"retrieval":return"RetrievalSnippet";case"path":return"PathMarker";case"language":return"LanguageMarker";case"tooltip-signature":return"TooltipSignature";default:throw new Error(`Unknown snippet provider type ${e}`)}}o(_t,"_t");i(_t,"kindForSnippetProviderType");var d8,ct=(d8=class{constructor(t){this.ranges=new Array;let r=0,n;for(let s of t)s.text.length!==0&&(n==="BeforeCursor"&&s.kind==="BeforeCursor"?this.ranges[this.ranges.length-1].end+=s.text.length:this.ranges.push({kind:s.kind,start:r,end:r+s.text.length}),n=s.kind,r+=s.text.length)}},o(d8,"ct"),i(d8,"PromptElementRanges"),d8),h8,dt=(h8=class{constructor(t,r,n,s,l){this.tokenizer=t,this.lineEndingOption=r,this.orderingList=n,this.snippetTextProcessor=s,this.priorityList=l,this.content=[],this.basePromptBackground=new at,this.baseTallyOfChoices=new lt}extMarkUnused(t){this.basePromptBackground.markUnused(t),this.baseTallyOfChoices.markUnused(t)}getContent(){return[...this.content]}convertLineEndings(t){return this.lineEndingOption==="unix"&&(t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),t}maxPrefixTokenLength(){return this.content.reduce((t,r)=>t+=r.tokens,0)}append(t,r,n=this.tokenizer.tokenLength(t),s=NaN){t=this.convertLineEndings(t);let l=this.content.length;return this.content.push({id:l,text:t,kind:r,tokens:n,score:s}),l}fulfillPrefix(t){let r=new at;r.add(this.basePromptBackground);let n=new lt;n.add(this.baseTallyOfChoices);function s(v){r.markUsed(v),n.markUsed(v)}o(s,"o"),i(s,"markUsed");function l(v){r.undoMarkUsed(v),n.undoMarkUsed(v)}o(l,"s"),i(l,"undoMarkUsed");function a(v){r.markUnused(v),n.markUnused(v)}o(a,"a"),i(a,"markUnused"),this.priorityList.sortElements(this.content);let f,c=[],u=t;this.content.forEach(v=>{if(u>0||f===void 0){let x=v.tokens;if(u>=x)u-=x,s(v),c.push(v);else if(v.kind==="BeforeCursor"){let{summarizedElement:E,removedMaterial:I}=this.snippetTextProcessor.summarize(this.tokenizer,v,u);v=E,x=v.tokens,u-=x,v.text.length>0&&s(v),I.text.length>0&&a(I),c.push(v)}else f===void 0?f=v:a(v)}else a(v)}),this.orderingList.sortElements(c);let d=c.reduce((v,x)=>v+x.text,""),h=this.tokenizer.tokenLength(d);for(;h>t;){this.priorityList.sortElements(c);let v=c.pop();v&&(l(v),a(v),f!==void 0&&a(f),f=void 0),this.orderingList.sortElements(c),d=c.reduce((x,E)=>x+E.text,""),h=this.tokenizer.tokenLength(d)}let m=[...c];if(f!==void 0){m.push(f),this.orderingList.sortElements(m);let v=m.reduce((E,I)=>E+I.text,""),x=this.tokenizer.tokenLength(v);if(x<=t){s(f);let E=new ct(m);return{prefix:v,suffix:"",prefixLength:x,suffixLength:0,promptChoices:n,promptBackground:r,promptElementRanges:E}}else a(f)}let p=new ct(c);return{prefix:d,suffix:"",prefixLength:h,suffixLength:0,promptChoices:n,promptBackground:r,promptElementRanges:p}}fulfill(t,r,n){var m;if(r.suffixPercent===0||t.length===0)return{promptInfo:this.fulfillPrefix(r.maxPromptLength),newCachedSuffix:n};let s=r.maxPromptLength-es,l=Math.floor(s*(100-r.suffixPercent)/100),a=s-l,f=t.trimStart();if(s>We&&a<We)throw new Error(`Suffix budget is smaller than MAX_EDIT_DISTANCE_LENGTH: ${a} < ${We}
`);let c=this.tokenizer.takeFirstTokens(f,We),u=!1;c.tokens.length>0&&r.suffixMatchThreshold>0&&100*((m=Yn(c.tokens,n.tokens.slice(0,We)))==null?void 0:m.score)<r.suffixMatchThreshold*c.tokens.length&&(u=!0);let d;if(u)l=s-n.tokens.length,d=n;else{let p=this.maxPrefixTokenLength(),v=this.tokenizer.tokenLength(f);p<l?(l=p,a=s-l):v<a&&(l=s-v,a=v),d=this.tokenizer.takeFirstTokens(f,a)}let h=this.fulfillPrefix(l);return h.suffix=d.text,h.suffixLength=d.tokens.length,{promptInfo:h,newCachedSuffix:d}}},o(h8,"dt"),i(h8,"PromptWishlist"),h8),j=(e=>(e.NeighboringTabs="neighboring-tabs",e.Retrieval="retrieval",e.Language="language",e.Path="path",e.TooltipSignature="tooltip-signature",e))(j||{}),ie=(e=>(e.Function="function",e.Snippet="snippet",e.Variable="variable",e.Parameter="parameter",e.Method="method",e.Class="class",e.Module="module",e.Alias="alias",e.Enum="enum member",e.Interface="interface",e))(ie||{}),ts={function:"function",snippet:"snippet",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};function ns(e,t,r){let n=ts[e.semantics],s=(e.relativePath?`Compare this ${n} from ${e.relativePath}:`:`Compare this ${n}:`)+`
`+e.snippet;return s.endsWith(`
`)||(s+=`
`),be(s,t,r)}o(ns,"ns");i(ns,"announceSnippet");function er(e){e.sort((t,r)=>r.score-t.score)}o(er,"er");i(er,"sortSnippetsDescending");function rs(e,t,r){if(t==0)return[];let n=e.map(l=>({...l,kind:_t(l.provider)})),s=[];return r.rankedList.forEach(l=>{let a=n.filter(({kind:f})=>f===l);er(a),s.push(...a)}),s.slice(0,t)}o(rs,"rs");i(rs,"selectSnippets");function tr(e,t,r,n,s,l){let a=rs(e,l,n).map(f=>{let c=ns(f,t,s),u=r.tokenLength(c);return{announcedSnippet:c,provider:f.provider,score:f.score,tokens:u,relativePath:f.relativePath}});return er(a),a.reverse(),a}o(tr,"tr");i(tr,"processSnippetsForWishlist");var g8,Qt=(g8=class{constructor(t){this.keys=[],this.cache={},this.size=t}put(t,r){var n;if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let s=(n=this.keys.shift())!=null?n:"";delete this.cache[s]}}get(t){return this.cache[t]}},o(g8,"Qt"),i(g8,"FifoCache"),g8),m8,Xt=(m8=class{constructor(t){var r;this.stopsForLanguage=(r=as.get(t.languageId))!=null?r:is}tokenize(t){return new Set(os(t).filter(r=>!this.stopsForLanguage.has(r)))}},o(m8,"Xt"),i(m8,"Tokenizer"),m8),nr=new Qt(20),p8,mt=(p8=class{constructor(t){this.referenceDoc=t,this.tokenizer=new Xt(t)}get referenceTokens(){return this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((n,s)=>n.score>s.score?1:-1):r=="descending"?t.sort((n,s)=>n.score>s.score?-1:1):t}retrieveAllSnippets(t,r="descending"){var u;let n=[];if(t.source.length===0||this.referenceTokens.size===0)return n;let s=t.source.split(`
`),l=this.id()+":"+t.source,a=(u=nr.get(l))!=null?u:[],f=a.length==0,c=f?s.map(this.tokenizer.tokenize,this.tokenizer):[];for(let[d,[h,m]]of this.getWindowsDelineations(s).entries()){if(f){let x=new Set;c.slice(h,m).forEach(E=>E.forEach(x.add,x)),a.push(x)}let p=a[d],v=this.similarityScore(p,this.referenceTokens);n.push({score:v,startLine:h,endLine:m})}return f&&nr.put(l,a),this.sortScoredSnippets(n,r)}async findMatches(t){let r=await this.findBestMatch(t);return r?[r]:[]}async findBestMatch(t){if(t.source.length===0||this.referenceTokens.size===0)return;let r=t.source.split(`
`),n=this.retrieveAllSnippets(t,"descending");return n.length===0||n[0].score===0?void 0:{snippet:r.slice(n[0].startLine,n[0].endLine).join(`
`),semantics:"snippet",provider:"neighboring-tabs",...n[0]}}},o(p8,"mt"),i(p8,"WindowedMatcher"),p8);function os(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}o(os,"os");i(os,"splitIntoWords");var ss=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),is=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...ss]),as=new Map([]);function rr(e,t){let r=[],n=t.length;if(n==0)return[];if(n<e)return[[0,n]];for(let s=0;s<n-e+1;s++)r.push([s,s+e]);return r}o(rr,"rr");i(rr,"getBasicWindowDelineations");var K5,pt=(K5=class extends mt{constructor(t,r){super(t),this.windowLength=r}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return rr(this.windowLength,t)}_getCursorContextInfo(t){return it(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return ls(t,r)}},o(K5,"t"),i(K5,"FixedWindowSizeJaccardMatcher"),K5.FACTORY=t=>({to:r=>new K5(r,t)}),K5);function ls(e,t){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size/(e.size+t.size-r.size)}o(ls,"ls");i(ls,"computeScore");var ze=(e=>(e.None="none",e.Conservative="conservative",e.Medium="medium",e.Eager="eager",e.EagerButLittle="eagerButLittle",e.EagerButMedium="eagerButMedium",e.EagerButMuch="eagerButMuch",e.RetrievalComparable="retrievalComparable",e))(ze||{}),us={none:{snippetLength:1,threshold:-1,numberOfSnippets:0},conservative:{snippetLength:10,threshold:.3,numberOfSnippets:1},medium:{snippetLength:20,threshold:.1,numberOfSnippets:2},eager:{snippetLength:60,threshold:0,numberOfSnippets:4},eagerButLittle:{snippetLength:10,threshold:0,numberOfSnippets:1},eagerButMedium:{snippetLength:20,threshold:0,numberOfSnippets:4},eagerButMuch:{snippetLength:60,threshold:0,numberOfSnippets:6},retrievalComparable:{snippetLength:30,threshold:0,numberOfSnippets:4}},cs=1e4,ds=20;function _s(e,t){return pt.FACTORY(t.snippetLength).to(e)}o(_s,"_s");i(_s,"getMatcher");async function or(e,t,r){let n={...us[r]},s=_s(e,n);return n.numberOfSnippets===0?[]:(await t.filter(l=>l.source.length<cs&&l.source.length>0).slice(0,ds).reduce(async(l,a)=>(await l).concat((await s.findMatches(a)).map(f=>({relativePath:a.relativePath,...f}))),Promise.resolve([]))).filter(l=>l.score&&l.snippet&&l.score>n.threshold).sort((l,a)=>l.score-a.score).slice(-n.numberOfSnippets)}o(or,"or");i(or,"getNeighborSnippets");function sr(e,t,r){if(!r)throw new Error("targetTokenBudget must be specified for the truncateFirstLinesFirst summarizer");let n=t.text.split(`
`);for(let v=0;v<n.length-1;v++)n[v]+=`
`;let s=[];n.forEach((v,x)=>{v===`
`&&s.length>0&&!s[s.length-1].endsWith(`

`)?s[s.length-1]+=`
`:s.push(v)});let l=s.map(v=>e.tokenLength(v)),a=1,f=0;for(;a<=l.length;a++){let v=l.at(-a);if(v){if(v+f>r){a--;break}f+=v}}let c=s.slice(-a).join(""),u=e.tokenLength(c),d=s.slice(0,-a).join(""),h=e.tokenLength(d),m={id:t.id,kind:t.kind,text:c,tokens:u,score:t.score},p={id:t.id,kind:t.kind,text:d,tokens:h,score:t.score};return{summarizedElement:m,removedMaterial:p}}o(sr,"sr");i(sr,"truncateFirstLinesFirst");var y8,ft=(y8=class{constructor(t="default"){switch(t){case"default":default:this.kindToFunctionMap=new Map([["BeforeCursor",sr]])}}isSummarizationAvailable(t){return this.kindToFunctionMap.has(t)}summarize(t,r,n){return this.kindToFunctionMap.get(r.kind)(t,r,n)}},o(y8,"ft"),i(y8,"SnippetTextProcessor"),y8),ps=/(\.|\->|::)\w+$/;function ir(e,t){let r=`Use ${e}`;return be(r,t)}o(ir,"ir");i(ir,"announceTooltipSignatureSnippet");function ar(e){let t=e.source.substring(0,e.offset);return ps.test(t)}o(ar,"ar");i(ar,"endsWithAttributesOrMethod");function lr(e,t){let r=e.lastIndexOf(`
`)+1,n=e.substring(0,r),s=e.substring(r);return t.snippet=t.snippet+s,[n,t]}o(lr,"lr");i(lr,"transferLastLineToTooltipSignature");var ur={text:"",tokens:[]},cr=1500,dr=4,_r=150,Jt=(e=>(e.ConvertToUnix="unix",e.KeepOriginal="keep",e))(Jt||{}),mr=(e=>(e.None="none",e.FifteenPercent="fifteenPercent",e))(mr||{}),pr=(e=>(e.Equal="equal",e.Levenshtein="levenshteineditdistance",e))(pr||{}),v8,gt=(v8=class{constructor(t,r){if(this.fs=t,this.maxPromptLength=cr,this.numberOfSnippets=dr,this.neighboringTabs="eager",this.lineEnding="unix",this.suffixPercent=0,this.tokenizerName="cl100k",this.suffixMatchThreshold=0,this.promptOrderListPreset="default",this.promptPriorityPreset="default",this.snippetTextProcessingPreset="default",this.defaultCommentMarker=void 0,Object.assign(this,r),this.suffixPercent<0||this.suffixPercent>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${this.suffixPercent}`);if(this.suffixMatchThreshold<0||this.suffixMatchThreshold>100)throw new Error(`suffixMatchThreshold must be at between 0 and 100, but was ${this.suffixMatchThreshold}`)}},o(v8,"gt"),i(v8,"PromptOptions"),v8),gs={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor"};function ne(e){var t;return e=e.toLowerCase(),(t=gs[e])!=null?t:e}o(ne,"ne");i(ne,"normalizeLanguageId");async function hs(e,t,r={},n=[]){let s=new gt(e,r),l=U(s.tokenizerName),a=new ft(s.snippetTextProcessingPreset),f=new Ue(s.promptOrderListPreset),c=new ut(s.promptPriorityPreset),{source:u,offset:d}=t;if(d<0||d>u.length)throw new Error(`Offset ${d} is out of range.`);t.languageId=ne(t.languageId);let h=new dt(l,s.lineEnding,f,a,c),m=n.find(D=>D.provider==="path"),p=n.find(D=>D.provider==="language"),v=n.find(D=>D.provider==="tooltip-signature");m!==void 0&&m.snippet.length>0?(h.append(m.snippet,"PathMarker"),p&&h.extMarkUnused({text:p.snippet,kind:"LanguageMarker",tokens:l.tokenLength(p.snippet),id:NaN,score:NaN})):p&&h.append(p.snippet,"LanguageMarker"),n=n.filter(D=>D.provider!=="language"&&D.provider!=="path"&&D.provider!=="tooltip-signature");function x(){tr(n,t.languageId,l,c,r.defaultCommentMarker,s.numberOfSnippets).forEach(D=>{let R=_t(D.provider);h.append(D.announcedSnippet,R,D.tokens,D.score)})}o(x,"g"),i(x,"addSnippetsNow"),x();let E=u.substring(0,d);v!==void 0&&l.tokenLength(v.snippet)<=_r?([E,v]=lr(E,v),h.append(v.snippet,"TooltipSignature")):v!==void 0&&h.extMarkUnused({text:v.snippet,kind:"TooltipSignature",tokens:l.tokenLength(v.snippet),id:NaN,score:NaN}),h.append(E,"BeforeCursor");let I=u.slice(d),{promptInfo:A,newCachedSuffix:L}=h.fulfill(I,s,ur);return ur=L,A}o(hs,"hs");i(hs,"getPrompt");var x8,re=(x8=class extends Error{constructor(t){super(t),this.name="ProviderTimeoutError"}},o(x8,"re"),i(x8,"ProviderTimeoutError"),x8),_8,Z=(_8=class{constructor(t){this.api=t}getSnippets(t,r){return new Promise((n,s)=>{r.aborted&&s({error:new re("provider aborted"),providerType:this.type}),r.addEventListener("abort",()=>{s({error:new re(`max runtime exceeded: ${Yt} ms`),providerType:this.type})},{once:!0});let l=performance.now();this.buildSnippets(t).then(a=>{let f=performance.now();n({snippets:a,providerType:this.type,runtime:f-l})}).catch(a=>{s({error:a,providerType:this.type})})})}},o(_8,"Z"),i(_8,"SnippetProvider"),_8),b8,ht=(b8=class extends Z{constructor(){super(...arguments),this.type="language"}async buildSnippets(t){let{currentFile:r,options:n}=t;return r.languageId=ne(r.languageId),[{provider:this.type,semantics:"snippet",snippet:ye(Qn(r,n.defaultCommentMarker)),relativePath:r.relativePath,startLine:0,endLine:0,score:0}]}},o(b8,"ht"),i(b8,"LanguageSnippetProvider"),b8),C8,bt=(C8=class extends Z{constructor(){super(...arguments),this.type="neighboring-tabs"}async buildSnippets(t){let{currentFile:r,neighborFiles:n,options:s}=t;return s&&n&&n.length&&s.neighboringTabs!=="none"?await this.api.getNeighborSnippets(r,n,s.neighboringTabs):[]}},o(C8,"bt"),i(C8,"NeighborFilesProvider"),C8),E8,yt=(E8=class extends Z{constructor(){super(...arguments),this.type="path"}async buildSnippets(t){let{currentFile:r,options:n}=t;return r.languageId=ne(r.languageId),[{provider:this.type,semantics:"snippet",snippet:ye(Xn(r,n.defaultCommentMarker)),relativePath:r.relativePath,startLine:0,endLine:0,score:0}]}},o(E8,"yt"),i(E8,"PathSnippetProvider"),E8),T8,wt=(T8=class extends Z{constructor(){super(...arguments),this.type="tooltip-signature"}async buildSnippets(t){let{currentFile:r,tooltipSignature:n}=t,s=[];return r.languageId=ne(r.languageId),n&&ar(r)&&s.push({provider:this.type,semantics:"snippet",snippet:ye(ir(n,r.languageId)),relativePath:r.relativePath,startLine:0,endLine:0,score:0}),s}},o(T8,"wt"),i(T8,"TooltipSignatureSnippetProvider"),T8),Qr=require("path"),G=require("worker_threads");function ni(e){return new Promise(t=>{setTimeout(()=>t(`delay: ${e}`),e)})}o(ni,"ni");i(ni,"sleep");var Jr=["getNeighborSnippets","sleep"],S8,En=(S8=class{constructor(){var t;this.nextHandlerId=0,this.handlers=new Map,this.fns=new Map,this.getNeighborSnippets=or,this.sleep=ni,!G.isMainThread&&((t=G.workerData)!=null&&t.port)&&(Kr(),process.cwd=()=>G.workerData.cwd,this.configureWorkerResponse(G.workerData.port))}initWorker(){let{port1:t,port2:r}=new G.MessageChannel;this.port=t,this.worker=new G.Worker((0,Qr.resolve)(__dirname,"..","dist","workerProxy.js"),{workerData:{port:r,cwd:process.cwd()},transferList:[r]}),this.port.on("message",n=>this.handleMessage(n)),this.port.on("error",n=>this.handleError(n))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let t of Jr)this.fns.set(t,this[t]),this.proxy(t)}unproxyFunctions(){for(let t of Jr){let r=this.fns.get(t);if(r)this[t]=r;else throw new Error(`Unproxy function not found: ${t}`)}}configureWorkerResponse(t){this.port=t,this.port.on("message",async({id:r,fn:n,args:s})=>{let l=this[n];if(!l)throw new Error(`Function not found: ${n}`);try{let a=await l.apply(this,s);this.port.postMessage({id:r,res:a})}catch(a){if(!(a instanceof Error))throw a;typeof a.code=="string"?this.port.postMessage({id:r,err:a,code:a.code}):this.port.postMessage({id:r,err:a})}})}handleMessage({id:t,err:r,code:n,res:s}){let l=this.handlers.get(t);l&&(this.handlers.delete(t),r?(r.code=n,l.reject(r)):l.resolve(s))}handleError(t){var n;console.log(t);let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&((n=r.message)!=null&&n.endsWith("workerProxy.js'"))&&(r=new Error("Failed to load workerProxy.js"),r.code="CopilotPromptLoadFailure");let s=new Error().stack;r.stack&&(s!=null&&s.match(/^Error\n/))&&(r.stack+=s.replace(/^Error/,""))}else(t==null?void 0:t.name)==="ExitStatus"&&typeof t.status=="number"?(r=new Error(`workerProxy.js exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${t}`);for(let s of this.handlers.values())s.reject(r);throw r}proxy(t){this[t]=function(...r){let n=this.nextHandlerId++;return new Promise((s,l)=>{var a;this.handlers.set(n,{resolve:s,reject:l}),(a=this.port)==null||a.postMessage({id:n,fn:t,args:r})})}}},o(S8,"En"),i(S8,"WorkerProxy"),S8),It=new En,Yt=300,ri=[ht,yt,bt,wt];function Xr(e){return e.status==="fulfilled"}o(Xr,"Xr");i(Xr,"isFulfilledResult");function oi(e){return e.status==="rejected"}o(oi,"oi");i(oi,"isRejectedResult");function Yr(e){return e.filter(Xr).flatMap(t=>t.value.snippets)}o(Yr,"Yr");i(Yr,"providersSnippets");function eo(e){return e.filter(oi).flatMap(t=>t.reason)}o(eo,"eo");i(eo,"providersErrors");function to(e){let t={},r={};return e.forEach(n=>{Xr(n)?(t[n.value.providerType]=Math.round(n.value.runtime),r[n.value.providerType]=!1):n.reason.error instanceof re&&(r[n.reason.providerType]=!0,t[n.reason.providerType]=0)}),{runtimes:t,timeouts:r}}o(to,"to");i(to,"providersPerformance");var I8,Lt=(I8=class{constructor(t=ri){this.startThreading=()=>It.startThreading(),this.stopThreading=()=>It.stopThreading(),this.providers=t.map(r=>new r(It))}async getSnippets(t){let r=AbortSignal.timeout(Yt);return Promise.allSettled(this.providers.map(n=>n.getSnippets(t,r)))}},o(I8,"Lt"),i(I8,"SnippetOrchestrator"),I8),so=require("fs"),io=require("path"),kt=Rt(no()),ao=(e=>(e.Python="python",e.JavaScript="javascript",e.TypeScript="typescript",e.TSX="tsx",e.Go="go",e.Ruby="ruby",e))(ao||{}),Ln={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby"};function $e(e){return e in Ln}o($e,"$e");i($e,"isSupportedLanguageId");function B(e){if(!(e in Ln))throw new Error(`Unrecognized language: ${e}`);return Ln[e]}o(B,"B");i(B,"languageIdToWasmLanguage");var Mn=`[
    (function body: (statement_block) @body)
    (function_declaration body: (statement_block) @body)
    (generator_function body: (statement_block) @body)
    (generator_function_declaration body: (statement_block) @body)
    (method_definition body: (statement_block) @body)
    (arrow_function body: (statement_block) @body)
  ] @function`,si={python:[[`(function_definition body: (block
             (expression_statement (string))? @docstring) @body) @function`],['(ERROR ("def" (identifier) (parameters))) @function']],javascript:[[Mn]],typescript:[[Mn]],tsx:[[Mn]],go:[[`[
            (function_declaration body: (block) @body)
            (method_declaration body: (block) @body)
          ] @function`]],ruby:[[`[
            (method name: (_) parameters: (method_parameters)? @params [(_)+ "end"] @body)
            (singleton_method name: (_) parameters: (method_parameters)? @params [(_)+ "end"] @body)
          ] @function`]]},ii='(call_expression function: ((identifier) @req (#eq? @req "require")))',ro=`(variable_declarator value: ${ii})`,lo=`
    (lexical_declaration ${ro}+)
    (variable_declaration ${ro}+)
`,oo=[[`(program [ ${lo} ] @import)`],["(program [ (import_statement) (import_alias) ] @import)"]],ai={python:[["(module (future_import_statement) @import)"],["(module (import_statement) @import)"],["(module (import_from_statement) @import)"]],javascript:[[`(program [ ${lo} ] @import)`],["(program [ (import_statement) ] @import)"]],typescript:oo,tsx:oo,go:[],ruby:[]},Tn=[["(program (export_statement) @export)"]],li={python:[],javascript:Tn,typescript:Tn,tsx:Tn,go:[],ruby:[]},ui={python:[["(module (global_statement) @globalVar)"],["(module (expression_statement) @globalVar)"]],javascript:[],typescript:[],tsx:[],go:[],ruby:[]},xn=["function","function_declaration","generator_function","generator_function_declaration","method_definition","arrow_function"],ci={python:new Set(["function_definition"]),javascript:new Set(xn),typescript:new Set(xn),tsx:new Set(xn),go:new Set(["function_declaration","method_declaration"]),ruby:new Set(["method","singleton_method"])},di={python:e=>{var t;return e.type==="module"||e.type==="block"&&((t=e.parent)==null?void 0:t.type)==="class_definition"},javascript:e=>e.type==="program"||e.type==="class_body",typescript:e=>e.type==="program"||e.type==="class_body",tsx:e=>e.type==="program"||e.type==="class_body",go:e=>e.type==="source_file",ruby:e=>e.type==="program"||e.type==="class"},In=new Map;async function _i(e){await kt.default.init();let t;try{t=await so.promises.readFile((0,io.resolve)(__dirname,"..","dist",`tree-sitter-${e}.wasm`))}catch(r){if(typeof r.code=="string"&&r instanceof Error&&r.name==="Error"){let n=new Error(`Could not load tree-sitter-${e}.wasm`);throw n.code="CopilotPromptLoadFailure",n.cause=r,n}throw r}return kt.default.Language.load(t)}o(_i,"_i");i(_i,"loadWasmLanguage");async function uo(e){let t=B(e);if(!In.has(t)){let r=await _i(t);In.set(t,r)}return In.get(t)}o(uo,"uo");i(uo,"getLanguage");async function Te(e,t){let r=await uo(e),n=new kt.default;n.setLanguage(r);let s=n.parse(t);return n.delete(),s}o(Te,"Te");i(Te,"parseTreeSitter");async function mi(e,t){let r=await Te(e,t),n=!r.rootNode.hasError();return r.delete(),n}o(mi,"mi");i(mi,"parsesWithoutError");function pi(e){switch(B(e)){case"python":return null;case"javascript":case"typescript":case"tsx":case"go":return"}";case"ruby":return"end"}}o(pi,"pi");i(pi,"getBlockCloseToken");function Ge(e,t){let r=[];for(let n of e){if(!n[1]){let s=t.tree.getLanguage();n[1]=s.query(n[0])}r.push(...n[1].matches(t))}return r}o(Ge,"Ge");i(Ge,"innerQuery");function co(e,t){let r=si[B(e)];return Ge(r,t)}o(co,"co");i(co,"queryFunctions");function fi(e,t){let r=ai[B(e)];return Ge(r,t)}o(fi,"fi");i(fi,"queryImports");function gi(e,t){let r=li[B(e)];return Ge(r,t)}o(gi,"gi");i(gi,"queryExports");function hi(e,t){let r=ui[B(e)];return Ge(r,t)}o(hi,"hi");i(hi,"queryGlobalVars");var bi=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function Nn(e){return Ge([bi],e).length==1}o(Nn,"Nn");i(Nn,"queryPythonIsDocstring");function yi(e,t){let r=di[B(e)];for(;t.parent;){if(r(t.parent))return t;t=t.parent}return t.parent?t:null}o(yi,"yi");i(yi,"getAncestorWithSiblingFunctions");function Nt(e,t){return ci[B(e)].has(t.type)}o(Nt,"Nt");i(Nt,"isFunction");function wi(e,t){switch(B(e)){case"python":case"go":case"ruby":return Nt(e,t);case"javascript":case"typescript":case"tsx":if(t.type==="function_declaration"||t.type==="generator_function_declaration"||t.type==="method_definition")return!0;if(t.type==="lexical_declaration"||t.type==="variable_declaration"){if(t.namedChildCount>1)return!1;let r=t.namedChild(0);if(r==null)return!1;let n=r.namedChild(1);return n!==null&&Nt(e,n)}if(t.type==="expression_statement"){let r=t.namedChild(0);if((r==null?void 0:r.type)==="assignment_expression"){let n=r.namedChild(1);return n!==null&&Nt(e,n)}}return!1}}o(wi,"wi");i(wi,"isFunctionDefinition");function vi(e){var r;let t=e;for(;((r=t.previousSibling)==null?void 0:r.type)==="comment";){let n=t.previousSibling;if(n.endPosition.row<t.startPosition.row-1)break;t=n}return(t==null?void 0:t.type)==="comment"?t:null}o(vi,"vi");i(vi,"getFirstPrecedingComment");async function Si(e,t){let r=await Te(e,t),n=co(e,r.rootNode).map(s=>{let l=s.captures.find(a=>a.name==="function").node;return{startIndex:l.startIndex,endIndex:l.endIndex}});return r.delete(),n}o(Si,"Si");i(Si,"getFunctionPositions");var w8,Pt=(w8=class{constructor(t,r,n){this.languageId=t,this.nodeMatch=r,this.nodeTypesWithBlockOrStmtChild=n}async getNodeMatchAtPosition(t,r,n){var l;let s=await Te(this.languageId,t);try{let a=s.rootNode.descendantForIndex(r);for(;a;){let f=this.nodeMatch[a.type];if(f){if(!this.nodeTypesWithBlockOrStmtChild.has(a.type))break;let c=this.nodeTypesWithBlockOrStmtChild.get(a.type);if(((l=c==""?a.namedChildren[0]:a.childForFieldName(c))==null?void 0:l.type)==f)break}a=a.parent}return a?n(a):void 0}finally{s.delete()}}getNextBlockAtPosition(t,r,n){return this.getNodeMatchAtPosition(t,r,s=>{let l=s.children.reverse().find(a=>a.type==this.nodeMatch[s.type]);if(l){if(this.languageId=="python"&&l.parent){let a=l.parent.type==":"?l.parent.parent:l.parent,f=a==null?void 0:a.nextSibling;for(;f&&f.type=="comment";){let c=f.startPosition.row==l.endPosition.row&&f.startPosition.column>=l.endPosition.column,u=f.startPosition.row>a.endPosition.row&&f.startPosition.column>a.startPosition.column;if(c||u)l=f,f=f.nextSibling;else break}}if(!(l.endIndex>=l.tree.rootNode.endIndex-1&&(l.hasError()||l.parent.hasError())))return n(l)}})}async isBlockBodyFinished(t,r,n){let s=(t+r).trimEnd(),l=await this.getNextBlockAtPosition(s,n,a=>a.endIndex);if(l!==void 0&&l<s.length){let a=l-t.length;return a>0?a:void 0}}getNodeStart(t,r){let n=t.trimEnd();return this.getNodeMatchAtPosition(n,r,s=>s.startIndex)}},o(w8,"Pt"),i(w8,"BaseBlockParser"),w8),A8,Ct=(A8=class extends Pt{constructor(t,r,n,s,l){super(t,s,l),this.blockEmptyMatch=r,this.lineMatch=n}isBlockStart(t){return this.lineMatch.test(t.trimStart())}async isBlockBodyEmpty(t,r){let n=await this.getNextBlockAtPosition(t,r,s=>{s.startIndex<r&&(r=s.startIndex);let l=t.substring(r,s.endIndex).trim();return l==""||l.replace(/\s/g,"")==this.blockEmptyMatch});return n===void 0||n}async isEmptyBlockStart(t,r){return r=mo(t,r),this.isBlockStart(Ei(t,r))&&this.isBlockBodyEmpty(t,r)}},o(A8,"Ct"),i(A8,"RegexBasedBlockParser"),A8);function Ei(e,t){let r=e.lastIndexOf(`
`,t-1),n=e.indexOf(`
`,t);return n<0&&(n=e.length),e.slice(r+1,n)}o(Ei,"Ei");i(Ei,"getLineAtOffset");function mo(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}o(mo,"mo");i(mo,"rewindToNearestNonWs");function _o(e,t){let r=e.startIndex,n=e.startIndex-e.startPosition.column,s=t.substring(n,r);if(/^\s*$/.test(s))return s}o(_o,"_o");i(_o,"indent");function Mi(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let n=_o(e,r),s=_o(t,r);return n!==void 0&&s!==void 0&&n.startsWith(s)}o(Mi,"Mi");i(Mi,"outdented");var P8,xe=(P8=class extends Pt{constructor(t,r,n,s,l,a,f){super(t,r,n),this.startKeywords=s,this.blockNodeType=l,this.emptyStatementType=a,this.curlyBraceLanguage=f}isBlockEmpty(t,r){var s,l;let n=t.text.trim();return this.curlyBraceLanguage&&(n.startsWith("{")&&(n=n.slice(1)),n.endsWith("}")&&(n=n.slice(0,-1)),n=n.trim()),!!(n.length==0||this.languageId=="python"&&(((s=t.parent)==null?void 0:s.type)=="class_definition"||((l=t.parent)==null?void 0:l.type)=="function_definition")&&t.children.length==1&&Nn(t.parent))}async isEmptyBlockStart(t,r){var s,l,a,f;if(r>t.length)throw new RangeError("Invalid offset");for(let c=r;c<t.length&&t.charAt(c)!=`
`;c++)if(/\S/.test(t.charAt(c)))return!1;r=mo(t,r);let n=await Te(this.languageId,t);try{let c=n.rootNode.descendantForIndex(r-1);if(c==null||this.curlyBraceLanguage&&c.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&c.parent&&c.parent.type=="object"&&c.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let p=c;for(;p.parent;){if(p.type=="function_signature"||p.type=="method_signature"){let v=c.nextSibling;return v&&p.hasError()&&Mi(p,v,t)?!0:!p.children.find(x=>x.type==";")&&p.endIndex<=r}p=p.parent}}let u=null,d=null,h=null,m=c;for(;m!=null;){if(m.type==this.blockNodeType){d=m;break}if(this.nodeMatch[m.type]){h=m;break}if(m.type=="ERROR"){u=m;break}m=m.parent}if(d!=null){if(!d.parent||!this.nodeMatch[d.parent.type])return!1;if(this.languageId=="python"){let p=d.previousSibling;if(p!=null&&p.hasError()&&(p.text.startsWith('"""')||p.text.startsWith("'''")))return!0}return this.isBlockEmpty(d,r)}if(u!=null){if(((s=u.previousSibling)==null?void 0:s.type)=="module"||((l=u.previousSibling)==null?void 0:l.type)=="internal_module"||((a=u.previousSibling)==null?void 0:a.type)=="def")return!0;let p=[...u.children].reverse(),v=p.find(E=>this.startKeywords.includes(E.type)),x=p.find(E=>E.type==this.blockNodeType);if(v){switch(this.languageId){case"python":{v.type=="try"&&c.type=="identifier"&&c.text.length>4&&(x=(f=p.find(A=>A.hasError()))==null?void 0:f.children.find(A=>A.type=="block"));let E,I=0;for(let A of u.children){if(A.type==":"&&I==0){E=A;break}A.type=="("&&(I+=1),A.type==")"&&(I-=1)}if(E&&v.endIndex<=E.startIndex&&E.nextSibling){if(v.type=="def"){let A=E.nextSibling;if(A.type=='"'||A.type=="'"||A.type=="ERROR"&&(A.text=='"""'||A.text=="'''"))return!0}return!1}break}case"javascript":{let E=p.find(A=>A.type=="formal_parameters");if(v.type=="class"&&E)return!0;let I=p.find(A=>A.type=="{");if(I&&I.startIndex>v.endIndex&&I.nextSibling!=null||p.find(A=>A.type=="do")&&v.type=="while"||v.type=="=>"&&v.nextSibling&&v.nextSibling.type!="{")return!1;break}case"typescript":{let E=p.find(I=>I.type=="{");if(E&&E.startIndex>v.endIndex&&E.nextSibling!=null||p.find(I=>I.type=="do")&&v.type=="while"||v.type=="=>"&&v.nextSibling&&v.nextSibling.type!="{")return!1;break}}return x&&x.startIndex>v.endIndex?this.isBlockEmpty(x,r):!0}}if(h!=null){let p=this.nodeMatch[h.type],v=h.children.slice().reverse().find(x=>x.type==p);if(v)return this.isBlockEmpty(v,r);if(this.nodeTypesWithBlockOrStmtChild.has(h.type)){let x=this.nodeTypesWithBlockOrStmtChild.get(h.type),E=x==""?h.children[0]:h.childForFieldName(x);if(E&&E.type!=this.blockNodeType&&E.type!=this.emptyStatementType)return!1}return!0}return!1}finally{n.delete()}}},o(P8,"xe"),i(P8,"TreeSitterBasedBlockParser"),P8),Ti={python:new xe("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new xe("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new xe("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new xe("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new Ct("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new Ct("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map)};function At(e){return Ti[B(e)]}o(At,"At");i(At,"getBlockParser");async function xi(e,t,r){return $e(e)?At(e).isEmptyBlockStart(t,r):!1}o(xi,"xi");i(xi,"isEmptyBlockStart");async function Ii(e,t,r,n){if($e(e))return At(e).isBlockBodyFinished(t,r,n)}o(Ii,"Ii");i(Ii,"isBlockBodyFinished");async function Li(e,t,r){if($e(e))return At(e).getNodeStart(t,r)}o(Li,"Li");i(Li,"getNodeStart");function Ni(){return new fo.Worker((0,po.resolve)(__dirname,"..","dist","worker.js"),{workerData:{cwd:process.cwd()}})}o(Ni,"Ni");i(Ni,"createWorker")});var Bi=y0((Om,sP)=>{(function(e,t){typeof Om=="object"?sP.exports=Om=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(Om,function(){var e=e||function(t,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var s=o(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),l=Object.create||function(){function I(){}return o(I,"F"),function(A){var L;return I.prototype=A,L=new I,I.prototype=null,L}}(),a={},f=a.lib={},c=f.Base=function(){return{extend:function(I){var A=l(this);return I&&A.mixIn(I),(!A.hasOwnProperty("init")||this.init===A.init)&&(A.init=function(){A.$super.init.apply(this,arguments)}),A.init.prototype=A,A.$super=this,A},create:function(){var I=this.extend();return I.init.apply(I,arguments),I},init:function(){},mixIn:function(I){for(var A in I)I.hasOwnProperty(A)&&(this[A]=I[A]);I.hasOwnProperty("toString")&&(this.toString=I.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),u=f.WordArray=c.extend({init:function(I,A){I=this.words=I||[],A!=r?this.sigBytes=A:this.sigBytes=I.length*4},toString:function(I){return(I||h).stringify(this)},concat:function(I){var A=this.words,L=I.words,D=this.sigBytes,R=I.sigBytes;if(this.clamp(),D%4)for(var V=0;V<R;V++){var de=L[V>>>2]>>>24-V%4*8&255;A[D+V>>>2]|=de<<24-(D+V)%4*8}else for(var ve=0;ve<R;ve+=4)A[D+ve>>>2]=L[ve>>>2];return this.sigBytes+=R,this},clamp:function(){var I=this.words,A=this.sigBytes;I[A>>>2]&=4294967295<<32-A%4*8,I.length=t.ceil(A/4)},clone:function(){var I=c.clone.call(this);return I.words=this.words.slice(0),I},random:function(I){for(var A=[],L=0;L<I;L+=4)A.push(s());return new u.init(A,I)}}),d=a.enc={},h=d.Hex={stringify:function(I){for(var A=I.words,L=I.sigBytes,D=[],R=0;R<L;R++){var V=A[R>>>2]>>>24-R%4*8&255;D.push((V>>>4).toString(16)),D.push((V&15).toString(16))}return D.join("")},parse:function(I){for(var A=I.length,L=[],D=0;D<A;D+=2)L[D>>>3]|=parseInt(I.substr(D,2),16)<<24-D%8*4;return new u.init(L,A/2)}},m=d.Latin1={stringify:function(I){for(var A=I.words,L=I.sigBytes,D=[],R=0;R<L;R++){var V=A[R>>>2]>>>24-R%4*8&255;D.push(String.fromCharCode(V))}return D.join("")},parse:function(I){for(var A=I.length,L=[],D=0;D<A;D++)L[D>>>2]|=(I.charCodeAt(D)&255)<<24-D%4*8;return new u.init(L,A)}},p=d.Utf8={stringify:function(I){try{return decodeURIComponent(escape(m.stringify(I)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(I){return m.parse(unescape(encodeURIComponent(I)))}},v=f.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(I){typeof I=="string"&&(I=p.parse(I)),this._data.concat(I),this._nDataBytes+=I.sigBytes},_process:function(I){var A,L=this._data,D=L.words,R=L.sigBytes,V=this.blockSize,de=V*4,ve=R/de;I?ve=t.ceil(ve):ve=t.max((ve|0)-this._minBufferSize,0);var n0=ve*V,d0=t.min(n0*4,R);if(n0){for(var r0=0;r0<n0;r0+=V)this._doProcessBlock(D,r0);A=D.splice(0,n0),L.sigBytes-=d0}return new u.init(A,d0)},clone:function(){var I=c.clone.call(this);return I._data=this._data.clone(),I},_minBufferSize:0}),x=f.Hasher=v.extend({cfg:c.extend(),init:function(I){this.cfg=this.cfg.extend(I),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(I){return this._append(I),this._process(),this},finalize:function(I){I&&this._append(I);var A=this._doFinalize();return A},blockSize:512/32,_createHelper:function(I){return function(A,L){return new I.init(L).finalize(A)}},_createHmacHelper:function(I){return function(A,L){return new E.HMAC.init(I,L).finalize(A)}}}),E=a.algo={};return a}(Math);return e})});var b9=y0((Mm,oP)=>{(function(e,t){typeof Mm=="object"?oP.exports=Mm=t(Bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Mm,function(e){return function(t){var r=e,n=r.lib,s=n.Base,l=n.WordArray,a=r.x64={},f=a.Word=s.extend({init:function(u,d){this.high=u,this.low=d}}),c=a.WordArray=s.extend({init:function(u,d){u=this.words=u||[],d!=t?this.sigBytes=d:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,d=u.length,h=[],m=0;m<d;m++){var p=u[m];h.push(p.high),h.push(p.low)}return l.create(h,this.sigBytes)},clone:function(){for(var u=s.clone.call(this),d=u.words=this.words.slice(0),h=d.length,m=0;m<h;m++)d[m]=d[m].clone();return u}})}(),e})});var lP=y0((Um,aP)=>{(function(e,t){typeof Um=="object"?aP.exports=Um=t(Bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Um,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,r=t.lib,n=r.WordArray,s=n.init,l=n.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var f=a.byteLength,c=[],u=0;u<f;u++)c[u>>>2]|=a[u]<<24-u%4*8;s.call(this,c,f)}else s.apply(this,arguments)};l.prototype=n}}(),e.lib.WordArray})});var cP=y0((qm,fP)=>{(function(e,t){typeof qm=="object"?fP.exports=qm=t(Bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(qm,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.enc,l=s.Utf16=s.Utf16BE={stringify:function(f){for(var c=f.words,u=f.sigBytes,d=[],h=0;h<u;h+=2){var m=c[h>>>2]>>>16-h%4*8&65535;d.push(String.fromCharCode(m))}return d.join("")},parse:function(f){for(var c=f.length,u=[],d=0;d<c;d++)u[d>>>1]|=f.charCodeAt(d)<<16-d%2*16;return n.create(u,c*2)}};s.Utf16LE={stringify:function(f){for(var c=f.words,u=f.sigBytes,d=[],h=0;h<u;h+=2){var m=a(c[h>>>2]>>>16-h%4*8&65535);d.push(String.fromCharCode(m))}return d.join("")},parse:function(f){for(var c=f.length,u=[],d=0;d<c;d++)u[d>>>1]|=a(f.charCodeAt(d)<<16-d%2*16);return n.create(u,c*2)}};function a(f){return f<<8&4278255360|f>>>8&16711935}o(a,"swapEndian")}(),e.enc.Utf16})});var W5=y0(($m,uP)=>{(function(e,t){typeof $m=="object"?uP.exports=$m=t(Bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})($m,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.enc,l=s.Base64={stringify:function(f){var c=f.words,u=f.sigBytes,d=this._map;f.clamp();for(var h=[],m=0;m<u;m+=3)for(var p=c[m>>>2]>>>24-m%4*8&255,v=c[m+1>>>2]>>>24-(m+1)%4*8&255,x=c[m+2>>>2]>>>24-(m+2)%4*8&255,E=p<<16|v<<8|x,I=0;I<4&&m+I*.75<u;I++)h.push(d.charAt(E>>>6*(3-I)&63));var A=d.charAt(64);if(A)for(;h.length%4;)h.push(A);return h.join("")},parse:function(f){var c=f.length,u=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var h=0;h<u.length;h++)d[u.charCodeAt(h)]=h}var m=u.charAt(64);if(m){var p=f.indexOf(m);p!==-1&&(c=p)}return a(f,c,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(f,c,u){for(var d=[],h=0,m=0;m<c;m++)if(m%4){var p=u[f.charCodeAt(m-1)]<<m%4*2,v=u[f.charCodeAt(m)]>>>6-m%4*2,x=p|v;d[h>>>2]|=x<<24-h%4*8,h++}return n.create(d,h)}o(a,"parseLoop")}(),e.enc.Base64})});var hP=y0((Hm,dP)=>{(function(e,t){typeof Hm=="object"?dP.exports=Hm=t(Bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Hm,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.enc,l=s.Base64url={stringify:function(f,c){c===void 0&&(c=!0);var u=f.words,d=f.sigBytes,h=c?this._safe_map:this._map;f.clamp();for(var m=[],p=0;p<d;p+=3)for(var v=u[p>>>2]>>>24-p%4*8&255,x=u[p+1>>>2]>>>24-(p+1)%4*8&255,E=u[p+2>>>2]>>>24-(p+2)%4*8&255,I=v<<16|x<<8|E,A=0;A<4&&p+A*.75<d;A++)m.push(h.charAt(I>>>6*(3-A)&63));var L=h.charAt(64);if(L)for(;m.length%4;)m.push(L);return m.join("")},parse:function(f,c){c===void 0&&(c=!0);var u=f.length,d=c?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var m=0;m<d.length;m++)h[d.charCodeAt(m)]=m}var p=d.charAt(64);if(p){var v=f.indexOf(p);v!==-1&&(u=v)}return a(f,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(f,c,u){for(var d=[],h=0,m=0;m<c;m++)if(m%4){var p=u[f.charCodeAt(m-1)]<<m%4*2,v=u[f.charCodeAt(m)]>>>6-m%4*2,x=p|v;d[h>>>2]|=x<<24-h%4*8,h++}return n.create(d,h)}o(a,"parseLoop")}(),e.enc.Base64url})});var Y5=y0((Vm,gP)=>{(function(e,t){typeof Vm=="object"?gP.exports=Vm=t(Bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Vm,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,l=n.Hasher,a=r.algo,f=[];(function(){for(var p=0;p<64;p++)f[p]=t.abs(t.sin(p+1))*4294967296|0})();var c=a.MD5=l.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(p,v){for(var x=0;x<16;x++){var E=v+x,I=p[E];p[E]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}var A=this._hash.words,L=p[v+0],D=p[v+1],R=p[v+2],V=p[v+3],de=p[v+4],ve=p[v+5],n0=p[v+6],d0=p[v+7],r0=p[v+8],m0=p[v+9],Ve=p[v+10],we=p[v+11],o0=p[v+12],u0=p[v+13],l0=p[v+14],R0=p[v+15],t0=A[0],f0=A[1],ce=A[2],Ee=A[3];t0=u(t0,f0,ce,Ee,L,7,f[0]),Ee=u(Ee,t0,f0,ce,D,12,f[1]),ce=u(ce,Ee,t0,f0,R,17,f[2]),f0=u(f0,ce,Ee,t0,V,22,f[3]),t0=u(t0,f0,ce,Ee,de,7,f[4]),Ee=u(Ee,t0,f0,ce,ve,12,f[5]),ce=u(ce,Ee,t0,f0,n0,17,f[6]),f0=u(f0,ce,Ee,t0,d0,22,f[7]),t0=u(t0,f0,ce,Ee,r0,7,f[8]),Ee=u(Ee,t0,f0,ce,m0,12,f[9]),ce=u(ce,Ee,t0,f0,Ve,17,f[10]),f0=u(f0,ce,Ee,t0,we,22,f[11]),t0=u(t0,f0,ce,Ee,o0,7,f[12]),Ee=u(Ee,t0,f0,ce,u0,12,f[13]),ce=u(ce,Ee,t0,f0,l0,17,f[14]),f0=u(f0,ce,Ee,t0,R0,22,f[15]),t0=d(t0,f0,ce,Ee,D,5,f[16]),Ee=d(Ee,t0,f0,ce,n0,9,f[17]),ce=d(ce,Ee,t0,f0,we,14,f[18]),f0=d(f0,ce,Ee,t0,L,20,f[19]),t0=d(t0,f0,ce,Ee,ve,5,f[20]),Ee=d(Ee,t0,f0,ce,Ve,9,f[21]),ce=d(ce,Ee,t0,f0,R0,14,f[22]),f0=d(f0,ce,Ee,t0,de,20,f[23]),t0=d(t0,f0,ce,Ee,m0,5,f[24]),Ee=d(Ee,t0,f0,ce,l0,9,f[25]),ce=d(ce,Ee,t0,f0,V,14,f[26]),f0=d(f0,ce,Ee,t0,r0,20,f[27]),t0=d(t0,f0,ce,Ee,u0,5,f[28]),Ee=d(Ee,t0,f0,ce,R,9,f[29]),ce=d(ce,Ee,t0,f0,d0,14,f[30]),f0=d(f0,ce,Ee,t0,o0,20,f[31]),t0=h(t0,f0,ce,Ee,ve,4,f[32]),Ee=h(Ee,t0,f0,ce,r0,11,f[33]),ce=h(ce,Ee,t0,f0,we,16,f[34]),f0=h(f0,ce,Ee,t0,l0,23,f[35]),t0=h(t0,f0,ce,Ee,D,4,f[36]),Ee=h(Ee,t0,f0,ce,de,11,f[37]),ce=h(ce,Ee,t0,f0,d0,16,f[38]),f0=h(f0,ce,Ee,t0,Ve,23,f[39]),t0=h(t0,f0,ce,Ee,u0,4,f[40]),Ee=h(Ee,t0,f0,ce,L,11,f[41]),ce=h(ce,Ee,t0,f0,V,16,f[42]),f0=h(f0,ce,Ee,t0,n0,23,f[43]),t0=h(t0,f0,ce,Ee,m0,4,f[44]),Ee=h(Ee,t0,f0,ce,o0,11,f[45]),ce=h(ce,Ee,t0,f0,R0,16,f[46]),f0=h(f0,ce,Ee,t0,R,23,f[47]),t0=m(t0,f0,ce,Ee,L,6,f[48]),Ee=m(Ee,t0,f0,ce,d0,10,f[49]),ce=m(ce,Ee,t0,f0,l0,15,f[50]),f0=m(f0,ce,Ee,t0,ve,21,f[51]),t0=m(t0,f0,ce,Ee,o0,6,f[52]),Ee=m(Ee,t0,f0,ce,V,10,f[53]),ce=m(ce,Ee,t0,f0,Ve,15,f[54]),f0=m(f0,ce,Ee,t0,D,21,f[55]),t0=m(t0,f0,ce,Ee,r0,6,f[56]),Ee=m(Ee,t0,f0,ce,R0,10,f[57]),ce=m(ce,Ee,t0,f0,n0,15,f[58]),f0=m(f0,ce,Ee,t0,u0,21,f[59]),t0=m(t0,f0,ce,Ee,de,6,f[60]),Ee=m(Ee,t0,f0,ce,we,10,f[61]),ce=m(ce,Ee,t0,f0,R,15,f[62]),f0=m(f0,ce,Ee,t0,m0,21,f[63]),A[0]=A[0]+t0|0,A[1]=A[1]+f0|0,A[2]=A[2]+ce|0,A[3]=A[3]+Ee|0},_doFinalize:function(){var p=this._data,v=p.words,x=this._nDataBytes*8,E=p.sigBytes*8;v[E>>>5]|=128<<24-E%32;var I=t.floor(x/4294967296),A=x;v[(E+64>>>9<<4)+15]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,v[(E+64>>>9<<4)+14]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,p.sigBytes=(v.length+1)*4,this._process();for(var L=this._hash,D=L.words,R=0;R<4;R++){var V=D[R];D[R]=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360}return L},clone:function(){var p=l.clone.call(this);return p._hash=this._hash.clone(),p}});function u(p,v,x,E,I,A,L){var D=p+(v&x|~v&E)+I+L;return(D<<A|D>>>32-A)+v}o(u,"FF");function d(p,v,x,E,I,A,L){var D=p+(v&E|x&~E)+I+L;return(D<<A|D>>>32-A)+v}o(d,"GG");function h(p,v,x,E,I,A,L){var D=p+(v^x^E)+I+L;return(D<<A|D>>>32-A)+v}o(h,"HH");function m(p,v,x,E,I,A,L){var D=p+(x^(v|~E))+I+L;return(D<<A|D>>>32-A)+v}o(m,"II"),r.MD5=l._createHelper(c),r.HmacMD5=l._createHmacHelper(c)}(Math),e.MD5})});var Bb=y0((jm,mP)=>{(function(e,t){typeof jm=="object"?mP.exports=jm=t(Bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(jm,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=r.Hasher,l=t.algo,a=[],f=l.SHA1=s.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,u){for(var d=this._hash.words,h=d[0],m=d[1],p=d[2],v=d[3],x=d[4],E=0;E<80;E++){if(E<16)a[E]=c[u+E]|0;else{var I=a[E-3]^a[E-8]^a[E-14]^a[E-16];a[E]=I<<1|I>>>31}var A=(h<<5|h>>>27)+x+a[E];E<20?A+=(m&p|~m&v)+1518500249:E<40?A+=(m^p^v)+1859775393:E<60?A+=(m&p|m&v|p&v)-1894007588:A+=(m^p^v)-899497514,x=v,v=p,p=m<<30|m>>>2,m=h,h=A}d[0]=d[0]+h|0,d[1]=d[1]+m|0,d[2]=d[2]+p|0,d[3]=d[3]+v|0,d[4]=d[4]+x|0},_doFinalize:function(){var c=this._data,u=c.words,d=this._nDataBytes*8,h=c.sigBytes*8;return u[h>>>5]|=128<<24-h%32,u[(h+64>>>9<<4)+14]=Math.floor(d/4294967296),u[(h+64>>>9<<4)+15]=d,c.sigBytes=u.length*4,this._process(),this._hash},clone:function(){var c=s.clone.call(this);return c._hash=this._hash.clone(),c}});t.SHA1=s._createHelper(f),t.HmacSHA1=s._createHmacHelper(f)}(),e.SHA1})});var Gm=y0((zm,pP)=>{(function(e,t){typeof zm=="object"?pP.exports=zm=t(Bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(zm,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,l=n.Hasher,a=r.algo,f=[],c=[];(function(){function h(x){for(var E=t.sqrt(x),I=2;I<=E;I++)if(!(x%I))return!1;return!0}o(h,"isPrime");function m(x){return(x-(x|0))*4294967296|0}o(m,"getFractionalBits");for(var p=2,v=0;v<64;)h(p)&&(v<8&&(f[v]=m(t.pow(p,1/2))),c[v]=m(t.pow(p,1/3)),v++),p++})();var u=[],d=a.SHA256=l.extend({_doReset:function(){this._hash=new s.init(f.slice(0))},_doProcessBlock:function(h,m){for(var p=this._hash.words,v=p[0],x=p[1],E=p[2],I=p[3],A=p[4],L=p[5],D=p[6],R=p[7],V=0;V<64;V++){if(V<16)u[V]=h[m+V]|0;else{var de=u[V-15],ve=(de<<25|de>>>7)^(de<<14|de>>>18)^de>>>3,n0=u[V-2],d0=(n0<<15|n0>>>17)^(n0<<13|n0>>>19)^n0>>>10;u[V]=ve+u[V-7]+d0+u[V-16]}var r0=A&L^~A&D,m0=v&x^v&E^x&E,Ve=(v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22),we=(A<<26|A>>>6)^(A<<21|A>>>11)^(A<<7|A>>>25),o0=R+we+r0+c[V]+u[V],u0=Ve+m0;R=D,D=L,L=A,A=I+o0|0,I=E,E=x,x=v,v=o0+u0|0}p[0]=p[0]+v|0,p[1]=p[1]+x|0,p[2]=p[2]+E|0,p[3]=p[3]+I|0,p[4]=p[4]+A|0,p[5]=p[5]+L|0,p[6]=p[6]+D|0,p[7]=p[7]+R|0},_doFinalize:function(){var h=this._data,m=h.words,p=this._nDataBytes*8,v=h.sigBytes*8;return m[v>>>5]|=128<<24-v%32,m[(v+64>>>9<<4)+14]=t.floor(p/4294967296),m[(v+64>>>9<<4)+15]=p,h.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var h=l.clone.call(this);return h._hash=this._hash.clone(),h}});r.SHA256=l._createHelper(d),r.HmacSHA256=l._createHmacHelper(d)}(Math),e.SHA256})});var vP=y0((Km,yP)=>{(function(e,t,r){typeof Km=="object"?yP.exports=Km=t(Bi(),Gm()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(Km,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.algo,l=s.SHA256,a=s.SHA224=l.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var f=l._doFinalize.call(this);return f.sigBytes-=4,f}});t.SHA224=l._createHelper(a),t.HmacSHA224=l._createHmacHelper(a)}(),e.SHA224})});var Db=y0((Wm,xP)=>{(function(e,t,r){typeof Wm=="object"?xP.exports=Wm=t(Bi(),b9()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(Wm,function(e){return function(){var t=e,r=t.lib,n=r.Hasher,s=t.x64,l=s.Word,a=s.WordArray,f=t.algo;function c(){return l.create.apply(l,arguments)}o(c,"X64Word_create");var u=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],d=[];(function(){for(var m=0;m<80;m++)d[m]=c()})();var h=f.SHA512=n.extend({_doReset:function(){this._hash=new a.init([new l.init(1779033703,4089235720),new l.init(3144134277,2227873595),new l.init(1013904242,4271175723),new l.init(2773480762,1595750129),new l.init(1359893119,2917565137),new l.init(2600822924,725511199),new l.init(528734635,4215389547),new l.init(1541459225,327033209)])},_doProcessBlock:function(m,p){for(var v=this._hash.words,x=v[0],E=v[1],I=v[2],A=v[3],L=v[4],D=v[5],R=v[6],V=v[7],de=x.high,ve=x.low,n0=E.high,d0=E.low,r0=I.high,m0=I.low,Ve=A.high,we=A.low,o0=L.high,u0=L.low,l0=D.high,R0=D.low,t0=R.high,f0=R.low,ce=V.high,Ee=V.low,C0=de,z0=ve,O0=n0,v0=d0,fr=r0,ue=m0,D0=Ve,Ke=we,L0=o0,B0=u0,G0=l0,br=R0,en=t0,Lr=f0,le=ce,Hr=Ee,yr=0;yr<80;yr++){var Xs,Es,Zs=d[yr];if(yr<16)Es=Zs.high=m[p+yr*2]|0,Xs=Zs.low=m[p+yr*2+1]|0;else{var Qs=d[yr-15],Rl=Qs.high,Zl=Qs.low,U1=(Rl>>>1|Zl<<31)^(Rl>>>8|Zl<<24)^Rl>>>7,Ql=(Zl>>>1|Rl<<31)^(Zl>>>8|Rl<<24)^(Zl>>>7|Rl<<25),yn=d[yr-2],Wi=yn.high,Q=yn.low,se=(Wi>>>19|Q<<13)^(Wi<<3|Q>>>29)^Wi>>>6,on=(Q>>>19|Wi<<13)^(Q<<3|Wi>>>29)^(Q>>>6|Wi<<26),Hs=d[yr-7],_3=Hs.high,b3=Hs.low,ws=d[yr-16],n1=ws.high,$u=ws.low;Xs=Ql+b3,Es=U1+_3+(Xs>>>0<Ql>>>0?1:0),Xs=Xs+on,Es=Es+se+(Xs>>>0<on>>>0?1:0),Xs=Xs+$u,Es=Es+n1+(Xs>>>0<$u>>>0?1:0),Zs.high=Es,Zs.low=Xs}var Fd=L0&G0^~L0&en,Hu=B0&br^~B0&Lr,C3=C0&O0^C0&fr^O0&fr,ei=z0&v0^z0&ue^v0&ue,Vu=(C0>>>28|z0<<4)^(C0<<30|z0>>>2)^(C0<<25|z0>>>7),Od=(z0>>>28|C0<<4)^(z0<<30|C0>>>2)^(z0<<25|C0>>>7),kl=(L0>>>14|B0<<18)^(L0>>>18|B0<<14)^(L0<<23|B0>>>9),Bc=(B0>>>14|L0<<18)^(B0>>>18|L0<<14)^(B0<<23|L0>>>9),i1=u[yr],Dc=i1.high,As=i1.low,zi=Hr+Bc,Bl=le+kl+(zi>>>0<Hr>>>0?1:0),zi=zi+Hu,Bl=Bl+Fd+(zi>>>0<Hu>>>0?1:0),zi=zi+As,Bl=Bl+Dc+(zi>>>0<As>>>0?1:0),zi=zi+Xs,Bl=Bl+Es+(zi>>>0<Xs>>>0?1:0),Md=Od+ei,Lc=Vu+C3+(Md>>>0<Od>>>0?1:0);le=en,Hr=Lr,en=G0,Lr=br,G0=L0,br=B0,B0=Ke+zi|0,L0=D0+Bl+(B0>>>0<Ke>>>0?1:0)|0,D0=fr,Ke=ue,fr=O0,ue=v0,O0=C0,v0=z0,z0=zi+Md|0,C0=Bl+Lc+(z0>>>0<zi>>>0?1:0)|0}ve=x.low=ve+z0,x.high=de+C0+(ve>>>0<z0>>>0?1:0),d0=E.low=d0+v0,E.high=n0+O0+(d0>>>0<v0>>>0?1:0),m0=I.low=m0+ue,I.high=r0+fr+(m0>>>0<ue>>>0?1:0),we=A.low=we+Ke,A.high=Ve+D0+(we>>>0<Ke>>>0?1:0),u0=L.low=u0+B0,L.high=o0+L0+(u0>>>0<B0>>>0?1:0),R0=D.low=R0+br,D.high=l0+G0+(R0>>>0<br>>>0?1:0),f0=R.low=f0+Lr,R.high=t0+en+(f0>>>0<Lr>>>0?1:0),Ee=V.low=Ee+Hr,V.high=ce+le+(Ee>>>0<Hr>>>0?1:0)},_doFinalize:function(){var m=this._data,p=m.words,v=this._nDataBytes*8,x=m.sigBytes*8;p[x>>>5]|=128<<24-x%32,p[(x+128>>>10<<5)+30]=Math.floor(v/4294967296),p[(x+128>>>10<<5)+31]=v,m.sigBytes=p.length*4,this._process();var E=this._hash.toX32();return E},clone:function(){var m=n.clone.call(this);return m._hash=this._hash.clone(),m},blockSize:1024/32});t.SHA512=n._createHelper(h),t.HmacSHA512=n._createHmacHelper(h)}(),e.SHA512})});var bP=y0((Ym,_P)=>{(function(e,t,r){typeof Ym=="object"?_P.exports=Ym=t(Bi(),b9(),Db()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(Ym,function(e){return function(){var t=e,r=t.x64,n=r.Word,s=r.WordArray,l=t.algo,a=l.SHA512,f=l.SHA384=a.extend({_doReset:function(){this._hash=new s.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var c=a._doFinalize.call(this);return c.sigBytes-=16,c}});t.SHA384=a._createHelper(f),t.HmacSHA384=a._createHmacHelper(f)}(),e.SHA384})});var EP=y0((Jm,CP)=>{(function(e,t,r){typeof Jm=="object"?CP.exports=Jm=t(Bi(),b9()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(Jm,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,l=n.Hasher,a=r.x64,f=a.Word,c=r.algo,u=[],d=[],h=[];(function(){for(var v=1,x=0,E=0;E<24;E++){u[v+5*x]=(E+1)*(E+2)/2%64;var I=x%5,A=(2*v+3*x)%5;v=I,x=A}for(var v=0;v<5;v++)for(var x=0;x<5;x++)d[v+5*x]=x+(2*v+3*x)%5*5;for(var L=1,D=0;D<24;D++){for(var R=0,V=0,de=0;de<7;de++){if(L&1){var ve=(1<<de)-1;ve<32?V^=1<<ve:R^=1<<ve-32}L&128?L=L<<1^113:L<<=1}h[D]=f.create(R,V)}})();var m=[];(function(){for(var v=0;v<25;v++)m[v]=f.create()})();var p=c.SHA3=l.extend({cfg:l.cfg.extend({outputLength:512}),_doReset:function(){for(var v=this._state=[],x=0;x<25;x++)v[x]=new f.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(v,x){for(var E=this._state,I=this.blockSize/2,A=0;A<I;A++){var L=v[x+2*A],D=v[x+2*A+1];L=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360,D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360;var R=E[A];R.high^=D,R.low^=L}for(var V=0;V<24;V++){for(var de=0;de<5;de++){for(var ve=0,n0=0,d0=0;d0<5;d0++){var R=E[de+5*d0];ve^=R.high,n0^=R.low}var r0=m[de];r0.high=ve,r0.low=n0}for(var de=0;de<5;de++)for(var m0=m[(de+4)%5],Ve=m[(de+1)%5],we=Ve.high,o0=Ve.low,ve=m0.high^(we<<1|o0>>>31),n0=m0.low^(o0<<1|we>>>31),d0=0;d0<5;d0++){var R=E[de+5*d0];R.high^=ve,R.low^=n0}for(var u0=1;u0<25;u0++){var ve,n0,R=E[u0],l0=R.high,R0=R.low,t0=u[u0];t0<32?(ve=l0<<t0|R0>>>32-t0,n0=R0<<t0|l0>>>32-t0):(ve=R0<<t0-32|l0>>>64-t0,n0=l0<<t0-32|R0>>>64-t0);var f0=m[d[u0]];f0.high=ve,f0.low=n0}var ce=m[0],Ee=E[0];ce.high=Ee.high,ce.low=Ee.low;for(var de=0;de<5;de++)for(var d0=0;d0<5;d0++){var u0=de+5*d0,R=E[u0],C0=m[u0],z0=m[(de+1)%5+5*d0],O0=m[(de+2)%5+5*d0];R.high=C0.high^~z0.high&O0.high,R.low=C0.low^~z0.low&O0.low}var R=E[0],v0=h[V];R.high^=v0.high,R.low^=v0.low}},_doFinalize:function(){var v=this._data,x=v.words,E=this._nDataBytes*8,I=v.sigBytes*8,A=this.blockSize*32;x[I>>>5]|=1<<24-I%32,x[(t.ceil((I+1)/A)*A>>>5)-1]|=128,v.sigBytes=x.length*4,this._process();for(var L=this._state,D=this.cfg.outputLength/8,R=D/8,V=[],de=0;de<R;de++){var ve=L[de],n0=ve.high,d0=ve.low;n0=(n0<<8|n0>>>24)&16711935|(n0<<24|n0>>>8)&4278255360,d0=(d0<<8|d0>>>24)&16711935|(d0<<24|d0>>>8)&4278255360,V.push(d0),V.push(n0)}return new s.init(V,D)},clone:function(){for(var v=l.clone.call(this),x=v._state=this._state.slice(0),E=0;E<25;E++)x[E]=x[E].clone();return v}});r.SHA3=l._createHelper(p),r.HmacSHA3=l._createHmacHelper(p)}(Math),e.SHA3})});var SP=y0((Xm,TP)=>{(function(e,t){typeof Xm=="object"?TP.exports=Xm=t(Bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Xm,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,l=n.Hasher,a=r.algo,f=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=s.create([0,1518500249,1859775393,2400959708,2840853838]),m=s.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=l.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(D,R){for(var V=0;V<16;V++){var de=R+V,ve=D[de];D[de]=(ve<<8|ve>>>24)&16711935|(ve<<24|ve>>>8)&4278255360}var n0=this._hash.words,d0=h.words,r0=m.words,m0=f.words,Ve=c.words,we=u.words,o0=d.words,u0,l0,R0,t0,f0,ce,Ee,C0,z0,O0;ce=u0=n0[0],Ee=l0=n0[1],C0=R0=n0[2],z0=t0=n0[3],O0=f0=n0[4];for(var v0,V=0;V<80;V+=1)v0=u0+D[R+m0[V]]|0,V<16?v0+=v(l0,R0,t0)+d0[0]:V<32?v0+=x(l0,R0,t0)+d0[1]:V<48?v0+=E(l0,R0,t0)+d0[2]:V<64?v0+=I(l0,R0,t0)+d0[3]:v0+=A(l0,R0,t0)+d0[4],v0=v0|0,v0=L(v0,we[V]),v0=v0+f0|0,u0=f0,f0=t0,t0=L(R0,10),R0=l0,l0=v0,v0=ce+D[R+Ve[V]]|0,V<16?v0+=A(Ee,C0,z0)+r0[0]:V<32?v0+=I(Ee,C0,z0)+r0[1]:V<48?v0+=E(Ee,C0,z0)+r0[2]:V<64?v0+=x(Ee,C0,z0)+r0[3]:v0+=v(Ee,C0,z0)+r0[4],v0=v0|0,v0=L(v0,o0[V]),v0=v0+O0|0,ce=O0,O0=z0,z0=L(C0,10),C0=Ee,Ee=v0;v0=n0[1]+R0+z0|0,n0[1]=n0[2]+t0+O0|0,n0[2]=n0[3]+f0+ce|0,n0[3]=n0[4]+u0+Ee|0,n0[4]=n0[0]+l0+C0|0,n0[0]=v0},_doFinalize:function(){var D=this._data,R=D.words,V=this._nDataBytes*8,de=D.sigBytes*8;R[de>>>5]|=128<<24-de%32,R[(de+64>>>9<<4)+14]=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360,D.sigBytes=(R.length+1)*4,this._process();for(var ve=this._hash,n0=ve.words,d0=0;d0<5;d0++){var r0=n0[d0];n0[d0]=(r0<<8|r0>>>24)&16711935|(r0<<24|r0>>>8)&4278255360}return ve},clone:function(){var D=l.clone.call(this);return D._hash=this._hash.clone(),D}});function v(D,R,V){return D^R^V}o(v,"f1");function x(D,R,V){return D&R|~D&V}o(x,"f2");function E(D,R,V){return(D|~R)^V}o(E,"f3");function I(D,R,V){return D&V|R&~V}o(I,"f4");function A(D,R,V){return D^(R|~V)}o(A,"f5");function L(D,R){return D<<R|D>>>32-R}o(L,"rotl"),r.RIPEMD160=l._createHelper(p),r.HmacRIPEMD160=l._createHmacHelper(p)}(Math),e.RIPEMD160})});var Qm=y0((Zm,IP)=>{(function(e,t){typeof Zm=="object"?IP.exports=Zm=t(Bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Zm,function(e){(function(){var t=e,r=t.lib,n=r.Base,s=t.enc,l=s.Utf8,a=t.algo,f=a.HMAC=n.extend({init:function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=l.parse(u));var d=c.blockSize,h=d*4;u.sigBytes>h&&(u=c.finalize(u)),u.clamp();for(var m=this._oKey=u.clone(),p=this._iKey=u.clone(),v=m.words,x=p.words,E=0;E<d;E++)v[E]^=1549556828,x[E]^=909522486;m.sigBytes=p.sigBytes=h,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var u=this._hasher,d=u.finalize(c);u.reset();var h=u.finalize(this._oKey.clone().concat(d));return h}})})()})});var AP=y0((ep,wP)=>{(function(e,t,r){typeof ep=="object"?wP.exports=ep=t(Bi(),Gm(),Qm()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(ep,function(e){return function(){var t=e,r=t.lib,n=r.Base,s=r.WordArray,l=t.algo,a=l.SHA256,f=l.HMAC,c=l.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,d){for(var h=this.cfg,m=f.create(h.hasher,u),p=s.create(),v=s.create([1]),x=p.words,E=v.words,I=h.keySize,A=h.iterations;x.length<I;){var L=m.update(d).finalize(v);m.reset();for(var D=L.words,R=D.length,V=L,de=1;de<A;de++){V=m.finalize(V),m.reset();for(var ve=V.words,n0=0;n0<R;n0++)D[n0]^=ve[n0]}p.concat(L),E[0]++}return p.sigBytes=I*4,p}});t.PBKDF2=function(u,d,h){return c.create(h).compute(u,d)}}(),e.PBKDF2})});var xu=y0((tp,PP)=>{(function(e,t,r){typeof tp=="object"?PP.exports=tp=t(Bi(),Bb(),Qm()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(tp,function(e){return function(){var t=e,r=t.lib,n=r.Base,s=r.WordArray,l=t.algo,a=l.MD5,f=l.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,u){for(var d,h=this.cfg,m=h.hasher.create(),p=s.create(),v=p.words,x=h.keySize,E=h.iterations;v.length<x;){d&&m.update(d),d=m.update(c).finalize(u),m.reset();for(var I=1;I<E;I++)d=m.finalize(d),m.reset();p.concat(d)}return p.sigBytes=x*4,p}});t.EvpKDF=function(c,u,d){return f.create(d).compute(c,u)}}(),e.EvpKDF})});var va=y0((rp,NP)=>{(function(e,t,r){typeof rp=="object"?NP.exports=rp=t(Bi(),xu()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(rp,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,s=n.Base,l=n.WordArray,a=n.BufferedBlockAlgorithm,f=r.enc,c=f.Utf8,u=f.Base64,d=r.algo,h=d.EvpKDF,m=n.Cipher=a.extend({cfg:s.extend(),createEncryptor:function(r0,m0){return this.create(this._ENC_XFORM_MODE,r0,m0)},createDecryptor:function(r0,m0){return this.create(this._DEC_XFORM_MODE,r0,m0)},init:function(r0,m0,Ve){this.cfg=this.cfg.extend(Ve),this._xformMode=r0,this._key=m0,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(r0){return this._append(r0),this._process()},finalize:function(r0){r0&&this._append(r0);var m0=this._doFinalize();return m0},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function r0(m0){return typeof m0=="string"?d0:de}return o(r0,"selectCipherStrategy"),function(m0){return{encrypt:function(Ve,we,o0){return r0(we).encrypt(m0,Ve,we,o0)},decrypt:function(Ve,we,o0){return r0(we).decrypt(m0,Ve,we,o0)}}}}()}),p=n.StreamCipher=m.extend({_doFinalize:function(){var r0=this._process(!0);return r0},blockSize:1}),v=r.mode={},x=n.BlockCipherMode=s.extend({createEncryptor:function(r0,m0){return this.Encryptor.create(r0,m0)},createDecryptor:function(r0,m0){return this.Decryptor.create(r0,m0)},init:function(r0,m0){this._cipher=r0,this._iv=m0}}),E=v.CBC=function(){var r0=x.extend();r0.Encryptor=r0.extend({processBlock:function(Ve,we){var o0=this._cipher,u0=o0.blockSize;m0.call(this,Ve,we,u0),o0.encryptBlock(Ve,we),this._prevBlock=Ve.slice(we,we+u0)}}),r0.Decryptor=r0.extend({processBlock:function(Ve,we){var o0=this._cipher,u0=o0.blockSize,l0=Ve.slice(we,we+u0);o0.decryptBlock(Ve,we),m0.call(this,Ve,we,u0),this._prevBlock=l0}});function m0(Ve,we,o0){var u0,l0=this._iv;l0?(u0=l0,this._iv=t):u0=this._prevBlock;for(var R0=0;R0<o0;R0++)Ve[we+R0]^=u0[R0]}return o(m0,"xorBlock"),r0}(),I=r.pad={},A=I.Pkcs7={pad:function(r0,m0){for(var Ve=m0*4,we=Ve-r0.sigBytes%Ve,o0=we<<24|we<<16|we<<8|we,u0=[],l0=0;l0<we;l0+=4)u0.push(o0);var R0=l.create(u0,we);r0.concat(R0)},unpad:function(r0){var m0=r0.words[r0.sigBytes-1>>>2]&255;r0.sigBytes-=m0}},L=n.BlockCipher=m.extend({cfg:m.cfg.extend({mode:E,padding:A}),reset:function(){var r0;m.reset.call(this);var m0=this.cfg,Ve=m0.iv,we=m0.mode;this._xformMode==this._ENC_XFORM_MODE?r0=we.createEncryptor:(r0=we.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==r0?this._mode.init(this,Ve&&Ve.words):(this._mode=r0.call(we,this,Ve&&Ve.words),this._mode.__creator=r0)},_doProcessBlock:function(r0,m0){this._mode.processBlock(r0,m0)},_doFinalize:function(){var r0,m0=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(m0.pad(this._data,this.blockSize),r0=this._process(!0)):(r0=this._process(!0),m0.unpad(r0)),r0},blockSize:128/32}),D=n.CipherParams=s.extend({init:function(r0){this.mixIn(r0)},toString:function(r0){return(r0||this.formatter).stringify(this)}}),R=r.format={},V=R.OpenSSL={stringify:function(r0){var m0,Ve=r0.ciphertext,we=r0.salt;return we?m0=l.create([1398893684,1701076831]).concat(we).concat(Ve):m0=Ve,m0.toString(u)},parse:function(r0){var m0,Ve=u.parse(r0),we=Ve.words;return we[0]==1398893684&&we[1]==1701076831&&(m0=l.create(we.slice(2,4)),we.splice(0,4),Ve.sigBytes-=16),D.create({ciphertext:Ve,salt:m0})}},de=n.SerializableCipher=s.extend({cfg:s.extend({format:V}),encrypt:function(r0,m0,Ve,we){we=this.cfg.extend(we);var o0=r0.createEncryptor(Ve,we),u0=o0.finalize(m0),l0=o0.cfg;return D.create({ciphertext:u0,key:Ve,iv:l0.iv,algorithm:r0,mode:l0.mode,padding:l0.padding,blockSize:r0.blockSize,formatter:we.format})},decrypt:function(r0,m0,Ve,we){we=this.cfg.extend(we),m0=this._parse(m0,we.format);var o0=r0.createDecryptor(Ve,we).finalize(m0.ciphertext);return o0},_parse:function(r0,m0){return typeof r0=="string"?m0.parse(r0,this):r0}}),ve=r.kdf={},n0=ve.OpenSSL={execute:function(r0,m0,Ve,we,o0){if(we||(we=l.random(64/8)),o0)var u0=h.create({keySize:m0+Ve,hasher:o0}).compute(r0,we);else var u0=h.create({keySize:m0+Ve}).compute(r0,we);var l0=l.create(u0.words.slice(m0),Ve*4);return u0.sigBytes=m0*4,D.create({key:u0,iv:l0,salt:we})}},d0=n.PasswordBasedCipher=de.extend({cfg:de.cfg.extend({kdf:n0}),encrypt:function(r0,m0,Ve,we){we=this.cfg.extend(we);var o0=we.kdf.execute(Ve,r0.keySize,r0.ivSize,we.salt,we.hasher);we.iv=o0.iv;var u0=de.encrypt.call(this,r0,m0,o0.key,we);return u0.mixIn(o0),u0},decrypt:function(r0,m0,Ve,we){we=this.cfg.extend(we),m0=this._parse(m0,we.format);var o0=we.kdf.execute(Ve,r0.keySize,r0.ivSize,m0.salt,we.hasher);we.iv=o0.iv;var u0=de.decrypt.call(this,r0,m0,o0.key,we);return u0}})}()})});var kP=y0((np,RP)=>{(function(e,t,r){typeof np=="object"?RP.exports=np=t(Bi(),va()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(np,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:function(n,s){var l=this._cipher,a=l.blockSize;r.call(this,n,s,a,l),this._prevBlock=n.slice(s,s+a)}}),t.Decryptor=t.extend({processBlock:function(n,s){var l=this._cipher,a=l.blockSize,f=n.slice(s,s+a);r.call(this,n,s,a,l),this._prevBlock=f}});function r(n,s,l,a){var f,c=this._iv;c?(f=c.slice(0),this._iv=void 0):f=this._prevBlock,a.encryptBlock(f,0);for(var u=0;u<l;u++)n[s+u]^=f[u]}return o(r,"generateKeystreamAndEncrypt"),t}(),e.mode.CFB})});var DP=y0((ip,BP)=>{(function(e,t,r){typeof ip=="object"?BP.exports=ip=t(Bi(),va()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(ip,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(n,s){var l=this._cipher,a=l.blockSize,f=this._iv,c=this._counter;f&&(c=this._counter=f.slice(0),this._iv=void 0);var u=c.slice(0);l.encryptBlock(u,0),c[a-1]=c[a-1]+1|0;for(var d=0;d<a;d++)n[s+d]^=u[d]}});return t.Decryptor=r,t}(),e.mode.CTR})});var FP=y0((sp,LP)=>{(function(e,t,r){typeof sp=="object"?LP.exports=sp=t(Bi(),va()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(sp,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(l){if((l>>24&255)===255){var a=l>>16&255,f=l>>8&255,c=l&255;a===255?(a=0,f===255?(f=0,c===255?c=0:++c):++f):++a,l=0,l+=a<<16,l+=f<<8,l+=c}else l+=1<<24;return l}o(r,"incWord");function n(l){return(l[0]=r(l[0]))===0&&(l[1]=r(l[1])),l}o(n,"incCounter");var s=t.Encryptor=t.extend({processBlock:function(l,a){var f=this._cipher,c=f.blockSize,u=this._iv,d=this._counter;u&&(d=this._counter=u.slice(0),this._iv=void 0),n(d);var h=d.slice(0);f.encryptBlock(h,0);for(var m=0;m<c;m++)l[a+m]^=h[m]}});return t.Decryptor=s,t}(),e.mode.CTRGladman})});var MP=y0((op,OP)=>{(function(e,t,r){typeof op=="object"?OP.exports=op=t(Bi(),va()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(op,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(n,s){var l=this._cipher,a=l.blockSize,f=this._iv,c=this._keystream;f&&(c=this._keystream=f.slice(0),this._iv=void 0),l.encryptBlock(c,0);for(var u=0;u<a;u++)n[s+u]^=c[u]}});return t.Decryptor=r,t}(),e.mode.OFB})});var qP=y0((ap,UP)=>{(function(e,t,r){typeof ap=="object"?UP.exports=ap=t(Bi(),va()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(ap,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(r,n){this._cipher.encryptBlock(r,n)}}),t.Decryptor=t.extend({processBlock:function(r,n){this._cipher.decryptBlock(r,n)}}),t}(),e.mode.ECB})});var HP=y0((lp,$P)=>{(function(e,t,r){typeof lp=="object"?$P.exports=lp=t(Bi(),va()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(lp,function(e){return e.pad.AnsiX923={pad:function(t,r){var n=t.sigBytes,s=r*4,l=s-n%s,a=n+l-1;t.clamp(),t.words[a>>>2]|=l<<24-a%4*8,t.sigBytes+=l},unpad:function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r}},e.pad.Ansix923})});var jP=y0((fp,VP)=>{(function(e,t,r){typeof fp=="object"?VP.exports=fp=t(Bi(),va()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(fp,function(e){return e.pad.Iso10126={pad:function(t,r){var n=r*4,s=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(s-1)).concat(e.lib.WordArray.create([s<<24],1))},unpad:function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r}},e.pad.Iso10126})});var GP=y0((cp,zP)=>{(function(e,t,r){typeof cp=="object"?zP.exports=cp=t(Bi(),va()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(cp,function(e){return e.pad.Iso97971={pad:function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971})});var WP=y0((up,KP)=>{(function(e,t,r){typeof up=="object"?KP.exports=up=t(Bi(),va()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(up,function(e){return e.pad.ZeroPadding={pad:function(t,r){var n=r*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){for(var r=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}}},e.pad.ZeroPadding})});var JP=y0((dp,YP)=>{(function(e,t,r){typeof dp=="object"?YP.exports=dp=t(Bi(),va()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(dp,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})});var ZP=y0((hp,XP)=>{(function(e,t,r){typeof hp=="object"?XP.exports=hp=t(Bi(),va()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(hp,function(e){return function(t){var r=e,n=r.lib,s=n.CipherParams,l=r.enc,a=l.Hex,f=r.format,c=f.Hex={stringify:function(u){return u.ciphertext.toString(a)},parse:function(u){var d=a.parse(u);return s.create({ciphertext:d})}}}(),e.format.Hex})});var eN=y0((gp,QP)=>{(function(e,t,r){typeof gp=="object"?QP.exports=gp=t(Bi(),W5(),Y5(),xu(),va()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(gp,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,s=t.algo,l=[],a=[],f=[],c=[],u=[],d=[],h=[],m=[],p=[],v=[];(function(){for(var I=[],A=0;A<256;A++)A<128?I[A]=A<<1:I[A]=A<<1^283;for(var L=0,D=0,A=0;A<256;A++){var R=D^D<<1^D<<2^D<<3^D<<4;R=R>>>8^R&255^99,l[L]=R,a[R]=L;var V=I[L],de=I[V],ve=I[de],n0=I[R]*257^R*16843008;f[L]=n0<<24|n0>>>8,c[L]=n0<<16|n0>>>16,u[L]=n0<<8|n0>>>24,d[L]=n0;var n0=ve*16843009^de*65537^V*257^L*16843008;h[R]=n0<<24|n0>>>8,m[R]=n0<<16|n0>>>16,p[R]=n0<<8|n0>>>24,v[R]=n0,L?(L=V^I[I[I[ve^V]]],D^=I[I[D]]):L=D=1}})();var x=[0,1,2,4,8,16,32,64,128,27,54],E=s.AES=n.extend({_doReset:function(){var I;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var A=this._keyPriorReset=this._key,L=A.words,D=A.sigBytes/4,R=this._nRounds=D+6,V=(R+1)*4,de=this._keySchedule=[],ve=0;ve<V;ve++)ve<D?de[ve]=L[ve]:(I=de[ve-1],ve%D?D>6&&ve%D==4&&(I=l[I>>>24]<<24|l[I>>>16&255]<<16|l[I>>>8&255]<<8|l[I&255]):(I=I<<8|I>>>24,I=l[I>>>24]<<24|l[I>>>16&255]<<16|l[I>>>8&255]<<8|l[I&255],I^=x[ve/D|0]<<24),de[ve]=de[ve-D]^I);for(var n0=this._invKeySchedule=[],d0=0;d0<V;d0++){var ve=V-d0;if(d0%4)var I=de[ve];else var I=de[ve-4];d0<4||ve<=4?n0[d0]=I:n0[d0]=h[l[I>>>24]]^m[l[I>>>16&255]]^p[l[I>>>8&255]]^v[l[I&255]]}}},encryptBlock:function(I,A){this._doCryptBlock(I,A,this._keySchedule,f,c,u,d,l)},decryptBlock:function(I,A){var L=I[A+1];I[A+1]=I[A+3],I[A+3]=L,this._doCryptBlock(I,A,this._invKeySchedule,h,m,p,v,a);var L=I[A+1];I[A+1]=I[A+3],I[A+3]=L},_doCryptBlock:function(I,A,L,D,R,V,de,ve){for(var n0=this._nRounds,d0=I[A]^L[0],r0=I[A+1]^L[1],m0=I[A+2]^L[2],Ve=I[A+3]^L[3],we=4,o0=1;o0<n0;o0++){var u0=D[d0>>>24]^R[r0>>>16&255]^V[m0>>>8&255]^de[Ve&255]^L[we++],l0=D[r0>>>24]^R[m0>>>16&255]^V[Ve>>>8&255]^de[d0&255]^L[we++],R0=D[m0>>>24]^R[Ve>>>16&255]^V[d0>>>8&255]^de[r0&255]^L[we++],t0=D[Ve>>>24]^R[d0>>>16&255]^V[r0>>>8&255]^de[m0&255]^L[we++];d0=u0,r0=l0,m0=R0,Ve=t0}var u0=(ve[d0>>>24]<<24|ve[r0>>>16&255]<<16|ve[m0>>>8&255]<<8|ve[Ve&255])^L[we++],l0=(ve[r0>>>24]<<24|ve[m0>>>16&255]<<16|ve[Ve>>>8&255]<<8|ve[d0&255])^L[we++],R0=(ve[m0>>>24]<<24|ve[Ve>>>16&255]<<16|ve[d0>>>8&255]<<8|ve[r0&255])^L[we++],t0=(ve[Ve>>>24]<<24|ve[d0>>>16&255]<<16|ve[r0>>>8&255]<<8|ve[m0&255])^L[we++];I[A]=u0,I[A+1]=l0,I[A+2]=R0,I[A+3]=t0},keySize:256/32});t.AES=n._createHelper(E)}(),e.AES})});var rN=y0((mp,tN)=>{(function(e,t,r){typeof mp=="object"?tN.exports=mp=t(Bi(),W5(),Y5(),xu(),va()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(mp,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=r.BlockCipher,l=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],f=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=l.DES=s.extend({_doReset:function(){for(var x=this._key,E=x.words,I=[],A=0;A<56;A++){var L=a[A]-1;I[A]=E[L>>>5]>>>31-L%32&1}for(var D=this._subKeys=[],R=0;R<16;R++){for(var V=D[R]=[],de=c[R],A=0;A<24;A++)V[A/6|0]|=I[(f[A]-1+de)%28]<<31-A%6,V[4+(A/6|0)]|=I[28+(f[A+24]-1+de)%28]<<31-A%6;V[0]=V[0]<<1|V[0]>>>31;for(var A=1;A<7;A++)V[A]=V[A]>>>(A-1)*4+3;V[7]=V[7]<<5|V[7]>>>27}for(var ve=this._invSubKeys=[],A=0;A<16;A++)ve[A]=D[15-A]},encryptBlock:function(x,E){this._doCryptBlock(x,E,this._subKeys)},decryptBlock:function(x,E){this._doCryptBlock(x,E,this._invSubKeys)},_doCryptBlock:function(x,E,I){this._lBlock=x[E],this._rBlock=x[E+1],m.call(this,4,252645135),m.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),m.call(this,1,1431655765);for(var A=0;A<16;A++){for(var L=I[A],D=this._lBlock,R=this._rBlock,V=0,de=0;de<8;de++)V|=u[de][((R^L[de])&d[de])>>>0];this._lBlock=R,this._rBlock=D^V}var ve=this._lBlock;this._lBlock=this._rBlock,this._rBlock=ve,m.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),m.call(this,16,65535),m.call(this,4,252645135),x[E]=this._lBlock,x[E+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function m(x,E){var I=(this._lBlock>>>x^this._rBlock)&E;this._rBlock^=I,this._lBlock^=I<<x}o(m,"exchangeLR");function p(x,E){var I=(this._rBlock>>>x^this._lBlock)&E;this._lBlock^=I,this._rBlock^=I<<x}o(p,"exchangeRL"),t.DES=s._createHelper(h);var v=l.TripleDES=s.extend({_doReset:function(){var x=this._key,E=x.words;if(E.length!==2&&E.length!==4&&E.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var I=E.slice(0,2),A=E.length<4?E.slice(0,2):E.slice(2,4),L=E.length<6?E.slice(0,2):E.slice(4,6);this._des1=h.createEncryptor(n.create(I)),this._des2=h.createEncryptor(n.create(A)),this._des3=h.createEncryptor(n.create(L))},encryptBlock:function(x,E){this._des1.encryptBlock(x,E),this._des2.decryptBlock(x,E),this._des3.encryptBlock(x,E)},decryptBlock:function(x,E){this._des3.decryptBlock(x,E),this._des2.encryptBlock(x,E),this._des1.decryptBlock(x,E)},keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=s._createHelper(v)}(),e.TripleDES})});var iN=y0((pp,nN)=>{(function(e,t,r){typeof pp=="object"?nN.exports=pp=t(Bi(),W5(),Y5(),xu(),va()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(pp,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,s=t.algo,l=s.RC4=n.extend({_doReset:function(){for(var c=this._key,u=c.words,d=c.sigBytes,h=this._S=[],m=0;m<256;m++)h[m]=m;for(var m=0,p=0;m<256;m++){var v=m%d,x=u[v>>>2]>>>24-v%4*8&255;p=(p+h[m]+x)%256;var E=h[m];h[m]=h[p],h[p]=E}this._i=this._j=0},_doProcessBlock:function(c,u){c[u]^=a.call(this)},keySize:256/32,ivSize:0});function a(){for(var c=this._S,u=this._i,d=this._j,h=0,m=0;m<4;m++){u=(u+1)%256,d=(d+c[u])%256;var p=c[u];c[u]=c[d],c[d]=p,h|=c[(c[u]+c[d])%256]<<24-m*8}return this._i=u,this._j=d,h}o(a,"generateKeystreamWord"),t.RC4=n._createHelper(l);var f=s.RC4Drop=l.extend({cfg:l.cfg.extend({drop:192}),_doReset:function(){l._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)a.call(this)}});t.RC4Drop=n._createHelper(f)}(),e.RC4})});var oN=y0((yp,sN)=>{(function(e,t,r){typeof yp=="object"?sN.exports=yp=t(Bi(),W5(),Y5(),xu(),va()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(yp,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,s=t.algo,l=[],a=[],f=[],c=s.Rabbit=n.extend({_doReset:function(){for(var d=this._key.words,h=this.cfg.iv,m=0;m<4;m++)d[m]=(d[m]<<8|d[m]>>>24)&16711935|(d[m]<<24|d[m]>>>8)&4278255360;var p=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],v=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var m=0;m<4;m++)u.call(this);for(var m=0;m<8;m++)v[m]^=p[m+4&7];if(h){var x=h.words,E=x[0],I=x[1],A=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,L=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,D=A>>>16|L&4294901760,R=L<<16|A&65535;v[0]^=A,v[1]^=D,v[2]^=L,v[3]^=R,v[4]^=A,v[5]^=D,v[6]^=L,v[7]^=R;for(var m=0;m<4;m++)u.call(this)}},_doProcessBlock:function(d,h){var m=this._X;u.call(this),l[0]=m[0]^m[5]>>>16^m[3]<<16,l[1]=m[2]^m[7]>>>16^m[5]<<16,l[2]=m[4]^m[1]>>>16^m[7]<<16,l[3]=m[6]^m[3]>>>16^m[1]<<16;for(var p=0;p<4;p++)l[p]=(l[p]<<8|l[p]>>>24)&16711935|(l[p]<<24|l[p]>>>8)&4278255360,d[h+p]^=l[p]},blockSize:128/32,ivSize:64/32});function u(){for(var d=this._X,h=this._C,m=0;m<8;m++)a[m]=h[m];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<a[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<a[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<a[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<a[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<a[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<a[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<a[6]>>>0?1:0)|0,this._b=h[7]>>>0<a[7]>>>0?1:0;for(var m=0;m<8;m++){var p=d[m]+h[m],v=p&65535,x=p>>>16,E=((v*v>>>17)+v*x>>>15)+x*x,I=((p&4294901760)*p|0)+((p&65535)*p|0);f[m]=E^I}d[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,d[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,d[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,d[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,d[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,d[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,d[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,d[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}o(u,"nextState"),t.Rabbit=n._createHelper(c)}(),e.Rabbit})});var lN=y0((vp,aN)=>{(function(e,t,r){typeof vp=="object"?aN.exports=vp=t(Bi(),W5(),Y5(),xu(),va()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(vp,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,s=t.algo,l=[],a=[],f=[],c=s.RabbitLegacy=n.extend({_doReset:function(){var d=this._key.words,h=this.cfg.iv,m=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],p=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var v=0;v<4;v++)u.call(this);for(var v=0;v<8;v++)p[v]^=m[v+4&7];if(h){var x=h.words,E=x[0],I=x[1],A=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,L=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,D=A>>>16|L&4294901760,R=L<<16|A&65535;p[0]^=A,p[1]^=D,p[2]^=L,p[3]^=R,p[4]^=A,p[5]^=D,p[6]^=L,p[7]^=R;for(var v=0;v<4;v++)u.call(this)}},_doProcessBlock:function(d,h){var m=this._X;u.call(this),l[0]=m[0]^m[5]>>>16^m[3]<<16,l[1]=m[2]^m[7]>>>16^m[5]<<16,l[2]=m[4]^m[1]>>>16^m[7]<<16,l[3]=m[6]^m[3]>>>16^m[1]<<16;for(var p=0;p<4;p++)l[p]=(l[p]<<8|l[p]>>>24)&16711935|(l[p]<<24|l[p]>>>8)&4278255360,d[h+p]^=l[p]},blockSize:128/32,ivSize:64/32});function u(){for(var d=this._X,h=this._C,m=0;m<8;m++)a[m]=h[m];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<a[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<a[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<a[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<a[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<a[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<a[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<a[6]>>>0?1:0)|0,this._b=h[7]>>>0<a[7]>>>0?1:0;for(var m=0;m<8;m++){var p=d[m]+h[m],v=p&65535,x=p>>>16,E=((v*v>>>17)+v*x>>>15)+x*x,I=((p&4294901760)*p|0)+((p&65535)*p|0);f[m]=E^I}d[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,d[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,d[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,d[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,d[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,d[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,d[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,d[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}o(u,"nextState"),t.RabbitLegacy=n._createHelper(c)}(),e.RabbitLegacy})});var cN=y0((xp,fN)=>{(function(e,t,r){typeof xp=="object"?fN.exports=xp=t(Bi(),W5(),Y5(),xu(),va()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(xp,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,s=t.algo;let l=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],f=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function u(v,x){let E=x>>24&255,I=x>>16&255,A=x>>8&255,L=x&255,D=v.sbox[0][E]+v.sbox[1][I];return D=D^v.sbox[2][A],D=D+v.sbox[3][L],D}o(u,"F");function d(v,x,E){let I=x,A=E,L;for(let D=0;D<l;++D)I=I^v.pbox[D],A=u(v,I)^A,L=I,I=A,A=L;return L=I,I=A,A=L,A=A^v.pbox[l],I=I^v.pbox[l+1],{left:I,right:A}}o(d,"BlowFish_Encrypt");function h(v,x,E){let I=x,A=E,L;for(let D=l+1;D>1;--D)I=I^v.pbox[D],A=u(v,I)^A,L=I,I=A,A=L;return L=I,I=A,A=L,A=A^v.pbox[1],I=I^v.pbox[0],{left:I,right:A}}o(h,"BlowFish_Decrypt");function m(v,x,E){for(let R=0;R<4;R++){v.sbox[R]=[];for(let V=0;V<256;V++)v.sbox[R][V]=f[R][V]}let I=0;for(let R=0;R<l+2;R++)v.pbox[R]=a[R]^x[I],I++,I>=E&&(I=0);let A=0,L=0,D=0;for(let R=0;R<l+2;R+=2)D=d(v,A,L),A=D.left,L=D.right,v.pbox[R]=A,v.pbox[R+1]=L;for(let R=0;R<4;R++)for(let V=0;V<256;V+=2)D=d(v,A,L),A=D.left,L=D.right,v.sbox[R][V]=A,v.sbox[R][V+1]=L;return!0}o(m,"BlowFishInit");var p=s.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var v=this._keyPriorReset=this._key,x=v.words,E=v.sigBytes/4;m(c,x,E)}},encryptBlock:function(v,x){var E=d(c,v[x],v[x+1]);v[x]=E.left,v[x+1]=E.right},decryptBlock:function(v,x){var E=h(c,v[x],v[x+1]);v[x]=E.left,v[x+1]=E.right},blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(p)}(),e.Blowfish})});var bp=y0((_p,uN)=>{(function(e,t,r){typeof _p=="object"?uN.exports=_p=t(Bi(),b9(),lP(),cP(),W5(),hP(),Y5(),Bb(),Gm(),vP(),Db(),bP(),EP(),SP(),Qm(),AP(),xu(),va(),kP(),DP(),FP(),MP(),qP(),HP(),jP(),GP(),WP(),JP(),ZP(),eN(),rN(),iN(),oN(),lN(),cN()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(_p,function(e){return e})});var mN=y0((k0e,gN)=>{var N8=1e3,R8=N8*60,k8=R8*60,td=k8*24,J$=td*7,X$=td*365.25;gN.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return Z$(e);if(r==="number"&&isFinite(e))return t.long?eH(e):Q$(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Z$(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*X$;case"weeks":case"week":case"w":return r*J$;case"days":case"day":case"d":return r*td;case"hours":case"hour":case"hrs":case"hr":case"h":return r*k8;case"minutes":case"minute":case"mins":case"min":case"m":return r*R8;case"seconds":case"second":case"secs":case"sec":case"s":return r*N8;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}o(Z$,"parse");function Q$(e){var t=Math.abs(e);return t>=td?Math.round(e/td)+"d":t>=k8?Math.round(e/k8)+"h":t>=R8?Math.round(e/R8)+"m":t>=N8?Math.round(e/N8)+"s":e+"ms"}o(Q$,"fmtShort");function eH(e){var t=Math.abs(e);return t>=td?Ep(e,t,td,"day"):t>=k8?Ep(e,t,k8,"hour"):t>=R8?Ep(e,t,R8,"minute"):t>=N8?Ep(e,t,N8,"second"):e+" ms"}o(eH,"fmtLong");function Ep(e,t,r,n){var s=t>=r*1.5;return Math.round(e/r)+" "+n+(s?"s":"")}o(Ep,"plural")});var Fb=y0((D0e,pN)=>{function tH(e){r.debug=r,r.default=r,r.coerce=c,r.disable=l,r.enable=s,r.enabled=a,r.humanize=mN(),r.destroy=u,Object.keys(e).forEach(d=>{r[d]=e[d]}),r.names=[],r.skips=[],r.formatters={};function t(d){let h=0;for(let m=0;m<d.length;m++)h=(h<<5)-h+d.charCodeAt(m),h|=0;return r.colors[Math.abs(h)%r.colors.length]}o(t,"selectColor"),r.selectColor=t;function r(d){let h,m=null,p,v;function x(...E){if(!x.enabled)return;let I=x,A=Number(new Date),L=A-(h||A);I.diff=L,I.prev=h,I.curr=A,h=A,E[0]=r.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let D=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(V,de)=>{if(V==="%%")return"%";D++;let ve=r.formatters[de];if(typeof ve=="function"){let n0=E[D];V=ve.call(I,n0),E.splice(D,1),D--}return V}),r.formatArgs.call(I,E),(I.log||r.log).apply(I,E)}return o(x,"debug"),x.namespace=d,x.useColors=r.useColors(),x.color=r.selectColor(d),x.extend=n,x.destroy=r.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(p!==r.namespaces&&(p=r.namespaces,v=r.enabled(d)),v),set:E=>{m=E}}),typeof r.init=="function"&&r.init(x),x}o(r,"createDebug");function n(d,h){let m=r(this.namespace+(typeof h>"u"?":":h)+d);return m.log=this.log,m}o(n,"extend");function s(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];let h,m=(typeof d=="string"?d:"").split(/[\s,]+/),p=m.length;for(h=0;h<p;h++)m[h]&&(d=m[h].replace(/\*/g,".*?"),d[0]==="-"?r.skips.push(new RegExp("^"+d.slice(1)+"$")):r.names.push(new RegExp("^"+d+"$")))}o(s,"enable");function l(){let d=[...r.names.map(f),...r.skips.map(f).map(h=>"-"+h)].join(",");return r.enable(""),d}o(l,"disable");function a(d){if(d[d.length-1]==="*")return!0;let h,m;for(h=0,m=r.skips.length;h<m;h++)if(r.skips[h].test(d))return!1;for(h=0,m=r.names.length;h<m;h++)if(r.names[h].test(d))return!0;return!1}o(a,"enabled");function f(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}o(f,"toNamespace");function c(d){return d instanceof Error?d.stack||d.message:d}o(c,"coerce");function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o(u,"destroy"),r.enable(r.load()),r}o(tH,"setup");pN.exports=tH});var yN=y0((gf,Tp)=>{gf.formatArgs=nH;gf.save=iH;gf.load=sH;gf.useColors=rH;gf.storage=oH();gf.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();gf.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function rH(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}o(rH,"useColors");function nH(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Tp.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(r++,s==="%c"&&(n=r))}),e.splice(n,0,t)}o(nH,"formatArgs");gf.log=console.debug||console.log||(()=>{});function iH(e){try{e?gf.storage.setItem("debug",e):gf.storage.removeItem("debug")}catch{}}o(iH,"save");function sH(){let e;try{e=gf.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}o(sH,"load");function oH(){try{return localStorage}catch{}}o(oH,"localstorage");Tp.exports=Fb()(gf);var{formatters:aH}=Tp.exports;aH.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var xN=y0((O0e,vN)=>{"use strict";vN.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),s=t.indexOf("--");return n!==-1&&(s===-1||n<s)}});var CN=y0((M0e,bN)=>{"use strict";var lH=require("os"),_N=require("tty"),$f=xN(),{env:Aa}=process,J5;$f("no-color")||$f("no-colors")||$f("color=false")||$f("color=never")?J5=0:($f("color")||$f("colors")||$f("color=true")||$f("color=always"))&&(J5=1);"FORCE_COLOR"in Aa&&(Aa.FORCE_COLOR==="true"?J5=1:Aa.FORCE_COLOR==="false"?J5=0:J5=Aa.FORCE_COLOR.length===0?1:Math.min(parseInt(Aa.FORCE_COLOR,10),3));function Ob(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}o(Ob,"translateLevel");function Mb(e,t){if(J5===0)return 0;if($f("color=16m")||$f("color=full")||$f("color=truecolor"))return 3;if($f("color=256"))return 2;if(e&&!t&&J5===void 0)return 0;let r=J5||0;if(Aa.TERM==="dumb")return r;if(process.platform==="win32"){let n=lH.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Aa)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in Aa)||Aa.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Aa)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Aa.TEAMCITY_VERSION)?1:0;if(Aa.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Aa){let n=parseInt((Aa.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Aa.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Aa.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Aa.TERM)||"COLORTERM"in Aa?1:r}o(Mb,"supportsColor");function fH(e){let t=Mb(e,e&&e.isTTY);return Ob(t)}o(fH,"getSupportLevel");bN.exports={supportsColor:fH,stdout:Ob(Mb(!0,_N.isatty(1))),stderr:Ob(Mb(!0,_N.isatty(2)))}});var TN=y0((Ja,Ip)=>{var cH=require("tty"),Sp=require("util");Ja.init=yH;Ja.log=gH;Ja.formatArgs=dH;Ja.save=mH;Ja.load=pH;Ja.useColors=uH;Ja.destroy=Sp.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Ja.colors=[6,2,3,4,5,1];try{let e=CN();e&&(e.stderr||e).level>=2&&(Ja.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Ja.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(s,l)=>l.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function uH(){return"colors"in Ja.inspectOpts?!!Ja.inspectOpts.colors:cH.isatty(process.stderr.fd)}o(uH,"useColors");function dH(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,s="\x1B[3"+(n<8?n:"8;5;"+n),l=`  ${s};1m${t} \x1B[0m`;e[0]=l+e[0].split(`
`).join(`
`+l),e.push(s+"m+"+Ip.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=hH()+t+" "+e[0]}o(dH,"formatArgs");function hH(){return Ja.inspectOpts.hideDate?"":new Date().toISOString()+" "}o(hH,"getDate");function gH(...e){return process.stderr.write(Sp.format(...e)+`
`)}o(gH,"log");function mH(e){e?process.env.DEBUG=e:delete process.env.DEBUG}o(mH,"save");function pH(){return process.env.DEBUG}o(pH,"load");function yH(e){e.inspectOpts={};let t=Object.keys(Ja.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=Ja.inspectOpts[t[r]]}o(yH,"init");Ip.exports=Fb()(Ja);var{formatters:EN}=Ip.exports;EN.o=function(e){return this.inspectOpts.colors=this.useColors,Sp.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};EN.O=function(e){return this.inspectOpts.colors=this.useColors,Sp.inspect(e,this.inspectOpts)}});var rd=y0(($0e,Ub)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Ub.exports=yN():Ub.exports=TN()});var Kb=y0((H0e,AN)=>{var C9=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,vH=typeof AbortController=="function",T9,wp=vH?AbortController:(T9=class{constructor(){this.signal=new SN}abort(){this.signal.dispatchEvent("abort")}},o(T9,"AbortController"),T9),xH=typeof AbortSignal=="function",_H=typeof wp.AbortSignal=="function",S9,SN=xH?AbortSignal:_H?wp.AbortController:(S9=class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(t){if(t==="abort"){this.aborted=!0;let r={type:t,target:this};this.onabort(r),this._listeners.forEach(n=>n(r),this)}}onabort(){}addEventListener(t,r){t==="abort"&&this._listeners.push(r)}removeEventListener(t,r){t==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},o(S9,"AbortSignal"),S9),Vb=new Set,qb=o((e,t)=>{let r=`LRU_CACHE_OPTION_${e}`;Ap(r)&&jb(r,`${e} option`,`options.${t}`,D8)},"deprecatedOption"),$b=o((e,t)=>{let r=`LRU_CACHE_METHOD_${e}`;if(Ap(r)){let{prototype:n}=D8,{get:s}=Object.getOwnPropertyDescriptor(n,e);jb(r,`${e} method`,`cache.${t}()`,s)}},"deprecatedMethod"),bH=o((e,t)=>{let r=`LRU_CACHE_PROPERTY_${e}`;if(Ap(r)){let{prototype:n}=D8,{get:s}=Object.getOwnPropertyDescriptor(n,e);jb(r,`${e} property`,`cache.${t}`,s)}},"deprecatedProperty"),IN=o((...e)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...e):console.error(...e)},"emitWarning"),Ap=o(e=>!Vb.has(e),"shouldWarn"),jb=o((e,t,r,n)=>{Vb.add(e);let s=`The ${t} is deprecated. Please use ${r} instead.`;IN(s,"DeprecationWarning",e,n)},"warn"),nd=o(e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),"isPosInt"),wN=o(e=>nd(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?B8:null:null,"getUintArray"),zb=class zb extends Array{constructor(t){super(t),this.fill(0)}};o(zb,"ZeroArray");var B8=zb,Gb=class Gb{constructor(t){if(t===0)return[];let r=wN(t);this.heap=new r(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}};o(Gb,"Stack");var Hb=Gb,E9=class E9{constructor(t={}){let{max:r=0,ttl:n,ttlResolution:s=1,ttlAutopurge:l,updateAgeOnGet:a,updateAgeOnHas:f,allowStale:c,dispose:u,disposeAfter:d,noDisposeOnSet:h,noUpdateTTL:m,maxSize:p=0,sizeCalculation:v,fetchMethod:x,fetchContext:E,noDeleteOnFetchRejection:I,noDeleteOnStaleGet:A}=t,{length:L,maxAge:D,stale:R}=t instanceof E9?{}:t;if(r!==0&&!nd(r))throw new TypeError("max option must be a nonnegative integer");let V=r?wN(r):Array;if(!V)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=p,this.sizeCalculation=v||L,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=x||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=E,!this.fetchMethod&&E!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new V(r),this.prev=new V(r),this.head=0,this.tail=0,this.free=new Hb(r),this.initialFill=1,this.size=0,typeof u=="function"&&(this.dispose=u),typeof d=="function"?(this.disposeAfter=d,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!h,this.noUpdateTTL=!!m,this.noDeleteOnFetchRejection=!!I,this.maxSize!==0){if(!nd(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!c||!!R,this.noDeleteOnStaleGet=!!A,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!f,this.ttlResolution=nd(s)||s===0?s:1,this.ttlAutopurge=!!l,this.ttl=n||D||0,this.ttl){if(!nd(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let de="LRU_CACHE_UNBOUNDED";Ap(de)&&(Vb.add(de),IN("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",de,E9))}R&&qb("stale","allowStale"),D&&qb("maxAge","ttl"),L&&qb("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new B8(this.max),this.starts=new B8(this.max),this.setItemTTL=(n,s,l=C9.now())=>{if(this.starts[n]=s!==0?l:0,this.ttls[n]=s,s!==0&&this.ttlAutopurge){let a=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},s+1);a.unref&&a.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?C9.now():0};let t=0,r=o(()=>{let n=C9.now();if(this.ttlResolution>0){t=n;let s=setTimeout(()=>t=0,this.ttlResolution);s.unref&&s.unref()}return n},"getNow");this.getRemainingTTL=n=>{let s=this.keyMap.get(n);return s===void 0?0:this.ttls[s]===0||this.starts[s]===0?1/0:this.starts[s]+this.ttls[s]-(t||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(t||r())-this.starts[n]>this.ttls[n]}updateItemAge(t){}setItemTTL(t,r,n){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new B8(this.max),this.removeItemSize=t=>{this.calculatedSize-=this.sizes[t],this.sizes[t]=0},this.requireSize=(t,r,n,s)=>{if(!nd(n))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(n=s(r,t),!nd(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return n},this.addItemSize=(t,r)=>{this.sizes[t]=r;let n=this.maxSize-this.sizes[t];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[t]}}removeItemSize(t){}addItemSize(t,r){}requireSize(t,r,n,s){if(n||s)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(t){return this.keyMap.get(this.keyList[t])===t}*entries(){for(let t of this.indexes())yield[this.keyList[t],this.valList[t]]}*rentries(){for(let t of this.rindexes())yield[this.keyList[t],this.valList[t]]}*keys(){for(let t of this.indexes())yield this.keyList[t]}*rkeys(){for(let t of this.rindexes())yield this.keyList[t]}*values(){for(let t of this.indexes())yield this.valList[t]}*rvalues(){for(let t of this.rindexes())yield this.valList[t]}[Symbol.iterator](){return this.entries()}find(t,r={}){for(let n of this.indexes())if(t(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],r)}forEach(t,r=this){for(let n of this.indexes())t.call(r,this.valList[n],this.keyList[n],this)}rforEach(t,r=this){for(let n of this.rindexes())t.call(r,this.valList[n],this.keyList[n],this)}get prune(){return $b("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),t=!0);return t}dump(){let t=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],s=this.valList[r],a={value:this.isBackgroundFetch(s)?s.__staleWhileFetching:s};if(this.ttls){a.ttl=this.ttls[r];let f=C9.now()-this.starts[r];a.start=Math.floor(Date.now()-f)}this.sizes&&(a.size=this.sizes[r]),t.unshift([n,a])}return t}load(t){this.clear();for(let[r,n]of t){if(n.start){let s=Date.now()-n.start;n.start=C9.now()-s}this.set(r,n.value,n)}}dispose(t,r,n){}set(t,r,{ttl:n=this.ttl,start:s,noDisposeOnSet:l=this.noDisposeOnSet,size:a=0,sizeCalculation:f=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL}={}){if(a=this.requireSize(t,r,a,f),this.maxSize&&a>this.maxSize)return this;let u=this.size===0?void 0:this.keyMap.get(t);if(u===void 0)u=this.newIndex(),this.keyList[u]=t,this.valList[u]=r,this.keyMap.set(t,u),this.next[this.tail]=u,this.prev[u]=this.tail,this.tail=u,this.size++,this.addItemSize(u,a),c=!1;else{let d=this.valList[u];r!==d&&(this.isBackgroundFetch(d)?d.__abortController.abort():l||(this.dispose(d,t,"set"),this.disposeAfter&&this.disposed.push([d,t,"set"])),this.removeItemSize(u),this.valList[u]=r,this.addItemSize(u,a)),this.moveToTail(u)}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),c||this.setItemTTL(u,n,s),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let t=this.valList[this.head];return this.evict(!0),t}}evict(t){let r=this.head,n=this.keyList[r],s=this.valList[r];return this.isBackgroundFetch(s)?s.__abortController.abort():(this.dispose(s,n,"evict"),this.disposeAfter&&this.disposed.push([s,n,"evict"])),this.removeItemSize(r),t&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(t,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let n=this.keyMap.get(t);return n!==void 0&&!this.isStale(n)?(r&&this.updateItemAge(n),!0):!1}peek(t,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(t);if(n!==void 0&&(r||!this.isStale(n))){let s=this.valList[n];return this.isBackgroundFetch(s)?s.__staleWhileFetching:s}}backgroundFetch(t,r,n,s){let l=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(l))return l;let a=new wp,f={signal:a.signal,options:n,context:s},c=o(m=>(a.signal.aborted||this.set(t,m,f.options),m),"cb"),u=o(m=>{if(this.valList[r]===h&&(!n.noDeleteOnFetchRejection||h.__staleWhileFetching===void 0?this.delete(t):this.valList[r]=h.__staleWhileFetching),h.__returned===h)throw m},"eb"),d=o(m=>m(this.fetchMethod(t,l,f)),"pcall"),h=new Promise(d).then(c,u);return h.__abortController=a,h.__staleWhileFetching=l,h.__returned=null,r===void 0?(this.set(t,h,f.options),r=this.keyMap.get(t)):this.valList[r]=h,h}isBackgroundFetch(t){return t&&typeof t=="object"&&typeof t.then=="function"&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(t,"__returned")&&(t.__returned===t||t.__returned===null)}async fetch(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:l=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:f=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,fetchContext:h=this.fetchContext,forceRefresh:m=!1}={}){if(!this.fetchMethod)return this.get(t,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:s});let p={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:s,ttl:l,noDisposeOnSet:a,size:f,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:d},v=this.keyMap.get(t);if(v===void 0){let x=this.backgroundFetch(t,v,p,h);return x.__returned=x}else{let x=this.valList[v];if(this.isBackgroundFetch(x))return r&&x.__staleWhileFetching!==void 0?x.__staleWhileFetching:x.__returned=x;if(!m&&!this.isStale(v))return this.moveToTail(v),n&&this.updateItemAge(v),x;let E=this.backgroundFetch(t,v,p,h);return r&&E.__staleWhileFetching!==void 0?E.__staleWhileFetching:E.__returned=E}}get(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet}={}){let l=this.keyMap.get(t);if(l!==void 0){let a=this.valList[l],f=this.isBackgroundFetch(a);return this.isStale(l)?f?r?a.__staleWhileFetching:void 0:(s||this.delete(t),r?a:void 0):f?void 0:(this.moveToTail(l),n&&this.updateItemAge(l),a)}}connect(t,r){this.prev[r]=t,this.next[t]=r}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return $b("del","delete"),this.delete}delete(t){let r=!1;if(this.size!==0){let n=this.keyMap.get(t);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let s=this.valList[n];this.isBackgroundFetch(s)?s.__abortController.abort():(this.dispose(s,t,"delete"),this.disposeAfter&&this.disposed.push([s,t,"delete"])),this.keyMap.delete(t),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let t of this.rindexes({allowStale:!0})){let r=this.valList[t];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let n=this.keyList[t];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return $b("reset","clear"),this.clear}get length(){return bH("length","size"),this.size}static get AbortController(){return wp}static get AbortSignal(){return SN}};o(E9,"LRUCache");var D8=E9;AN.exports=D8});var Qb=y0((j0e,PN)=>{"use strict";var Jb=class Jb extends Error{constructor(t,r,n){super(t),this.type=r,this._name=n}get name(){return this._name}get[Symbol.toStringTag](){return this._name}};o(Jb,"FetchBaseError");var I9=Jb,Xb=class Xb extends I9{constructor(t,r,n){super(t,r,"FetchError"),n&&(this.code=n.code,this.errno=n.errno,this.erroredSysCall=n.syscall)}};o(Xb,"FetchError");var Wb=Xb,Zb=class Zb extends I9{constructor(t,r="aborted"){super(t,r,"AbortError")}};o(Zb,"AbortError");var Yb=Zb;PN.exports={FetchBaseError:I9,FetchError:Wb,AbortError:Yb}});var _u=y0((G0e,RN)=>{"use strict";var{constants:{MAX_LENGTH:CH}}=require("buffer"),{pipeline:Pp,PassThrough:EH}=require("stream"),{promisify:TH}=require("util"),{createGunzip:SH,createInflate:IH,createBrotliDecompress:wH,constants:{Z_SYNC_FLUSH:NN}}=require("zlib"),AH=rd()("helix-fetch:utils"),PH=TH(Pp),NH=o((e,t)=>e===204||e===304||+t["content-length"]==0?!1:/^\s*(?:(x-)?deflate|(x-)?gzip|br)\s*$/.test(t["content-encoding"]),"canDecode"),RH=o((e,t,r,n)=>{if(!NH(e,t))return r;let s=o(l=>{l&&(AH(`encountered error while decoding stream: ${l}`),n(l))},"cb");switch(t["content-encoding"].trim()){case"gzip":case"x-gzip":return Pp(r,SH({flush:NN,finishFlush:NN}),s);case"deflate":case"x-deflate":return Pp(r,IH(),s);case"br":return Pp(r,wH(),s);default:return r}},"decodeStream"),kH=o(e=>{if(!e||typeof e!="object"||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},"isPlainObject"),Np=o((e,t)=>{if(Buffer.isBuffer(e))return e.length;switch(typeof e){case"string":return e.length*2;case"boolean":return 4;case"number":return 8;case"symbol":return Symbol.keyFor(e)?Symbol.keyFor(e).length*2:(e.toString().length-8)*2;case"object":return Array.isArray(e)?BH(e,t):DH(e,t);default:return 0}},"calcSize"),BH=o((e,t)=>(t.add(e),e.map(r=>t.has(r)?0:Np(r,t)).reduce((r,n)=>r+n,0)),"calcArraySize"),DH=o((e,t)=>{if(e==null)return 0;t.add(e);let r=0,n=[];for(let s in e)n.push(s);return n.push(...Object.getOwnPropertySymbols(e)),n.forEach(s=>{if(r+=Np(s,t),typeof e[s]=="object"&&e[s]!==null){if(t.has(e[s]))return;t.add(e[s])}r+=Np(e[s],t)}),r},"calcObjectSize"),LH=o(e=>Np(e,new WeakSet),"sizeof"),FH=o(async e=>{let t=new EH,r=0,n=[];return t.on("data",s=>{if(r+s.length>CH)throw new Error("Buffer.constants.MAX_SIZE exceeded");n.push(s),r+=s.length}),await PH(e,t),Buffer.concat(n,r)},"streamToBuffer");RN.exports={decodeStream:RH,isPlainObject:kH,sizeof:LH,streamToBuffer:FH}});var kp=y0((W0e,LN)=>{"use strict";var{PassThrough:kN,Readable:bu}=require("stream"),{types:{isAnyArrayBuffer:DN}}=require("util"),{FetchError:OH,FetchBaseError:MH}=Qb(),{streamToBuffer:UH}=_u(),qH=Buffer.alloc(0),Hf=Symbol("Body internals"),$H=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),BN=o(async e=>{if(e[Hf].disturbed)throw new TypeError("Already read");if(e[Hf].error)throw new TypeError(`Stream had error: ${e[Hf].error.message}`);e[Hf].disturbed=!0;let{stream:t}=e[Hf];return t===null?qH:UH(t)},"consume"),eC=class eC{constructor(t){let r;t==null?r=null:t instanceof URLSearchParams?r=bu.from(t.toString()):t instanceof bu?r=t:Buffer.isBuffer(t)?r=bu.from(t):DN(t)?r=bu.from(Buffer.from(t)):typeof t=="string"||t instanceof String?r=bu.from(t):r=bu.from(String(t)),this[Hf]={stream:r,disturbed:!1,error:null},t instanceof bu&&r.on("error",n=>{let s=n instanceof MH?n:new OH(`Invalid response body while trying to fetch ${this.url}: ${n.message}`,"system",n);this[Hf].error=s})}get body(){return this[Hf].stream}get bodyUsed(){return this[Hf].disturbed}async buffer(){return BN(this)}async arrayBuffer(){return $H(await this.buffer())}async text(){return(await BN(this)).toString()}async json(){return JSON.parse(await this.text())}};o(eC,"Body");var Rp=eC;Object.defineProperties(Rp.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});var HH=o(e=>{if(e[Hf].disturbed)throw new TypeError("Cannot clone: already read");let{stream:t}=e[Hf],r=t;if(t instanceof bu){r=new kN;let n=new kN;t.pipe(r),t.pipe(n),e[Hf].stream=n}return r},"cloneStream"),VH=o(e=>e===null?null:typeof e=="string"?"text/plain; charset=utf-8":e instanceof URLSearchParams?"application/x-www-form-urlencoded; charset=utf-8":Buffer.isBuffer(e)||DN(e)||e instanceof bu?null:"text/plain; charset=utf-8","guessContentType");LN.exports={Body:Rp,cloneStream:HH,guessContentType:VH}});var L8=y0((J0e,UN)=>{"use strict";var{validateHeaderName:FN,validateHeaderValue:ON}=require("http"),{isPlainObject:jH}=_u(),Cu=Symbol("Headers internals"),w9=o(e=>{let t=typeof e!="string"?String(e):e;if(typeof FN=="function")FN(t);else if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let r=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}return t.toLowerCase()},"normalizeName"),MN=o((e,t)=>{let r=typeof e!="string"?String(e):e;if(typeof ON=="function")ON(t,r);else if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let n=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}return r},"normalizeValue"),Dp=class Dp{constructor(t={}){if(this[Cu]={map:new Map},t instanceof Dp)t.forEach((r,n)=>{this.append(n,r)});else if(Array.isArray(t))t.forEach(([r,n])=>{this.append(r,n)});else if(jH(t))for(let[r,n]of Object.entries(t))this.append(r,n)}set(t,r){this[Cu].map.set(w9(t),MN(r,t))}has(t){return this[Cu].map.has(w9(t))}get(t){let r=this[Cu].map.get(w9(t));return r===void 0?null:r}append(t,r){let n=w9(t),s=MN(r,t),l=this[Cu].map.get(n);this[Cu].map.set(n,l?`${l}, ${s}`:s)}delete(t){this[Cu].map.delete(w9(t))}forEach(t,r){for(let n of this.keys())t.call(r,this.get(n),n)}keys(){return Array.from(this[Cu].map.keys()).sort()}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return this.constructor.name}plain(){return Object.fromEntries(this[Cu].map)}};o(Dp,"Headers");var Bp=Dp;Object.defineProperties(Bp.prototype,["append","delete","entries","forEach","get","has","keys","set","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));UN.exports={Headers:Bp}});var iC=y0((Z0e,qN)=>{"use strict";var{EventEmitter:zH}=require("events"),A1=Symbol("AbortSignal internals"),tC=class tC{constructor(){this[A1]={eventEmitter:new zH,onabort:null,aborted:!1}}get aborted(){return this[A1].aborted}get onabort(){return this[A1].onabort}set onabort(t){this[A1].onabort=t}get[Symbol.toStringTag](){return this.constructor.name}removeEventListener(t,r){this[A1].eventEmitter.removeListener(t,r)}addEventListener(t,r){this[A1].eventEmitter.on(t,r)}dispatchEvent(t){let r={type:t,target:this},n=`on${t}`;typeof this[A1][n]=="function"&&this[n](r),this[A1].eventEmitter.emit(t,r)}fire(){this[A1].aborted=!0,this.dispatchEvent("abort")}};o(tC,"AbortSignal");var F8=tC;Object.defineProperties(F8.prototype,{addEventListener:{enumerable:!0},removeEventListener:{enumerable:!0},dispatchEvent:{enumerable:!0},aborted:{enumerable:!0},onabort:{enumerable:!0}});var rC=class rC extends F8{constructor(t){if(!Number.isInteger(t))throw new TypeError(`Expected an integer, got ${typeof t}`);super(),this[A1].timerId=setTimeout(()=>{this.fire()},t)}clear(){clearTimeout(this[A1].timerId)}};o(rC,"TimeoutSignal");var Fp=rC;Object.defineProperties(Fp.prototype,{clear:{enumerable:!0}});var Lp=Symbol("AbortController internals"),nC=class nC{constructor(){this[Lp]={signal:new F8}}get signal(){return this[Lp].signal}get[Symbol.toStringTag](){return this.constructor.name}abort(){this[Lp].signal.aborted||this[Lp].signal.fire()}};o(nC,"AbortController");var Op=nC;Object.defineProperties(Op.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});qN.exports={AbortController:Op,AbortSignal:F8,TimeoutSignal:Fp}});var A9=y0((ete,VN)=>{"use strict";var{randomBytes:GH}=require("crypto"),{Readable:KH}=require("stream"),oC=o(e=>typeof e=="object"&&["arrayBuffer","stream","text","slice","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&typeof e.type=="string"&&typeof e.size=="number"&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),"isBlob"),WH=o(e=>e!=null&&typeof e=="object"&&["append","delete","get","getAll","has","set","keys","values","entries","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&e[Symbol.toStringTag]==="FormData","isFormData"),$N=o(e=>`--${e}--\r
\r
`,"getFooter"),HN=o((e,t,r)=>{let n="";return n+=`--${e}\r
`,n+=`Content-Disposition: form-data; name="${t}"`,oC(r)&&(n+=`; filename="${r.name}"\r
`,n+=`Content-Type: ${r.type||"application/octet-stream"}`),`${n}\r
\r
`},"getHeader");async function*YH(e,t){for(let[r,n]of e)yield HN(t,r,n),oC(n)?yield*n.stream():yield n,yield`\r
`;yield $N(t)}o(YH,"formDataIterator");var JH=o((e,t)=>{let r=0;for(let[n,s]of e)r+=Buffer.byteLength(HN(t,n,s)),r+=oC(s)?s.size:Buffer.byteLength(String(s)),r+=Buffer.byteLength(`\r
`);return r+=Buffer.byteLength($N(t)),r},"getFormDataLength"),aC=class aC{constructor(t){this.fd=t,this.boundary=GH(8).toString("hex")}length(){return typeof this._length>"u"&&(this._length=JH(this.fd,this.boundary)),this._length}contentType(){return`multipart/form-data; boundary=${this.boundary}`}stream(){return KH.from(YH(this.fd,this.boundary))}};o(aC,"FormDataSerializer");var sC=aC;VN.exports={isFormData:WH,FormDataSerializer:sC}});var zN=y0((rte,jN)=>{"use strict";var{AbortSignal:XH}=iC(),{Body:ZH,cloneStream:QH,guessContentType:eV}=kp(),{Headers:tV}=L8(),{isPlainObject:rV}=_u(),{isFormData:nV,FormDataSerializer:iV}=A9(),sV=20,X5=Symbol("Request internals"),P9=class P9 extends ZH{constructor(t,r={}){let n=t instanceof P9?t:null,s=n?new URL(n.url):new URL(t),l=r.method||n&&n.method||"GET";if(l=l.toUpperCase(),(r.body!=null||n&&n.body!==null)&&["GET","HEAD"].includes(l))throw new TypeError("Request with GET/HEAD method cannot have body");let a=r.body||(n&&n.body?QH(n):null),f=new tV(r.headers||n&&n.headers||{});if(nV(a)&&!f.has("content-type")){let h=new iV(a);a=h.stream(),f.set("content-type",h.contentType()),!f.has("transfer-encoding")&&!f.has("content-length")&&f.set("content-length",h.length())}if(!f.has("content-type"))if(rV(a))a=JSON.stringify(a),f.set("content-type","application/json");else{let h=eV(a);h&&f.set("content-type",h)}super(a);let c=n?n.signal:null;if("signal"in r&&(c=r.signal),c&&!(c instanceof XH))throw new TypeError("signal needs to be an instance of AbortSignal");let u=r.redirect||n&&n.redirect||"follow";if(!["follow","error","manual"].includes(u))throw new TypeError(`'${u}' is not a valid redirect option`);let d=r.cache||n&&n.cache||"default";if(!["default","no-store","reload","no-cache","force-cache","only-if-cached"].includes(d))throw new TypeError(`'${d}' is not a valid cache option`);this[X5]={init:{...r},method:l,redirect:u,cache:d,headers:f,parsedURL:s,signal:c},r.follow===void 0?!n||n.follow===void 0?this.follow=sV:this.follow=n.follow:this.follow=r.follow,this.counter=r.counter||n&&n.counter||0,r.compress===void 0?!n||n.compress===void 0?this.compress=!0:this.compress=n.compress:this.compress=r.compress,r.decode===void 0?!n||n.decode===void 0?this.decode=!0:this.decode=n.decode:this.decode=r.decode}get method(){return this[X5].method}get url(){return this[X5].parsedURL.toString()}get headers(){return this[X5].headers}get redirect(){return this[X5].redirect}get cache(){return this[X5].cache}get signal(){return this[X5].signal}clone(){return new P9(this)}get init(){return this[X5].init}get[Symbol.toStringTag](){return this.constructor.name}};o(P9,"Request");var Mp=P9;Object.defineProperties(Mp.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},cache:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});jN.exports={Request:Mp}});var lC=y0((ite,GN)=>{"use strict";var{Body:oV,cloneStream:aV,guessContentType:lV}=kp(),{Headers:fV}=L8(),{isPlainObject:cV}=_u(),{isFormData:uV,FormDataSerializer:dV}=A9(),P1=Symbol("Response internals"),N9=class N9 extends oV{constructor(t=null,r={}){let n=new fV(r.headers),s=t;if(uV(s)&&!n.has("content-type")){let l=new dV(s);s=l.stream(),n.set("content-type",l.contentType()),!n.has("transfer-encoding")&&!n.has("content-length")&&n.set("content-length",l.length())}if(s!==null&&!n.has("content-type"))if(cV(s))s=JSON.stringify(s),n.set("content-type","application/json");else{let l=lV(s);l&&n.set("content-type",l)}super(s),this[P1]={url:r.url,status:r.status||200,statusText:r.statusText||"",headers:n,httpVersion:r.httpVersion,decoded:r.decoded,counter:r.counter}}get url(){return this[P1].url||""}get status(){return this[P1].status}get statusText(){return this[P1].statusText}get ok(){return this[P1].status>=200&&this[P1].status<300}get redirected(){return this[P1].counter>0}get headers(){return this[P1].headers}get httpVersion(){return this[P1].httpVersion}get decoded(){return this[P1].decoded}static redirect(t,r=302){if(![301,302,303,307,308].includes(r))throw new RangeError("Invalid status code");return new N9(null,{headers:{location:new URL(t).toString()},status:r})}clone(){if(this.bodyUsed)throw new TypeError("Cannot clone: already read");return new N9(aV(this),{...this[P1]})}get[Symbol.toStringTag](){return this.constructor.name}};o(N9,"Response");var Up=N9;Object.defineProperties(Up.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});GN.exports={Response:Up}});var WN=y0((ote,KN)=>{"use strict";var hV=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),gV=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),mV=new Set([500,502,503,504]),pV={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},yV={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function id(e){let t=parseInt(e,10);return isFinite(t)?t:0}o(id,"toNumberOrZero");function vV(e){return e?mV.has(e.status):!0}o(vV,"isErrorResponse");function fC(e){let t={};if(!e)return t;let r=e.trim().split(/,/);for(let n of r){let[s,l]=n.split(/=/,2);t[s.trim()]=l===void 0?!0:l.trim().replace(/^"|"$/g,"")}return t}o(fC,"parseCacheControl");function xV(e){let t=[];for(let r in e){let n=e[r];t.push(n===!0?r:r+"="+n)}if(t.length)return t.join(", ")}o(xV,"formatCacheControl");var R9;KN.exports=(R9=class{constructor(t,r,{shared:n,cacheHeuristic:s,immutableMinTimeToLive:l,ignoreCargoCult:a,_fromObject:f}={}){if(f){this._fromObject(f);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(t),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=s!==void 0?s:.1,this._immutableMinTtl=l!==void 0?l:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=fC(r.headers["cache-control"]),this._method="method"in t?t.method:"GET",this._url=t.url,this._host=t.headers.host,this._noAuthorization=!t.headers.authorization,this._reqHeaders=r.headers.vary?t.headers:null,this._reqcc=fC(t.headers["cache-control"]),a&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":xV(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&gV.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||hV.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);let r=fC(t.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(t.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(t,!1)}_requestMatches(t,r){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||r&&t.method==="HEAD")&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(t.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(t){let r={};for(let n in t)pV[n]||(r[n]=t[n]);if(t.connection){let n=t.connection.trim().split(/\s*,\s*/);for(let s of n)delete r[s]}if(r.warning){let n=r.warning.split(/,/).filter(s=>!/^\s*1[0-9][0-9]/.test(s));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let t=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'),t.age=`${Math.round(r)}`,t.date=new Date(this.now()).toUTCString(),t}date(){let t=Date.parse(this._resHeaders.date);return isFinite(t)?t:this._responseTime}age(){let t=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return t+r}_ageValue(){return id(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return id(this._rescc["s-maxage"])}if(this._rescc["max-age"])return id(this._rescc["max-age"]);let t=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(t,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(t,(r-n)/1e3*this._cacheHeuristic)}return t}timeToLive(){let t=this.maxAge()-this.age(),r=t+id(this._rescc["stale-if-error"]),n=t+id(this._rescc["stale-while-revalidate"]);return Math.max(0,t,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+id(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+id(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(void 0,void 0,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t,this._isShared=t.sh,this._cacheHeuristic=t.ch,this._immutableMinTtl=t.imm!==void 0?t.imm:24*3600*1e3,this._status=t.st,this._resHeaders=t.resh,this._rescc=t.rescc,this._method=t.m,this._url=t.u,this._host=t.h,this._noAuthorization=t.a,this._reqHeaders=t.reqh,this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);let r=this._copyWithoutHopByHopHeaders(t.headers);if(delete r["if-range"],!this._requestMatches(t,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let s=r["if-none-match"].split(/,/).filter(l=>!/^\s*W\//.test(l));s.length?r["if-none-match"]=s.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(t,r){if(this._assertRequestHasHeaders(t),this._useStaleIfError()&&vV(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(t,r),modified:r.status!=304,matches:!1};let s={};for(let a in this._resHeaders)s[a]=a in r.headers&&!yV[a]?r.headers[a]:this._resHeaders[a];let l=Object.assign({},r,{status:this._status,method:this._method,headers:s});return{policy:new this.constructor(t,l,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}},o(R9,"CachePolicy"),R9)});var ZN=y0((lte,XN)=>{"use strict";var _V=WN(),{Headers:bV}=L8(),YN=o(e=>({url:e.url,method:e.method,headers:e.headers.plain()}),"convertRequest"),JN=o(e=>({status:e.status,headers:e.headers.plain()}),"convertResponse"),uC=class uC{constructor(t,r,n){this.policy=new _V(YN(t),JN(r),n)}storable(){return this.policy.storable()}satisfiesWithoutRevalidation(t){return this.policy.satisfiesWithoutRevalidation(YN(t))}responseHeaders(t){return new bV(this.policy.responseHeaders(JN(t)))}timeToLive(){return this.policy.timeToLive()}};o(uC,"CachePolicyWrapper");var cC=uC;XN.exports=cC});var tR=y0((cte,eR)=>{"use strict";var{Readable:CV}=require("stream"),{Headers:QN}=L8(),{Response:EV}=lC(),Z5=Symbol("CacheableResponse internals"),TV=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),qp=class qp extends EV{constructor(t,r){super(t,r);let n=new QN(r.headers);this[Z5]={headers:n,bufferedBody:t}}get headers(){return this[Z5].headers}set headers(t){if(t instanceof QN)this[Z5].headers=t;else throw new TypeError("instance of Headers expected")}get body(){return CV.from(this[Z5].bufferedBody)}get bodyUsed(){return!1}async buffer(){return this[Z5].bufferedBody}async arrayBuffer(){return TV(this[Z5].bufferedBody)}async text(){return this[Z5].bufferedBody.toString()}async json(){return JSON.parse(await this.text())}clone(){let{url:t,status:r,statusText:n,headers:s,httpVersion:l,decoded:a,counter:f}=this;return new qp(this[Z5].bufferedBody,{url:t,status:r,statusText:n,headers:s,httpVersion:l,decoded:a,counter:f})}get[Symbol.toStringTag](){return this.constructor.name}};o(qp,"CacheableResponse");var dC=qp,SV=o(async e=>{let t=await e.buffer(),{url:r,status:n,statusText:s,headers:l,httpVersion:a,decoded:f,counter:c}=e;return new dC(t,{url:r,status:n,statusText:s,headers:l,httpVersion:a,decoded:f,counter:c})},"cacheableResponse");eR.exports={cacheableResponse:SV}});var $p=y0((dte,rR)=>{"use strict";var gC=class gC extends Error{get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};o(gC,"RequestAbortedError");var hC=gC;rR.exports={RequestAbortedError:hC}});var aR=y0((gte,oR)=>{"use strict";var iR=require("http"),sR=require("https"),{Readable:IV}=require("stream"),Eu=rd()("helix-fetch:h1"),{RequestAbortedError:nR}=$p(),{decodeStream:wV}=_u(),AV=o((e,t)=>{let{h1:r,options:{h1:n,rejectUnauthorized:s}}=e;return t==="https:"?r.httpsAgent?r.httpsAgent:n||typeof s=="boolean"?(r.httpsAgent=new sR.Agent(typeof s=="boolean"?{...n||{},rejectUnauthorized:s}:n),r.httpsAgent):void 0:r.httpAgent?r.httpAgent:n?(r.httpAgent=new iR.Agent(n),r.httpAgent):void 0},"getAgent"),PV=o(e=>{e.h1={}},"setupContext"),NV=o(async({h1:e})=>{e.httpAgent&&(Eu("resetContext: destroying httpAgent"),e.httpAgent.destroy(),delete e.httpAgent),e.httpsAgent&&(Eu("resetContext: destroying httpsAgent"),e.httpsAgent.destroy(),delete e.httpsAgent)},"resetContext"),RV=o((e,t,r)=>{let{statusCode:n,statusMessage:s,httpVersion:l,httpVersionMajor:a,httpVersionMinor:f,headers:c}=e,u=t?wV(n,c,e,r):e;return{statusCode:n,statusText:s,httpVersion:l,httpVersionMajor:a,httpVersionMinor:f,headers:c,readable:u,decoded:!!(t&&u!==e)}},"createResponse"),kV=o(async(e,t,r)=>{let{request:n}=t.protocol==="https:"?sR:iR,s=AV(e,t.protocol),l={...r,agent:s},{socket:a,body:f}=l;return a&&(delete l.socket,a.assigned||(a.assigned=!0,s?l.agent=new Proxy(s,{get:(c,u)=>u==="createConnection"&&!a.inUse?(d,h)=>{Eu(`agent reusing socket #${a.id} (${a.servername})`),a.inUse=!0,h(null,a)}:c[u]}):l.createConnection=(c,u)=>{Eu(`reusing socket #${a.id} (${a.servername})`),a.inUse=!0,u(null,a)})),new Promise((c,u)=>{Eu(`${l.method} ${t.href}`);let d,{signal:h}=l,m=o(()=>{h.removeEventListener("abort",m),a&&!a.inUse&&(Eu(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),u(new nR),d&&d.abort()},"onAbortSignal");if(h){if(h.aborted){u(new nR);return}h.addEventListener("abort",m)}d=n(t,l),d.once("response",p=>{h&&h.removeEventListener("abort",m),a&&!a.inUse&&(Eu(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),c(RV(p,l.decode,u))}),d.once("error",p=>{h&&h.removeEventListener("abort",m),a&&!a.inUse&&(Eu(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),d.aborted||(Eu(`${l.method} ${t.href} failed with: ${p.message}`),d.abort(),u(p))}),f instanceof IV?f.pipe(d):(f&&d.write(f),d.end())})},"h1Request");oR.exports={request:kV,setupContext:PV,resetContext:NV}});var uR=y0((pte,cR)=>{"use strict";var{connect:BV,constants:DV}=require("http2"),{Readable:LV}=require("stream"),Ps=rd()("helix-fetch:h2"),{RequestAbortedError:lR}=$p(),{decodeStream:FV}=_u(),{NGHTTP2_CANCEL:k9}=DV,OV=5*60*1e3,MV=5e3,UV=o(e=>{e.h2={sessionCache:{}}},"setupContext"),qV=o(async({h2:e})=>Promise.all(Object.values(e.sessionCache).map(t=>new Promise(r=>{t.on("close",r),Ps(`resetContext: destroying session (socket #${t.socket&&t.socket.id}, ${t.socket&&t.socket.servername})`),t.destroy()}))),"resetContext"),fR=o((e,t,r,n=()=>{})=>{let s={...e},l=s[":status"];delete s[":status"];let a=r?FV(l,e,t,n):t;return{statusCode:l,statusText:"",httpVersion:"2.0",httpVersionMajor:2,httpVersionMinor:0,headers:s,readable:a,decoded:!!(r&&a!==t)}},"createResponse"),$V=o((e,t,r,n,s,l)=>{let{options:{h2:{pushPromiseHandler:a,pushHandler:f,pushedStreamIdleTimeout:c=MV}}}=e,u=s[":path"],d=`${t}${u}`;Ps(`received PUSH_PROMISE: ${d}, stream #${n.id}, headers: ${JSON.stringify(s)}, flags: ${l}`),a&&a(d,s,o(()=>{n.close(k9)},"rejectPush")),n.on("push",(h,m)=>{Ps(`received push headers for ${t}${u}, stream #${n.id}, headers: ${JSON.stringify(h)}, flags: ${m}`),n.setTimeout(c,()=>{Ps(`closing pushed stream #${n.id} after ${c} ms of inactivity`),n.close(k9)}),f&&f(d,s,fR(h,n,r))}),n.on("aborted",()=>{Ps(`pushed stream #${n.id} aborted`)}),n.on("error",h=>{Ps(`pushed stream #${n.id} encountered error: ${h}`)}),n.on("frameError",(h,m,p)=>{Ps(`pushed stream #${n.id} encountered frameError: type: ${h}, code: ${m}, id: ${p}`)})},"handlePush"),HV=o(async(e,t,r)=>{let{origin:n,pathname:s,search:l,hash:a}=t,f=`${s}${l}${a}`,{options:{h2:c={}},h2:{sessionCache:u}}=e,{idleSessionTimeout:d=OV,pushPromiseHandler:h,pushHandler:m}=c,p={...r},{method:v,headers:x,socket:E,body:I,decode:A}=p;return E&&delete p.socket,x.host&&(x[":authority"]=x.host,delete x.host),new Promise((L,D)=>{let R=u[n];if(!R||R.closed||R.destroyed){let d0=!(e.options.rejectUnauthorized===!1||c.rejectUnauthorized===!1),r0={...c,rejectUnauthorized:d0};E&&!E.inUse&&(r0.createConnection=()=>(Ps(`reusing socket #${E.id} (${E.servername})`),E.inUse=!0,E)),R=BV(n,{...r0,settings:{enablePush:!!(h||m)}}),R.setMaxListeners(1e3),R.setTimeout(d,()=>{Ps(`closing session ${n} after ${d} ms of inactivity`),R.close()}),R.once("connect",()=>{Ps(`session ${n} established`),Ps(`caching session ${n}`),u[n]=R}),R.on("localSettings",Ve=>{Ps(`session ${n} localSettings: ${JSON.stringify(Ve)}`)}),R.on("remoteSettings",Ve=>{Ps(`session ${n} remoteSettings: ${JSON.stringify(Ve)}`)}),R.once("close",()=>{Ps(`session ${n} closed`),u[n]===R&&(Ps(`discarding cached session ${n}`),delete u[n])}),R.once("error",Ve=>{Ps(`session ${n} encountered error: ${Ve}`),u[n]===R&&(Ps(`discarding cached session ${n}`),delete u[n])}),R.on("frameError",(Ve,we,o0)=>{Ps(`session ${n} encountered frameError: type: ${Ve}, code: ${we}, id: ${o0}`)}),R.once("goaway",(Ve,we,o0)=>{Ps(`session ${n} received GOAWAY frame: errorCode: ${Ve}, lastStreamID: ${we}, opaqueData: ${o0?o0.toString():void 0}`)}),R.on("stream",(Ve,we,o0)=>{$V(e,n,A,Ve,we,o0)})}else E&&E.id!==R.socket.id&&!E.inUse&&(Ps(`discarding redundant socket used for ALPN: #${E.id} ${E.servername}`),E.destroy());Ps(`${v} ${t.host}${f}`);let V,{signal:de}=p,ve=o(()=>{de.removeEventListener("abort",ve),D(new lR),V&&V.close(k9)},"onAbortSignal");if(de){if(de.aborted){D(new lR);return}de.addEventListener("abort",ve)}let n0=o(d0=>{Ps(`session ${n} encountered error during ${p.method} ${t.href}: ${d0}`),D(d0)},"onSessionError");R.once("error",n0),V=R.request({":method":v,":path":f,...x}),V.once("response",d0=>{R.off("error",n0),de&&de.removeEventListener("abort",ve),L(fR(d0,V,p.decode,D))}),V.once("error",d0=>{R.off("error",n0),de&&de.removeEventListener("abort",ve),V.rstCode!==k9&&(Ps(`${p.method} ${t.href} failed with: ${d0.message}`),V.close(k9),D(d0))}),V.once("frameError",(d0,r0,m0)=>{R.off("error",n0),Ps(`encountered frameError during ${p.method} ${t.href}: type: ${d0}, code: ${r0}, id: ${m0}`)}),V.on("push",(d0,r0)=>{Ps(`received 'push' event: headers: ${JSON.stringify(d0)}, flags: ${r0}`)}),I instanceof LV?I.pipe(V):(I&&V.write(I),V.end())})},"request");cR.exports={request:HV,setupContext:UV,resetContext:qV}});var hR=y0((vte,dR)=>{"use strict";var{EventEmitter:VV}=require("events"),jV=o(()=>{let e={},t=new VV;return t.setMaxListeners(0),{acquire:r=>new Promise(n=>{if(!e[r]){e[r]=!0,n();return}let s=o(l=>{e[r]||(e[r]=!0,t.removeListener(r,s),n(l))},"tryAcquire");t.on(r,s)}),release:(r,n)=>{Reflect.deleteProperty(e,r),setImmediate(()=>t.emit(r,n))}}},"lock");dR.exports=jV});var gR=y0((_te,zV)=>{zV.exports={name:"@adobe/helix-fetch",version:"3.1.1",description:"Light-weight Fetch implementation transparently supporting both HTTP/1(.1) and HTTP/2",main:"src/index.js",scripts:{test:"nyc mocha",lint:"./node_modules/.bin/eslint .","semantic-release":"semantic-release"},mocha:{timeout:"5000",recursive:"true",reporter:"mocha-multi-reporters","reporter-options":"configFile=.mocha-multi.json"},engines:{node:">=12.0"},types:"src/index.d.ts",exports:{import:"./src/index.mjs",require:"./src/index.js"},repository:{type:"git",url:"https://github.com/adobe/helix-fetch"},author:"",license:"Apache-2.0",bugs:{url:"https://github.com/adobe/helix-fetch/issues"},homepage:"https://github.com/adobe/helix-fetch#readme",keywords:["fetch","whatwg","Fetch API","http","https","http2","h2","promise","async","request","RFC 7234","7234","caching","cache"],dependencies:{debug:"4.3.4","http-cache-semantics":"^4.1.1","lru-cache":"7.13.1"},devDependencies:{"@adobe/eslint-config-helix":"1.3.2","@semantic-release/changelog":"6.0.1","@semantic-release/git":"10.0.1",chai:"4.3.6","chai-as-promised":"7.1.1","chai-bytes":"0.1.2","chai-iterator":"3.0.2",eslint:"8.21.0","eslint-plugin-header":"3.1.1","eslint-plugin-import":"2.26.0","formdata-node":"4.3.3","lint-staged":"13.0.3",mocha:"10.0.0","mocha-multi-reporters":"1.5.1",nock:"13.2.9",nyc:"15.1.0","parse-cache-control":"1.0.1",pem:"1.14.6",proxy:"^1.0.2","semantic-release":"19.0.3",sinon:"14.0.0","stream-buffers":"3.0.2",tunnel:"^0.0.6"},"lint-staged":{"*.js":"eslint"},config:{commitizen:{path:"node_modules/cz-conventional-changelog"},ghooks:{"pre-commit":"npx lint-staged"}}}});var xR=y0((bte,vR)=>{"use strict";var{Readable:GV}=require("stream"),KV=require("tls"),{types:{isAnyArrayBuffer:WV}}=require("util"),YV=Kb(),mC=rd()("helix-fetch:core"),{RequestAbortedError:Hp}=$p(),pC=aR(),Vp=uR(),JV=hR(),{isPlainObject:XV}=_u(),{isFormData:ZV,FormDataSerializer:QV}=A9(),{version:ej}=gR(),yC="h2",vC="h2c",xC="http/1.0",sd="http/1.1",tj=100,rj=60*60*1e3,nj=[yC,sd,xC],ij=`helix-fetch/${ej}`,sj={method:"GET",compress:!0,decode:!0},mR=0,pR=JV(),yR=o((e,t)=>new Promise((r,n)=>{let{signal:s}=t,l,a=o(()=>{s.removeEventListener("abort",a);let u=new Hp;n(u),l&&l.destroy(u)},"onAbortSignal");if(s){if(s.aborted){n(new Hp);return}s.addEventListener("abort",a)}let f=+e.port||443,c=o(u=>{s&&s.removeEventListener("abort",a),u instanceof Hp||(mC(`connecting to ${e.hostname}:${f} failed with: ${u.message}`),n(u))},"onError");l=KV.connect(f,e.hostname,t),l.once("secureConnect",()=>{s&&s.removeEventListener("abort",a),l.off("error",c),mR+=1,l.id=mR,l.secureConnecting=!1,mC(`established TLS connection: #${l.id} (${l.servername})`),r(l)}),l.once("error",c)}),"connectTLS"),oj=o(async(e,t)=>{let r=await pR.acquire(e.origin);try{return r||(r=await yR(e,t)),r}finally{pR.release(e.origin,r)}},"connect"),aj=o(async(e,t,r)=>{let n=`${t.protocol}//${t.host}`,s=e.alpnCache.get(n);if(s)return{protocol:s};switch(t.protocol){case"http:":return s=sd,e.alpnCache.set(n,s),{protocol:s};case"http2:":return s=vC,e.alpnCache.set(n,s),{protocol:s};case"https:":break;default:throw new TypeError(`unsupported protocol: ${t.protocol}`)}let{options:{rejectUnauthorized:l,h1:a={},h2:f={}}}=e,c=!(l===!1||a.rejectUnauthorized===!1||f.rejectUnauthorized===!1),u={servername:t.hostname,ALPNProtocols:e.alpnProtocols,signal:r,rejectUnauthorized:c};e.options.ca&&(u.ca=e.options.ca);let d=await oj(t,u);return s=d.alpnProtocol,s||(s=sd),e.alpnCache.set(n,s),{protocol:s,socket:d}},"determineProtocol"),lj=o(e=>{let t={};return Object.keys(e).forEach(r=>{t[r.toLowerCase()]=e[r]}),t},"sanitizeHeaders"),fj=o(async(e,t,r,n)=>{let s=t.protocol==="https:",l;t.port?l=t.port:s?l=443:l=80;let a={...r,host:t.host,hostname:t.hostname,port:l},f=await e(a);if(s){let u={...a,ALPNProtocols:n};u.socket=f,u.servername=a.host;let d=await yR(t,u);return{protocol:d.alpnProtocol||sd,socket:d}}return{protocol:f.alpnProtocol||sd,socket:f}},"getProtocolAndSocketFromFactory"),cj=o(async(e,t,r)=>{let n=new URL(t),s={...sj,...r||{}};typeof s.method=="string"&&(s.method=s.method.toUpperCase()),s.headers=lj(s.headers||{}),s.headers.host===void 0&&(s.headers.host=n.host),e.userAgent&&s.headers["user-agent"]===void 0&&(s.headers["user-agent"]=e.userAgent);let l;if(s.body instanceof URLSearchParams)l="application/x-www-form-urlencoded; charset=utf-8",s.body=s.body.toString();else if(ZV(s.body)){let u=new QV(s.body);l=u.contentType(),s.body=u.stream(),s.headers["transfer-encoding"]===void 0&&s.headers["content-length"]===void 0&&(s.headers["content-length"]=String(u.length()))}else typeof s.body=="string"||s.body instanceof String?l="text/plain; charset=utf-8":XV(s.body)?(s.body=JSON.stringify(s.body),l="application/json"):WV(s.body)&&(s.body=Buffer.from(s.body));s.headers["content-type"]===void 0&&l!==void 0&&(s.headers["content-type"]=l),s.body!=null&&(s.body instanceof GV||(!(typeof s.body=="string"||s.body instanceof String)&&!Buffer.isBuffer(s.body)&&(s.body=String(s.body)),s.headers["transfer-encoding"]===void 0&&s.headers["content-length"]===void 0&&(s.headers["content-length"]=String(Buffer.isBuffer(s.body)?s.body.length:Buffer.byteLength(s.body,"utf-8"))))),s.headers.accept===void 0&&(s.headers.accept="*/*"),s.body==null&&["POST","PUT"].includes(s.method)&&(s.headers["content-length"]="0"),s.compress&&s.headers["accept-encoding"]===void 0&&(s.headers["accept-encoding"]="gzip,deflate,br");let{signal:a}=s,{protocol:f,socket:c=null}=e.socketFactory?await fj(e.socketFactory,n,s,e.alpnProtocols):await aj(e,n,a);switch(mC(`${n.host} -> ${f}`),f){case yC:try{return await Vp.request(e,n,c?{...s,socket:c}:s)}catch(u){let{code:d,message:h}=u;throw d==="ERR_HTTP2_ERROR"&&h==="Protocol error"&&e.alpnCache.delete(`${n.protocol}//${n.host}`),u}case vC:return Vp.request(e,new URL(`http://${n.host}${n.pathname}${n.hash}${n.search}`),c?{...s,socket:c}:s);case xC:case sd:return pC.request(e,n,c?{...s,socket:c}:s);default:throw new TypeError(`unsupported protocol: ${f}`)}},"request"),uj=o(async e=>(e.alpnCache.clear(),Promise.all([pC.resetContext(e),Vp.resetContext(e)])),"resetContext"),dj=o(e=>{let{options:{alpnProtocols:t=nj,alpnCacheTTL:r=rj,alpnCacheSize:n=tj,userAgent:s=ij,socketFactory:l}}=e;e.alpnProtocols=t,e.alpnCache=new YV({max:n,ttl:r}),e.userAgent=s,e.socketFactory=l,pC.setupContext(e),Vp.setupContext(e)},"setupContext");vR.exports={request:cj,setupContext:dj,resetContext:uj,RequestAbortedError:Hp,ALPN_HTTP2:yC,ALPN_HTTP2C:vC,ALPN_HTTP1_1:sd,ALPN_HTTP1_0:xC}});var bR=y0((Ete,_R)=>{"use strict";var hj=rd()("helix-fetch:core"),{request:gj,setupContext:mj,resetContext:pj,RequestAbortedError:yj,ALPN_HTTP2:vj,ALPN_HTTP2C:xj,ALPN_HTTP1_1:_j,ALPN_HTTP1_0:bj}=xR(),jp=class jp{constructor(t){this.options={...t||{}},mj(this)}api(){return{request:async(t,r)=>this.request(t,r),context:(t={})=>new jp(t).api(),setCA:t=>this.setCA(t),reset:async()=>this.reset(),RequestAbortedError:yj,ALPN_HTTP2:vj,ALPN_HTTP2C:xj,ALPN_HTTP1_1:_j,ALPN_HTTP1_0:bj}}async request(t,r){return gj(this,t,r)}setCA(t){this.options.ca=t}async reset(){return hj("resetting context"),pj(this)}};o(jp,"RequestContext");var _C=jp;_R.exports=new _C().api()});var IR=y0((Ste,SR)=>{"use strict";var{EventEmitter:Cj}=require("events"),{Readable:B9}=require("stream"),bC=rd()("helix-fetch"),Ej=Kb(),{Body:Tj}=kp(),{Headers:SC}=L8(),{Request:od}=zN(),{Response:EC}=lC(),{FetchBaseError:Sj,FetchError:D9,AbortError:zp}=Qb(),{AbortController:Ij,AbortSignal:wj,TimeoutSignal:Aj}=iC(),Pj=ZN(),{cacheableResponse:Nj}=tR(),{sizeof:Rj}=_u(),{isFormData:kj}=A9(),{context:Bj,RequestAbortedError:Dj}=bR(),CR=["GET","HEAD"],Lj=500,Fj=100*1024*1024,CC="push",ER=o(async(e,t,r)=>{let{request:n}=e.context,s=t instanceof od&&typeof r>"u"?t:new od(t,r),{method:l,body:a,signal:f,compress:c,decode:u,follow:d,redirect:h,init:{body:m}}=s,p;if(f&&f.aborted){let R=new zp("The operation was aborted.");throw s.init.body instanceof B9&&s.init.body.destroy(R),R}try{p=await n(s.url,{...r,method:l,headers:s.headers.plain(),body:m&&!(m instanceof B9)&&!kj(m)?m:a,compress:c,decode:u,follow:d,redirect:h,signal:f})}catch(R){throw m instanceof B9&&m.destroy(R),R instanceof TypeError?R:R instanceof Dj?new zp("The operation was aborted."):new D9(R.message,"system",R)}let v=o(()=>{f.removeEventListener("abort",v);let R=new zp("The operation was aborted.");s.init.body instanceof B9&&s.init.body.destroy(R),p.readable.emit("error",R)},"abortHandler");f&&f.addEventListener("abort",v);let{statusCode:x,statusText:E,httpVersion:I,headers:A,readable:L,decoded:D}=p;if([301,302,303,307,308].includes(x)){let{location:R}=A,V=R==null?null:new URL(R,s.url);switch(s.redirect){case"manual":break;case"error":throw f&&f.removeEventListener("abort",v),new D9(`uri requested responds with a redirect, redirect mode is set to 'error': ${s.url}`,"no-redirect");case"follow":{if(V===null)break;if(s.counter>=s.follow)throw f&&f.removeEventListener("abort",v),new D9(`maximum redirect reached at: ${s.url}`,"max-redirect");let de={headers:new SC(s.headers),follow:s.follow,compress:s.compress,decode:s.decode,counter:s.counter+1,method:s.method,body:s.body,signal:s.signal};if(x!==303&&s.body&&s.init.body instanceof B9)throw f&&f.removeEventListener("abort",v),new D9("Cannot follow redirect with body being a readable stream","unsupported-redirect");return(x===303||(x===301||x===302)&&s.method==="POST")&&(de.method="GET",de.body=void 0,de.headers.delete("content-length")),f&&f.removeEventListener("abort",v),ER(e,new od(V,de))}default:}}return f&&(L.once("end",()=>{f.removeEventListener("abort",v)}),L.once("error",()=>{f.removeEventListener("abort",v)})),new EC(L,{url:s.url,status:x,statusText:E,headers:A,httpVersion:I,decoded:D,counter:s.counter})},"fetch"),TR=o(async(e,t,r)=>{if(e.options.maxCacheSize===0||!CR.includes(t.method))return r;let n=new Pj(t,r,{shared:!1});if(n.storable()){let s=await Nj(r);return e.cache.set(t.url,{policy:n,response:s},n.timeToLive()),s}else return r},"cacheResponse"),Oj=o(async(e,t,r)=>{let n=new od(t,r);if(e.options.maxCacheSize!==0&&CR.includes(n.method)&&!["no-store","reload"].includes(n.cache)){let{policy:a,response:f}=e.cache.get(n.url)||{};if(a&&a.satisfiesWithoutRevalidation(n)){f.headers=new SC(a.responseHeaders(f));let c=f.clone();return c.fromCache=!0,c}}let l=await ER(e,n);return n.cache!=="no-store"?TR(e,n,l):l},"cachingFetch"),Mj=o((e,t={})=>{let r=new URL(e);if(typeof t!="object"||Array.isArray(t))throw new TypeError("qs: object expected");return Object.entries(t).forEach(([n,s])=>{Array.isArray(s)?s.forEach(l=>r.searchParams.append(n,l)):r.searchParams.append(n,s)}),r.href},"createUrl"),Uj=o(e=>new Aj(e),"timeoutSignal"),Tu=class Tu{constructor(t){this.options={...t};let{maxCacheSize:r}=this.options,n=typeof r=="number"&&r>=0?r:Fj,s=Lj;n===0&&(n=1,s=1);let l=o(({response:f},c)=>Rj(f),"sizeCalculation");this.cache=new Ej({max:s,maxSize:n,sizeCalculation:l}),this.eventEmitter=new Cj,this.options.h2=this.options.h2||{},typeof this.options.h2.enablePush>"u"&&(this.options.h2.enablePush=!0);let{enablePush:a}=this.options.h2;a&&(this.options.h2.pushPromiseHandler=(f,c,u)=>{let d={...c};Object.keys(d).filter(h=>h.startsWith(":")).forEach(h=>delete d[h]),this.pushPromiseHandler(f,d,u)},this.options.h2.pushHandler=(f,c,u)=>{let d={...c};Object.keys(d).filter(I=>I.startsWith(":")).forEach(I=>delete d[I]);let{statusCode:h,statusText:m,httpVersion:p,headers:v,readable:x,decoded:E}=u;this.pushHandler(f,d,new EC(x,{url:f,status:h,statusText:m,headers:v,httpVersion:p,decoded:E}))}),this.context=Bj(this.options)}api(){return{fetch:async(t,r)=>this.fetch(t,r),Body:Tj,Headers:SC,Request:od,Response:EC,AbortController:Ij,AbortSignal:wj,FetchBaseError:Sj,FetchError:D9,AbortError:zp,context:(t={})=>new Tu(t).api(),setCA:t=>this.setCA(t),noCache:(t={})=>new Tu({...t,maxCacheSize:0}).api(),h1:(t={})=>new Tu({...t,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),keepAlive:(t={})=>new Tu({...t,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),h1NoCache:(t={})=>new Tu({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),keepAliveNoCache:(t={})=>new Tu({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),reset:async()=>this.context.reset(),onPush:t=>this.onPush(t),offPush:t=>this.offPush(t),createUrl:Mj,timeoutSignal:Uj,clearCache:()=>this.clearCache(),cacheStats:()=>this.cacheStats(),ALPN_HTTP2:this.context.ALPN_HTTP2,ALPN_HTTP2C:this.context.ALPN_HTTP2C,ALPN_HTTP1_1:this.context.ALPN_HTTP1_1,ALPN_HTTP1_0:this.context.ALPN_HTTP1_0}}async fetch(t,r){return Oj(this,t,r)}setCA(t){this.options.ca=t,this.context.setCA(t)}onPush(t){return this.eventEmitter.on(CC,t)}offPush(t){return this.eventEmitter.off(CC,t)}clearCache(){this.cache.clear()}cacheStats(){return{size:this.cache.calculatedSize,count:this.cache.size}}pushPromiseHandler(t,r,n){bC(`received server push promise: ${t}, headers: ${JSON.stringify(r)}`);let s=new od(t,{headers:r}),{policy:l}=this.cache.get(t)||{};l&&l.satisfiesWithoutRevalidation(s)&&(bC(`already cached, reject push promise: ${t}, headers: ${JSON.stringify(r)}`),n())}async pushHandler(t,r,n){bC(`caching resource pushed by server: ${t}, reqHeaders: ${JSON.stringify(r)}, status: ${n.status}, respHeaders: ${JSON.stringify(n.headers)}`);let s=await TR(this,new od(t,{headers:r}),n);this.eventEmitter.emit(CC,t,s)}};o(Tu,"FetchContext");var TC=Tu;SR.exports=new TC().api()});var AR=y0((wte,wR)=>{"use strict";wR.exports=IR()});var zC=y0((Fre,Kj)=>{Kj.exports={name:"copilot",displayName:"GitHub Copilot",description:"Your AI pair programmer",version:"1.178.0",build:"804",buildType:"prod",publisher:"GitHub",preview:!1,homepage:"https://github.com/features/copilot",license:"https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",bugs:{url:"https://github.com/community/community/discussions/categories/copilot"},qna:"https://github.com/github-community/community/discussions/categories/copilot",icon:"assets/Copilot-App-Icon.png",pricing:"Trial",extensionPack:["GitHub.copilot-chat"],engines:{vscode:"^1.75.0",node:">=16.14.0",npm:">=8.0.0"},categories:["Programming Languages","Machine Learning","Education","Snippets"],keywords:["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],badges:[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],activationEvents:["onStartupFinished"],main:"./dist/extension",enabledApiProposals:["inlineCompletionsAdditions"],contributes:{walkthroughs:[{id:"copilotWelcome",title:"GitHub Copilot",description:"Your AI pair programmer to write code faster and with less work",when:"!isWeb",steps:[{id:"copilot.signin",title:"Sign in with GitHub",description:`To get started with Copilot, sign in with your GitHub account.
Double-check to use the right GitHub account. You can also sign in later using the account menu.
 
[Sign In](command:github.copilot.signIn)`,when:"!github.copilot.activated",completionEvents:["onContext:github.copilot.activated"],media:{image:"assets/walkthrough/sign-in.svg",altText:"Sign in to GitHub via Copilot's notification or VS Code's account menu"}},{id:"copilot.firstsuggest",title:"AI-powered suggestions",description:`Copilot suggests lines of code **as you type** and multiple lines for **function signatures**.
  
**Prompts in comments** make suggestions specific to your desired outcome, logic and steps.
  
[Getting started videos](https://github.com/features/copilot/getting-started?utm_source=editor&utm_medium=walkthrough&utm_campaign=2024q3-em-MSFT-videolandingpage)`,media:{svg:"assets/walkthrough/ai-powered-suggestions.svg",altText:"Different types of suggestions visualized"}},{id:"copilot.chat",title:"Chat with Copilot",description:"Ask Copilot general programming questions with chat. Copilot can also fix problems, scaffold tests, or refactor your code. Type ``/`` to view all available chat commands. Use `ctrl + shift + i` to open inline chat.\n[Chat with Copilot](command:workbench.panel.chat.view.copilot.focus)",when:"isWindows && !github.copilot.interactiveSession.disabled",media:{svg:"assets/walkthrough/copilot-chat.svg",altText:"Copilot Chat view in the sidebar"}},{id:"copilot.chat",title:"Chat with Copilot",description:"Ask Copilot general programming questions with chat. Copilot can also fix problems, scaffold tests, or refactor your code. Type ``/`` to view all available chat commands. Use `cmd + shift + i` to open inline chat.\n[Chat with Copilot](command:workbench.panel.chat.view.copilot.focus)",when:"!isWindows && !github.copilot.interactiveSession.disabled",media:{svg:"assets/walkthrough/copilot-chat.svg",altText:"Copilot Chat view in the sidebar"}},{id:"copilot.realfiles.openrecent",title:"Harness the power of context",description:`The **more specific context** you provide Copilot, the **better** suggestions get! Context is not just current code and comments, but other open files.
  
[Try Copilot in Your Code](command:workbench.action.openRecent)`,when:"workspaceFolderCount == 0",media:{svg:"assets/walkthrough/code-as-context.svg",altText:"An editor with code being suggested by Copilot in gray text"}},{id:"copilot.realfiles.quickopen",title:"Harness the power of context",description:`The **more context** you give Copilot, the **better** suggestions get! Context is not just the current code, but other open files.
  
[Try Copilot in Your Code](command:workbench.action.quickOpen)`,when:"workspaceFolderCount != 0",media:{svg:"assets/walkthrough/code-as-context.svg",altText:"An editor with code being suggested by Copilot in gray text"}},{id:"copilot.iterate",title:"You are in control",description:`Just as you would review a colleague's code, you should always assess, analyze, and validate AI-generated code.
  
If the first suggestion doesn't work, Copilot can generate more options. You can edit the Copilot settings and keyboard shortcuts to personalize your experience.
  
[Edit keyboard shortcuts](command:workbench.action.openGlobalKeybindings?%5B%22copilot%22%5D)
  
[Personalize settings](command:workbench.action.openSettings?%5B%22copilot%22%5D)`,media:{image:"assets/walkthrough/you-are-in-control.svg",altText:"An editor with a toolbar widget overlay showing arrows for navigating multiple suggestions from Copilot"}},{id:"copilot.creativity",title:"Powered by your creativity",description:`Pair up with AI to outline your idea in a comment, then generate the implementation, and then test suites. Or, work backwards from example output!
Copilot will keep surprising you as you challenge it.
  
[Prompts, tips, and use cases](https://code.visualstudio.com/docs/copilot/prompt-crafting)`,media:{svg:"assets/walkthrough/powered-by-your-creativity.svg",altText:"Metrics showing how much Copilot increases productivity for developers. The metrics read: 74% focus on more satisfying work. 88% feel more productive. 96% are faster with more repetitive tasks."}}]}],commands:[{command:"github.copilot.acceptCursorPanelSolution",title:"Accept panel suggestion at the cursor",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the previous panel suggestion",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the next panel suggestion",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",category:"GitHub Copilot"},{command:"github.copilot.toggleCopilot",title:"Enable/Disable Copilot completions",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"}],keybindings:[{command:"github.copilot.generate",key:"ctrl+enter",mac:"ctrl+enter",when:"editorTextFocus && github.copilot.activated && !inInteractiveInput && !interactiveEditorFocused"},{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"github.copilot.activated && github.copilot.panelVisible"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"github.copilot.activated && github.copilot.panelVisible"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"github.copilot.activated && github.copilot.panelVisible"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && config.github.copilot.inlineSuggest.enable && !inlineSuggestionsVisible"}],menus:{"editor/inlineCompletions/actions":[{command:"github.copilot.generate",when:"github.copilot.activated"}],commandPalette:[{command:"github.copilot.generate",when:"github.copilot.activated"},{command:"github.copilot.toggleCopilot",when:"github.copilot.activated"},{command:"github.copilot.sendFeedback",when:"github.copilot.activated"},{command:"github.copilot.collectDiagnostics"}]},configuration:[{title:"Copilot",properties:{"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:"boolean",markdownDescription:"Enable or disable Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers)"},"github.copilot.inlineSuggest.enable":{type:"boolean",default:!0,deprecationMessage:"Deprecated: Please use github.copilot.editor.enableAutoCompletions instead.",description:"Show inline suggestions"},"github.copilot.editor.enableAutoCompletions":{type:"boolean",scope:"language-overridable",default:!0,description:"Automatically show inline completions"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],icons:{"copilot-logo":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0041"}},"copilot-warning":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0042"}},"copilot-notconnected":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0043"}},"copilot-chat":{description:"GitHub Copilot chat icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\F101"}}},iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}]},scripts:{build:"run-s build:prompt build:root","build:prompt":"npm -C prompt run build","build:root":"tsx .esbuild.ts",clean:"./script/build/clean.sh","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"ts-node script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"ts-node script/getToken.ts",lint:'run-p --aggregate-output "lint:*"',"lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint -f visualstudio --cache .","lint:prettier":"prettier --check . 2>&1","lint:types":"tsc --noEmit && tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"./script/build/clean-deprecated-modules.sh && npm install",pretest:"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build",prewatch:"npm run build",start:"npm run watch",test:'npm-run-all "test:* --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.ts"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.ts"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.ts"',"test:lsp-client":"npm -C lsp-client run test","test:prompt":"npm -C prompt run test","vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package",watch:"run-p watch:*","watch:prompt":"npm -C prompt run watch","watch:root":"tsx .esbuild.ts --watch","watch:types":"tsc --noEmit --watch --preserveWatchOutput"},workspaces:["prompt"],devDependencies:{"@datadog/datadog-ci":"^2.23.1","@github/prettier-config":"0.0.6","@types/crypto-js":"^4.1.1","@types/git-url-parse":"^9.0.1","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.6","@types/node":"^16.18.24","@types/sinon":"^10.0.13","@types/uuid":"^9.0.7","@types/vscode":"^1.75.0","@types/yargs":"^17.0.24","@typescript-eslint/eslint-plugin":"^6.18.0","@typescript-eslint/parser":"^6.18.0","@vscode/test-electron":"^2.3.8","@vscode/vsce":"^2.21.0",boxen:"^7.1.1",chalk:"^4.1.2","dependency-cruiser":"^13.0.2",electron:"^28.1.4",esbuild:"^0.19.9","esbuild-plugin-copy":"^2.1.1","esbuild-plugin-summary":"^0.0.2",eslint:"^8.56.0","eslint-plugin-no-only-tests":"^3.1.0",fantasticon:"^2.0.0",glob:"^10.3.4","js-yaml":"^4.1.0",mocha:"^10.3.0","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",pkg:"^5.8.1",prettier:"3.0.1","prettier-plugin-organize-imports":"^3.2.4",proxy:"^2.1.1",sinon:"^16.0.0","ts-dedent":"^2.2.0","ts-mocha":"^10.0.0","ts-node":"^10.9.1",tsx:"^4.6.2","typed-emitter":"^2.1.0",typescript:"^5.1.6","vscode-dts":"^0.3.3","vscode-languageserver-protocol":"^3.17",zlib:"^1.0.5"},dependencies:{"@adobe/helix-fetch":"github:devm33/helix-fetch#1088e599270f36632703f138d88c2100cbe468db","@github/copilot-promptlib":"file:prompt","@github/memoize":"1.1.4","@microsoft/1ds-post-js":"^4.0.5","@microsoft/applicationinsights-web-basic":"^3.1.0","@roamhq/mac-ca":"^1.0.7","@sinclair/typebox":"^0.31.28","@types/vscode-webview":"^1.57.4","@vscode/webview-ui-toolkit":"^1.3.1","crypto-js":"^4.2.0",diff:"^5.2.0",dldr:"^0.0.10","git-url-parse":"^13.1.0",ignore:"^5.2.4",jhaystack:"^0.1.8",kerberos:"^2.0.1",minimatch:"^9.0.3",open:"^8.4.2",semver:"^7.5.4",shiki:"^1.1.2","source-map-support":"^0.5.21",uuid:"^9.0.1","vscode-languageserver":"^8.1.0","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.0.7","windows-ca-certs":"^0.0.3",yargs:"^17.7.2"},overrides:{bindings:"github:devm33/node-bindings#6b57e6883b34dbb6942467a7e49afce99d9d6832"}}});var KR=y0((iy,GR)=>{(function(e,t){typeof iy=="object"&&typeof GR<"u"?t(iy):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(iy,function(e){"use strict";var t=void 0,r=null,n="",s="function",l="number",a="object",f="prototype",c="__proto__",u="string",d="undefined",h="constructor",m="Symbol",p="_polyfill",v="indexOf",x="length",E="value",I="name",A="slice",L="call",D="toString",R=Object,V=R[f],de=String,ve=de[f],n0=Math,d0=Array,r0=d0[f];function m0(_,w){try{return{v:_.apply(this,w)}}catch(P){return{e:P}}}o(m0,"safe");function Ve(_){return function(w){return typeof w===_}}o(Ve,"_createIs");function we(_){var w="[object "+_+"]";return function(P){return!!(P&&o0(P)===w)}}o(we,"_createObjIs");function o0(_){return V.toString.call(_)}o(o0,"objToString");function u0(_){return typeof _===d||_===d}o(u0,"isUndefined");function l0(_){return _===r||u0(_)}o(l0,"isNullOrUndefined");function R0(_){return!!_||_!==t}o(R0,"isDefined");var t0=Ve(u),f0=Ve(s);function ce(_){return!_&&l0(_)?!1:!!_&&typeof _===a}o(ce,"isObject");var Ee=d0.isArray,C0=we("Error"),z0=R.getOwnPropertyDescriptor;function O0(_,w){return!!_&&V.hasOwnProperty[L](_,w)}o(O0,"objHasOwnProperty");var v0=R.hasOwn||fr;function fr(_,w){return O0(_,w)||!!z0(_,w)}o(fr,"polyObjHasOwn");function ue(_,w,P){if(_&&ce(_)){for(var O in _)if(v0(_,O)&&w[L](P||_,O,_[O])===-1)break}}o(ue,"objForEachKey");function D0(_,w,P,O){var ae={};return ue(_,function(He,i0){ae[He]=w?i0:He,ae[i0]=P?i0:He}),O(ae)}o(D0,"_createKeyValueMap");function Ke(_){throw new Error(_)}o(Ke,"throwError");function L0(_){throw new TypeError(_)}o(L0,"throwTypeError");var B0=R.freeze;function G0(_){return _}o(G0,"_doNothing");function br(_){return _[c]||r}o(br,"_getProto");var en=R.assign,Lr=R.keys;function le(_){return B0&&ue(_,function(w,P){(Ee(P)||ce(P))&&B0(P)}),Hr(_)}o(le,"objDeepFreeze");var Hr=B0||G0,yr=R.getPrototypeOf||br;function Xs(_){return D0(_,1,0,le)}o(Xs,"createEnum");function Es(_){var w={};return ue(_,function(P,O){w[P]=O[1],w[O[0]]=O[1]}),le(w)}o(Es,"createSimpleMap");function Zs(_){return Es(_)}o(Zs,"createTypeMap");var Qs=de,Rl="__tsUtils$gblCfg",Zl;function U1(){var _;return typeof globalThis!==d&&(_=globalThis),!_&&typeof self!==d&&(_=self),!_&&typeof window!==d&&(_=window),!_&&typeof global!==d&&(_=global),_}o(U1,"_getGlobalValue");function Ql(){if(!Zl){var _=m0(U1).v||{};Zl=_[Rl]=_[Rl]||{}}return Zl}o(Ql,"_getGlobalConfig");var yn="[object Error]";function Wi(_,w){var P=n,O=V[D][L](_);O===yn&&(_={stack:Qs(_.stack),message:Qs(_.message),name:Qs(_.name)});try{P=JSON.stringify(_,r,w?typeof w===l?w:4:t),P=P&&P.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||Qs(_)}catch(ae){P=" - "+Wi(ae,w)}return O+": "+P}o(Wi,"dumpObj");var Q,se=Hs,on=Hs;function Hs(_,w,P){Q=Q||r0[A];var O=w&&w[_];return function(ae){var He=ae&&ae[_]||O;if(He||P){var i0=arguments;return(He||P).apply(ae,He?Q[L](i0,1):i0)}L0('"'+Qs(_)+'" not defined for '+Wi(ae))}}o(Hs,"_unwrapFunctionWithPoly");var _3=n0.max,b3=on(A,ve),ws=on("substring",ve),n1=Hs("substr",ve,$u);function $u(_,w,P){return l0(_)&&L0("'polyStrSubstr called with invalid "+Wi(_)),P<0?n:(w=w||0,w<0&&(w=_3(w+_[x],0)),u0(P)?b3(_,w):b3(_,w,w+P))}o($u,"polyStrSubstr");function Fd(_,w){return ws(_,0,w)}o(Fd,"strLeft");var Hu="_urid",C3;function ei(){if(!C3){var _=Ql();C3=_.gblSym=_.gblSym||{k:{},s:{}}}return C3}o(ei,"_globalSymbolRegistry");function Vu(_){var w={description:Qs(_),toString:function(){return m+"("+_+")"}};return w[p]=!0,w}o(Vu,"polyNewSymbol");function Od(_){var w=ei();if(!v0(w.k,_)){var P=Vu(_),O=Lr(w.s).length;P[Hu]=function(){return O+"_"+P[D]()},w.k[_]=P,w.s[P[Hu]()]=Qs(_)}return w.k[_]}o(Od,"polySymbolFor");var kl={e:"enumerable",c:"configurable",v:E,w:"writable",g:"get",s:"set"};function Bc(_){var w={};if(w[kl.c]=!0,w[kl.e]=!0,_.l){w.get=function(){return _.l.v};var P=z0(_.l,"v");P&&P.set&&(w.set=function(O){_.l.v=O})}return ue(_,function(O,ae){w[kl[O]]=u0(ae)?w[kl[O]]:ae}),w}o(Bc,"_createProp");var i1=R.defineProperty;function Dc(_,w,P){return i1(_,w,Bc(P))}o(Dc,"objDefine");var As;function zi(){As=Ql()}o(zi,"_initTestHooks");function Bl(_){var w={};return!As&&zi(),w.b=As.lzy,i1(w,"v",{configurable:!0,get:function(){var P=_();return As.lzy||i1(w,"v",{value:P}),w.b=As.lzy,P}}),w}o(Bl,"getLazy");function Md(_,w){return Bl(function(){var P=m0(_);return P.e?w:P.v})}o(Md,"safeGetLazy");function Lc(_){return i1({toJSON:function(){return _}},"v",{value:_})}o(Lc,"createCachedValue");var P6="window",Fc,E3,ju,T3;function L7(_){return Bl(function(){return m0(Oa,[_]).v||t})}o(L7,"lazySafeGetInst");function N6(_){return!As&&zi(),(!Fc||_===!1||As.lzy)&&(Fc=Lc(m0(U1).v||r)),Fc.v}o(N6,"getGlobal");function Oa(_,w){var P=!Fc||w===!1?N6(w):Fc.v;return P&&P[_]?P[_]:_===P6&&E3?E3.v:r}o(Oa,"getInst");function Ud(){return!As&&zi(),(!ju||As.lzy)&&(ju=Lc(m0(Oa,["document"]).v)),ju.v}o(Ud,"getDocument");function q1(){return!!ks()}o(q1,"hasWindow");function ks(){return!As&&zi(),(!E3||As.lzy)&&(E3=Lc(m0(Oa,[P6]).v)),E3.v}o(ks,"getWindow");function Us(){return!!Dl()}o(Us,"hasNavigator");function Dl(){return!As&&zi(),(!T3||As.lzy)&&(T3=Lc(m0(Oa,["navigator"]).v)),T3.v}o(Dl,"getNavigator");var Cl,qd;function Oc(){(!Cl||!Cl.b)&&(Cl=L7(m),qd=Md(function(){return Cl.v?Cl.v.for:t},t))}o(Oc,"_initSymbol");function zu(_,w){return!As&&zi(),(!Cl||As.lzy)&&Oc(),Cl.v?Cl.v(_):w?r:Vu(_)}o(zu,"newSymbol");function Mc(_){return!As&&zi(),(!qd||!Cl||As.lzy)&&Oc(),(qd.v||Od)(_)}o(Mc,"symbolFor");var s1=se("apply");function il(_,w,P){if(_)for(var O=_[x]>>>0,ae=0;ae<O&&!(ae in _&&w[L](P||_,_[ae],ae,_)===-1);ae++);}o(il,"arrForEach");var $1=on(v,r0),Uc=on("map",r0),R6=on("reduce",r0),ef=R.create||na;function na(_){if(!_)return{};var w=typeof _;w!==a&&w!==s&&L0("Prototype must be an Object or function: "+Wi(_));function P(){}return o(P,"tempFunc"),P[f]=_,new P}o(na,"polyObjCreate");var k6;function qc(_,w){var P=R.setPrototypeOf||function(O,ae){!k6&&(k6=Bl(function(){var He;return He={},He[c]=[],He instanceof Array})),k6.v?O[c]=ae:ue(ae,function(He,i0){return O[He]=i0})};return P(_,w)}o(qc,"objSetPrototypeOf");function gx(_,w,P){m0(Dc,[w,I,{v:_,c:!0,e:!1}]),w=qc(w,P);function O(){this.constructor=w,m0(Dc,[this,I,{v:_,c:!0,e:!1}])}return o(O,"__"),w[f]=P===r?ef(P):(O[f]=P[f],new O),w}o(gx,"_createCustomError");function o1(_,w){w&&(_[I]=w)}o(o1,"_setName");function mx(_,w,P){var O=P||Error,ae=O[f][I],He=Error.captureStackTrace;return gx(_,function(){var i0=this,c0=arguments;try{m0(o1,[O,_]);var b0=s1(O,i0,r0[A][L](c0))||i0;if(b0!==i0){var k0=yr(i0);k0!==yr(b0)&&qc(b0,k0)}return He&&He(b0,i0[h]),w&&w(b0,c0),b0}finally{m0(o1,[O,ae])}},O)}o(mx,"createCustomError");function H1(){return(Date.now||px)()}o(H1,"utcNow");function px(){return new Date().getTime()}o(px,"polyUtcNow");function sl(_){return o(function(P){return l0(P)&&L0("strTrim called ["+Wi(P)+"]"),P&&P.replace&&(P=P.replace(_,n)),P},"_doTrim")}o(sl,"_createTrimFn");var B6=sl(/^\s+|(?=\s)\s+$/g),tf=Hs("trim",ve,B6),D6,L6,S3;function Tf(_){if(!_||typeof _!==a)return!1;S3||(S3=q1()?ks():!0);var w=!1;if(_!==S3){L6||(D6=Function[f][D],L6=D6[L](R));try{var P=yr(_);w=!P,w||(O0(P,h)&&(P=P[h]),w=P&&typeof P===s&&D6[L](P)===L6)}catch{}}return w}o(Tf,"isPlainObject");var Gu;function $d(){return!As&&zi(),(!Gu||!Gu.b&&As.lzy)&&(Gu=L7("performance")),Gu.v}o($d,"getPerformance");var yx=Hs("endsWith",ve,Hd);function Hd(_,w,P){t0(_)||L0("'"+Wi(_)+"' is not a string");var O=t0(w)?w:Qs(w),ae=!u0(P)&&P<_[x]?P:_[x];return ws(_,ae-O[x],ae)===O}o(Hd,"polyStrEndsWith");var I3=on(v,ve),a1="ref",V1="un"+a1,$r="hasRef",Ll="enabled";function w3(_,w,P){var O,ae=!0,He=_?w(r):r,i0,c0=o(function(){return ae=!1,He&&He[V1]&&He[V1](),i0},"_unref"),b0=o(function(){return ae=!0,He&&He[a1]&&He[a1](),i0},"_ref"),k0=o(function(){return He&&He[$r]?He[$r]():ae},"_hasRef"),X0=o(function(){return He=w(He),ae||c0(),i0},"_refresh"),nn=o(function(){He&&P(He),He=r},"_cancel"),Zr=o(function(Vr){!Vr&&He&&nn(),Vr&&!He&&X0()},"_setEnabled");return i0=(O={cancel:nn,refresh:X0},O[$r]=k0,O[a1]=b0,O[V1]=c0,O[Ll]=!1,O),i1(i0,Ll,{get:function(){return!!He},set:Zr}),{h:i0,dn:function(){He=r}}}o(w3,"_createTimerHandler");function F6(_,w,P,O){var ae=Ee(P),He=ae?P.length:0,i0=(He>0?P[0]:ae?t:P)||setTimeout,c0=(He>1?P[1]:t)||clearTimeout,b0=O[0];O[0]=function(){k0.dn(),s1(b0,_,r0[A][L](arguments))};var k0=w3(w,function(X0){if(X0){if(X0.refresh)return X0.refresh(),X0;s1(c0,_,[X0])}return s1(i0,_,O)},function(X0){s1(c0,_,[X0])});return k0.h}o(F6,"_createTimeoutWith");function vx(_,w){return F6(this,!0,t,r0[A][L](arguments))}o(vx,"scheduleTimeout");var rf=Xs,xx=Zs,Ku="toLowerCase",A3="blkVal",ia="length",P3="rdOnly",O6="notify",j1="warnToConsole",N3="throwInternal",M6="setDf",U6="watch",Go="logger",q6="apply",Sf="push",Vd="splice",ol="hdlr",_x="cancel",jd="name",bx="unload",R3="version",F7="loggingLevelConsole",$6="messageId",k3="message",O7="diagLog",M7="userAgent",H6="split",zd="nodeType",Wu="replace",U7="logInternalMessage",l1="type",Gd="handler",q7="traceId",Yu="spanId",$c="traceFlags",B3;function V6(_,w){B3||(B3=mx("AggregationError",function(O,ae){ae[ia]>1&&(O.errors=ae[1])}));var P=_||"One or more errors occurred.";throw il(w,function(O,ae){P+=`
`.concat(ae," > ").concat(Wi(O))}),new B3(P,w||[])}o(V6,"throwAggregationError");var $7="function",Cx="object",H7="undefined",If="prototype",V7=Object,Kd=V7[If],D3="hasOwnProperty",f1=o(function(_){for(var w,P=1,O=arguments.length;P<O;P++){w=arguments[P];for(var ae in w)Kd[D3].call(w,ae)&&(_[ae]=w[ae])}return _},"__objAssignFnImpl"),Hc=en||f1,Ju=o(function(_,w){return Ju=V7.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,O){P.__proto__=O}||function(P,O){for(var ae in O)O[D3](ae)&&(P[ae]=O[ae])},Ju(_,w)},"extendStaticsFn");function j6(_,w){typeof w!==$7&&w!==null&&L0("Class extends value "+String(w)+" is not a constructor or null"),Ju(_,w);function P(){this.constructor=_}o(P,"__"),_[If]=w===null?ef(w):(P[If]=w[If],new P)}o(j6,"__extendsFn");var c1,Wd="constructor",nf="prototype",z1="function",L3="_dynInstFuncs",Yd="_isDynProxy",G1="_dynClass",Jd="_dynCls$",Xd="_dynInstChk",Vc=Xd,F3="_dfOpts",Zd="_unknown_",O3="__proto__",K1="_dyn"+O3,z6="__dynProto$Gbl",Qd="_dynInstProto",Xu="useBaseInst",Zu="setInstFuncs",M3=Object,sf=M3.getPrototypeOf,U3=M3.getOwnPropertyNames,e4=N6(),Qu=e4[z6]||(e4[z6]={o:(c1={},c1[Zu]=!0,c1[Xu]=!0,c1),n:1e3});function t4(_){return _&&(_===M3[nf]||_===Array[nf])}o(t4,"_isObjectOrArrayPrototype");function q3(_){return t4(_)||_===Function[nf]}o(q3,"_isObjectArrayOrFunctionPrototype");function jc(_){var w;if(_){if(sf)return sf(_);var P=_[O3]||_[nf]||(_[Wd]?_[Wd][nf]:null);w=_[K1]||P,O0(_,K1)||(delete _[Qd],w=_[K1]=_[Qd]||_[K1],_[Qd]=P)}return w}o(jc,"_getObjProto");function r4(_,w){var P=[];if(U3)P=U3(_);else for(var O in _)typeof O=="string"&&O0(_,O)&&P.push(O);if(P&&P.length>0)for(var ae=0;ae<P.length;ae++)w(P[ae])}o(r4,"_forEachProp");function G6(_,w,P){return w!==Wd&&typeof _[w]===z1&&(P||O0(_,w))&&w!==O3&&w!==nf}o(G6,"_isDynamicCandidate");function n4(_){L0("DynamicProto: "+_)}o(n4,"_throwTypeError");function Ex(_){var w=ef(null);return r4(_,function(P){!w[P]&&G6(_,P,!1)&&(w[P]=_[P])}),w}o(Ex,"_getInstanceFuncs");function $3(_,w){for(var P=_.length-1;P>=0;P--)if(_[P]===w)return!0;return!1}o($3,"_hasVisited");function ll(_,w,P,O){function ae(b0,k0,X0){var nn=k0[X0];if(nn[Yd]&&O){var Zr=b0[L3]||{};Zr[Vc]!==!1&&(nn=(Zr[k0[G1]]||{})[X0]||nn)}return function(){return nn.apply(b0,arguments)}}o(ae,"_instFuncProxy");var He=ef(null);r4(P,function(b0){He[b0]=ae(w,P,b0)});for(var i0=jc(_),c0=[];i0&&!q3(i0)&&!$3(c0,i0);)r4(i0,function(b0){!He[b0]&&G6(i0,b0,!sf)&&(He[b0]=ae(w,i0,b0))}),c0.push(i0),i0=jc(i0);return He}o(ll,"_getBaseFuncs");function Tx(_,w,P,O){var ae=null;if(_&&O0(P,G1)){var He=_[L3]||ef(null);if(ae=(He[P[G1]]||ef(null))[w],ae||n4("Missing ["+w+"] "+z1),!ae[Xd]&&He[Vc]!==!1){for(var i0=!O0(_,w),c0=jc(_),b0=[];i0&&c0&&!q3(c0)&&!$3(b0,c0);){var k0=c0[w];if(k0){i0=k0===O;break}b0.push(c0),c0=jc(c0)}try{i0&&(_[w]=ae),ae[Xd]=1}catch{He[Vc]=!1}}}return ae}o(Tx,"_getInstFunc");function j7(_,w,P){var O=w[_];return O===P&&(O=jc(w)[_]),typeof O!==z1&&n4("["+_+"] is not a "+z1),O}o(j7,"_getProtoFunc");function z7(_,w,P,O,ae){function He(b0,k0){var X0=o(function(){var nn=Tx(this,k0,b0,X0)||j7(k0,b0,X0);return nn.apply(this,arguments)},"dynProtoProxy");return X0[Yd]=1,X0}if(o(He,"_createDynamicPrototype"),!t4(_)){var i0=P[L3]=P[L3]||ef(null);if(!t4(i0)){var c0=i0[w]=i0[w]||ef(null);i0[Vc]!==!1&&(i0[Vc]=!!ae),t4(c0)||r4(P,function(b0){G6(P,b0,!1)&&P[b0]!==O[b0]&&(c0[b0]=P[b0],delete P[b0],(!O0(_,b0)||_[b0]&&!_[b0][Yd])&&(_[b0]=He(_,b0)))})}}}o(z7,"_populatePrototype");function H3(_,w){if(sf){for(var P=[],O=jc(w);O&&!q3(O)&&!$3(P,O);){if(O===_)return!0;P.push(O),O=jc(O)}return!1}return!0}o(H3,"_checkPrototype");function V3(_,w){return O0(_,nf)?_.name||w||Zd:((_||{})[Wd]||{}).name||w||Zd}o(V3,"_getObjName");function K6(_,w,P,O){O0(_,nf)||n4("theClass is an invalid class definition.");var ae=_[nf];H3(ae,w)||n4("["+V3(_)+"] not in hierarchy of ["+V3(w)+"]");var He=null;O0(ae,G1)?He=ae[G1]:(He=Jd+V3(_,"_")+"$"+Qu.n,Qu.n++,ae[G1]=He);var i0=K6[F3],c0=!!i0[Xu];c0&&O&&O[Xu]!==void 0&&(c0=!!O[Xu]);var b0=Ex(w),k0=ll(ae,w,b0,c0);P(w,k0);var X0=!!sf&&!!i0[Zu];X0&&O&&(X0=!!O[Zu]),z7(ae,He,w,b0,X0!==!1)}o(K6,"dynamicProto"),K6[F3]=Qu.o;var G7=void 0,qs="",W1="Not dynamic - ",W6=/-([a-z])/g,j3=/([^\w\d_$])/g,K7=/^(\d+[\w\d_$])/;function i4(_){return!l0(_)}o(i4,"isNotNullOrUndefined");function Y6(_){var w=_;return w&&t0(w)&&(w=w[Wu](W6,function(P,O){return O.toUpperCase()}),w=w[Wu](j3,"_"),w=w[Wu](K7,function(P,O){return"_"+O})),w}o(Y6,"normalizeJsName");function z3(_,w){return _&&w?I3(_,w)!==-1:!1}o(z3,"strContains");function G3(_){return _&&_.toISOString()||""}o(G3,"toISOString");function vn(_){return C0(_)?_[jd]:qs}o(vn,"getExceptionName");function s4(_){return function(){function w(){var P=this;_&&ue(_,function(O,ae){P[O]=ae})}return o(w,"class_1"),w}()}o(s4,"createClassFromInterface");var o4="console",K3="JSON",W3="crypto",e5="msCrypto",u1="msie",Vs="trident/",t5=null,Ji=null,zc=null;function W7(){return typeof console!==H7?console:Oa(o4)}o(W7,"getConsole");function Gc(){return!!(typeof JSON===Cx&&JSON||Oa(K3)!==null)}o(Gc,"hasJSON");function Y3(){return Gc()?JSON||Oa(K3):null}o(Y3,"getJSON");function Y1(){return Oa(W3)}o(Y1,"getCrypto");function wf(){return Oa(e5)}o(wf,"getMsCrypto");function J3(){var _=Dl();if(_&&(_[M7]!==Ji||t5===null)){Ji=_[M7];var w=(Ji||qs)[Ku]();t5=z3(w,u1)||z3(w,Vs)}return t5}o(J3,"isIE");function Y7(_){return(zc===null||_===!1)&&(zc=Us()&&!!Dl().sendBeacon),zc}o(Y7,"isBeaconsSupported");function J1(_,w){if(_)for(var P=0;P<_[ia];P++){var O=_[P];if(O[jd]&&O[jd]===w)return O}return{}}o(J1,"_getNamedValue");function r5(_){var w=Ud();return w&&_?J1(w.querySelectorAll("meta"),_).content:null}o(r5,"findMetaTag");function Ma(_){var w,P=$d();if(P){var O=P.getEntriesByType("navigation")||[];w=J1((O[ia]>0?O[0]:{}).serverTiming,_).description}return w}o(Ma,"findNamedServerTiming");var J6=4294967296,Fl=4294967295,X3=123456789,Z3=987654321,Kc=!1,n5=X3,Ol=Z3;function a4(_){_<0&&(_>>>=0),n5=X3+_&Fl,Ol=Z3-_&Fl,Kc=!0}o(a4,"_mwcSeed");function J7(){try{var _=H1()&2147483647;a4((Math.random()*J6^_)+_)}catch{}}o(J7,"_autoSeedMwc");function X7(_){return _>0?Math.floor(of()/Fl*(_+1))>>>0:0}o(X7,"randomValue");function of(_){var w=0,P=Y1()||wf();return P&&P.getRandomValues&&(w=P.getRandomValues(new Uint32Array(1))[0]&Fl),w===0&&J3()&&(Kc||J7(),w=d1()&Fl),w===0&&(w=Math.floor(J6*Math.random()|0)),_||(w>>>=0),w}o(of,"random32");function d1(_){Ol=36969*(Ol&65535)+(Ol>>16)&Fl,n5=18e3*(n5&65535)+(n5>>16)&Fl;var w=(Ol<<16)+(n5&65535)>>>0&Fl|0;return _||(w>>>=0),w}o(d1,"mwcRandom32");function l4(_){_===void 0&&(_=22);for(var w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=of()>>>0,O=0,ae=qs;ae[ia]<_;)O++,ae+=w.charAt(P&63),P>>>=6,O===5&&(P=(of()<<2&4294967295|P&3)>>>0,O=0);return ae}o(l4,"newId");var Wc="3.0.5",i5="."+l4(6),h1=0;function f4(_){return _[zd]===1||_[zd]===9||!+_[zd]}o(f4,"_canAcceptData");function Q3(_,w){var P=w[_.id];if(!P){P={};try{f4(w)&&Dc(w,_.id,{e:!1,v:P})}catch{}}return P}o(Q3,"_getCache");function fl(_,w){return w===void 0&&(w=!1),Y6(_+h1+++(w?"."+Wc:qs)+i5)}o(fl,"createUniqueNamespace");function e2(_){var w={id:fl("_aiData-"+(_||qs)+"."+Wc),accept:function(P){return f4(P)},get:function(P,O,ae,He){var i0=P[w.id];return i0?i0[Y6(O)]:(He&&(i0=Q3(w,P),i0[Y6(O)]=ae),ae)},kill:function(P,O){if(P&&P[O])try{delete P[O]}catch{}}};return w}o(e2,"createElmNodeData");function s5(_){return _&&ce(_)&&(_.isVal||_.fb||v0(_,"v")||v0(_,"mrg")||v0(_,"ref")||_.set)}o(s5,"_isConfigDefaults");function o5(_,w,P){var O,ae=P.dfVal||R0;if(w&&P.fb){var He=P.fb;Ee(He)||(He=[He]);for(var i0=0;i0<He[ia];i0++){var c0=He[i0],b0=w[c0];if(ae(b0)?O=b0:_&&(b0=_.cfg[c0],ae(b0)&&(O=b0),_.set(_.cfg,Qs(c0),b0)),ae(O))break}}return!ae(O)&&ae(P.v)&&(O=P.v),O}o(o5,"_getDefault");function t2(_,w,P){var O=P;if(P&&s5(P)&&(O=o5(_,w,P)),O){s5(O)&&(O=t2(_,w,O));var ae;Ee(O)?(ae=[],ae[ia]=O[ia]):Tf(O)&&(ae={}),ae&&(ue(O,function(He,i0){i0&&s5(i0)&&(i0=t2(_,w,i0)),ae[He]=i0}),O=ae)}return O}o(t2,"_resolveDefaultValue");function Yc(_,w,P,O){var ae,He,i0,c0=O,b0,k0,X0,nn;s5(c0)?(ae=c0.isVal,He=c0.set,X0=c0[P3],nn=c0[A3],b0=c0.mrg,k0=c0.ref,!k0&&u0(k0)&&(k0=!!b0),i0=o5(_,w,c0)):i0=O,nn&&_[A3](w,P);var Zr,Vr=!0,vr=w[P];(vr||!l0(vr))&&(Zr=vr,Vr=!1,ae&&Zr!==i0&&!ae(Zr)&&(Zr=i0,Vr=!0),He&&(Zr=He(Zr,i0,w),Vr=Zr===i0)),Vr?i0?Zr=t2(_,w,i0):Zr=i0:(Tf(Zr)||Ee(i0))&&b0&&i0&&(Tf(i0)||Ee(i0))&&ue(i0,function(_n,Fr){Yc(_,Zr,_n,Fr)}),_.set(w,P,Zr),k0&&_.ref(w,P),X0&&_[P3](w,P)}o(Yc,"_applyDefaultValue");var X1=Mc("[[ai_dynCfg_1]]"),Af=Mc("[[ai_blkDynCfg_1]]"),X6=Mc("[[ai_frcDynCfg_1]]");function c4(_){if(_){var w;if(Ee(_)?(w=[],w[ia]=_[ia]):Tf(_)&&(w={}),w)return ue(_,function(P,O){w[P]=c4(O)}),w}return _}o(c4,"_cfgDeepCopy");function a5(_){if(_){var w=_[X1]||_;if(w.cfg&&(w.cfg===_||w.cfg[X1]===w))return w}return null}o(a5,"getDynamicConfigHandler");function Pf(_){if(_&&(Tf(_)||Ee(_)))try{_[Af]=!0}catch{}return _}o(Pf,"blockDynamicConversion");function r2(_,w,P){var O=!1;return P&&!_[w.blkVal]&&(O=P[X6],!O&&!P[Af]&&(O=Tf(P)||Ee(P))),O}o(r2,"_canMakeDynamic");function Z6(_){L0("InvalidAccess:"+_)}o(Z6,"throwInvalidAccess");var Z7=["push","pop","shift","unshift","splice"],l5=o(function(_,w,P,O){_&&_[N3](3,108,"".concat(P," [").concat(w,"] failed - ")+Wi(O))},"_throwDynamicError");function Q6(_,w,P){Ee(w)&&il(Z7,function(O){var ae=w[O];w[O]=function(){for(var He=[],i0=0;i0<arguments.length;i0++)He[i0]=arguments[i0];var c0=ae[q6](this,He);return i2(_,w,P,"Patching"),c0}})}o(Q6,"_patchArray");function u4(_,w){var P=z0(_,w);return P&&P.get}o(u4,"_getOwnPropGetter");function d4(_,w,P,O){var ae={n:P,h:[],trk:function(k0){k0&&k0.fn&&($1(ae.h,k0)===-1&&ae.h[Sf](k0),_.trk(k0,ae))},clr:function(k0){var X0=$1(ae.h,k0);X0!==-1&&ae.h[Vd](X0,1)}},He=!0,i0=!1;function c0(){He&&(i0=i0||r2(c0,_,O),O&&!O[X1]&&i0&&(O=i2(_,O,P,"Converting")),He=!1);var k0=_.act;return k0&&ae.trk(k0),O}o(c0,"_getProperty"),c0[_.prop]={chng:function(){_.add(ae)}};function b0(k0){if(O!==k0){c0[_.ro]&&!_.upd&&Z6("["+P+"] is read-only:"+Wi(w)),He&&(i0=i0||r2(c0,_,O),He=!1);var X0=i0&&c0[_.rf];if(i0)if(X0){ue(O,function(Zr){O[Zr]=k0?k0[Zr]:G7});try{ue(k0,function(Zr,Vr){n2(_,O,Zr,Vr)}),k0=O}catch(Zr){l5((_.hdlr||{})[Go],P,"Assigning",Zr),i0=!1}}else O&&O[X1]&&ue(O,function(Zr){var Vr=u4(O,Zr);if(Vr){var vr=Vr[_.prop];vr&&vr.chng()}});if(k0!==O){var nn=k0&&r2(c0,_,k0);!X0&&nn&&(k0=i2(_,k0,P,"Converting")),O=k0,i0=nn}_.add(ae)}}o(b0,"_setProperty"),Dc(w,ae.n,{g:c0,s:b0})}o(d4,"_createDynamicProperty");function n2(_,w,P,O){if(w){var ae=u4(w,P),He=ae&&!!ae[_.prop];He?w[P]=O:d4(_,w,P,O)}return w}o(n2,"_setDynamicProperty");function eh(_,w,P,O){if(w){var ae=u4(w,P),He=ae&&!!ae[_.prop],i0=O&&O[0],c0=O&&O[1],b0=O&&O[2];if(!He){if(b0)try{Pf(w)}catch(k0){l5((_.hdlr||{})[Go],P,"Blocking",k0)}try{n2(_,w,P,w[P]),ae=u4(w,P)}catch(k0){l5((_.hdlr||{})[Go],P,"State",k0)}}i0&&(ae[_.rf]=i0),c0&&(ae[_.ro]=c0),b0&&(ae[_.blkVal]=!0)}return w}o(eh,"_setDynamicPropertyState");function i2(_,w,P,O){try{ue(w,function(ae,He){n2(_,w,ae,He)}),w[X1]||(i1(w,X1,{get:function(){return _[ol]}}),Q6(_,w,P))}catch(ae){l5((_.hdlr||{})[Go],P,O,ae)}return w}o(i2,"_makeDynamicObject");var f5="[[ai_",Z1="]]";function Sx(_){var w,P=zu(f5+"get"+_.uid+Z1),O=zu(f5+"ro"+_.uid+Z1),ae=zu(f5+"rf"+_.uid+Z1),He=zu(f5+"blkVal"+_.uid+Z1),i0=zu(f5+"dtl"+_.uid+Z1),c0=null,b0=null,k0;function X0(vr,_n){var Fr=k0.act;try{k0.act=vr,vr&&vr[i0]&&(il(vr[i0],function(dn){dn.clr(vr)}),vr[i0]=[]),_n({cfg:_.cfg,set:_.set.bind(_),setDf:_[M6].bind(_),ref:_.ref.bind(_),rdOnly:_[P3].bind(_)})}catch(dn){var Oi=_[Go];throw Oi&&Oi[N3](1,107,Wi(dn)),dn}finally{k0.act=Fr||null}}o(X0,"_useHandler");function nn(){if(c0){var vr=c0;c0=null,b0&&b0[_x](),b0=null;var _n=[];if(il(vr,function(Fr){if(Fr&&(Fr[i0]&&(il(Fr[i0],function(Oi){Oi.clr(Fr)}),Fr[i0]=null),Fr.fn))try{X0(Fr,Fr.fn)}catch(Oi){_n[Sf](Oi)}}),c0)try{nn()}catch(Fr){_n[Sf](Fr)}_n[ia]>0&&V6("Watcher error(s): ",_n)}}o(nn,"_notifyWatchers");function Zr(vr){if(vr&&vr.h[ia]>0){c0||(c0=[]),b0||(b0=vx(function(){b0=null,nn()},0));for(var _n=0;_n<vr.h[ia];_n++){var Fr=vr.h[_n];Fr&&$1(c0,Fr)===-1&&c0[Sf](Fr)}}}o(Zr,"_addWatcher");function Vr(vr,_n){if(vr){var Fr=vr[i0]=vr[i0]||[];$1(Fr,_n)===-1&&Fr[Sf](_n)}}return o(Vr,"_trackHandler"),k0=(w={prop:P,ro:O,rf:ae},w[A3]=He,w[ol]=_,w.add=Zr,w[O6]=nn,w.use=X0,w.trk=Vr,w),k0}o(Sx,"_createState");function h4(_,w){var P={fn:w,rm:function(){P.fn=null,_=null,w=null}};return _.use(P,w),P}o(h4,"_createAndUseHandler");function Q7(_,w,P){var O,ae=a5(w);if(ae)return ae;var He=fl("dyncfg",!0),i0=w&&P!==!1?w:c4(w),c0;function b0(){c0[O6]()}o(b0,"_notifyWatchers");function k0(Oi,dn,jr){try{Oi=n2(c0,Oi,dn,jr)}catch(Bs){l5(_,dn,"Setting value",Bs)}return Oi[dn]}o(k0,"_setValue");function X0(Oi){return h4(c0,Oi)}o(X0,"_watch");function nn(Oi,dn){c0.use(null,function(jr){var Bs=c0.upd;try{u0(dn)||(c0.upd=dn),Oi(jr)}finally{c0.upd=Bs}})}o(nn,"_block");function Zr(Oi,dn){var jr;return eh(c0,Oi,dn,(jr={},jr[0]=!0,jr))[dn]}o(Zr,"_ref");function Vr(Oi,dn){var jr;return eh(c0,Oi,dn,(jr={},jr[1]=!0,jr))[dn]}o(Vr,"_rdOnly");function vr(Oi,dn){var jr;return eh(c0,Oi,dn,(jr={},jr[2]=!0,jr))[dn]}o(vr,"_blkPropValue");function _n(Oi,dn){return dn&&ue(dn,function(jr,Bs){Yc(Fr,Oi,jr,Bs)}),Oi}o(_n,"_applyDefaults");var Fr=(O={uid:null,cfg:i0},O[Go]=_,O[O6]=b0,O.set=k0,O[M6]=_n,O[U6]=X0,O.ref=Zr,O[P3]=Vr,O[A3]=vr,O._block=nn,O);return Dc(Fr,"uid",{c:!1,e:!1,w:!1,v:He}),c0=Sx(Fr),i2(c0,i0,"config","Creating"),Fr}o(Q7,"_createDynamicHandler");function Ix(_,w){_?(_[j1](w),_[N3](2,108,w)):Z6(w)}o(Ix,"_logInvalidAccess");function eg(_,w,P,O){var ae=Q7(P,_||{},O);return w&&ae[M6](ae.cfg,w),ae}o(eg,"createDynamicConfig");function g4(_,w,P){var O=_[X1]||_;return O.cfg&&(O.cfg===_||O.cfg[X1]===O)?O[U6](w):(Ix(P,W1+Wi(_)),eg(_,null,P)[U6](w))}o(g4,"onConfigChange");var s2=null;function wx(){var _=Oa("Microsoft");return _&&(s2=_.ApplicationInsights),s2}o(wx,"_getExtensionNamespace");function Ax(_){var w=s2;return!w&&_.disableDbgExt!==!0&&(w=s2||wx()),w?w.ChromeDbgExt:null}o(Ax,"getDebugExt");var c5,tg="warnToConsole",rg="AI (Internal): ",th="AI: ",Px="AITR_",rh={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},u5=(c5={},c5[0]=null,c5[1]="errorToConsole",c5[2]=tg,c5[3]="debugToConsole",c5);function ng(_){return _?'"'+_[Wu](/\"/g,qs)+'"':qs}o(ng,"_sanitizeDiagnosticText");function Ml(_,w){var P=W7();if(P){var O="log";P[_]&&(O=_),f0(P[O])&&P[O](w)}}o(Ml,"_logToConsole");var Pi=function(){function _(w,P,O,ae){O===void 0&&(O=!1);var He=this;He[$6]=w,He[k3]=(O?th:rg)+w;var i0=qs;Gc()&&(i0=Y3().stringify(ae));var c0=(P?" message:"+ng(P):qs)+(ae?" props:"+ng(i0):qs);He[k3]+=c0}return o(_,"_InternalLogMessage"),_.dataType="MessageData",_}();function Jc(_,w){return(_||{})[Go]||new js(w)}o(Jc,"safeGetLogger");var js=function(){function _(w){this.identifier="DiagnosticLogger",this.queue=[];var P=0,O={},ae,He,i0,c0,b0;K6(_,this,function(k0){b0=nn(w||{}),k0.consoleLoggingLevel=function(){return ae},k0[N3]=function(vr,_n,Fr,Oi,dn){dn===void 0&&(dn=!1);var jr=new Pi(_n,Fr,dn,Oi);if(c0)throw Wi(jr);var Bs=u5[vr]||tg;if(u0(jr[k3]))Vr("throw"+(vr===1?"Critical":"Warning"),jr);else{if(dn){var B5=+jr[$6];!O[B5]&&ae>=vr&&(k0[Bs](jr[k3]),O[B5]=!0)}else ae>=vr&&k0[Bs](jr[k3]);X0(vr,jr)}},k0.debugToConsole=function(vr){Ml("debug",vr),Vr("warning",vr)},k0[j1]=function(vr){Ml("warn",vr),Vr("warning",vr)},k0.errorToConsole=function(vr){Ml("error",vr),Vr("error",vr)},k0.resetInternalMessageCount=function(){P=0,O={}},k0[U7]=X0,k0[bx]=function(vr){b0&&b0.rm(),b0=null};function X0(vr,_n){if(!Zr()){var Fr=!0,Oi=Px+_n[$6];if(O[Oi]?Fr=!1:O[Oi]=!0,Fr&&(vr<=He&&(k0.queue[Sf](_n),P++,Vr(vr===1?"error":"warn",_n)),P===i0)){var dn="Internal events throttle limit per PageView reached for this app.",jr=new Pi(23,dn,!1);k0.queue[Sf](jr),vr===1?k0.errorToConsole(dn):k0[j1](dn)}}}o(X0,"_logInternalMessage");function nn(vr){return g4(eg(vr,rh,k0).cfg,function(_n){var Fr=_n.cfg;ae=Fr[F7],He=Fr.loggingLevelTelemetry,i0=Fr.maxMessageLimit,c0=Fr.enableDebug})}o(nn,"_setDefaultsFromConfig");function Zr(){return P>=i0}o(Zr,"_areInternalMessagesThrottled");function Vr(vr,_n){var Fr=Ax(w||{});Fr&&Fr[O7]&&Fr[O7](vr,_n)}o(Vr,"_debugExtMsg")})}return o(_,"DiagnosticLogger"),_.__ieDyn=1,_}();function nh(_){return _||new js}o(nh,"_getLogger");function Ua(_,w,P,O,ae,He){He===void 0&&(He=!1),nh(_)[N3](w,P,O,ae,He)}o(Ua,"_throwInternal");function Xc(){for(var _=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],w=qs,P,O=0;O<4;O++)P=of(),w+=_[P&15]+_[P>>4&15]+_[P>>8&15]+_[P>>12&15]+_[P>>16&15]+_[P>>20&15]+_[P>>24&15]+_[P>>28&15];var ae=_[8+(of()&3)|0];return n1(w,0,8)+n1(w,9,4)+"4"+n1(w,13,3)+ae+n1(w,16,3)+n1(w,19,12)}o(Xc,"generateW3CId");var d5=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,Ul="00",h5="ff",Zc="00000000000000000000000000000000",Q1="0000000000000000",o2=1;function qa(_,w,P){return _&&_[ia]===w&&_!==P?!!_.match(/^[\da-f]*$/i):!1}o(qa,"_isValid");function a2(_,w,P){return qa(_,w)?_:P}o(a2,"_formatValue");function m4(_){(isNaN(_)||_<0||_>255)&&(_=1);for(var w=_.toString(16);w[ia]<2;)w="0"+w;return w}o(m4,"_formatFlags");function ih(_,w,P,O){var ae;return ae={},ae[R3]=qa(O,2,h5)?O:Ul,ae[q7]=oh(_)?_:Xc(),ae[Yu]=ah(w)?w:Fd(Xc(),16),ae.traceFlags=P>=0&&P<=255?P:1,ae}o(ih,"createTraceParent");function sh(_,w){var P;if(!_||(Ee(_)&&(_=_[0]||""),!_||!t0(_)||_[ia]>8192))return null;if(_.indexOf(",")!==-1){var O=_[H6](",");_=O[w>0&&O[ia]>w?w:0]}var ae=d5.exec(tf(_));return!ae||ae[1]===h5||ae[2]===Zc||ae[3]===Q1?null:(P={version:(ae[1]||qs)[Ku](),traceId:(ae[2]||qs)[Ku](),spanId:(ae[3]||qs)[Ku]()},P[$c]=parseInt(ae[4],16),P)}o(sh,"parseTraceParent");function oh(_){return qa(_,32,Zc)}o(oh,"isValidTraceId");function ah(_){return qa(_,16,Q1)}o(ah,"isValidSpanId");function ig(_){return!(!_||!qa(_[R3],2,h5)||!qa(_[q7],32,Zc)||!qa(_[Yu],16,Q1)||!qa(m4(_[$c]),2))}o(ig,"isValidTraceParent");function lh(_){return ig(_)?(_[$c]&o2)===o2:!1}o(lh,"isSampledFlag");function fh(_){if(_){var w=m4(_[$c]);qa(w,2)||(w="01");var P=_[R3]||Ul;return P!=="00"&&P!=="ff"&&(P=Ul),"".concat(P.toLowerCase(),"-").concat(a2(_.traceId,32,Zc).toLowerCase(),"-").concat(a2(_.spanId,16,Q1).toLowerCase(),"-").concat(w.toLowerCase())}return""}o(fh,"formatTraceParent");function ba(_){var w="traceparent",P=sh(r5(w),_);return P||(P=sh(Ma(w),_)),P}o(ba,"findW3cTraceParent");var l2="on",$a="attachEvent",ec="addEventListener",sg="detachEvent",og="removeEventListener",g5="events";fl("aiEvtPageHide"),fl("aiEvtPageShow");var ch=/\.[\.]+/g,Nx=/[\.]+$/,ag=1,f2=e2("events"),Rx=/^([^.]*)(?:\.(.+)|)/;function lg(_){return _&&_[Wu]?_[Wu](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,qs):_}o(lg,"_normalizeNamespace");function uh(_,w){var P;if(w){var O=qs;Ee(w)?(O=qs,il(w,function(He){He=lg(He),He&&(He[0]!=="."&&(He="."+He),O+=He)})):O=lg(w),O&&(O[0]!=="."&&(O="."+O),_=(_||qs)+O)}var ae=Rx.exec(_||qs)||[];return P={},P[l1]=ae[1],P.ns=(ae[2]||qs).replace(ch,".").replace(Nx,qs)[H6](".").sort().join("."),P}o(uh,"_getEvtNamespace");function dh(_,w,P){P===void 0&&(P=!0);var O=f2.get(_,g5,{},P),ae=O[w];return ae||(ae=O[w]=[]),ae}o(dh,"_getRegisteredEvents");function fg(_,w,P,O){_&&w&&w[l1]&&(_[og]?_[og](w[l1],P,O):_[sg]&&_[sg](l2+w[l1],P))}o(fg,"_doDetach");function kx(_,w,P,O){var ae=!1;return _&&w&&w[l1]&&P&&(_[ec]?(_[ec](w[l1],P,O),ae=!0):_[$a]&&(_[$a](l2+w[l1],P),ae=!0)),ae}o(kx,"_doAttach");function p4(_,w,P,O){for(var ae=w[ia];ae--;){var He=w[ae];He&&(!P.ns||P.ns===He.evtName.ns)&&(!O||O(He))&&(fg(_,He.evtName,He[Gd],He.capture),w[Vd](ae,1))}}o(p4,"_doUnregister");function hh(_,w,P){if(w[l1])p4(_,dh(_,w[l1]),w,P);else{var O=f2.get(_,g5,{});ue(O,function(ae,He){p4(_,He,w,P)}),Lr(O)[ia]===0&&f2.kill(_,g5)}}o(hh,"_unregisterEvents");function cg(_,w){var P;return w?(Ee(w)?P=[_].concat(w):P=[_,w],P=uh("xx",P).ns[H6](".")):P=_,P}o(cg,"mergeEvtNamespace");function y4(_,w,P,O,ae){var He;ae===void 0&&(ae=!1);var i0=!1;if(_)try{var c0=uh(w,O);if(i0=kx(_,c0,P,ae),i0&&f2.accept(_)){var b0=(He={guid:ag++,evtName:c0},He[Gd]=P,He.capture=ae,He);dh(_,c0.type)[Sf](b0)}}catch{}return i0}o(y4,"eventOn");function gh(_,w,P,O,ae){if(ae===void 0&&(ae=!1),_)try{var He=uh(w,O),i0=!1;hh(_,He,function(c0){return He.ns&&!P||c0[Gd]===P?(i0=!0,!0):!1}),i0||fg(_,He,P,ae)}catch{}}o(gh,"eventOff");var Bx="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",m5="sampleRate",mh="ProcessLegacy",ug="http.method",ph="https://dc.services.visualstudio.com",v4="/v2/track",El="not_specified",Nf="iKey",dg=xx({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),p5="split",tn="length",y5="toLowerCase",Rf="ingestionendpoint",Qc="toString",c2="push",x4="removeItem",ql="name",cl="message",eu="count",_4="preTriggerDate",b4="disabled",tu="interval",v5="daysOfMonth",yh="date",vh="getUTCDate",u2="stringify",C4="pathname",hg="correlationHeaderExcludePatterns",d2="extensionConfig",x5="exceptions",af="parsedStack",lf="properties",g1="measurements",$l="sizeInBytes",kf="typeName",tc="severityLevel",E4="problemGroup",h2="isManual",T4="CreateFromInterface",Tl="assembly",rc="fileName",S4="hasFullStack",g2="level",_5="method",m2="line",b5="duration",xh="receivedResponse";function _h(_,w,P){var O=w[tn],ae=C5(_,w);if(ae[tn]!==O){for(var He=0,i0=ae;P[i0]!==void 0;)He++,i0=ws(ae,0,147)+gg(He);ae=i0}return ae}o(_h,"dataSanitizeKeyAndAddUniqueness");function C5(_,w){var P;return w&&(w=tf(Qs(w)),w[tn]>150&&(P=ws(w,0,150),Ua(_,2,57,"name is too long.  It has been truncated to 150 characters.",{name:w},!0))),P||w}o(C5,"dataSanitizeKey");function Ca(_,w,P){P===void 0&&(P=1024);var O;return w&&(P=P||1024,w=tf(Qs(w)),w[tn]>P&&(O=ws(w,0,P),Ua(_,2,61,"string value is too long. It has been truncated to "+P+" characters.",{value:w},!0))),O||w}o(Ca,"dataSanitizeString");function ru(_,w){return nu(_,w,2048,66)}o(ru,"dataSanitizeUrl");function bh(_,w){var P;return w&&w[tn]>32768&&(P=ws(w,0,32768),Ua(_,2,56,"message is too long, it has been truncated to 32768 characters.",{message:w},!0)),P||w}o(bh,"dataSanitizeMessage");function p2(_,w){var P;if(w){var O=""+w;O[tn]>32768&&(P=ws(O,0,32768),Ua(_,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:w},!0))}return P||w}o(p2,"dataSanitizeException");function Bf(_,w){if(w){var P={};ue(w,function(O,ae){if(ce(ae)&&Gc())try{ae=Y3()[u2](ae)}catch(He){Ua(_,2,49,"custom property is not valid",{exception:He},!0)}ae=Ca(_,ae,8192),O=_h(_,O,P),P[O]=ae}),w=P}return w}o(Bf,"dataSanitizeProperties");function ff(_,w){if(w){var P={};ue(w,function(O,ae){O=_h(_,O,P),P[O]=ae}),w=P}return w}o(ff,"dataSanitizeMeasurements");function E5(_,w){return w&&nu(_,w,128,69)[Qc]()}o(E5,"dataSanitizeId");function nu(_,w,P,O){var ae;return w&&(w=tf(Qs(w)),w[tn]>P&&(ae=ws(w,0,P),Ua(_,2,O,"input is too long, it has been truncated to "+P+" characters.",{data:w},!0))),ae||w}o(nu,"dataSanitizeInput");function gg(_){var w="00"+_;return n1(w,w[tn]-3)}o(gg,"dsPadNumber");var mg=Ud()||{},pg=0,Dx=[null,null,null,null,null];function Ea(_){var w=pg,P=Dx,O=P[w];return mg.createElement?P[w]||(O=P[w]=mg.createElement("a")):O={host:vg(_,!0)},O.href=_,w++,w>=P[tn]&&(w=0),pg=w,O}o(Ea,"urlParseUrl");function T5(_){var w,P=Ea(_);return P&&(w=P.href),w}o(T5,"urlGetAbsoluteUrl");function S5(_){var w,P=Ea(_);return P&&(w=P[C4]),w}o(S5,"urlGetPathName");function yg(_,w){return _?_.toUpperCase()+" "+w:w}o(yg,"urlGetCompleteUrl");function vg(_,w){var P=Ch(_,w)||"";if(P){var O=P.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(O!=null&&O[tn]>3&&t0(O[2])&&O[2][tn]>0)return O[2]+(O[3]||"")}return P}o(vg,"urlParseHost");function Ch(_,w){var P=null;if(_){var O=_.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(O!=null&&O[tn]>2&&t0(O[2])&&O[2][tn]>0&&(P=O[2]||"",w&&O[tn]>2)){var ae=(O[1]||"")[y5](),He=O[3]||"";(ae==="http"&&He===":80"||ae==="https"&&He===":443")&&(He=""),P+=He}}return P}o(Ch,"urlParseFullHost");var Lx=[ph+v4,"https://breeze.aimon.applicationinsights.io"+v4,"https://dc-int.services.visualstudio.com"+v4],y2="cid-v1:";function Df(_){return $1(Lx,_[y5]())!==-1}o(Df,"isInternalApplicationInsightsEndpoint");function Eh(_){y2=_}o(Eh,"correlationIdSetPrefix");function I4(){return y2}o(I4,"correlationIdGetPrefix");function w4(_,w,P){if(!w||_&&_.disableCorrelationHeaders)return!1;if(_&&_[hg]){for(var O=0;O<_.correlationHeaderExcludePatterns[tn];O++)if(_[hg][O].test(w))return!1}var ae=Ea(w).host[y5]();if(ae&&(I3(ae,":443")!==-1||I3(ae,":80")!==-1)&&(ae=(Ch(w,!0)||"")[y5]()),(!_||!_.enableCorsCorrelation)&&ae&&ae!==P)return!1;var He=_&&_.correlationHeaderDomains;if(He){var i0;if(il(He,function(k0){var X0=new RegExp(k0.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));i0=i0||X0.test(ae)}),!i0)return!1}var c0=_&&_.correlationHeaderExcludedDomains;if(!c0||c0[tn]===0)return!0;for(var O=0;O<c0[tn];O++){var b0=new RegExp(c0[O].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(b0.test(ae))return!1}return ae&&ae[tn]>0}o(w4,"correlationIdCanIncludeCorrelationHeader");function Fx(_){if(_){var w=xg(_,dg[1]);if(w&&w!==y2)return w}}o(Fx,"correlationIdGetCorrelationContext");function xg(_,w){if(_)for(var P=_[p5](","),O=0;O<P[tn];++O){var ae=P[O][p5]("=");if(ae[tn]===2&&ae[0]===w)return ae[1]}}o(xg,"correlationIdGetCorrelationContextValue");function _g(_,w,P,O){var ae,He=O,i0=O;if(w&&w[tn]>0){var c0=Ea(w);if(ae=c0.host,!He)if(c0[C4]!=null){var b0=c0.pathname[tn]===0?"/":c0[C4];b0.charAt(0)!=="/"&&(b0="/"+b0),i0=c0[C4],He=Ca(_,P?P+" "+b0:b0)}else He=Ca(_,w)}else ae=O,He=O;return{target:ae,name:He,data:i0}}o(_g,"AjaxHelperParseDependencyPath");function Ox(){var _=$d();if(_&&_.now&&_.timing){var w=_.now()+_.timing.navigationStart;if(w>0)return w}return H1()}o(Ox,"dateTimeUtilsNow");function I5(_,w){var P=null;return _!==0&&w!==0&&!l0(_)&&!l0(w)&&(P=w-_),P}o(I5,"dateTimeUtilsDuration");function bg(_,w){var P=_||{};return{getName:function(){return P[ql]},setName:function(O){w&&w.setName(O),P[ql]=O},getTraceId:function(){return P.traceID},setTraceId:function(O){w&&w.setTraceId(O),oh(O)&&(P.traceID=O)},getSpanId:function(){return P.parentID},setSpanId:function(O){w&&w.setSpanId(O),ah(O)&&(P.parentID=O)},getTraceFlags:function(){return P.traceFlags},setTraceFlags:function(O){w&&w.setTraceFlags(O),P.traceFlags=O}}}o(bg,"createDistributedTraceContextFromTrace");var v2=rf({LocalStorage:0,SessionStorage:1}),Mx=rf({AI:0,AI_AND_W3C:1,W3C:2}),Ux=rf({Normal:1,Critical:2}),nc=void 0,ic=void 0,Th="";function x2(){return A5()?w5(v2.LocalStorage):null}o(x2,"_getLocalStorageObject");function w5(_){try{if(l0(N6()))return null;var w=new Date()[Qc](),P=Oa(_===v2.LocalStorage?"localStorage":"sessionStorage"),O=Th+w;P.setItem(O,w);var ae=P.getItem(O)!==w;if(P[x4](O),!ae)return P}catch{}return null}o(w5,"_getVerifiedStorageObject");function _2(){return b2()?w5(v2.SessionStorage):null}o(_2,"_getSessionStorageObject");function A4(){nc=!1,ic=!1}o(A4,"utlDisableStorage");function Cg(_){Th=_||""}o(Cg,"utlSetStoragePrefix");function Tr(){nc=A5(!0),ic=b2(!0)}o(Tr,"utlEnableStorage");function A5(_){return(_||nc===void 0)&&(nc=!!w5(v2.LocalStorage)),nc}o(A5,"utlCanUseLocalStorage");function P4(_,w){var P=x2();if(P!==null)try{return P.getItem(w)}catch(O){nc=!1,Ua(_,2,1,"Browser failed read of local storage. "+vn(O),{exception:Wi(O)})}return null}o(P4,"utlGetLocalStorage");function sc(_,w,P){var O=x2();if(O!==null)try{return O.setItem(w,P),!0}catch(ae){nc=!1,Ua(_,2,3,"Browser failed write to local storage. "+vn(ae),{exception:Wi(ae)})}return!1}o(sc,"utlSetLocalStorage");function Eg(_,w){var P=x2();if(P!==null)try{return P[x4](w),!0}catch(O){nc=!1,Ua(_,2,5,"Browser failed removal of local storage item. "+vn(O),{exception:Wi(O)})}return!1}o(Eg,"utlRemoveStorage");function b2(_){return(_||ic===void 0)&&(ic=!!w5(v2.SessionStorage)),ic}o(b2,"utlCanUseSessionStorage");function Sh(){var _=[];return b2()&&ue(Oa("sessionStorage"),function(w){_[c2](w)}),_}o(Sh,"utlGetSessionStorageKeys");function Ih(_,w){var P=_2();if(P!==null)try{return P.getItem(w)}catch(O){ic=!1,Ua(_,2,2,"Browser failed read of session storage. "+vn(O),{exception:Wi(O)})}return null}o(Ih,"utlGetSessionStorage");function Tg(_,w,P){var O=_2();if(O!==null)try{return O.setItem(w,P),!0}catch(ae){ic=!1,Ua(_,2,4,"Browser failed write to session storage. "+vn(ae),{exception:Wi(ae)})}return!1}o(Tg,"utlSetSessionStorage");function wh(_,w){var P=_2();if(P!==null)try{return P[x4](w),!0}catch(O){ic=!1,Ua(_,2,6,"Browser failed removal of session storage item. "+vn(O),{exception:Wi(O)})}return!1}o(wh,"utlRemoveSessionStorage");var Sg="appInsightsThrottle",N4=function(){function _(w,P){var O=this,ae,He,i0,c0,b0,k0,X0,nn=!1,Zr=!1;vr(),O._getDbgPlgTargets=function(){return[X0]},O.getConfig=function(){return i0},O.canThrottle=function(V0){var Cr=B4(V0),sn=_n(V0);return dn(sn,ae,Cr)},O.isTriggered=function(V0){return Og(V0)},O.isReady=function(){return nn},O.flush=function(V0){try{var Cr=zh(V0);if(Cr&&Cr[tn]>0){var sn=Cr.slice(0);return X0[V0]=[],il(sn,function(bs){Vr(bs.msgID,bs[cl],bs.severity,!1)}),!0}}catch{}return!1},O.flushAll=function(){try{if(X0){var V0=!0;return ue(X0,function(Cr){var sn=O.flush(parseInt(Cr));V0=V0&&sn}),V0}}catch{}return!1},O.onReadyState=function(V0,Cr){return Cr===void 0&&(Cr=!0),nn=l0(V0)?!0:V0,nn&&Cr?O.flushAll():null},O.sendMessage=function(V0,Cr,sn){return Vr(V0,Cr,sn,!0)};function Vr(V0,Cr,sn,bs){if(nn){var ea=Fg(V0);if(!ea)return;var Gs=_n(V0),Ks=B4(V0),au=dn(Gs,ae,Ks),v1=!1,x1=0,uc=Og(V0);try{au&&!uc?(x1=Math.min(Gs.limit.maxSendNumber,Ks[eu]+1),Ks[eu]=0,v1=!0,b0[V0]=!0,Ks[_4]=new Date):(b0[V0]=au,Ks[eu]+=1);var D5=jr(V0);Lg(He,D5,Ks);for(var T2=0;T2<x1;T2++)jh(V0,He,Cr,sn)}catch{}return{isThrottled:v1,throttleNum:x1}}else if(bs){var Ri=zh(V0);Ri[c2]({msgID:V0,message:Cr,severity:sn})}return null}o(Vr,"_flushMessage");function vr(){He=Jc(w),b0={},c0={},X0={},i0={},Fr(109),k0=i4(P)?P:"",w.addUnloadHook(g4(w.config,function(V0){var Cr=V0.cfg;ae=A5();var sn=Cr.throttleMgrCfg||{};ue(sn,function(bs,ea){Fr(parseInt(bs),ea)})}))}o(vr,"_initConfig");function _n(V0){return i0[V0]||i0[109]}o(_n,"_getCfgByKey");function Fr(V0,Cr){var sn,bs;try{var ea=Cr||{},Gs={};Gs[b4]=!!ea[b4];var Ks=ea[tu]||{};Zr=(Ks==null?void 0:Ks.daysOfMonth)&&(Ks==null?void 0:Ks.daysOfMonth[tn])>0,Gs[tu]=Oi(Ks);var au={samplingRate:((sn=ea.limit)===null||sn===void 0?void 0:sn.samplingRate)||100,maxSendNumber:((bs=ea.limit)===null||bs===void 0?void 0:bs.maxSendNumber)||1};Gs.limit=au,i0[V0]=Gs}catch{}}o(Fr,"_setCfgByKey");function Oi(V0){V0=V0||{};var Cr=V0==null?void 0:V0.monthInterval,sn=V0==null?void 0:V0.dayInterval;return l0(Cr)&&l0(sn)&&(V0.monthInterval=3,Zr||(V0[v5]=[28],Zr=!0)),V0={monthInterval:V0==null?void 0:V0.monthInterval,dayInterval:V0==null?void 0:V0.dayInterval,daysOfMonth:V0==null?void 0:V0.daysOfMonth},V0}o(Oi,"_getIntervalConfig");function dn(V0,Cr,sn){if(V0&&!V0[b4]&&Cr&&i4(sn)){var bs=cc(),ea=sn[yh],Gs=V0[tu],Ks=1;if(Gs!=null&&Gs.monthInterval){var au=(bs.getUTCFullYear()-ea.getUTCFullYear())*12+bs.getUTCMonth()-ea.getUTCMonth();Ks=Vh(Gs.monthInterval,0,au)}var v1=1;if(Zr)v1=$1(Gs[v5],bs[vh]());else if(Gs!=null&&Gs.dayInterval){var x1=Math.floor((bs.getTime()-ea.getTime())/864e5);v1=Vh(Gs.dayInterval,0,x1)}return Ks>=0&&v1>=0}return!1}o(dn,"_canThrottle");function jr(V0,Cr){var sn=i4(Cr)?Cr:"";return V0?Sg+sn+"-"+V0:null}o(jr,"_getLocalStorageName");function Bs(V0){try{if(V0){var Cr=new Date;return V0.getUTCFullYear()===Cr.getUTCFullYear()&&V0.getUTCMonth()===Cr.getUTCMonth()&&V0[vh]()===Cr[vh]()}}catch{}return!1}o(Bs,"_isTriggeredOnCurDate");function B5(V0,Cr,sn){try{var bs={date:cc(),count:0};if(V0){var ea=JSON.parse(V0),Gs={date:cc(ea[yh])||bs[yh],count:ea[eu]||bs[eu],preTriggerDate:ea.preTriggerDate?cc(ea[_4]):void 0};return Gs}else return Lg(Cr,sn,bs),bs}catch{}return null}o(B5,"_getLocalStorageObj");function cc(V0){try{if(V0){var Cr=new Date(V0);if(!isNaN(Cr.getDate()))return Cr}else return new Date}catch{}return null}o(cc,"_getThrottleDate");function Lg(V0,Cr,sn){try{return sc(V0,Cr,tf(JSON[u2](sn)))}catch{}return!1}o(Lg,"_resetLocalStorage");function Vh(V0,Cr,sn){return V0<=0?1:sn>=Cr&&(sn-Cr)%V0==0?Math.floor((sn-Cr)/V0)+1:-1}o(Vh,"_checkInterval");function jh(V0,Cr,sn,bs){Ua(Cr,bs||1,V0,sn)}o(jh,"_sendMessage");function Fg(V0){try{var Cr=_n(V0);return X7(1e6)<=Cr.limit.samplingRate}catch{}return!1}o(Fg,"_canSampledIn");function B4(V0){try{var Cr=c0[V0];if(!Cr){var sn=jr(V0,k0);Cr=B5(P4(He,sn),He,sn),c0[V0]=Cr}return c0[V0]}catch{}return null}o(B4,"_getLocalStorageObjByKey");function Og(V0){var Cr=b0[V0];if(l0(Cr)){Cr=!1;var sn=B4(V0);sn&&(Cr=Bs(sn[_4])),b0[V0]=Cr}return b0[V0]}o(Og,"_isTrigger");function zh(V0){return X0=X0||{},l0(X0[V0])&&(X0[V0]=[]),X0[V0]}o(zh,"_getQueueByKey")}return o(_,"ThrottleMgr"),_}(),Ah=";",Ig="=";function cf(_){if(!_)return{};var w=_[p5](Ah),P=R6(w,function(ae,He){var i0=He[p5](Ig);if(i0[tn]===2){var c0=i0[0][y5](),b0=i0[1];ae[c0]=b0}return ae},{});if(Lr(P)[tn]>0){if(P.endpointsuffix){var O=P.location?P.location+".":"";P[Rf]=P[Rf]||"https://"+O+"dc."+P.endpointsuffix}P[Rf]=P[Rf]||ph,yx(P[Rf],"/")&&(P[Rf]=P[Rf].slice(0,-1))}return P}o(cf,"parseConnectionString");var wg={parse:cf},Ag=function(){function _(w,P,O){var ae=this,He=this;He.ver=1,He.sampleRate=100,He.tags={},He[ql]=Ca(w,O)||El,He.data=P,He.time=G3(new Date),He.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return ae.sampleRate===100?4:1},tags:1,data:1}}return o(_,"Envelope"),_}(),qx=function(){function _(w,P,O,ae){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var He=this;He.ver=2,He[ql]=Ca(w,P)||El,He[lf]=Bf(w,O),He[g1]=ff(w,ae)}return o(_,"Event"),_.envelopeType="Microsoft.ApplicationInsights.{0}.Event",_.dataType="EventData",_}(),Ph="<no_method>",m1="error",Ha="stack",Nh="stackDetails",Rh="errorSrc",kh="message",Bh="description";function R4(_,w){var P=_;return P&&!t0(P)&&(JSON&&JSON[u2]?(P=JSON[u2](_),w&&(!P||P==="{}")&&(f0(_[Qc])?P=_[Qc]():P=""+_)):P=""+_+" - (Missing JSON.stringify)"),P||""}o(R4,"_stringify");function Dh(_,w){var P=_;return _&&(P&&!t0(P)&&(P=_[kh]||_[Bh]||P),P&&!t0(P)&&(P=R4(P,!0)),_.filename&&(P=P+" @"+(_.filename||"")+":"+(_.lineno||"?")+":"+(_.colno||"?"))),w&&w!=="String"&&w!=="Object"&&w!=="Error"&&I3(P||"",w)===-1&&(P=w+": "+P),P||""}o(Dh,"_formatMessage");function Pg(_){try{if(ce(_))return"hasFullStack"in _&&"typeName"in _}catch{}return!1}o(Pg,"_isExceptionDetailsInternal");function $x(_){try{if(ce(_))return"ver"in _&&"exceptions"in _&&"properties"in _}catch{}return!1}o($x,"_isExceptionInternal");function Lh(_){return _&&_.src&&t0(_.src)&&_.obj&&Ee(_.obj)}o(Lh,"_isStackDetails");function iu(_){var w=_||"";t0(w)||(t0(w[Ha])?w=w[Ha]:w=""+w);var P=w[p5](`
`);return{src:w,obj:P}}o(iu,"_convertStackObj");function Hx(_){for(var w=[],P=_[p5](`
`),O=0;O<P[tn];O++){var ae=P[O];P[O+1]&&(ae+="@"+P[O+1],O++),w[c2](ae)}return{src:_,obj:w}}o(Hx,"_getOperaStack");function P5(_){var w=null;if(_)try{if(_[Ha])w=iu(_[Ha]);else if(_[m1]&&_[m1][Ha])w=iu(_[m1][Ha]);else if(_.exception&&_.exception[Ha])w=iu(_.exception[Ha]);else if(Lh(_))w=_;else if(Lh(_[Nh]))w=_[Nh];else if(ks()&&ks().opera&&_[kh])w=Hx(_[cl]);else if(_.reason&&_.reason[Ha])w=iu(_.reason[Ha]);else if(t0(_))w=iu(_);else{var P=_[kh]||_[Bh]||"";t0(_[Rh])&&(P&&(P+=`
`),P+=" from "+_[Rh]),P&&(w=iu(P))}}catch(O){w=iu(O)}return w||{src:"",obj:null}}o(P5,"_getStackFromErrorObj");function Vx(_){var w="";return _&&(_.obj?il(_.obj,function(P){w+=P+`
`}):w=_.src||""),w}o(Vx,"_formatStackTrace");function N5(_){var w,P=_.obj;if(P&&P[tn]>0){w=[];var O=0,ae=0;il(P,function(vr){var _n=vr[Qc]();if(Fh.regex.test(_n)){var Fr=new Fh(_n,O++);ae+=Fr[$l],w[c2](Fr)}});var He=32*1024;if(ae>He)for(var i0=0,c0=w[tn]-1,b0=0,k0=i0,X0=c0;i0<c0;){var nn=w[i0][$l],Zr=w[c0][$l];if(b0+=nn+Zr,b0>He){var Vr=X0-k0+1;w.splice(k0,Vr);break}k0=i0,X0=c0,i0++,c0--}}return w}o(N5,"_parseStack");function R5(_){var w="";if(_&&(w=_.typeName||_[ql]||"",!w))try{var P=/function (.{1,200})\(/,O=P.exec(_.constructor[Qc]());w=O&&O[tn]>1?O[1]:""}catch{}return w}o(R5,"_getErrorType");function su(_){if(_)try{if(!t0(_)){var w=R5(_),P=R4(_,!1);return(!P||P==="{}")&&(_[m1]&&(_=_[m1],w=R5(_)),P=R4(_,!0)),I3(P,w)!==0&&w!=="String"?w+":"+P:P}}catch{}return""+(_||"")}o(su,"_formatErrorCode");var jx=function(){function _(w,P,O,ae,He,i0){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var c0=this;c0.ver=2,$x(P)?(c0[x5]=P[x5]||[],c0[lf]=P[lf],c0[g1]=P[g1],P[tc]&&(c0[tc]=P[tc]),P.id&&(c0.id=P.id,P[lf].id=P.id),P[E4]&&(c0[E4]=P[E4]),l0(P[h2])||(c0[h2]=P[h2])):(O||(O={}),i0&&(O.id=i0),c0[x5]=[new C2(w,P,O)],c0[lf]=Bf(w,O),c0[g1]=ff(w,ae),He&&(c0[tc]=He),i0&&(c0.id=i0))}return o(_,"Exception"),_.CreateAutoException=function(w,P,O,ae,He,i0,c0,b0){var k0,X0=R5(He||i0||w);return k0={},k0[cl]=Dh(w,X0),k0.url=P,k0.lineNumber=O,k0.columnNumber=ae,k0.error=su(He||i0||w),k0.evt=su(i0||w),k0[kf]=X0,k0.stackDetails=P5(c0||He||i0),k0.errorSrc=b0,k0},_.CreateFromInterface=function(w,P,O,ae){var He=P[x5]&&Uc(P[x5],function(c0){return C2[T4](w,c0)}),i0=new _(w,Hc(Hc({},P),{exceptions:He}),O,ae);return i0},_.prototype.toInterface=function(){var w,P=this,O=P.exceptions,ae=P.properties,He=P.measurements,i0=P.severityLevel,c0=P.problemGroup,b0=P.id,k0=P.isManual,X0=O instanceof Array&&Uc(O,function(nn){return nn.toInterface()})||void 0;return w={ver:"4.0"},w[x5]=X0,w.severityLevel=i0,w.properties=ae,w.measurements=He,w.problemGroup=c0,w.id=b0,w.isManual=k0,w},_.CreateSimpleException=function(w,P,O,ae,He,i0){var c0;return{exceptions:[(c0={},c0[S4]=!0,c0.message=w,c0.stack=He,c0.typeName=P,c0)]}},_.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",_.dataType="ExceptionData",_.formatError=su,_}(),C2=function(){function _(w,P,O){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var ae=this;if(Pg(P))ae[kf]=P[kf],ae[cl]=P[cl],ae[Ha]=P[Ha],ae[af]=P[af]||[],ae[S4]=P[S4];else{var He=P,i0=He&&He.evt;C0(He)||(He=He[m1]||i0||He),ae[kf]=Ca(w,R5(He))||El,ae[cl]=bh(w,Dh(P||He,ae[kf]))||El;var c0=P[Nh]||P5(P);ae[af]=N5(c0),Ee(ae[af])&&Uc(ae[af],function(b0){b0[Tl]=Ca(w,b0[Tl]),b0[rc]=Ca(w,b0[rc])}),ae[Ha]=p2(w,Vx(c0)),ae.hasFullStack=Ee(ae.parsedStack)&&ae.parsedStack[tn]>0,O&&(O[kf]=O[kf]||ae[kf])}}return o(_,"_ExceptionDetails"),_.prototype.toInterface=function(){var w,P=this,O=P[af]instanceof Array&&Uc(P[af],function(He){return He.toInterface()}),ae=(w={id:P.id,outerId:P.outerId,typeName:P[kf],message:P[cl],hasFullStack:P[S4],stack:P[Ha]},w[af]=O||void 0,w);return ae},_.CreateFromInterface=function(w,P){var O=P[af]instanceof Array&&Uc(P[af],function(He){return Fh[T4](He)})||P[af],ae=new _(w,Hc(Hc({},P),{parsedStack:O}));return ae},_}(),Fh=function(){function _(w,P){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var O=this;if(O[$l]=0,typeof w=="string"){var ae=w;O[g2]=P,O[_5]=Ph,O[Tl]=tf(ae),O[rc]="",O[m2]=0;var He=ae.match(_.regex);He&&He[tn]>=5&&(O[_5]=tf(He[2])||O[_5],O[rc]=tf(He[4]),O[m2]=parseInt(He[5])||0)}else O[g2]=w[g2],O[_5]=w[_5],O[Tl]=w[Tl],O[rc]=w[rc],O[m2]=w[m2],O[$l]=0;O.sizeInBytes+=O.method[tn],O.sizeInBytes+=O.fileName[tn],O.sizeInBytes+=O.assembly[tn],O[$l]+=_.baseSize,O.sizeInBytes+=O.level.toString()[tn],O.sizeInBytes+=O.line.toString()[tn]}return o(_,"_StackFrame"),_.CreateFromInterface=function(w){return new _(w,null)},_.prototype.toInterface=function(){var w=this;return{level:w[g2],method:w[_5],assembly:w[Tl],fileName:w[rc],line:w[m2]}},_.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,_.baseSize=58,_}(),Oh=function(){function _(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(_,"DataPoint"),_}(),Ng=function(){function _(w,P,O,ae,He,i0,c0,b0,k0){this.aiDataContract={ver:1,metrics:1,properties:0};var X0=this;X0.ver=2;var nn=new Oh;nn[eu]=ae>0?ae:void 0,nn.max=isNaN(i0)||i0===null?void 0:i0,nn.min=isNaN(He)||He===null?void 0:He,nn[ql]=Ca(w,P)||El,nn.value=O,nn.stdDev=isNaN(c0)||c0===null?void 0:c0,X0.metrics=[nn],X0[lf]=Bf(w,b0),X0[g1]=ff(w,k0)}return o(_,"Metric"),_.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",_.dataType="MetricData",_}(),E2="";function zx(_,w){return w===void 0&&(w=!1),_==null?w:_.toString()[y5]()==="true"}o(zx,"stringToBoolOrDefault");function Mh(_){(isNaN(_)||_<0)&&(_=0),_=Math.round(_);var w=E2+_%1e3,P=E2+Math.floor(_/1e3)%60,O=E2+Math.floor(_/(1e3*60))%60,ae=E2+Math.floor(_/(1e3*60*60))%24,He=Math.floor(_/(1e3*60*60*24));return w=w[tn]===1?"00"+w:w[tn]===2?"0"+w:w,P=P[tn]<2?"0"+P:P,O=O[tn]<2?"0"+O:O,ae=ae[tn]<2?"0"+ae:ae,(He>0?He+".":E2)+ae+":"+O+":"+P+"."+w}o(Mh,"msToTimeSpan");function Rg(_,w){var P=null;return il(_,function(O){if(O.identifier===w)return P=O,-1}),P}o(Rg,"getExtensionByName");function Gx(_,w,P,O,ae){return!ae&&t0(_)&&(_==="Script error."||_==="Script error")}o(Gx,"isCrossOriginError");var Kx=function(){function _(w,P,O,ae,He,i0,c0){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var b0=this;b0.ver=2,b0.id=E5(w,c0),b0.url=ru(w,O),b0[ql]=Ca(w,P)||El,isNaN(ae)||(b0[b5]=Mh(ae)),b0[lf]=Bf(w,He),b0[g1]=ff(w,i0)}return o(_,"PageView"),_.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",_.dataType="PageviewData",_}(),Wx=function(){function _(w,P,O,ae,He,i0,c0,b0,k0,X0,nn,Zr){k0===void 0&&(k0="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Vr=this;Vr.ver=2,Vr.id=P,Vr[b5]=Mh(He),Vr.success=i0,Vr.resultCode=c0+"",Vr.type=Ca(w,k0);var vr=_g(w,O,b0,ae);Vr.data=ru(w,ae)||vr.data,Vr.target=Ca(w,vr.target),X0&&(Vr.target="".concat(Vr.target," | ").concat(X0)),Vr[ql]=Ca(w,vr[ql]),Vr[lf]=Bf(w,nn),Vr[g1]=ff(w,Zr)}return o(_,"RemoteDependencyData"),_.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",_.dataType="RemoteDependencyData",_}(),ou=function(){function _(w,P,O,ae,He){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var i0=this;i0.ver=2,P=P||El,i0[cl]=bh(w,P),i0[lf]=Bf(w,ae),i0[g1]=ff(w,He),O&&(i0[tc]=O)}return o(_,"Trace"),_.envelopeType="Microsoft.ApplicationInsights.{0}.Message",_.dataType="MessageData",_}(),kg=function(){function _(w,P,O,ae,He,i0,c0){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var b0=this;b0.ver=2,b0.url=ru(w,O),b0[ql]=Ca(w,P)||El,b0[lf]=Bf(w,He),b0[g1]=ff(w,i0),c0&&(b0.domProcessing=c0.domProcessing,b0[b5]=c0[b5],b0.networkConnect=c0.networkConnect,b0.perfTotal=c0.perfTotal,b0[xh]=c0[xh],b0.sentRequest=c0.sentRequest)}return o(_,"PageViewPerformance"),_.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",_.dataType="PageviewPerformanceData",_}(),Uh=function(){function _(w,P){this.aiDataContract={baseType:1,baseData:1},this.baseType=w,this.baseData=P}return o(_,"Data"),_}(),Yx=rf({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),Jx=function(){function _(){}return o(_,"ConfigurationManager"),_.getConfig=function(w,P,O,ae){ae===void 0&&(ae=!1);var He;return O&&w[d2]&&w[d2][O]&&!l0(w[d2][O][P])?He=w[d2][O][P]:He=w[P],l0(He)?ae:He},_}();function p1(_){var w="ai."+_+".";return function(P){return w+P}}o(p1,"_aiNameFunc");var k5=p1("application"),zs=p1("device"),k4=p1("location"),oc=p1("operation"),ac=p1("session"),uf=p1("user"),y1=p1("cloud"),df=p1("internal"),Bg=function(_){j6(w,_);function w(){return _.call(this)||this}return o(w,"ContextTagKeys"),w}(s4({applicationVersion:k5("ver"),applicationBuild:k5("build"),applicationTypeId:k5("typeId"),applicationId:k5("applicationId"),applicationLayer:k5("layer"),deviceId:zs("id"),deviceIp:zs("ip"),deviceLanguage:zs("language"),deviceLocale:zs("locale"),deviceModel:zs("model"),deviceFriendlyName:zs("friendlyName"),deviceNetwork:zs("network"),deviceNetworkName:zs("networkName"),deviceOEMName:zs("oemName"),deviceOS:zs("os"),deviceOSVersion:zs("osVersion"),deviceRoleInstance:zs("roleInstance"),deviceRoleName:zs("roleName"),deviceScreenResolution:zs("screenResolution"),deviceType:zs("type"),deviceMachineName:zs("machineName"),deviceVMName:zs("vmName"),deviceBrowser:zs("browser"),deviceBrowserVersion:zs("browserVersion"),locationIp:k4("ip"),locationCountry:k4("country"),locationProvince:k4("province"),locationCity:k4("city"),operationId:oc("id"),operationName:oc("name"),operationParentId:oc("parentId"),operationRootId:oc("rootId"),operationSyntheticSource:oc("syntheticSource"),operationCorrelationVector:oc("correlationVector"),sessionId:ac("id"),sessionIsFirst:ac("isFirst"),sessionIsNew:ac("isNew"),userAccountAcquisitionDate:uf("accountAcquisitionDate"),userAccountId:uf("accountId"),userAgent:uf("userAgent"),userId:uf("id"),userStoreRegion:uf("storeRegion"),userAuthUserId:uf("authUserId"),userAnonymousUserAcquisitionDate:uf("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:uf("authUserAcquisitionDate"),cloudName:y1("name"),cloudRole:y1("role"),cloudRoleVer:y1("roleVer"),cloudRoleInstance:y1("roleInstance"),cloudEnvironment:y1("environment"),cloudLocation:y1("location"),cloudDeploymentUnit:y1("deploymentUnit"),internalNodeName:df("nodeName"),internalSdkVersion:df("sdkVersion"),internalAgentVersion:df("agentVersion"),internalSnippet:df("snippet"),internalSdkSrc:df("sdkSrc")}));function qh(_,w,P,O,ae,He){var i0;P=Ca(O,P)||El,(l0(_)||l0(w)||l0(P))&&Ke("Input doesn't contain all required fields");var c0="";_[Nf]&&(c0=_[Nf],delete _[Nf]);var b0=(i0={},i0[ql]=P,i0.time=G3(new Date),i0.iKey=c0,i0.ext=He||{},i0.tags=[],i0.data={},i0.baseType=w,i0.baseData=_,i0);return l0(ae)||ue(ae,function(k0,X0){b0.data[k0]=X0}),b0}o(qh,"createTelemetryItem");var Dg=function(){function _(){}return o(_,"TelemetryItemCreator"),_.create=qh,_}(),$h={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},lc=new Bg;function Xx(_){var w=null;if(f0(Event))w=new Event(_);else{var P=Ud();P&&P.createEvent&&(w=P.createEvent("Event"),w.initEvent(_,!0,!0))}return w}o(Xx,"createDomEvent");function Hh(_,w){gh(_,null,null,w)}o(Hh,"_disableEvents");function Zx(_){var w=Ud(),P=Dl(),O=!1,ae=[],He=1;P&&!l0(P.onLine)&&!P.onLine&&(He=2);var i0=0,c0=Zr(),b0=cg(fl("OfflineListener"),_);try{if(X0(ks())&&(O=!0),w){var k0=w.body||w;k0.ononline&&X0(k0)&&(O=!0)}}catch{O=!1}function X0(jr){var Bs=!1;return jr&&(Bs=y4(jr,"online",_n,b0),Bs&&y4(jr,"offline",Fr,b0)),Bs}o(X0,"_enableEvents");function nn(){return c0}o(nn,"_isOnline");function Zr(){return!(i0===2||He===2)}o(Zr,"calCurrentState");function Vr(){var jr=Zr();c0!==jr&&(c0=jr,il(ae,function(Bs){var B5={isOnline:c0,rState:He,uState:i0};try{Bs(B5)}catch{}}))}o(Vr,"listnerNoticeCheck");function vr(jr){i0=jr,Vr()}o(vr,"setOnlineState");function _n(){He=1,Vr()}o(_n,"_setOnline");function Fr(){He=2,Vr()}o(Fr,"_setOffline");function Oi(){var jr=ks();if(jr&&O){if(Hh(jr,b0),w){var Bs=w.body||w;u0(Bs.ononline)||Hh(Bs,b0)}O=!1}}o(Oi,"_unload");function dn(jr){return ae[c2](jr),{rm:function(){var Bs=ae.indexOf(jr);if(Bs>-1)return ae.splice(Bs,1)}}}return o(dn,"addListener"),{isOnline:nn,isListening:function(){return O},unload:Oi,addListener:dn,setOnlineState:vr}}o(Zx,"createOfflineListener");var Qx="AppInsightsPropertiesPlugin",e_="AppInsightsChannelPlugin",fc="ApplicationInsightsAnalytics";e.AnalyticsPluginIdentifier=fc,e.BreezeChannelIdentifier=e_,e.ConfigurationManager=Jx,e.ConnectionStringParser=wg,e.ContextTagKeys=Bg,e.CtxTagKeys=lc,e.DEFAULT_BREEZE_ENDPOINT=ph,e.DEFAULT_BREEZE_PATH=v4,e.Data=Uh,e.DisabledPropertyName=Bx,e.DistributedTracingModes=Mx,e.Envelope=Ag,e.Event=qx,e.EventPersistence=Ux,e.Exception=jx,e.Extensions=$h,e.HttpMethod=ug,e.Metric=Ng,e.PageView=Kx,e.PageViewPerformance=kg,e.ProcessLegacy=mh,e.PropertiesPluginIdentifier=Qx,e.RemoteDependencyData=Wx,e.RequestHeaders=dg,e.SampleRate=m5,e.SeverityLevel=Yx,e.TelemetryItemCreator=Dg,e.ThrottleMgr=N4,e.Trace=ou,e.correlationIdCanIncludeCorrelationHeader=w4,e.correlationIdGetCorrelationContext=Fx,e.correlationIdGetCorrelationContextValue=xg,e.correlationIdGetPrefix=I4,e.correlationIdSetPrefix=Eh,e.createDistributedTraceContextFromTrace=bg,e.createDomEvent=Xx,e.createOfflineListener=Zx,e.createTelemetryItem=qh,e.createTraceParent=ih,e.dataSanitizeException=p2,e.dataSanitizeId=E5,e.dataSanitizeInput=nu,e.dataSanitizeKey=C5,e.dataSanitizeKeyAndAddUniqueness=_h,e.dataSanitizeMeasurements=ff,e.dataSanitizeMessage=bh,e.dataSanitizeProperties=Bf,e.dataSanitizeString=Ca,e.dataSanitizeUrl=ru,e.dateTimeUtilsDuration=I5,e.dateTimeUtilsNow=Ox,e.dsPadNumber=gg,e.findW3cTraceParent=ba,e.formatTraceParent=fh,e.getExtensionByName=Rg,e.isBeaconApiSupported=Y7,e.isCrossOriginError=Gx,e.isInternalApplicationInsightsEndpoint=Df,e.isSampledFlag=lh,e.isValidSpanId=ah,e.isValidTraceId=oh,e.isValidTraceParent=ig,e.msToTimeSpan=Mh,e.parseConnectionString=cf,e.parseTraceParent=sh,e.strNotSpecified=El,e.stringToBoolOrDefault=zx,e.urlGetAbsoluteUrl=T5,e.urlGetCompleteUrl=yg,e.urlGetPathName=S5,e.urlParseFullHost=Ch,e.urlParseHost=vg,e.urlParseUrl=Ea,e.utlCanUseLocalStorage=A5,e.utlCanUseSessionStorage=b2,e.utlDisableStorage=A4,e.utlEnableStorage=Tr,e.utlGetLocalStorage=P4,e.utlGetSessionStorage=Ih,e.utlGetSessionStorageKeys=Sh,e.utlRemoveSessionStorage=wh,e.utlRemoveStorage=Eg,e.utlSetLocalStorage=sc,e.utlSetSessionStorage=Tg,e.utlSetStoragePrefix=Cg})});var YR=y0((sy,WR)=>{(function(e,t){typeof sy=="object"&&typeof WR<"u"?t(sy):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(sy,function(e){"use strict";var t=void 0,r=null,n="",s="boolean",l="function",a="number",f="object",c="prototype",u="__proto__",d="string",h="undefined",m="constructor",p="Symbol",v="_polyfill",x="indexOf",E="length",I="done",A="value",L="name",D="slice",R="call",V="toString",de=Object,ve=de[c],n0=String,d0=n0[c],r0=Math,m0=Array,Ve=m0[c];function we(g,y){try{return{v:g.apply(this,y)}}catch(b){return{e:b}}}o(we,"safe");function o0(g,y){var b=we(g);return b.e?y:b.v}o(o0,"safeGet");var u0=[d,a,s,h,"symbol","bigint"];function l0(g){return function(y){return typeof y===g}}o(l0,"_createIs");function R0(g){var y="[object "+g+"]";return function(b){return!!(b&&t0(b)===y)}}o(R0,"_createObjIs");function t0(g){return ve.toString.call(g)}o(t0,"objToString");function f0(g){return typeof g===h||g===h}o(f0,"isUndefined");function ce(g){return g===r||f0(g)}o(ce,"isNullOrUndefined");function Ee(g){return g===r||!C0(g)}o(Ee,"isStrictNullOrUndefined");function C0(g){return!!g||g!==t}o(C0,"isDefined");function z0(g){return g!==f&&u0.indexOf(g)!==-1}o(z0,"isPrimitiveType");var O0=l0(d),v0=l0(l);function fr(g){return!g&&ce(g)?!1:!!g&&typeof g===f}o(fr,"isObject");var ue=m0.isArray,D0=R0("Date"),Ke=l0(a),L0=l0(s),B0=R0("Error");function G0(g){return!!(g&&g.then&&v0(g.then))}o(G0,"isPromiseLike");function br(g){return!(!g||o0(function(){return!(g&&0+g)},!g))}o(br,"isTruthy");var en=de.getOwnPropertyDescriptor;function Lr(g,y){return!!g&&ve.hasOwnProperty[R](g,y)}o(Lr,"objHasOwnProperty");var le=de.hasOwn||Hr;function Hr(g,y){return Lr(g,y)||!!en(g,y)}o(Hr,"polyObjHasOwn");function yr(g,y,b){if(g&&fr(g)){for(var S in g)if(le(g,S)&&y[R](b||g,S,g[S])===-1)break}}o(yr,"objForEachKey");function Xs(g,y,b,S){var N={};return yr(g,function($,K){N[$]=y?K:$,N[K]=b?K:$}),S(N)}o(Xs,"_createKeyValueMap");function Es(g){throw new Error(g)}o(Es,"throwError");function Zs(g){throw new TypeError(g)}o(Zs,"throwTypeError");var Qs=de.freeze;function Rl(g){return g}o(Rl,"_doNothing");function Zl(g){return g[u]||r}o(Zl,"_getProto");var U1=de.assign,Ql=de.keys;function yn(g){return Qs&&yr(g,function(y,b){(ue(b)||fr(b))&&Qs(b)}),Wi(g)}o(yn,"objDeepFreeze");var Wi=Qs||Rl,Q=de.getPrototypeOf||Zl;function se(g){return Xs(g,1,0,yn)}o(se,"createEnum");function on(g){return Xs(g,0,0,yn)}o(on,"createEnumKeyMap");function Hs(g){var y={};return yr(g,function(b,S){y[b]=S[1],y[S[0]]=S[1]}),yn(y)}o(Hs,"createSimpleMap");function _3(g){return Hs(g)}o(_3,"createTypeMap");var b3=on({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),ws=n0,n1="__tsUtils$gblCfg",$u;function Fd(){var g;return typeof globalThis!==h&&(g=globalThis),!g&&typeof self!==h&&(g=self),!g&&typeof window!==h&&(g=window),!g&&typeof global!==h&&(g=global),g}o(Fd,"_getGlobalValue");function Hu(){if(!$u){var g=we(Fd).v||{};$u=g[n1]=g[n1]||{}}return $u}o(Hu,"_getGlobalConfig");var C3="[object Error]";function ei(g,y){var b=n,S=ve[V][R](g);S===C3&&(g={stack:ws(g.stack),message:ws(g.message),name:ws(g.name)});try{b=JSON.stringify(g,r,y?typeof y===a?y:4:t),b=b&&b.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||ws(g)}catch(N){b=" - "+ei(N,y)}return S+": "+b}o(ei,"dumpObj");var Vu,Od=Bc,kl=Bc;function Bc(g,y,b){Vu=Vu||Ve[D];var S=y&&y[g];return function(N){var $=N&&N[g]||S;if($||b){var K=arguments;return($||b).apply(N,$?Vu[R](K,1):K)}Zs('"'+ws(g)+'" not defined for '+ei(N))}}o(Bc,"_unwrapFunctionWithPoly");function i1(g){return function(y){return y[g]}}o(i1,"_unwrapProp");var Dc=r0.max,As=kl(D,d0),zi=kl("substring",d0),Bl=Bc("substr",d0,Md);function Md(g,y,b){return ce(g)&&Zs("'polyStrSubstr called with invalid "+ei(g)),b<0?n:(y=y||0,y<0&&(y=Dc(y+g[E],0)),f0(b)?As(g,y):As(g,y,y+b))}o(Md,"polyStrSubstr");function Lc(g,y){return zi(g,0,y)}o(Lc,"strLeft");var P6="_urid",Fc;function E3(){if(!Fc){var g=Hu();Fc=g.gblSym=g.gblSym||{k:{},s:{}}}return Fc}o(E3,"_globalSymbolRegistry");var ju;function T3(g){var y={description:ws(g),toString:function(){return p+"("+g+")"}};return y[v]=!0,y}o(T3,"polyNewSymbol");function L7(g){var y=E3();if(!le(y.k,g)){var b=T3(g),S=Ql(y.s).length;b[P6]=function(){return S+"_"+b[V]()},y.k[g]=b,y.s[b[P6]()]=ws(g)}return y.k[g]}o(L7,"polySymbolFor");function N6(g){!ju&&(ju={});var y,b=b3[g];return b&&(y=ju[b]=ju[b]||T3(p+"."+b)),y}o(N6,"polyGetKnownSymbol");var Oa={e:"enumerable",c:"configurable",v:A,w:"writable",g:"get",s:"set"};function Ud(g){var y={};if(y[Oa.c]=!0,y[Oa.e]=!0,g.l){y.get=function(){return g.l.v};var b=en(g.l,"v");b&&b.set&&(y.set=function(S){g.l.v=S})}return yr(g,function(S,N){y[Oa[S]]=f0(N)?y[Oa[S]]:N}),y}o(Ud,"_createProp");var q1=de.defineProperty;function ks(g,y,b){return q1(g,y,Ud(b))}o(ks,"objDefine");var Us;function Dl(){Us=Hu()}o(Dl,"_initTestHooks");function Cl(g){var y={};return!Us&&Dl(),y.b=Us.lzy,q1(y,"v",{configurable:!0,get:function(){var b=g();return Us.lzy||q1(y,"v",{value:b}),y.b=Us.lzy,b}}),y}o(Cl,"getLazy");function qd(g,y){return Cl(function(){var b=we(g);return b.e?y:b.v})}o(qd,"safeGetLazy");function Oc(g){return q1({toJSON:function(){return g}},"v",{value:g})}o(Oc,"createCachedValue");var zu="window",Mc,s1,il,$1,Uc;function R6(g){return Cl(function(){return we(na,[g]).v||t})}o(R6,"lazySafeGetInst");function ef(g){return!Us&&Dl(),(!Mc||g===!1||Us.lzy)&&(Mc=Oc(we(Fd).v||r)),Mc.v}o(ef,"getGlobal");function na(g,y){var b=!Mc||y===!1?ef(y):Mc.v;return b&&b[g]?b[g]:g===zu&&s1?s1.v:r}o(na,"getInst");function k6(){return!!qc()}o(k6,"hasDocument");function qc(){return!Us&&Dl(),(!il||Us.lzy)&&(il=Oc(we(na,["document"]).v)),il.v}o(qc,"getDocument");function gx(){return!!o1()}o(gx,"hasWindow");function o1(){return!Us&&Dl(),(!s1||Us.lzy)&&(s1=Oc(we(na,[zu]).v)),s1.v}o(o1,"getWindow");function mx(){return!!H1()}o(mx,"hasNavigator");function H1(){return!Us&&Dl(),(!$1||Us.lzy)&&($1=Oc(we(na,["navigator"]).v)),$1.v}o(H1,"getNavigator");function px(){return!Uc&&(Uc=Oc(!!we(function(){return process&&(process.versions||{}).node}).v)),Uc.v}o(px,"isNode");var sl,B6;function tf(){(!sl||!sl.b)&&(sl=R6(p),B6=qd(function(){return sl.v?sl.v.for:t},t))}o(tf,"_initSymbol");function D6(){return!!L6()}o(D6,"hasSymbol");function L6(){return!Us&&Dl(),(!sl||Us.lzy)&&tf(),sl.v}o(L6,"getSymbol");function S3(g,y){var b=b3[g];return!Us&&Dl(),(!sl||Us.lzy)&&tf(),sl.v?sl.v[b||g]:y?t:N6(g)}o(S3,"getKnownSymbol");function Tf(g,y){return!Us&&Dl(),(!sl||Us.lzy)&&tf(),sl.v?sl.v(g):y?r:T3(g)}o(Tf,"newSymbol");function Gu(g){return!Us&&Dl(),(!B6||!sl||Us.lzy)&&tf(),(B6.v||L7)(g)}o(Gu,"symbolFor");function $d(g){return!!g&&v0(g.next)}o($d,"isIterator");function yx(g){return!Ee(g)&&v0(g[S3(3)])}o(yx,"isIterable");var Hd;function I3(g,y,b){if(g&&($d(g)||(!Hd&&(Hd=Oc(S3(3))),g=g[Hd.v]?g[Hd.v]():null),$d(g))){var S=void 0,N=void 0;try{for(var $=0;!(N=g.next())[I]&&y[R](b||g,N[A],$,g)!==-1;)$++}catch(K){S={e:K},g.throw&&(N=null,g.throw(S))}finally{try{N&&!N[I]&&g.return&&g.return(N)}finally{if(S)throw S.e}}}}o(I3,"iterForOf");var a1=Od("apply");function V1(g,y){return!f0(y)&&g&&(ue(y)?a1(g.push,g,y):$d(y)||yx(y)?I3(y,function(b){g.push(b)}):g.push(y)),g}o(V1,"arrAppend");function $r(g,y,b){if(g)for(var S=g[E]>>>0,N=0;N<S&&!(N in g&&y[R](b||g,g[N],N,g)===-1);N++);}o($r,"arrForEach");var Ll=kl(x,Ve),w3=kl("map",Ve),F6=kl(D,Ve),vx=kl("reduce",Ve),rf=de.create||xx;function xx(g){if(!g)return{};var y=typeof g;y!==f&&y!==l&&Zs("Prototype must be an Object or function: "+ei(g));function b(){}return o(b,"tempFunc"),b[c]=g,new b}o(xx,"polyObjCreate");var Ku;function A3(g,y){var b=de.setPrototypeOf||function(S,N){!Ku&&(Ku=Cl(function(){var $;return $={},$[u]=[],$ instanceof Array})),Ku.v?S[u]=N:yr(N,function($,K){return S[$]=K})};return b(g,y)}o(A3,"objSetPrototypeOf");function ia(g,y,b){we(ks,[y,L,{v:g,c:!0,e:!1}]),y=A3(y,b);function S(){this.constructor=y,we(ks,[this,L,{v:g,c:!0,e:!1}])}return o(S,"__"),y[c]=b===r?rf(b):(S[c]=b[c],new S),y}o(ia,"_createCustomError");function P3(g,y){y&&(g[L]=y)}o(P3,"_setName");function O6(g,y,b){var S=b||Error,N=S[c][L],$=Error.captureStackTrace;return ia(g,function(){var K=this,oe=arguments;try{we(P3,[S,g]);var _e=a1(S,K,Ve[D][R](oe))||K;if(_e!==K){var Ie=Q(K);Ie!==Q(_e)&&A3(_e,Ie)}return $&&$(_e,K[m]),y&&y(_e,oe),_e}finally{we(P3,[S,N])}},S)}o(O6,"createCustomError");function j1(){return(Date.now||N3)()}o(j1,"utcNow");function N3(){return new Date().getTime()}o(N3,"polyUtcNow");function M6(g){return o(function(b){return ce(b)&&Zs("strTrim called ["+ei(b)+"]"),b&&b.replace&&(b=b.replace(g,n)),b},"_doTrim")}o(M6,"_createTrimFn");var U6=M6(/^\s+|(?=\s)\s+$/g),Go=Bc("trim",d0,U6),q6,Sf,Vd;function ol(g){if(!g||typeof g!==f)return!1;Vd||(Vd=gx()?o1():!0);var y=!1;if(g!==Vd){Sf||(q6=Function[c][V],Sf=q6[R](de));try{var b=Q(g);y=!b,y||(Lr(b,m)&&(b=b[m]),y=b&&typeof b===l&&q6[R](b)===Sf)}catch{}}return y}o(ol,"isPlainObject");var _x=o(function(g){return g.value&&zd(g),!0},"_defaultDeepCopyHandler"),jd=[O7,zd,H6,M7];function bx(g,y,b,S){var N;return $r(g,function($){if($.k===y)return N=$,-1}),N||(N={k:y,v:y},g.push(N),S(N)),N.v}o(bx,"_getSetVisited");function R3(g,y,b,S){var N=b.handler,$=b.path?S?b.path.concat(S):b.path:[],K={handler:b.handler,src:b.src,path:$},oe=typeof y,_e=!1,Ie=!1;y&&oe===f?_e=ol(y):Ie=y===r||z0(oe);var Ze={type:oe,isPrim:Ie,isPlain:_e,value:y,result:y,path:$,origin:b.src,copy:function(x0,S0){return R3(g,x0,S0?K:b,S0)},copyTo:function(x0,S0){return F7(g,x0,S0,K)}};return Ze.isPrim?N&&N[R](b,Ze)?Ze.result:y:bx(g,y,$,function(x0){ks(Ze,"result",{g:function(){return x0.v},s:function(h0){x0.v=h0}});for(var S0=0,_0=N;!(_0||(S0<jd.length?jd[S0++]:_x))[R](b,Ze);)_0=r})}o(R3,"_deepCopy");function F7(g,y,b,S){if(!ce(b))for(var N in b)y[N]=R3(g,b[N],S,N);return y}o(F7,"_copyProps");function $6(g,y,b){var S={handler:b,src:y,path:[]};return F7([],g,y,S)}o($6,"objCopyProps");function k3(g,y){var b={handler:y,src:g};return R3([],g,b)}o(k3,"objDeepCopy");function O7(g){var y=g.value;if(ue(y)){var b=g.result=[];return b.length=y.length,g.copyTo(b,y),!0}return!1}o(O7,"arrayDeepCopyHandler");function M7(g){var y=g.value;return D0(y)?(g.result=new Date(y.getTime()),!0):!1}o(M7,"dateDeepCopyHandler");function H6(g){return g.type===l}o(H6,"functionDeepCopyHandler");function zd(g){var y=g.value;if(y&&g.isPlain){var b=g.result={};return g.copyTo(b,y),!0}return!1}o(zd,"plainObjDeepCopyHandler");function Wu(g,y){return $r(y,function(b){$6(g,b)}),g}o(Wu,"_doExtend");function U7(g,y,b,S,N,$,K){return Wu(k3(g)||{},Ve[D][R](arguments))}o(U7,"deepExtend");var l1=i1(E),Gd=Bc("endsWith",d0,q7);function q7(g,y,b){O0(g)||Zs("'"+ei(g)+"' is not a string");var S=O0(y)?y:ws(y),N=!f0(b)&&b<g[E]?b:g[E];return zi(g,N-S[E],N)===S}o(q7,"polyStrEndsWith");var Yu=kl(x,d0),$c="ref",B3="un"+$c,V6="hasRef",$7="enabled";function Cx(g,y,b){var S,N=!0,$=g?y(r):r,K,oe=o(function(){return N=!1,$&&$[B3]&&$[B3](),K},"_unref"),_e=o(function(){return N=!0,$&&$[$c]&&$[$c](),K},"_ref"),Ie=o(function(){return $&&$[V6]?$[V6]():N},"_hasRef"),Ze=o(function(){return $=y($),N||oe(),K},"_refresh"),x0=o(function(){$&&b($),$=r},"_cancel"),S0=o(function(_0){!_0&&$&&x0(),_0&&!$&&Ze()},"_setEnabled");return K=(S={cancel:x0,refresh:Ze},S[V6]=Ie,S[$c]=_e,S[B3]=oe,S[$7]=!1,S),q1(K,$7,{get:function(){return!!$},set:S0}),{h:K,dn:function(){$=r}}}o(Cx,"_createTimerHandler");function H7(g,y,b,S){var N=ue(b),$=N?b.length:0,K=($>0?b[0]:N?t:b)||setTimeout,oe=($>1?b[1]:t)||clearTimeout,_e=S[0];S[0]=function(){Ie.dn(),a1(_e,g,Ve[D][R](arguments))};var Ie=Cx(y,function(Ze){if(Ze){if(Ze.refresh)return Ze.refresh(),Ze;a1(oe,g,[Ze])}return a1(K,g,S)},function(Ze){a1(oe,g,[Ze])});return Ie.h}o(H7,"_createTimeoutWith");function If(g,y){return H7(this,!0,t,Ve[D][R](arguments))}o(If,"scheduleTimeout");function V7(g,y){return H7(this,!1,t,Ve[D][R](arguments))}o(V7,"createTimeout");var Kd,D3="constructor",f1="prototype",Hc="function",Ju="_dynInstFuncs",j6="_isDynProxy",c1="_dynClass",Wd="_dynCls$",nf="_dynInstChk",z1=nf,L3="_dfOpts",Yd="_unknown_",G1="__proto__",Jd="_dyn"+G1,Xd="__dynProto$Gbl",Vc="_dynInstProto",F3="useBaseInst",Zd="setInstFuncs",O3=Object,K1=O3.getPrototypeOf,z6=O3.getOwnPropertyNames,Qd=ef(),Xu=Qd[Xd]||(Qd[Xd]={o:(Kd={},Kd[Zd]=!0,Kd[F3]=!0,Kd),n:1e3});function Zu(g){return g&&(g===O3[f1]||g===Array[f1])}o(Zu,"_isObjectOrArrayPrototype");function M3(g){return Zu(g)||g===Function[f1]}o(M3,"_isObjectArrayOrFunctionPrototype");function sf(g){var y;if(g){if(K1)return K1(g);var b=g[G1]||g[f1]||(g[D3]?g[D3][f1]:null);y=g[Jd]||b,Lr(g,Jd)||(delete g[Vc],y=g[Jd]=g[Vc]||g[Jd],g[Vc]=b)}return y}o(sf,"_getObjProto");function U3(g,y){var b=[];if(z6)b=z6(g);else for(var S in g)typeof S=="string"&&Lr(g,S)&&b.push(S);if(b&&b.length>0)for(var N=0;N<b.length;N++)y(b[N])}o(U3,"_forEachProp");function e4(g,y,b){return y!==D3&&typeof g[y]===Hc&&(b||Lr(g,y))&&y!==G1&&y!==f1}o(e4,"_isDynamicCandidate");function Qu(g){Zs("DynamicProto: "+g)}o(Qu,"_throwTypeError");function t4(g){var y=rf(null);return U3(g,function(b){!y[b]&&e4(g,b,!1)&&(y[b]=g[b])}),y}o(t4,"_getInstanceFuncs");function q3(g,y){for(var b=g.length-1;b>=0;b--)if(g[b]===y)return!0;return!1}o(q3,"_hasVisited");function jc(g,y,b,S){function N(_e,Ie,Ze){var x0=Ie[Ze];if(x0[j6]&&S){var S0=_e[Ju]||{};S0[z1]!==!1&&(x0=(S0[Ie[c1]]||{})[Ze]||x0)}return function(){return x0.apply(_e,arguments)}}o(N,"_instFuncProxy");var $=rf(null);U3(b,function(_e){$[_e]=N(y,b,_e)});for(var K=sf(g),oe=[];K&&!M3(K)&&!q3(oe,K);)U3(K,function(_e){!$[_e]&&e4(K,_e,!K1)&&($[_e]=N(y,K,_e))}),oe.push(K),K=sf(K);return $}o(jc,"_getBaseFuncs");function r4(g,y,b,S){var N=null;if(g&&Lr(b,c1)){var $=g[Ju]||rf(null);if(N=($[b[c1]]||rf(null))[y],N||Qu("Missing ["+y+"] "+Hc),!N[nf]&&$[z1]!==!1){for(var K=!Lr(g,y),oe=sf(g),_e=[];K&&oe&&!M3(oe)&&!q3(_e,oe);){var Ie=oe[y];if(Ie){K=Ie===S;break}_e.push(oe),oe=sf(oe)}try{K&&(g[y]=N),N[nf]=1}catch{$[z1]=!1}}}return N}o(r4,"_getInstFunc");function G6(g,y,b){var S=y[g];return S===b&&(S=sf(y)[g]),typeof S!==Hc&&Qu("["+g+"] is not a "+Hc),S}o(G6,"_getProtoFunc");function n4(g,y,b,S,N){function $(_e,Ie){var Ze=o(function(){var x0=r4(this,Ie,_e,Ze)||G6(Ie,_e,Ze);return x0.apply(this,arguments)},"dynProtoProxy");return Ze[j6]=1,Ze}if(o($,"_createDynamicPrototype"),!Zu(g)){var K=b[Ju]=b[Ju]||rf(null);if(!Zu(K)){var oe=K[y]=K[y]||rf(null);K[z1]!==!1&&(K[z1]=!!N),Zu(oe)||U3(b,function(_e){e4(b,_e,!1)&&b[_e]!==S[_e]&&(oe[_e]=b[_e],delete b[_e],(!Lr(g,_e)||g[_e]&&!g[_e][j6])&&(g[_e]=$(g,_e)))})}}}o(n4,"_populatePrototype");function Ex(g,y){if(K1){for(var b=[],S=sf(y);S&&!M3(S)&&!q3(b,S);){if(S===g)return!0;b.push(S),S=sf(S)}return!1}return!0}o(Ex,"_checkPrototype");function $3(g,y){return Lr(g,f1)?g.name||y||Yd:((g||{})[D3]||{}).name||y||Yd}o($3,"_getObjName");function ll(g,y,b,S){Lr(g,f1)||Qu("theClass is an invalid class definition.");var N=g[f1];Ex(N,y)||Qu("["+$3(g)+"] not in hierarchy of ["+$3(y)+"]");var $=null;Lr(N,c1)?$=N[c1]:($=Wd+$3(g,"_")+"$"+Xu.n,Xu.n++,N[c1]=$);var K=ll[L3],oe=!!K[F3];oe&&S&&S[F3]!==void 0&&(oe=!!S[F3]);var _e=t4(y),Ie=jc(N,y,_e,oe);b(y,Ie);var Ze=!!K1&&!!K[Zd];Ze&&S&&(Ze=!!S[Zd]),n4(N,$,y,_e,Ze!==!1)}o(ll,"dynamicProto"),ll[L3]=Xu.o;var Tx="function",j7="object",z7="undefined",H3="prototype",V3=Object,K6=V3[H3],G7="hasOwnProperty",qs=o(function(g){for(var y,b=1,S=arguments.length;b<S;b++){y=arguments[b];for(var N in y)K6[G7].call(y,N)&&(g[N]=y[N])}return g},"__objAssignFnImpl"),W1=U1||qs,W6=o(function(g,y){return W6=V3.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,S){b.__proto__=S}||function(b,S){for(var N in S)S[G7](N)&&(b[N]=S[N])},W6(g,y)},"extendStaticsFn");function j3(g,y){typeof y!==Tx&&y!==null&&Zs("Class extends value "+String(y)+" is not a constructor or null"),W6(g,y);function b(){this.constructor=g}o(b,"__"),g[H3]=y===null?rf(y):(b[H3]=y[H3],new b)}o(j3,"__extendsFn");function K7(g,y){for(var b=0,S=y.length,N=g.length;b<S;b++,N++)g[N]=y[b];return g}o(K7,"__spreadArrayFn");var i4=se,Y6=_3,z3="toLowerCase",G3="blkVal",vn="length",s4="rdOnly",o4="notify",K3="warnToConsole",W3="throwInternal",e5="setDf",u1="watch",Vs="logger",t5="apply",Ji="push",zc="splice",W7="hdlr",Gc="cancel",Y3="initialize",Y1="identifier",wf="isInitialized",J3="getPlugin",Y7="pollInternalLogs",J1="name",r5="time",Ma="processNext",J6="getProcessTelContext",Fl="getNotifyMgr",X3="addNotificationListener",Z3="removeNotificationListener",Kc="enabled",n5="stopPollingInternalLogs",Ol="unload",a4="onComplete",J7="version",X7="loggingLevelConsole",of="createNew",d1="teardown",l4="messageId",Wc="message",i5="isAsync",h1="diagLog",f4="_doTeardown",Q3="update",fl="getNext",e2="setNextPlugin",s5="userAgent",o5="split",t2="nodeType",Yc="replace",X1="logInternalMessage",Af="type",X6="handler",c4="isChildEvt",a5="getCtx",Pf="setCtx",r2="complete",Z6="traceId",Z7="spanId",l5="traceFlags",Q6;function u4(g,y){Q6||(Q6=O6("AggregationError",function(S,N){N[vn]>1&&(S.errors=N[1])}));var b=g||"One or more errors occurred.";throw $r(y,function(S,N){b+=`
`.concat(N," > ").concat(ei(S))}),new Q6(b,y||[])}o(u4,"throwAggregationError");function d4(g,y){return n2(g,function(b){return y?y({value:b,rejected:!1}):b},function(b){return y?y({rejected:!0,reason:b}):b})}o(d4,"doAwaitResponse");function n2(g,y,b,S){var N=g;return G0(g)?(y||b)&&(N=g.then(y,b)):y&&(N=y(g)),S&&eh(N,S),N}o(n2,"doAwait");function eh(g,y){var b=g;return y&&(G0(g)?g.finally?b=g.finally(y):b=g.then(function(S){return y(),S},function(S){throw y(),S}):y()),b}o(eh,"doFinally");var i2=["pending","resolving","resolved","rejected"],f5="dispatchEvent",Z1;function Sx(g,y,b,S){var N=qc();!Z1&&(Z1=qd(function(){var _e;return N&&N.createEvent&&(_e=N.createEvent("Event")),!!_e&&_e.initEvent},null));var $=Z1.v?N.createEvent("Event"):S?new Event(y):{};if(b&&b($),Z1.v&&$.initEvent(y,!1,!0),$&&g[f5])g[f5]($);else{var K=g["on"+y];if(K)K($);else{var oe=na("console");oe&&(oe.error||oe.log)(y,ei($))}}}o(Sx,"emitEvent");var h4="Promise",Q7="unhandledRejection",Ix=Q7.toLowerCase(),eg=10,g4;function s2(g){return v0(g)?g.toString():ei(g)}o(s2,"dumpFnObj");function wx(g,y,b){var S=F6(arguments,3),N=0,$=!1,K,oe=[],_e=!1,Ie=null,Ze;!g4&&(g4=R6(h4+"RejectionEvent"));var x0=o(function(P0,W0){try{_e=!0,Ie&&Ie.cancel(),Ie=null;var zr=g(function(Yi,Ls){oe.push(function(){try{var Cs=N===2?P0:W0,wa=f0(Cs)?K:v0(Cs)?Cs(K):Cs;G0(wa)?wa.then(Yi,Ls):Cs?Yi(wa):N===3?Ls(wa):Yi(wa)}catch(oa){Ls(oa)}}),$&&M0()},S);return zr}finally{}},"_then"),S0=o(function(P0){return x0(void 0,P0)},"_catch"),_0=o(function(P0){var W0=P0,zr=P0;return v0(P0)&&(W0=o(function(Yi){return P0&&P0(),Yi},"thenFinally"),zr=o(function(Yi){throw P0&&P0(),Yi},"catchFinally")),x0(W0,zr)},"_finally"),h0=o(function(){return i2[N]},"_strState"),M0=o(function(){if(oe.length>0){var P0=oe.slice();oe=[],_e=!0,y(P0),Ie&&Ie.cancel(),Ie=null}},"_processQueue"),w0=o(function(P0,W0){return function(zr){if(N===W0){if(P0===2&&G0(zr)){N=1,zr.then(w0(2,1),w0(3,1));return}N=P0,$=!0,K=zr,M0(),!_e&&P0===3&&!Ie&&(Ie=If(H0,eg))}}},"_createSettleIfFn"),H0=o(function(){if(!_e)if(px())process.emit(Q7,K,Ze);else{var P0=o1()||ef();Sx(P0,Ix,function(W0){return ks(W0,"promise",{g:function(){return Ze}}),W0.reason=K,W0},!!g4.v)}},"_notifyUnhandledRejection");Ze={then:x0,catch:S0,finally:_0},q1(Ze,"state",{get:h0}),D6()&&(Ze[S3(11)]="IPromise");var F0=o(function(){return"IPromise "+h0()+($?" - "+s2(K):"")},"_toString");return Ze.toString=F0,o(function(){v0(b)||Zs(h4+": executor is not a function - "+s2(b));var W0=w0(3,0);try{b.call(Ze,w0(2,0),W0)}catch(zr){W0(zr)}},"_initialize")(),Ze}o(wx,"_createPromise");function Ax(g){return function(y){var b=F6(arguments,1);return g(function(S,N){try{var $=[],K=1;$r(y,function(oe,_e){oe&&(K++,n2(oe,function(Ie){$[_e]=Ie,--K===0&&S($)},N))}),K--,K===0&&S($)}catch(oe){N(oe)}},b)}}o(Ax,"_createAllPromise");var c5=o(function(g){$r(g,function(y){try{y()}catch{}})},"_processPendingItems");function tg(g){var y=Ke(g)?g:0;return function(b){If(function(){c5(b)},y)}}o(tg,"timeoutItemProcessor");function rg(g,y){return wx(rg,tg(y),g,y)}o(rg,"createAsyncPromise");var th;function Px(g,y){!th&&(th=R6(h4));var b=th.v;if(!b)return rg(g);v0(g)||Zs(h4+": executor is not a function - "+ei(g));var S=0;function N(){return i2[S]}o(N,"_strState");var $=new b(function(K,oe){function _e(Ze){S=2,K(Ze)}o(_e,"_resolve");function Ie(Ze){S=3,oe(Ze)}o(Ie,"_reject"),g(_e,Ie)});return q1($,"state",{get:N}),$}o(Px,"createNativePromise");var rh;function u5(g,y){return!rh&&(rh=Cl(function(){return Px})),rh.v.call(this,g,y)}o(u5,"createPromise");var ng=Ax(u5),Ml=void 0,Pi="",Jc="channels",js="core",nh="createPerfMgr",Ua="disabled",Xc="extensionConfig",d5="extensions",Ul="processTelemetry",h5="priority",Zc="eventsSent",Q1="eventsDiscarded",o2="eventsSendRequest",qa="perfEvent",a2="getPerfMgr",m4="domain",ih="path",sh="Not dynamic - ",oh=/-([a-z])/g,ah=/([^\w\d_$])/g,ig=/^(\d+[\w\d_$])/;function lh(g){return!ce(g)}o(lh,"isNotNullOrUndefined");function fh(g){var y=g;return y&&O0(y)&&(y=y[Yc](oh,function(b,S){return S.toUpperCase()}),y=y[Yc](ah,"_"),y=y[Yc](ig,function(b,S){return"_"+S})),y}o(fh,"normalizeJsName");function ba(g,y){return g&&y?Yu(g,y)!==-1:!1}o(ba,"strContains");function l2(g){return g&&g.toISOString()||""}o(l2,"toISOString");function $a(g){return B0(g)?g[J1]:Pi}o($a,"getExceptionName");function ec(g,y,b,S,N){var $=b;return g&&($=g[y],$!==b&&(!N||N($))&&(!S||S(b))&&($=b,g[y]=$)),$}o(ec,"setValue");function sg(g,y,b){var S;return g?(S=g[y],!S&&ce(S)&&(S=f0(b)?{}:b,g[y]=S)):S=f0(b)?{}:b,S}o(sg,"getSetValue");function og(g,y){var b=null,S=null;return v0(g)?b=g:S=g,function(){var N=arguments;if(b&&(S=b()),S)return S[y][t5](S,N)}}o(og,"_createProxyFunction");function g5(g,y,b,S,N){g&&y&&b&&(N!==!1||f0(g[y]))&&(g[y]=og(b,S))}o(g5,"proxyFunctionAs");function ch(g,y,b,S){return g&&y&&fr(g)&&ue(b)&&$r(b,function(N){O0(N)&&g5(g,N,y,N,S)}),g}o(ch,"proxyFunctions");function Nx(g){return function(){function y(){var b=this;g&&yr(g,function(S,N){b[S]=N})}return o(y,"class_1"),y}()}o(Nx,"createClassFromInterface");function ag(g){return g&&U1&&(g=V3(U1({},g))),g}o(ag,"optimizeObject");function f2(g,y,b,S,N,$){var K=arguments,oe=K[0]||{},_e=K[vn],Ie=!1,Ze=1;for(_e>0&&L0(oe)&&(Ie=oe,oe=K[Ze]||{},Ze++),fr(oe)||(oe={});Ze<_e;Ze++){var x0=K[Ze],S0=ue(x0),_0=fr(x0);for(var h0 in x0){var M0=S0&&h0 in x0||_0&&le(x0,h0);if(M0){var w0=x0[h0],H0=void 0;if(Ie&&w0&&((H0=ue(w0))||ol(w0))){var F0=oe[h0];H0?ue(F0)||(F0=[]):ol(F0)||(F0={}),w0=f2(Ie,F0,w0)}w0!==void 0&&(oe[h0]=w0)}}}return oe}o(f2,"objExtend");var Rx="documentMode",lg="location",uh="console",dh="JSON",fg="crypto",kx="msCrypto",p4="msie",hh="trident/",cg="XMLHttpRequest",y4=null,gh=null,Bx=!1,m5=null,mh=null;function ug(g,y){var b=!1;if(g){try{if(b=y in g,!b){var S=g[H3];S&&(b=y in S)}}catch{}if(!b)try{var N=new g;b=!f0(N[y])}catch{}}return b}o(ug,"_hasProperty");function ph(g){if(g&&Bx){var y=na("__mockLocation");if(y)return y}return typeof location===j7&&location?location:na(lg)}o(ph,"getLocation");function v4(){return typeof console!==z7?console:na(uh)}o(v4,"getConsole");function El(){return!!(typeof JSON===j7&&JSON||na(dh)!==null)}o(El,"hasJSON");function Nf(){return El()?JSON||na(dh):null}o(Nf,"getJSON");function dg(){return na(fg)}o(dg,"getCrypto");function p5(){return na(kx)}o(p5,"getMsCrypto");function tn(){var g=H1();if(g&&(g[s5]!==gh||y4===null)){gh=g[s5];var y=(gh||Pi)[z3]();y4=ba(y,p4)||ba(y,hh)}return y4}o(tn,"isIE");function y5(g){if(g===void 0&&(g=null),!g){var y=H1()||{};g=y?(y.userAgent||Pi)[z3]():Pi}var b=(g||Pi)[z3]();if(ba(b,p4)){var S=qc()||{};return Math.max(parseInt(b[o5](p4)[1]),S[Rx]||0)}else if(ba(b,hh)){var N=parseInt(b[o5](hh)[1]);if(N)return N+4}return null}o(y5,"getIEVersion");function Rf(g){return(mh===null||g===!1)&&(mh=mx()&&!!H1().sendBeacon),mh}o(Rf,"isBeaconsSupported");function Qc(g){var y=!1;try{y=!!na("fetch");var b=na("Request");y&&g&&b&&(y=ug(b,"keepalive"))}catch{}return y}o(Qc,"isFetchSupported");function c2(){return m5===null&&(m5=typeof XDomainRequest!==z7,m5&&x4()&&(m5=m5&&!ug(na(cg),"withCredentials"))),m5}o(c2,"useXDomainRequest");function x4(){var g=!1;try{var y=na(cg);g=!!y}catch{}return g}o(x4,"isXhrSupported");var ql=4294967296,cl=4294967295,eu=123456789,_4=987654321,b4=!1,tu=eu,v5=_4;function yh(g){g<0&&(g>>>=0),tu=eu+g&cl,v5=_4-g&cl,b4=!0}o(yh,"_mwcSeed");function vh(){try{var g=j1()&2147483647;yh((Math.random()*ql^g)+g)}catch{}}o(vh,"_autoSeedMwc");function u2(g){var y=0,b=dg()||p5();return b&&b.getRandomValues&&(y=b.getRandomValues(new Uint32Array(1))[0]&cl),y===0&&tn()&&(b4||vh(),y=C4()&cl),y===0&&(y=Math.floor(ql*Math.random()|0)),g||(y>>>=0),y}o(u2,"random32");function C4(g){v5=36969*(v5&65535)+(v5>>16)&cl,tu=18e3*(tu&65535)+(tu>>16)&cl;var y=(v5<<16)+(tu&65535)>>>0&cl|0;return g||(y>>>=0),y}o(C4,"mwcRandom32");function hg(g){g===void 0&&(g=22);for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=u2()>>>0,S=0,N=Pi;N[vn]<g;)S++,N+=y.charAt(b&63),b>>>=6,S===5&&(b=(u2()<<2&4294967295|b&3)>>>0,S=0);return N}o(hg,"newId");var d2="3.0.5",x5="."+hg(6),af=0;function lf(g){return g[t2]===1||g[t2]===9||!+g[t2]}o(lf,"_canAcceptData");function g1(g,y){var b=y[g.id];if(!b){b={};try{lf(y)&&ks(y,g.id,{e:!1,v:b})}catch{}}return b}o(g1,"_getCache");function $l(g,y){return y===void 0&&(y=!1),fh(g+af+++(y?"."+d2:Pi)+x5)}o($l,"createUniqueNamespace");function kf(g){var y={id:$l("_aiData-"+(g||Pi)+"."+d2),accept:function(b){return lf(b)},get:function(b,S,N,$){var K=b[y.id];return K?K[fh(S)]:($&&(K=g1(y,b),K[fh(S)]=N),N)},kill:function(b,S){if(b&&b[S])try{delete b[S]}catch{}}};return y}o(kf,"createElmNodeData");function tc(g){return g&&fr(g)&&(g.isVal||g.fb||le(g,"v")||le(g,"mrg")||le(g,"ref")||g.set)}o(tc,"_isConfigDefaults");function E4(g,y,b){var S,N=b.dfVal||C0;if(y&&b.fb){var $=b.fb;ue($)||($=[$]);for(var K=0;K<$[vn];K++){var oe=$[K],_e=y[oe];if(N(_e)?S=_e:g&&(_e=g.cfg[oe],N(_e)&&(S=_e),g.set(g.cfg,ws(oe),_e)),N(S))break}}return!N(S)&&N(b.v)&&(S=b.v),S}o(E4,"_getDefault");function h2(g,y,b){var S=b;if(b&&tc(b)&&(S=E4(g,y,b)),S){tc(S)&&(S=h2(g,y,S));var N;ue(S)?(N=[],N[vn]=S[vn]):ol(S)&&(N={}),N&&(yr(S,function($,K){K&&tc(K)&&(K=h2(g,y,K)),N[$]=K}),S=N)}return S}o(h2,"_resolveDefaultValue");function T4(g,y,b,S){var N,$,K,oe=S,_e,Ie,Ze,x0;tc(oe)?(N=oe.isVal,$=oe.set,Ze=oe[s4],x0=oe[G3],_e=oe.mrg,Ie=oe.ref,!Ie&&f0(Ie)&&(Ie=!!_e),K=E4(g,y,oe)):K=S,x0&&g[G3](y,b);var S0,_0=!0,h0=y[b];(h0||!ce(h0))&&(S0=h0,_0=!1,N&&S0!==K&&!N(S0)&&(S0=K,_0=!0),$&&(S0=$(S0,K,y),_0=S0===K)),_0?K?S0=h2(g,y,K):S0=K:(ol(S0)||ue(K))&&_e&&K&&(ol(K)||ue(K))&&yr(K,function(M0,w0){T4(g,S0,M0,w0)}),g.set(y,b,S0),Ie&&g.ref(y,b),Ze&&g[s4](y,b)}o(T4,"_applyDefaultValue");var Tl=Gu("[[ai_dynCfg_1]]"),rc=Gu("[[ai_blkDynCfg_1]]"),S4=Gu("[[ai_frcDynCfg_1]]");function g2(g){if(g){var y;if(ue(g)?(y=[],y[vn]=g[vn]):ol(g)&&(y={}),y)return yr(g,function(b,S){y[b]=g2(S)}),y}return g}o(g2,"_cfgDeepCopy");function _5(g){if(g){var y=g[Tl]||g;if(y.cfg&&(y.cfg===g||y.cfg[Tl]===y))return y}return null}o(_5,"getDynamicConfigHandler");function m2(g){if(g&&(ol(g)||ue(g)))try{g[rc]=!0}catch{}return g}o(m2,"blockDynamicConversion");function b5(g,y,b){var S=!1;return b&&!g[y.blkVal]&&(S=b[S4],!S&&!b[rc]&&(S=ol(b)||ue(b))),S}o(b5,"_canMakeDynamic");function xh(g){Zs("InvalidAccess:"+g)}o(xh,"throwInvalidAccess");var _h=["push","pop","shift","unshift","splice"],C5=o(function(g,y,b,S){g&&g[W3](3,108,"".concat(b," [").concat(y,"] failed - ")+ei(S))},"_throwDynamicError");function Ca(g,y,b){ue(y)&&$r(_h,function(S){var N=y[S];y[S]=function(){for(var $=[],K=0;K<arguments.length;K++)$[K]=arguments[K];var oe=N[t5](this,$);return ff(g,y,b,"Patching"),oe}})}o(Ca,"_patchArray");function ru(g,y){var b=en(g,y);return b&&b.get}o(ru,"_getOwnPropGetter");function bh(g,y,b,S){var N={n:b,h:[],trk:function(Ie){Ie&&Ie.fn&&(Ll(N.h,Ie)===-1&&N.h[Ji](Ie),g.trk(Ie,N))},clr:function(Ie){var Ze=Ll(N.h,Ie);Ze!==-1&&N.h[zc](Ze,1)}},$=!0,K=!1;function oe(){$&&(K=K||b5(oe,g,S),S&&!S[Tl]&&K&&(S=ff(g,S,b,"Converting")),$=!1);var Ie=g.act;return Ie&&N.trk(Ie),S}o(oe,"_getProperty"),oe[g.prop]={chng:function(){g.add(N)}};function _e(Ie){if(S!==Ie){oe[g.ro]&&!g.upd&&xh("["+b+"] is read-only:"+ei(y)),$&&(K=K||b5(oe,g,S),$=!1);var Ze=K&&oe[g.rf];if(K)if(Ze){yr(S,function(S0){S[S0]=Ie?Ie[S0]:Ml});try{yr(Ie,function(S0,_0){p2(g,S,S0,_0)}),Ie=S}catch(S0){C5((g.hdlr||{})[Vs],b,"Assigning",S0),K=!1}}else S&&S[Tl]&&yr(S,function(S0){var _0=ru(S,S0);if(_0){var h0=_0[g.prop];h0&&h0.chng()}});if(Ie!==S){var x0=Ie&&b5(oe,g,Ie);!Ze&&x0&&(Ie=ff(g,Ie,b,"Converting")),S=Ie,K=x0}g.add(N)}}o(_e,"_setProperty"),ks(y,N.n,{g:oe,s:_e})}o(bh,"_createDynamicProperty");function p2(g,y,b,S){if(y){var N=ru(y,b),$=N&&!!N[g.prop];$?y[b]=S:bh(g,y,b,S)}return y}o(p2,"_setDynamicProperty");function Bf(g,y,b,S){if(y){var N=ru(y,b),$=N&&!!N[g.prop],K=S&&S[0],oe=S&&S[1],_e=S&&S[2];if(!$){if(_e)try{m2(y)}catch(Ie){C5((g.hdlr||{})[Vs],b,"Blocking",Ie)}try{p2(g,y,b,y[b]),N=ru(y,b)}catch(Ie){C5((g.hdlr||{})[Vs],b,"State",Ie)}}K&&(N[g.rf]=K),oe&&(N[g.ro]=oe),_e&&(N[g.blkVal]=!0)}return y}o(Bf,"_setDynamicPropertyState");function ff(g,y,b,S){try{yr(y,function(N,$){p2(g,y,N,$)}),y[Tl]||(q1(y,Tl,{get:function(){return g[W7]}}),Ca(g,y,b))}catch(N){C5((g.hdlr||{})[Vs],b,S,N)}return y}o(ff,"_makeDynamicObject");var E5="[[ai_",nu="]]";function gg(g){var y,b=Tf(E5+"get"+g.uid+nu),S=Tf(E5+"ro"+g.uid+nu),N=Tf(E5+"rf"+g.uid+nu),$=Tf(E5+"blkVal"+g.uid+nu),K=Tf(E5+"dtl"+g.uid+nu),oe=null,_e=null,Ie;function Ze(h0,M0){var w0=Ie.act;try{Ie.act=h0,h0&&h0[K]&&($r(h0[K],function(F0){F0.clr(h0)}),h0[K]=[]),M0({cfg:g.cfg,set:g.set.bind(g),setDf:g[e5].bind(g),ref:g.ref.bind(g),rdOnly:g[s4].bind(g)})}catch(F0){var H0=g[Vs];throw H0&&H0[W3](1,107,ei(F0)),F0}finally{Ie.act=w0||null}}o(Ze,"_useHandler");function x0(){if(oe){var h0=oe;oe=null,_e&&_e[Gc](),_e=null;var M0=[];if($r(h0,function(w0){if(w0&&(w0[K]&&($r(w0[K],function(H0){H0.clr(w0)}),w0[K]=null),w0.fn))try{Ze(w0,w0.fn)}catch(H0){M0[Ji](H0)}}),oe)try{x0()}catch(w0){M0[Ji](w0)}M0[vn]>0&&u4("Watcher error(s): ",M0)}}o(x0,"_notifyWatchers");function S0(h0){if(h0&&h0.h[vn]>0){oe||(oe=[]),_e||(_e=If(function(){_e=null,x0()},0));for(var M0=0;M0<h0.h[vn];M0++){var w0=h0.h[M0];w0&&Ll(oe,w0)===-1&&oe[Ji](w0)}}}o(S0,"_addWatcher");function _0(h0,M0){if(h0){var w0=h0[K]=h0[K]||[];Ll(w0,M0)===-1&&w0[Ji](M0)}}return o(_0,"_trackHandler"),Ie=(y={prop:b,ro:S,rf:N},y[G3]=$,y[W7]=g,y.add=S0,y[o4]=x0,y.use=Ze,y.trk=_0,y),Ie}o(gg,"_createState");function mg(g,y){var b={fn:y,rm:function(){b.fn=null,g=null,y=null}};return g.use(b,y),b}o(mg,"_createAndUseHandler");function pg(g,y,b){var S,N=_5(y);if(N)return N;var $=$l("dyncfg",!0),K=y&&b!==!1?y:g2(y),oe;function _e(){oe[o4]()}o(_e,"_notifyWatchers");function Ie(H0,F0,P0){try{H0=p2(oe,H0,F0,P0)}catch(W0){C5(g,F0,"Setting value",W0)}return H0[F0]}o(Ie,"_setValue");function Ze(H0){return mg(oe,H0)}o(Ze,"_watch");function x0(H0,F0){oe.use(null,function(P0){var W0=oe.upd;try{f0(F0)||(oe.upd=F0),H0(P0)}finally{oe.upd=W0}})}o(x0,"_block");function S0(H0,F0){var P0;return Bf(oe,H0,F0,(P0={},P0[0]=!0,P0))[F0]}o(S0,"_ref");function _0(H0,F0){var P0;return Bf(oe,H0,F0,(P0={},P0[1]=!0,P0))[F0]}o(_0,"_rdOnly");function h0(H0,F0){var P0;return Bf(oe,H0,F0,(P0={},P0[2]=!0,P0))[F0]}o(h0,"_blkPropValue");function M0(H0,F0){return F0&&yr(F0,function(P0,W0){T4(w0,H0,P0,W0)}),H0}o(M0,"_applyDefaults");var w0=(S={uid:null,cfg:K},S[Vs]=g,S[o4]=_e,S.set=Ie,S[e5]=M0,S[u1]=Ze,S.ref=S0,S[s4]=_0,S[G3]=h0,S._block=x0,S);return ks(w0,"uid",{c:!1,e:!1,w:!1,v:$}),oe=gg(w0),ff(oe,K,"config","Creating"),w0}o(pg,"_createDynamicHandler");function Dx(g,y){g?(g[K3](y),g[W3](2,108,y)):xh(y)}o(Dx,"_logInvalidAccess");function Ea(g,y,b,S){var N=pg(b,g||{},S);return y&&N[e5](N.cfg,y),N}o(Ea,"createDynamicConfig");function T5(g,y,b){var S=g[Tl]||g;return S.cfg&&(S.cfg===g||S.cfg[Tl]===S)?S[u1](y):(Dx(b,sh+ei(g)),Ea(g,null,b)[u1](y))}o(T5,"onConfigChange");function S5(g,y){if(g&&g[Ol])return g[Ol](y)}o(S5,"runTargetUnload");function yg(g,y,b){var S;return b||(S=u5(function(N){b=N})),g&&l1(g)>0?d4(S5(g[0],y),function(){yg(F6(g,1),y,b)}):b(),S}o(yg,"doUnloadAll");var vg=500;function Ch(g,y,b){return!g&&ce(g)?y:L0(g)?g:ws(g)[z3]()==="true"}o(Ch,"_stringToBoolOrDefault");function Lx(g){return{mrg:!0,v:g}}o(Lx,"cfgDfMerge");function y2(g,y,b){return{fb:b,isVal:g,v:y}}o(y2,"cfgDfValidate");function Df(g,y){return{fb:y,set:Ch,v:!!g}}o(Df,"cfgDfBoolean");var Eh=[Zc,Q1,o2,qa],I4=null,w4;function Fx(g,y){return function(){var b=arguments,S=_g(y);if(S){var N=S.listener;N&&N[g]&&N[g][t5](N,b)}}}o(Fx,"_listenerProxyFunc");function xg(){var g=na("Microsoft");return g&&(I4=g.ApplicationInsights),I4}o(xg,"_getExtensionNamespace");function _g(g){var y=I4;return!y&&g.disableDbgExt!==!0&&(y=I4||xg()),y?y.ChromeDbgExt:null}o(_g,"getDebugExt");function Ox(g){if(!w4){w4={};for(var y=0;y<Eh[vn];y++)w4[Eh[y]]=Fx(Eh[y],g)}return w4}o(Ox,"getDebugListener");var I5,bg="warnToConsole",v2="AI (Internal): ",Mx="AI: ",Ux="AITR_",nc={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},ic=(I5={},I5[0]=null,I5[1]="errorToConsole",I5[2]=bg,I5[3]="debugToConsole",I5);function Th(g){return g?'"'+g[Yc](/\"/g,Pi)+'"':Pi}o(Th,"_sanitizeDiagnosticText");function x2(g,y){var b=v4();if(b){var S="log";b[g]&&(S=g),v0(b[S])&&b[S](y)}}o(x2,"_logToConsole");var w5=function(){function g(y,b,S,N){S===void 0&&(S=!1);var $=this;$[l4]=y,$[Wc]=(S?Mx:v2)+y;var K=Pi;El()&&(K=Nf().stringify(N));var oe=(b?" message:"+Th(b):Pi)+(N?" props:"+Th(K):Pi);$[Wc]+=oe}return o(g,"_InternalLogMessage"),g.dataType="MessageData",g}();function _2(g,y){return(g||{})[Vs]||new A4(y)}o(_2,"safeGetLogger");var A4=function(){function g(y){this.identifier="DiagnosticLogger",this.queue=[];var b=0,S={},N,$,K,oe,_e;ll(g,this,function(Ie){_e=x0(y||{}),Ie.consoleLoggingLevel=function(){return N},Ie[W3]=function(h0,M0,w0,H0,F0){F0===void 0&&(F0=!1);var P0=new w5(M0,w0,F0,H0);if(oe)throw ei(P0);var W0=ic[h0]||bg;if(f0(P0[Wc]))_0("throw"+(h0===1?"Critical":"Warning"),P0);else{if(F0){var zr=+P0[l4];!S[zr]&&N>=h0&&(Ie[W0](P0[Wc]),S[zr]=!0)}else N>=h0&&Ie[W0](P0[Wc]);Ze(h0,P0)}},Ie.debugToConsole=function(h0){x2("debug",h0),_0("warning",h0)},Ie[K3]=function(h0){x2("warn",h0),_0("warning",h0)},Ie.errorToConsole=function(h0){x2("error",h0),_0("error",h0)},Ie.resetInternalMessageCount=function(){b=0,S={}},Ie[X1]=Ze,Ie[Ol]=function(h0){_e&&_e.rm(),_e=null};function Ze(h0,M0){if(!S0()){var w0=!0,H0=Ux+M0[l4];if(S[H0]?w0=!1:S[H0]=!0,w0&&(h0<=$&&(Ie.queue[Ji](M0),b++,_0(h0===1?"error":"warn",M0)),b===K)){var F0="Internal events throttle limit per PageView reached for this app.",P0=new w5(23,F0,!1);Ie.queue[Ji](P0),h0===1?Ie.errorToConsole(F0):Ie[K3](F0)}}}o(Ze,"_logInternalMessage");function x0(h0){return T5(Ea(h0,nc,Ie).cfg,function(M0){var w0=M0.cfg;N=w0[X7],$=w0.loggingLevelTelemetry,K=w0.maxMessageLimit,oe=w0.enableDebug})}o(x0,"_setDefaultsFromConfig");function S0(){return b>=K}o(S0,"_areInternalMessagesThrottled");function _0(h0,M0){var w0=_g(y||{});w0&&w0[h1]&&w0[h1](h0,M0)}o(_0,"_debugExtMsg")})}return o(g,"DiagnosticLogger"),g.__ieDyn=1,g}();function Cg(g){return g||new A4}o(Cg,"_getLogger");function Tr(g,y,b,S,N,$){$===void 0&&($=!1),Cg(g)[W3](y,b,S,N,$)}o(Tr,"_throwInternal");function A5(g,y){Cg(g)[K3](y)}o(A5,"_warnToConsole");var P4,sc,Eg="toGMTString",b2="toUTCString",Sh="cookie",Ih="expires",Tg="isCookieUseDisabled",wh="disableCookiesUsage",Sg="_ckMgr",N4=null,Ah=null,Ig=null,cf,wg={},Ag={},qx=(P4={cookieCfg:Lx((sc={},sc[m4]={fb:"cookieDomain",dfVal:lh},sc.path={fb:"cookiePath",dfVal:lh},sc.enabled=Ml,sc.ignoreCookies=Ml,sc.blockedCookies=Ml,sc)),cookieDomain:Ml,cookiePath:Ml},P4[wh]=Ml,P4);function Ph(){!cf&&(cf=Cl(function(){return qc()}))}o(Ph,"_getDoc");function m1(g){return g?g.isEnabled():!0}o(m1,"_isMgrEnabled");function Ha(g,y){return y&&g&&ue(g.ignoreCookies)?Ll(g.ignoreCookies,y)!==-1:!1}o(Ha,"_isIgnoredCookie");function Nh(g,y){return y&&g&&ue(g.blockedCookies)&&Ll(g.blockedCookies,y)!==-1?!0:Ha(g,y)}o(Nh,"_isBlockedCookie");function Rh(g,y){var b=y[Kc];if(ce(b)){var S=void 0;f0(g[Tg])||(S=!g[Tg]),f0(g[wh])||(S=!g[wh]),b=S}return b}o(Rh,"_isCfgEnabled");function kh(g,y){var b,S,N,$,K,oe,_e,Ie,Ze;g=Ea(g||Ag,null,y).cfg,K=T5(g,function(S0){S0[e5](S0.cfg,qx),S=S0.ref(S0.cfg,"cookieCfg"),N=S[ih]||"/",$=S[m4],oe=Rh(g,S)!==!1,_e=S.getCookie||$x,Ie=S.setCookie||Lh,Ze=S.delCookie||Lh},y);var x0=(b={isEnabled:function(){var S0=Rh(g,S)!==!1&&oe&&Bh(y),_0=Ag[Sg];return S0&&_0&&x0!==_0&&(S0=m1(_0)),S0},setEnabled:function(S0){oe=S0!==!1,S[Kc]=S0},set:function(S0,_0,h0,M0,w0){var H0=!1;if(m1(x0)&&!Nh(S,S0)){var F0={},P0=Go(_0||Pi),W0=Yu(P0,";");if(W0!==-1&&(P0=Go(Lc(_0,W0)),F0=R4(zi(_0,W0+1))),ec(F0,m4,M0||$,br,f0),!ce(h0)){var zr=tn();if(f0(F0[Ih])){var Yi=j1(),Ls=Yi+h0*1e3;if(Ls>0){var Cs=new Date;Cs.setTime(Ls),ec(F0,Ih,Dh(Cs,zr?Eg:b2)||Dh(Cs,zr?Eg:b2)||Pi,br)}}zr||ec(F0,"max-age",Pi+h0,null,f0)}var wa=ph();wa&&wa.protocol==="https:"&&(ec(F0,"secure",null,null,f0),Ah===null&&(Ah=!iu((H1()||{})[s5])),Ah&&ec(F0,"SameSite","None",null,f0)),ec(F0,ih,w0||N,null,f0),Ie(S0,Pg(P0,F0)),H0=!0}return H0},get:function(S0){var _0=Pi;return m1(x0)&&!Ha(S,S0)&&(_0=_e(S0)),_0},del:function(S0,_0){var h0=!1;return m1(x0)&&(h0=x0.purge(S0,_0)),h0},purge:function(S0,_0){var h0,M0=!1;if(Bh(y)){var w0=(h0={},h0[ih]=_0||"/",h0[Ih]="Thu, 01 Jan 1970 00:00:01 GMT",h0);tn()||(w0["max-age"]="0"),Ze(S0,Pg(Pi,w0)),M0=!0}return M0}},b[Ol]=function(S0){K&&K.rm(),K=null},b);return x0[Sg]=x0,x0}o(kh,"createCookieMgr");function Bh(g){if(N4===null){N4=!1,!cf&&Ph();try{var y=cf.v||{};N4=y[Sh]!==void 0}catch(b){Tr(g,2,68,"Cannot access document.cookie - "+$a(b),{exception:ei(b)})}}return N4}o(Bh,"areCookiesSupported");function R4(g){var y={};if(g&&g[vn]){var b=Go(g)[o5](";");$r(b,function(S){if(S=Go(S||Pi),S){var N=Yu(S,"=");N===-1?y[S]=null:y[Go(Lc(S,N))]=Go(zi(S,N+1))}})}return y}o(R4,"_extractParts");function Dh(g,y){return v0(g[y])?g[y]():null}o(Dh,"_formatDate");function Pg(g,y){var b=g||Pi;return yr(y,function(S,N){b+="; "+S+(ce(N)?Pi:"="+N)}),b}o(Pg,"_formatCookieValue");function $x(g){var y=Pi;if(!cf&&Ph(),cf.v){var b=cf.v[Sh]||Pi;Ig!==b&&(wg=R4(b),Ig=b),y=Go(wg[g]||Pi)}return y}o($x,"_getCookieValue");function Lh(g,y){!cf&&Ph(),cf.v&&(cf.v[Sh]=g+"="+y)}o(Lh,"_setCookieValue");function iu(g){return O0(g)?!!(ba(g,"CPU iPhone OS 12")||ba(g,"iPad; CPU OS 12")||ba(g,"Macintosh; Intel Mac OS X 10_14")&&ba(g,"Version/")&&ba(g,"Safari")||ba(g,"Macintosh; Intel Mac OS X 10_14")&&Gd(g,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||ba(g,"Chrome/5")||ba(g,"Chrome/6")||ba(g,"UnrealEngine")&&!ba(g,"Chrome")||ba(g,"UCBrowser/12")||ba(g,"UCBrowser/11")):!1}o(iu,"uaDisallowsSameSiteNone");var Hx={perfEvtsSendAll:!1};function P5(g,y,b,S){$r(g,function(N){if(N&&N[y])if(b)If(function(){return S(N)},0);else try{S(N)}catch{}})}o(P5,"_runListeners");var Vx=function(){function g(y){this.listeners=[];var b,S,N=[],$=Ea(y,Hx);S=$[u1](function(K){b=!!K.cfg.perfEvtsSendAll}),ll(g,this,function(K){ks(K,"listeners",{g:function(){return N}}),K[X3]=function(oe){N[Ji](oe)},K[Z3]=function(oe){for(var _e=Ll(N,oe);_e>-1;)N[zc](_e,1),_e=Ll(N,oe)},K[Zc]=function(oe){P5(N,Zc,!0,function(_e){_e[Zc](oe)})},K[Q1]=function(oe,_e){P5(N,Q1,!0,function(Ie){Ie[Q1](oe,_e)})},K[o2]=function(oe,_e){P5(N,o2,_e,function(Ie){Ie[o2](oe,_e)})},K[qa]=function(oe){oe&&(b||!oe[c4]())&&P5(N,qa,!1,function(_e){oe[i5]?If(function(){return _e[qa](oe)},0):_e[qa](oe)})},K[Ol]=function(oe){var _e=o(function(){S&&S.rm(),S=null,N=[]},"_finishUnload"),Ie;if(P5(N,"unload",!1,function(Ze){var x0=Ze[Ol](oe);x0&&(Ie||(Ie=[]),Ie[Ji](x0))}),Ie)return u5(function(Ze){return d4(ng(Ie),function(){_e(),Ze()})});_e()}})}return o(g,"NotificationManager"),g.__ieDyn=1,g}(),N5="ctx",R5="ParentContextKey",su="ChildrenContextKey",jx=null,C2=function(){function g(y,b,S){var N=this;if(N.start=j1(),N[J1]=y,N[i5]=S,N[c4]=function(){return!1},v0(b)){var $;ks(N,"payload",{g:function(){return!$&&v0(b)&&($=b(),b=null),$}})}N[a5]=function(K){return K?K===g[R5]||K===g[su]?N[K]:(N[N5]||{})[K]:null},N[Pf]=function(K,oe){if(K)if(K===g[R5])N[K]||(N[c4]=function(){return!0}),N[K]=oe;else if(K===g[su])N[K]=oe;else{var _e=N[N5]=N[N5]||{};_e[K]=oe}},N[r2]=function(){var K=0,oe=N[a5](g[su]);if(ue(oe))for(var _e=0;_e<oe[vn];_e++){var Ie=oe[_e];Ie&&(K+=Ie[r5])}N[r5]=j1()-N.start,N.exTime=N[r5]-K,N[r2]=function(){}}}return o(g,"PerfEvent"),g.ParentContextKey="parent",g.ChildrenContextKey="childEvts",g}(),Fh=function(){function g(y){this.ctx={},ll(g,this,function(b){b.create=function(S,N,$){return new C2(S,N,$)},b.fire=function(S){S&&(S[r2](),y&&v0(y[qa])&&y[qa](S))},b[Pf]=function(S,N){if(S){var $=b[N5]=b[N5]||{};$[S]=N}},b[a5]=function(S){return(b[N5]||{})[S]}})}return o(g,"PerfManager"),g.__ieDyn=1,g}(),Oh="CoreUtils.doPerf";function Ng(g,y,b,S,N){if(g){var $=g;if($[a2]&&($=$[a2]()),$){var K=void 0,oe=$[a5](Oh);try{if(K=$.create(y(),S,N),K){if(oe&&K[Pf]&&(K[Pf](C2[R5],oe),oe[a5]&&oe[Pf])){var _e=oe[a5](C2[su]);_e||(_e=[],oe[Pf](C2[su],_e)),_e[Ji](K)}return $[Pf](Oh,K),b(K)}}catch(Ie){K&&K[Pf]&&K[Pf]("exception",Ie)}finally{K&&$.fire(K),$[Pf](Oh,oe)}}}return b()}o(Ng,"doPerf");function E2(){return jx}o(E2,"getGblPerfMgr");var zx="00000000000000000000000000000000",Mh="0000000000000000";function Rg(g,y,b){return g&&g[vn]===y&&g!==b?!!g.match(/^[\da-f]*$/i):!1}o(Rg,"_isValid");function Gx(g){return Rg(g,32,zx)}o(Gx,"isValidTraceId");function Kx(g){return Rg(g,16,Mh)}o(Kx,"isValidSpanId");var Wx=kf("plugin");function ou(g){return Wx.get(g,"state",{},!0)}o(ou,"_getPluginState");function kg(g,y){for(var b=[],S=null,N=g[fl](),$;N;){var K=N[J3]();if(K){S&&S[e2]&&K[Ul]&&S[e2](K),$=ou(K);var oe=!!$[wf];K[wf]&&(oe=K[wf]()),oe||b[Ji](K),S=K,N=N[fl]()}}$r(b,function(_e){var Ie=g[js]();_e[Y3](g.getCfg(),Ie,y,g[fl]()),$=ou(_e),!_e[js]&&!$[js]&&($[js]=Ie),$[wf]=!0,delete $[d1]})}o(kg,"initializePlugins");function Uh(g){return g.sort(function(y,b){var S=0;if(b){var N=b[Ul];y[Ul]?S=N?y[h5]-b[h5]:1:N&&(S=-1)}else S=y?1:-1;return S})}o(Uh,"sortPlugins");function Yx(g){var y={};return{getName:function(){return y[J1]},setName:function(b){g&&g.setName(b),y[J1]=b},getTraceId:function(){return y[Z6]},setTraceId:function(b){g&&g.setTraceId(b),Gx(b)&&(y[Z6]=b)},getSpanId:function(){return y[Z7]},setSpanId:function(b){g&&g.setSpanId(b),Kx(b)&&(y[Z7]=b)},getTraceFlags:function(){return y[l5]},setTraceFlags:function(b){g&&g.setTraceFlags(b),y[l5]=b}}}o(Yx,"createDistributedTraceContext");var Jx="TelemetryPluginChain",p1="_hasRun",k5="_getTelCtx",zs=0;function k4(g,y,b){for(;g;){if(g[J3]()===b)return g;g=g[fl]()}return df([b],y.config||{},y)}o(k4,"_getNextProxyStart");function oc(g,y,b,S){var N=null,$=[];y||(y=Ea({},null,b[Vs])),S!==null&&(N=S?k4(g,b,S):g);var K={_next:_e,ctx:{core:function(){return b},diagLog:function(){return _2(b,y.cfg)},getCfg:function(){return y.cfg},getExtCfg:Ze,getConfig:x0,hasNext:function(){return!!N},getNext:function(){return N},setNext:function(_0){N=_0},iterate:S0,onComplete:oe}};function oe(_0,h0){for(var M0=[],w0=2;w0<arguments.length;w0++)M0[w0-2]=arguments[w0];_0&&$[Ji]({func:_0,self:f0(h0)?K.ctx:h0,args:M0})}o(oe,"_addOnComplete");function _e(){var _0=N;if(N=_0?_0[fl]():null,!_0){var h0=$;h0&&h0[vn]>0&&($r(h0,function(M0){try{M0.func.call(M0.self,M0.args)}catch(w0){Tr(b[Vs],2,73,"Unexpected Exception during onComplete - "+ei(w0))}}),$=[])}return _0}o(_e,"_moveNext");function Ie(_0,h0){var M0=null,w0=y.cfg;if(w0&&_0){var H0=w0[Xc];!H0&&h0&&(H0={}),w0[Xc]=H0,H0=y.ref(w0,Xc),H0&&(M0=H0[_0],!M0&&h0&&(M0={}),H0[_0]=M0,M0=y.ref(H0,_0))}return M0}o(Ie,"_getExtCfg");function Ze(_0,h0){var M0=Ie(_0,!0);return h0&&yr(h0,function(w0,H0){if(ce(M0[w0])){var F0=y.cfg[w0];(F0||!ce(F0))&&(M0[w0]=F0)}T4(y,M0,w0,H0)}),y[e5](M0,h0)}o(Ze,"_resolveExtCfg");function x0(_0,h0,M0){M0===void 0&&(M0=!1);var w0,H0=Ie(_0,!1),F0=y.cfg;return H0&&(H0[h0]||!ce(H0[h0]))?w0=H0[h0]:(F0[h0]||!ce(F0[h0]))&&(w0=F0[h0]),w0||!ce(w0)?w0:M0}o(x0,"_getConfig");function S0(_0){for(var h0;h0=K._next();){var M0=h0[J3]();M0&&_0(M0)}}return o(S0,"_iterateChain"),K}o(oc,"_createInternalContext");function ac(g,y,b,S){var N=Ea(y),$=oc(g,N,b,S),K=$.ctx;function oe(Ie){var Ze=$._next();return Ze&&Ze[Ul](Ie,K),!Ze}o(oe,"_processNext");function _e(Ie,Ze){return Ie===void 0&&(Ie=null),ue(Ie)&&(Ie=df(Ie,N.cfg,b,Ze)),ac(Ie||K[fl](),N.cfg,b,Ze)}return o(_e,"_createNew"),K[Ma]=oe,K[of]=_e,K}o(ac,"createProcessTelemetryContext");function uf(g,y,b){var S=Ea(y.config),N=oc(g,S,y,b),$=N.ctx;function K(_e){var Ie=N._next();return Ie&&Ie[Ol]($,_e),!Ie}o(K,"_processNext");function oe(_e,Ie){return _e===void 0&&(_e=null),ue(_e)&&(_e=df(_e,S.cfg,y,Ie)),uf(_e||$[fl](),y,Ie)}return o(oe,"_createNew"),$[Ma]=K,$[of]=oe,$}o(uf,"createProcessTelemetryUnloadContext");function y1(g,y,b){var S=Ea(y.config),N=oc(g,S,y,b),$=N.ctx;function K(_e){return $.iterate(function(Ie){v0(Ie[Q3])&&Ie[Q3]($,_e)})}o(K,"_processNext");function oe(_e,Ie){return _e===void 0&&(_e=null),ue(_e)&&(_e=df(_e,S.cfg,y,Ie)),y1(_e||$[fl](),y,Ie)}return o(oe,"_createNew"),$[Ma]=K,$[of]=oe,$}o(y1,"createProcessTelemetryUpdateContext");function df(g,y,b,S){var N=null,$=!S;if(ue(g)&&g[vn]>0){var K=null;$r(g,function(oe){if(!$&&S===oe&&($=!0),$&&oe&&v0(oe[Ul])){var _e=Bg(oe,y,b);N||(N=_e),K&&K._setNext(_e),K=_e}})}return S&&!N?df([S],y,b):N}o(df,"createTelemetryProxyChain");function Bg(g,y,b){var S=null,N=v0(g[Ul]),$=v0(g[e2]),K;g?K=g[Y1]+"-"+g[h5]+"-"+zs++:K="Unknown-0-"+zs++;var oe={getPlugin:function(){return g},getNext:function(){return S},processTelemetry:Ze,unload:x0,update:S0,_id:K,_setNext:function(_0){S=_0}};function _e(){var _0;return g&&v0(g[k5])&&(_0=g[k5]()),_0||(_0=ac(oe,y,b)),_0}o(_e,"_getTelCtx");function Ie(_0,h0,M0,w0,H0){var F0=!1,P0=g?g[Y1]:Jx,W0=_0[p1];return W0||(W0=_0[p1]={}),_0.setNext(S),g&&Ng(_0[js](),function(){return P0+":"+M0},function(){W0[K]=!0;try{var zr=S?S._id:Pi;zr&&(W0[zr]=!1),F0=h0(_0)}catch(Ls){var Yi=S?W0[S._id]:!0;Yi&&(F0=!0),(!S||!Yi)&&Tr(_0[h1](),1,73,"Plugin ["+P0+"] failed during "+M0+" - "+ei(Ls)+", run flags: "+ei(W0))}},w0,H0),F0}o(Ie,"_processChain");function Ze(_0,h0){h0=h0||_e();function M0(w0){if(!g||!N)return!1;var H0=ou(g);return H0[d1]||H0[Ua]?!1:($&&g[e2](S),g[Ul](_0,w0),!0)}o(M0,"_callProcessTelemetry"),Ie(h0,M0,"processTelemetry",function(){return{item:_0}},!_0.sync)||h0[Ma](_0)}o(Ze,"_processTelemetry");function x0(_0,h0){function M0(){var w0=!1;if(g){var H0=ou(g),F0=g[js]||H0[js];g&&(!F0||F0===_0.core())&&!H0[d1]&&(H0[js]=null,H0[d1]=!0,H0[wf]=!1,g[d1]&&g[d1](_0,h0)===!0&&(w0=!0))}return w0}o(M0,"_callTeardown"),Ie(_0,M0,"unload",function(){},h0[i5])||_0[Ma](h0)}o(x0,"_unloadPlugin");function S0(_0,h0){function M0(){var w0=!1;if(g){var H0=ou(g),F0=g[js]||H0[js];g&&(!F0||F0===_0.core())&&!H0[d1]&&g[Q3]&&g[Q3](_0,h0)===!0&&(w0=!0)}return w0}o(M0,"_callUpdate"),Ie(_0,M0,"update",function(){},!1)||_0[Ma](h0)}return o(S0,"_updatePlugin"),Wi(oe)}o(Bg,"createTelemetryPluginProxy");function qh(){var g=[];function y(S){S&&g[Ji](S)}o(y,"_addHandler");function b(S,N){$r(g,function($){try{$(S,N)}catch(K){Tr(S[h1](),2,73,"Unexpected error calling unload handler - "+ei(K))}}),g=[]}return o(b,"_runHandlers"),{add:y,run:b}}o(qh,"createUnloadHandlerContainer");function Dg(){var g=[];function y(S){var N=g;g=[],$r(N,function($){try{($.rm||$.remove).call($)}catch(K){Tr(S,2,73,"Unloading:"+ei(K))}})}o(y,"_doUnload");function b(S){S&&V1(g,S)}return o(b,"_addHook"),{run:y,add:b}}o(Dg,"createUnloadHookContainer");var $h,lc="getPlugin",Xx=($h={},$h[Xc]={isVal:lh,v:{}},$h),Hh=function(){function g(){var y=this,b,S,N,$,K;Ie(),ll(g,y,function(Ze){Ze[Y3]=function(x0,S0,_0,h0){_e(x0,S0,h0),b=!0},Ze[d1]=function(x0,S0){var _0,h0=Ze[js];if(!h0||x0&&h0!==x0[js]())return;var M0,w0=!1,H0=x0||uf(null,h0,N&&N[lc]?N[lc]():N),F0=S0||(_0={reason:0},_0[i5]=!1,_0);function P0(){w0||(w0=!0,$.run(H0,S0),K.run(H0[h1]()),M0===!0&&H0[Ma](F0),Ie())}return o(P0,"_unloadCallback"),!Ze[f4]||Ze[f4](H0,F0,P0)!==!0?P0():M0=!0,M0},Ze[Q3]=function(x0,S0){var _0=Ze[js];if(!_0||x0&&_0!==x0[js]())return;var h0,M0=!1,w0=x0||y1(null,_0,N&&N[lc]?N[lc]():N),H0=S0||{reason:0};function F0(){M0||(M0=!0,_e(w0.getCfg(),w0.core(),w0[fl]()))}return o(F0,"_updateCallback"),!Ze._doUpdate||Ze._doUpdate(w0,H0,F0)!==!0?F0():h0=!0,h0},g5(Ze,"_addUnloadCb",function(){return $},"add"),g5(Ze,"_addHook",function(){return K},"add"),ks(Ze,"_unloadHooks",{g:function(){return K}})}),y[h1]=function(Ze){return oe(Ze)[h1]()},y[wf]=function(){return b},y.setInitialized=function(Ze){b=Ze},y[e2]=function(Ze){N=Ze},y[Ma]=function(Ze,x0){x0?x0[Ma](Ze):N&&v0(N[Ul])&&N[Ul](Ze,null)},y._getTelCtx=oe;function oe(Ze){Ze===void 0&&(Ze=null);var x0=Ze;if(!x0){var S0=S||ac(null,{},y[js]);N&&N[lc]?x0=S0[of](null,N[lc]):x0=S0[of](null,N)}return x0}o(oe,"_getTelCtx");function _e(Ze,x0,S0){Ea(Ze,Xx,_2(x0)),!S0&&x0&&(S0=x0[J6]()[fl]());var _0=N;N&&N[lc]&&(_0=N[lc]()),y[js]=x0,S=ac(S0,Ze,x0,_0)}o(_e,"_setDefaults");function Ie(){b=!1,y[js]=null,S=null,N=null,K=Dg(),$=qh()}o(Ie,"_initDefaults")}return o(g,"BaseTelemetryPlugin"),g.__ieDyn=1,g}();function Zx(g,y,b){var S={id:y,fn:b};V1(g,S);var N={remove:function(){$r(g,function($,K){if($.id===S.id)return g[zc](K,1),-1})}};return N}o(Zx,"_addInitializer");function Qx(g,y,b){for(var S=!1,N=g[vn],$=0;$<N;++$){var K=g[$];if(K)try{if(K.fn[t5](null,[y])===!1){S=!0;break}}catch(oe){Tr(b,2,64,"Telemetry initializer failed: "+$a(oe),{exception:ei(oe)},!0)}}return!S}o(Qx,"_runInitializers");var e_=function(g){j3(y,g);function y(){var b=g.call(this)||this;b.identifier="TelemetryInitializerPlugin",b.priority=199;var S,N;$(),ll(y,b,function(K,oe){K.addTelemetryInitializer=function(_e){return Zx(N,S++,_e)},K[Ul]=function(_e,Ie){Qx(N,_e,Ie?Ie[h1]():K[h1]())&&K[Ma](_e,Ie)},K[f4]=function(){$()}});function $(){S=0,N=[]}return o($,"_initDefaults"),b}return o(y,"TelemetryInitializerPlugin"),y.__ieDyn=1,y}(Hh),fc,_="Plugins must provide initialize method",w="_notificationManager",P="SDK is still unloading...",O="SDK is not initialized",ae=yn((fc={cookieCfg:{}},fc[d5]={rdOnly:!0,ref:!0,v:[]},fc[Jc]={rdOnly:!0,ref:!0,v:[]},fc[Xc]={ref:!0,v:{}},fc[nh]=Ml,fc.loggingLevelConsole=0,fc.diagnosticLogInterval=Ml,fc));function He(g,y){return new Fh(y)}o(He,"_createPerfManager");function i0(g,y,b){var S,N=[],$=[],K={};return $r(b,function(oe){(ce(oe)||ce(oe[Y3]))&&Es(_);var _e=oe[h5],Ie=oe[Y1];oe&&_e&&(ce(K[_e])?K[_e]=Ie:A5(g,"Two extensions have same priority #"+_e+" - "+K[_e]+", "+Ie)),!_e||_e<y?N[Ji](oe):$[Ji](oe)}),S={},S[js]=N,S[Jc]=$,S}o(i0,"_validateExtensions");function c0(g,y){var b=!1;return $r(y,function(S){if(S===g)return b=!0,-1}),b}o(c0,"_isPluginPresent");function b0(g,y,b,S){b&&yr(b,function(N,$){S&&ol($)&&ol(y[N])&&b0(g,y[N],$,S),S&&ol($)&&ol(y[N])?b0(g,y[N],$,S):g.set(y,N,$)})}o(b0,"_deepMergeConfig");function k0(g,y){var b=null,S=-1;return $r(g,function(N,$){if(N.w===y)return b=N,S=$,-1}),{i:S,l:b}}o(k0,"_findWatcher");function X0(g,y){var b=k0(g,y).l;return b||(b={w:y,rm:function(){var S=k0(g,y);S.i!==-1&&g[zc](S.i,1)}},g[Ji](b)),b}o(X0,"_addDelayedCfgListener");function nn(g,y,b){$r(y,function(S){var N=T5(g,S.w,b);delete S.w,S.rm=function(){N.rm()}})}o(nn,"_registerDelayedCfgListener");var Zr=function(){function g(){var y,b,S,N,$,K,oe,_e,Ie,Ze,x0,S0,_0,h0,M0,w0,H0,F0,P0,W0,zr,Yi,Ls,Cs,wa,oa,l9,$5;ll(g,this,function(Q0){H5(),Q0._getDbgPlgTargets=function(){return[Ls]},Q0[wf]=function(){return b},Q0[Y3]=function(A0,St,Wr,Or){_0&&Es(P),Q0[wf]()&&Es("Core cannot be initialized more than once"),y=Ea(A0,ae,Wr||Q0[Vs],!1),A0=y.cfg,gu(y[u1](function(Ui){zr=Ui.cfg.instrumentationKey;var aa=Ui.ref(Ui.cfg,Xc);yr(aa,function(ya){Ui.ref(aa,ya)}),ce(zr)&&Es("Please provide instrumentation key")})),$=Or,R_(),k_(),Q0[Vs]=Wr;var Mr=A0[d5];if(Ze=[],Ze[Ji].apply(Ze,K7(K7([],St,!1),Mr)),x0=A0[Jc],Lf(null),(!S0||S0[vn]===0)&&Es("No "+Jc+" available"),x0&&x0[vn]>1){var ys=Q0[J3]("TeeChannelController");(!ys||!ys.plugin)&&Tr(S,1,28,"TeeChannel required")}nn(A0,Yi,S),Yi=null,b=!0,Q0.releaseQueue(),Q0[Y7]()},Q0.getChannels=function(){var A0=[];return S0&&$r(S0,function(St){A0[Ji](St)}),Wi(A0)},Q0.track=function(A0){Ng(Q0[a2](),function(){return"AppInsightsCore:track"},function(){A0===null&&(c9(A0),Es("Invalid telemetry item")),!A0[J1]&&ce(A0[J1])&&(c9(A0),Es("telemetry name required")),A0.iKey=A0.iKey||zr,A0[r5]=A0[r5]||l2(new Date),A0.ver=A0.ver||"4.0",!_0&&Q0[wf]()?hu()[Ma](A0):N[Ji](A0)},function(){return{item:A0}},!A0.sync)},Q0[J6]=hu,Q0[Fl]=function(){return $||($=new Vx(y.cfg),Q0[w]=$),$},Q0[X3]=function(A0){Q0[Fl]()[X3](A0)},Q0[Z3]=function(A0){$&&$[Z3](A0)},Q0.getCookieMgr=function(){return _e||(_e=kh(y.cfg,Q0[Vs])),_e},Q0.setCookieMgr=function(A0){_e!==A0&&(S5(_e,!1),_e=A0)},Q0[a2]=function(){return!K&&!oe&&gu(y[u1](function(A0){if(A0.cfg.enablePerfMgr){var St=A0.cfg[nh];v0(St)&&(oe=St(Q0,Q0[Fl]()))}})),K||oe||E2()},Q0.setPerfMgr=function(A0){K=A0},Q0.eventCnt=function(){return N[vn]},Q0.releaseQueue=function(){if(b&&N[vn]>0){var A0=N;N=[],$r(A0,function(St){hu()[Ma](St)})}},Q0[Y7]=function(A0){return M0=A0||null,$5=!1,oa&&oa[Gc](),b1(!0)};function b1(A0){if((!oa||!oa[Kc])&&!$5){var St=A0||S&&S.queue[vn]>0;St&&(l9||(l9=!0,gu(y[u1](function(Wr){var Or=Wr.cfg.diagnosticLogInterval;(!Or||!(Or>0))&&(Or=1e4);var Mr=!1;oa&&(Mr=oa[Kc],oa[Gc]()),oa=V7(z2,Or),oa.unref(),oa[Kc]=Mr}))),oa[Kc]=!0)}return oa}o(b1,"_startLogPoller"),Q0[n5]=function(){$5=!0,oa&&oa[Gc](),z2()},ch(Q0,function(){return h0},["addTelemetryInitializer"]),Q0[Ol]=function(A0,St,Wr){var Or;A0===void 0&&(A0=!0),b||Es(O),_0&&Es(P);var Mr=(Or={reason:50},Or[i5]=A0,Or.flushComplete=!1,Or),ys;A0&&!St&&(ys=u5(function(ya){St=ya}));var Ui=uf($0(),Q0);Ui[a4](function(){F0.run(Q0[Vs]),yg([_e,$,S],A0,function(){H5(),St&&St(Mr)})},Q0);function aa(ya){Mr.flushComplete=ya,_0=!0,H0.run(Ui,Mr),Q0[n5](),Ui[Ma](Mr)}return o(aa,"_doUnload"),z2(),f9(A0,aa,6,Wr),ys},Q0[J3]=j4,Q0.addPlugin=function(A0,St,Wr,Or){if(!A0){Or&&Or(!1),nm(_);return}var Mr=j4(A0[Y1]);if(Mr&&!St){Or&&Or(!1),nm("Plugin ["+A0[Y1]+"] is already loaded!");return}var ys={reason:16};function Ui(Vl){Ze[Ji](A0),ys.added=[A0],Lf(ys),Or&&Or(!0)}if(o(Ui,"_addPlugin"),Mr){var aa=[Mr.plugin],ya={reason:2,isAsync:!!Wr};tm(aa,ya,function(Vl){Vl?(ys.removed=aa,ys.reason|=32,Ui()):Or&&Or(!1)})}else Ui()},Q0.updateCfg=function(A0,St){St===void 0&&(St=!0);var Wr;if(Q0[wf]()){Wr={reason:1,cfg:y.cfg,oldCfg:U7({},y.cfg),newConfig:U7({},A0),merge:St},A0=Wr.newConfig;var Or=y.cfg;A0[d5]=Or[d5],A0[Jc]=Or[Jc]}y._block(function(Mr){var ys=Mr.cfg;b0(Mr,ys,A0,St),St||yr(ys,function(Ui){le(A0,Ui)||Mr.set(ys,Ui,Ml)}),Mr[e5](ys,ae)},!0),y[o4](),Wr&&rm(Wr)},Q0.evtNamespace=function(){return w0},Q0.flush=f9,Q0.getTraceCtx=function(A0){return W0||(W0=Yx()),W0},Q0.setTraceCtx=function(A0){W0=A0||null},Q0.addUnloadHook=gu,g5(Q0,"addUnloadCb",function(){return H0},"add"),Q0.onCfgChange=function(A0){var St;return b?St=T5(y.cfg,A0,Q0[Vs]):St=X0(Yi,A0),{rm:function(){St.rm()}}},Q0.getWParam=function(){return k6()||y.cfg.enableWParam?0:-1};function j2(){var A0={};Cs=[];var St=o(function(Wr){Wr&&$r(Wr,function(Or){if(Or[Y1]&&Or[J7]&&!A0[Or.identifier]){var Mr=Or[Y1]+"="+Or[J7];Cs[Ji](Mr),A0[Or.identifier]=Or}})},"_addPluginVersions");St(S0),x0&&$r(x0,function(Wr){St(Wr)}),St(Ze)}o(j2,"_setPluginVersions");function H5(){b=!1,y=Ea({},ae,Q0[Vs]),y.cfg[X7]=1,ks(Q0,"config",{g:function(){return y.cfg},s:function(St){Q0.updateCfg(St,!1)}}),ks(Q0,"pluginVersionStringArr",{g:function(){return Cs||j2(),Cs}}),ks(Q0,"pluginVersionString",{g:function(){return wa||(Cs||j2(),wa=Cs.join(";")),wa||Pi}}),ks(Q0,"logger",{g:function(){return S||(S=new A4(y.cfg),y[Vs]=S),S},s:function(St){y[Vs]=St,S!==St&&(S5(S,!1),S=St)}}),Q0[Vs]=new A4(y.cfg),Ls=[];var A0=Q0.config[d5]||[];A0.splice(0,A0[vn]),V1(A0,Ls),h0=new e_,N=[],S5($,!1),$=null,K=null,oe=null,S5(_e,!1),_e=null,Ie=null,Ze=[],x0=null,S0=null,_0=!1,M0=null,w0=$l("AIBaseCore",!0),H0=qh(),W0=null,zr=null,F0=Dg(),Yi=[],wa=null,Cs=null,$5=!1}o(H5,"_initDefaults");function hu(){var A0=ac($0(),y.cfg,Q0);return A0[a4](b1),A0}o(hu,"_createTelCtx");function Lf(A0){var St=i0(Q0[Vs],vg,Ze);Ie=null,wa=null,Cs=null,S0=(x0||[])[0]||[],S0=Uh(V1(S0,St[Jc]));var Wr=V1(Uh(St[js]),S0);Ls=Wi(Wr);var Or=Q0.config[d5]||[];Or.splice(0,Or[vn]),V1(Or,Ls);var Mr=hu();S0&&S0[vn]>0&&kg(Mr[of](S0),Wr),kg(Mr,Wr),A0&&rm(A0)}o(Lf,"_initPluginChain");function j4(A0){var St=null,Wr=null,Or=[];return $r(Ls,function(Mr){if(Mr[Y1]===A0&&Mr!==h0)return Wr=Mr,-1;Mr.getChannel&&Or[Ji](Mr)}),!Wr&&Or[vn]>0&&$r(Or,function(Mr){if(Wr=Mr.getChannel(A0),!Wr)return-1}),Wr&&(St={plugin:Wr,setEnabled:function(Mr){ou(Wr)[Ua]=!Mr},isEnabled:function(){var Mr=ou(Wr);return!Mr[d1]&&!Mr[Ua]},remove:function(Mr,ys){var Ui;Mr===void 0&&(Mr=!0);var aa=[Wr],ya=(Ui={reason:1},Ui[i5]=Mr,Ui);tm(aa,ya,function(Vl){Vl&&Lf({reason:32,removed:aa}),ys&&ys(Vl)})}}),St}o(j4,"_getPlugin");function $0(){if(!Ie){var A0=(Ls||[]).slice();Ll(A0,h0)===-1&&A0[Ji](h0),Ie=df(Uh(A0),y.cfg,Q0)}return Ie}o($0,"_getPluginChain");function tm(A0,St,Wr){if(A0&&A0[vn]>0){var Or=df(A0,y.cfg,Q0),Mr=uf(Or,Q0);Mr[a4](function(){var ys=!1,Ui=[];$r(Ze,function(ya,Vl){c0(ya,A0)?ys=!0:Ui[Ji](ya)}),Ze=Ui,wa=null,Cs=null;var aa=[];x0&&($r(x0,function(ya,Vl){var V5=[];$r(ya,function(im){c0(im,A0)?ys=!0:V5[Ji](im)}),aa[Ji](V5)}),x0=aa),Wr&&Wr(ys),b1()}),Mr[Ma](St)}else Wr(!1)}o(tm,"_removePlugins");function z2(){if(S&&S.queue){var A0=S.queue.slice(0);S.queue[vn]=0,$r(A0,function(St){var Wr,Or=(Wr={},Wr[J1]=M0||"InternalMessageId: "+St[l4],Wr.iKey=zr,Wr[r5]=l2(new Date),Wr.baseType=w5.dataType,Wr.baseData={message:St[Wc]},Wr);Q0.track(Or)})}}o(z2,"_flushInternalLogs");function f9(A0,St,Wr,Or){var Mr=1,ys=!1,Ui=null;Or=Or||5e3;function aa(){Mr--,ys&&Mr===0&&(Ui&&Ui[Gc](),Ui=null,St&&St(ys),St=null)}if(o(aa,"doCallback"),S0&&S0[vn]>0){var ya=hu()[of](S0);ya.iterate(function(Vl){if(Vl.flush){Mr++;var V5=!1;Vl.flush(A0,function(){V5=!0,aa()},Wr)||V5||(A0&&Ui==null?Ui=If(function(){Ui=null,aa()},Or):aa())}})}return ys=!0,aa(),!0}o(f9,"_flushChannels");function R_(){!$&&Q0[Fl](),gu(y[u1](function(A0){var St=A0.cfg.disableDbgExt;St===!0&&P0&&($[Z3](P0),P0=null),$&&!P0&&St!==!0&&(P0=Ox(A0.cfg),$[X3](P0))}))}o(R_,"_initDebugListener");function k_(){gu(y[u1](function(A0){var St=A0.cfg.enablePerfMgr;!St&&oe&&(oe=null),St&&sg(A0.cfg,nh,He)}))}o(k_,"_initPerfManager");function rm(A0){var St=y1($0(),Q0);St[a4](b1),(!Q0._updateHook||Q0._updateHook(St,A0)!==!0)&&St[Ma](A0)}o(rm,"_doUpdate");function nm(A0){var St=Q0[Vs];St?(Tr(St,2,73,A0),b1()):Es(A0)}o(nm,"_logOrThrowError");function c9(A0){var St=Q0[Fl]();St&&St[Q1]([A0],2)}o(c9,"_notifyInvalidEvent");function gu(A0){F0.add(A0)}o(gu,"_addUnloadHook")})}return o(g,"AppInsightsCore"),g.__ieDyn=1,g}(),Vr="on",vr="attachEvent",_n="addEventListener",Fr="detachEvent",Oi="removeEventListener",dn="events";$l("aiEvtPageHide"),$l("aiEvtPageShow");var jr=/\.[\.]+/g,Bs=/[\.]+$/,B5=1,cc=kf("events"),Lg=/^([^.]*)(?:\.(.+)|)/;function Vh(g){return g&&g[Yc]?g[Yc](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Pi):g}o(Vh,"_normalizeNamespace");function jh(g,y){var b;if(y){var S=Pi;ue(y)?(S=Pi,$r(y,function($){$=Vh($),$&&($[0]!=="."&&($="."+$),S+=$)})):S=Vh(y),S&&(S[0]!=="."&&(S="."+S),g=(g||Pi)+S)}var N=Lg.exec(g||Pi)||[];return b={},b[Af]=N[1],b.ns=(N[2]||Pi).replace(jr,".").replace(Bs,Pi)[o5](".").sort().join("."),b}o(jh,"_getEvtNamespace");function Fg(g,y,b){b===void 0&&(b=!0);var S=cc.get(g,dn,{},b),N=S[y];return N||(N=S[y]=[]),N}o(Fg,"_getRegisteredEvents");function B4(g,y,b,S){g&&y&&y[Af]&&(g[Oi]?g[Oi](y[Af],b,S):g[Fr]&&g[Fr](Vr+y[Af],b))}o(B4,"_doDetach");function Og(g,y,b,S){var N=!1;return g&&y&&y[Af]&&b&&(g[_n]?(g[_n](y[Af],b,S),N=!0):g[vr]&&(g[vr](Vr+y[Af],b),N=!0)),N}o(Og,"_doAttach");function zh(g,y,b,S){for(var N=y[vn];N--;){var $=y[N];$&&(!b.ns||b.ns===$.evtName.ns)&&(!S||S($))&&(B4(g,$.evtName,$[X6],$.capture),y[zc](N,1))}}o(zh,"_doUnregister");function V0(g,y,b){if(y[Af])zh(g,Fg(g,y[Af]),y,b);else{var S=cc.get(g,dn,{});yr(S,function(N,$){zh(g,$,y,b)}),Ql(S)[vn]===0&&cc.kill(g,dn)}}o(V0,"_unregisterEvents");function Cr(g,y){var b;return y?(ue(y)?b=[g].concat(y):b=[g,y],b=jh("xx",b).ns[o5](".")):b=g,b}o(Cr,"mergeEvtNamespace");function sn(g,y,b,S,N){var $;N===void 0&&(N=!1);var K=!1;if(g)try{var oe=jh(y,S);if(K=Og(g,oe,b,N),K&&cc.accept(g)){var _e=($={guid:B5++,evtName:oe},$[X6]=b,$.capture=N,$);Fg(g,oe.type)[Ji](_e)}}catch{}return K}o(sn,"eventOn");function bs(g,y,b,S,N){if(N===void 0&&(N=!1),g)try{var $=jh(y,S),K=!1;V0(g,$,function(oe){return $.ns&&!b||oe[X6]===b?(K=!0,!0):!1}),K||B4(g,$,b,N)}catch{}}o(bs,"eventOff");var ea="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Gs="sampleRate",Ks="ProcessLegacy",au="http.method",v1="https://dc.services.visualstudio.com",x1="/v2/track",uc="not_specified",D5=Y6({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),T2="split",Ri="length",Mg="toLowerCase",S2="ingestionendpoint",D4="toString",t_="push",UM="removeItem",L5="name",I2="message",qM="count",r_="stringify",n_="pathname",L4="exceptions",_1="parsedStack",dc="properties",lu="measurements",F4="sizeInBytes",fu="typeName",Gh="severityLevel",i_="problemGroup",s_="isManual",Hw="CreateFromInterface",O4="assembly",w2="fileName",Ug="hasFullStack",qg="level",M4="method",Kh="line",$g="duration",Vw="receivedResponse";function jw(g,y,b){var S=y[Ri],N=$M(g,y);if(N[Ri]!==S){for(var $=0,K=N;b[K]!==void 0;)$++,K=zi(N,0,147)+jM($);N=K}return N}o(jw,"dataSanitizeKeyAndAddUniqueness");function $M(g,y){var b;return y&&(y=Go(ws(y)),y[Ri]>150&&(b=zi(y,0,150),Tr(g,2,57,"name is too long.  It has been truncated to 150 characters.",{name:y},!0))),b||y}o($M,"dataSanitizeKey");function ul(g,y,b){b===void 0&&(b=1024);var S;return y&&(b=b||1024,y=Go(ws(y)),y[Ri]>b&&(S=zi(y,0,b),Tr(g,2,61,"string value is too long. It has been truncated to "+b+" characters.",{value:y},!0))),S||y}o(ul,"dataSanitizeString");function o_(g,y){return Gw(g,y,2048,66)}o(o_,"dataSanitizeUrl");function zw(g,y){var b;return y&&y[Ri]>32768&&(b=zi(y,0,32768),Tr(g,2,56,"message is too long, it has been truncated to 32768 characters.",{message:y},!0)),b||y}o(zw,"dataSanitizeMessage");function HM(g,y){var b;if(y){var S=""+y;S[Ri]>32768&&(b=zi(S,0,32768),Tr(g,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:y},!0))}return b||y}o(HM,"dataSanitizeException");function A2(g,y){if(y){var b={};yr(y,function(S,N){if(fr(N)&&El())try{N=Nf()[r_](N)}catch($){Tr(g,2,49,"custom property is not valid",{exception:$},!0)}N=ul(g,N,8192),S=jw(g,S,b),b[S]=N}),y=b}return y}o(A2,"dataSanitizeProperties");function P2(g,y){if(y){var b={};yr(y,function(S,N){S=jw(g,S,b),b[S]=N}),y=b}return y}o(P2,"dataSanitizeMeasurements");function VM(g,y){return y&&Gw(g,y,128,69)[D4]()}o(VM,"dataSanitizeId");function Gw(g,y,b,S){var N;return y&&(y=Go(ws(y)),y[Ri]>b&&(N=zi(y,0,b),Tr(g,2,S,"input is too long, it has been truncated to "+b+" characters.",{data:y},!0))),N||y}o(Gw,"dataSanitizeInput");function jM(g){var y="00"+g;return Bl(y,y[Ri]-3)}o(jM,"dsPadNumber");var Kw=qc()||{},Ww=0,zM=[null,null,null,null,null];function GM(g){var y=Ww,b=zM,S=b[y];return Kw.createElement?b[y]||(S=b[y]=Kw.createElement("a")):S={host:KM(g,!0)},S.href=g,y++,y>=b[Ri]&&(y=0),Ww=y,S}o(GM,"urlParseUrl");function KM(g,y){var b=WM(g,y)||"";if(b){var S=b.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(S!=null&&S[Ri]>3&&O0(S[2])&&S[2][Ri]>0)return S[2]+(S[3]||"")}return b}o(KM,"urlParseHost");function WM(g,y){var b=null;if(g){var S=g.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(S!=null&&S[Ri]>2&&O0(S[2])&&S[2][Ri]>0&&(b=S[2]||"",y&&S[Ri]>2)){var N=(S[1]||"")[Mg](),$=S[3]||"";(N==="http"&&$===":80"||N==="https"&&$===":443")&&($=""),b+=$}}return b}o(WM,"urlParseFullHost");var YM=[v1+x1,"https://breeze.aimon.applicationinsights.io"+x1,"https://dc-int.services.visualstudio.com"+x1];function Hg(g){return Ll(YM,g[Mg]())!==-1}o(Hg,"isInternalApplicationInsightsEndpoint");function JM(g,y,b,S){var N,$=S,K=S;if(y&&y[Ri]>0){var oe=GM(y);if(N=oe.host,!$)if(oe[n_]!=null){var _e=oe.pathname[Ri]===0?"/":oe[n_];_e.charAt(0)!=="/"&&(_e="/"+_e),K=oe[n_],$=ul(g,b?b+" "+_e:_e)}else $=ul(g,y)}else N=S,$=S;return{target:N,name:$,data:K}}o(JM,"AjaxHelperParseDependencyPath");var a_=i4({LocalStorage:0,SessionStorage:1}),Wh=void 0,Yw="";function Jw(g){try{if(ce(ef()))return null;var y=new Date()[D4](),b=na(g===a_.LocalStorage?"localStorage":"sessionStorage"),S=Yw+y;b.setItem(S,y);var N=b.getItem(S)!==y;if(b[UM](S),!N)return b}catch{}return null}o(Jw,"_getVerifiedStorageObject");function Xw(){return Zw()?Jw(a_.SessionStorage):null}o(Xw,"_getSessionStorageObject");function XM(g){Yw=g||""}o(XM,"utlSetStoragePrefix");function Zw(g){return(g||Wh===void 0)&&(Wh=!!Jw(a_.SessionStorage)),Wh}o(Zw,"utlCanUseSessionStorage");function ZM(g,y){var b=Xw();if(b!==null)try{return b.getItem(y)}catch(S){Wh=!1,Tr(g,2,2,"Browser failed read of session storage. "+$a(S),{exception:ei(S)})}return null}o(ZM,"utlGetSessionStorage");function QM(g,y,b){var S=Xw();if(S!==null)try{return S.setItem(y,b),!0}catch(N){Wh=!1,Tr(g,2,4,"Browser failed write to session storage. "+$a(N),{exception:ei(N)})}return!1}o(QM,"utlSetSessionStorage");var eU=";",tU="=";function rU(g){if(!g)return{};var y=g[T2](eU),b=vx(y,function(N,$){var K=$[T2](tU);if(K[Ri]===2){var oe=K[0][Mg](),_e=K[1];N[oe]=_e}return N},{});if(Ql(b)[Ri]>0){if(b.endpointsuffix){var S=b.location?b.location+".":"";b[S2]=b[S2]||"https://"+S+"dc."+b.endpointsuffix}b[S2]=b[S2]||v1,Gd(b[S2],"/")&&(b[S2]=b[S2].slice(0,-1))}return b}o(rU,"parseConnectionString");var nU=function(){function g(y,b,S){var N=this,$=this;$.ver=1,$.sampleRate=100,$.tags={},$[L5]=ul(y,S)||uc,$.data=b,$.time=l2(new Date),$.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return N.sampleRate===100?4:1},tags:1,data:1}}return o(g,"Envelope"),g}(),U4=function(){function g(y,b,S,N){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var $=this;$.ver=2,$[L5]=ul(y,b)||uc,$[dc]=A2(y,S),$[lu]=P2(y,N)}return o(g,"Event"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Event",g.dataType="EventData",g}(),iU="<no_method>",q4="error",Hl="stack",l_="stackDetails",Qw="errorSrc",f_="message",eA="description";function c_(g,y){var b=g;return b&&!O0(b)&&(JSON&&JSON[r_]?(b=JSON[r_](g),y&&(!b||b==="{}")&&(v0(g[D4])?b=g[D4]():b=""+g)):b=""+g+" - (Missing JSON.stringify)"),b||""}o(c_,"_stringify");function tA(g,y){var b=g;return g&&(b&&!O0(b)&&(b=g[f_]||g[eA]||b),b&&!O0(b)&&(b=c_(b,!0)),g.filename&&(b=b+" @"+(g.filename||"")+":"+(g.lineno||"?")+":"+(g.colno||"?"))),y&&y!=="String"&&y!=="Object"&&y!=="Error"&&Yu(b||"",y)===-1&&(b=y+": "+b),b||""}o(tA,"_formatMessage");function sU(g){try{if(fr(g))return"hasFullStack"in g&&"typeName"in g}catch{}return!1}o(sU,"_isExceptionDetailsInternal");function oU(g){try{if(fr(g))return"ver"in g&&"exceptions"in g&&"properties"in g}catch{}return!1}o(oU,"_isExceptionInternal");function rA(g){return g&&g.src&&O0(g.src)&&g.obj&&ue(g.obj)}o(rA,"_isStackDetails");function N2(g){var y=g||"";O0(y)||(O0(y[Hl])?y=y[Hl]:y=""+y);var b=y[T2](`
`);return{src:y,obj:b}}o(N2,"_convertStackObj");function aU(g){for(var y=[],b=g[T2](`
`),S=0;S<b[Ri];S++){var N=b[S];b[S+1]&&(N+="@"+b[S+1],S++),y[t_](N)}return{src:g,obj:y}}o(aU,"_getOperaStack");function nA(g){var y=null;if(g)try{if(g[Hl])y=N2(g[Hl]);else if(g[q4]&&g[q4][Hl])y=N2(g[q4][Hl]);else if(g.exception&&g.exception[Hl])y=N2(g.exception[Hl]);else if(rA(g))y=g;else if(rA(g[l_]))y=g[l_];else if(o1()&&o1().opera&&g[f_])y=aU(g[I2]);else if(g.reason&&g.reason[Hl])y=N2(g.reason[Hl]);else if(O0(g))y=N2(g);else{var b=g[f_]||g[eA]||"";O0(g[Qw])&&(b&&(b+=`
`),b+=" from "+g[Qw]),b&&(y=N2(b))}}catch(S){y=N2(S)}return y||{src:"",obj:null}}o(nA,"_getStackFromErrorObj");function lU(g){var y="";return g&&(g.obj?$r(g.obj,function(b){y+=b+`
`}):y=g.src||""),y}o(lU,"_formatStackTrace");function fU(g){var y,b=g.obj;if(b&&b[Ri]>0){y=[];var S=0,N=0;$r(b,function(h0){var M0=h0[D4]();if(d_.regex.test(M0)){var w0=new d_(M0,S++);N+=w0[F4],y[t_](w0)}});var $=32*1024;if(N>$)for(var K=0,oe=y[Ri]-1,_e=0,Ie=K,Ze=oe;K<oe;){var x0=y[K][F4],S0=y[oe][F4];if(_e+=x0+S0,_e>$){var _0=Ze-Ie+1;y.splice(Ie,_0);break}Ie=K,Ze=oe,K++,oe--}}return y}o(fU,"_parseStack");function Vg(g){var y="";if(g&&(y=g.typeName||g[L5]||"",!y))try{var b=/function (.{1,200})\(/,S=b.exec(g.constructor[D4]());y=S&&S[Ri]>1?S[1]:""}catch{}return y}o(Vg,"_getErrorType");function u_(g){if(g)try{if(!O0(g)){var y=Vg(g),b=c_(g,!1);return(!b||b==="{}")&&(g[q4]&&(g=g[q4],y=Vg(g)),b=c_(g,!0)),Yu(b,y)!==0&&y!=="String"?y+":"+b:b}}catch{}return""+(g||"")}o(u_,"_formatErrorCode");var jg=function(){function g(y,b,S,N,$,K){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var oe=this;oe.ver=2,oU(b)?(oe[L4]=b[L4]||[],oe[dc]=b[dc],oe[lu]=b[lu],b[Gh]&&(oe[Gh]=b[Gh]),b.id&&(oe.id=b.id,b[dc].id=b.id),b[i_]&&(oe[i_]=b[i_]),ce(b[s_])||(oe[s_]=b[s_])):(S||(S={}),K&&(S.id=K),oe[L4]=[new iA(y,b,S)],oe[dc]=A2(y,S),oe[lu]=P2(y,N),$&&(oe[Gh]=$),K&&(oe.id=K))}return o(g,"Exception"),g.CreateAutoException=function(y,b,S,N,$,K,oe,_e){var Ie,Ze=Vg($||K||y);return Ie={},Ie[I2]=tA(y,Ze),Ie.url=b,Ie.lineNumber=S,Ie.columnNumber=N,Ie.error=u_($||K||y),Ie.evt=u_(K||y),Ie[fu]=Ze,Ie.stackDetails=nA(oe||$||K),Ie.errorSrc=_e,Ie},g.CreateFromInterface=function(y,b,S,N){var $=b[L4]&&w3(b[L4],function(oe){return iA[Hw](y,oe)}),K=new g(y,W1(W1({},b),{exceptions:$}),S,N);return K},g.prototype.toInterface=function(){var y,b=this,S=b.exceptions,N=b.properties,$=b.measurements,K=b.severityLevel,oe=b.problemGroup,_e=b.id,Ie=b.isManual,Ze=S instanceof Array&&w3(S,function(x0){return x0.toInterface()})||void 0;return y={ver:"4.0"},y[L4]=Ze,y.severityLevel=K,y.properties=N,y.measurements=$,y.problemGroup=oe,y.id=_e,y.isManual=Ie,y},g.CreateSimpleException=function(y,b,S,N,$,K){var oe;return{exceptions:[(oe={},oe[Ug]=!0,oe.message=y,oe.stack=$,oe.typeName=b,oe)]}},g.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",g.dataType="ExceptionData",g.formatError=u_,g}(),iA=function(){function g(y,b,S){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var N=this;if(sU(b))N[fu]=b[fu],N[I2]=b[I2],N[Hl]=b[Hl],N[_1]=b[_1]||[],N[Ug]=b[Ug];else{var $=b,K=$&&$.evt;B0($)||($=$[q4]||K||$),N[fu]=ul(y,Vg($))||uc,N[I2]=zw(y,tA(b||$,N[fu]))||uc;var oe=b[l_]||nA(b);N[_1]=fU(oe),ue(N[_1])&&w3(N[_1],function(_e){_e[O4]=ul(y,_e[O4]),_e[w2]=ul(y,_e[w2])}),N[Hl]=HM(y,lU(oe)),N.hasFullStack=ue(N.parsedStack)&&N.parsedStack[Ri]>0,S&&(S[fu]=S[fu]||N[fu])}}return o(g,"_ExceptionDetails"),g.prototype.toInterface=function(){var y,b=this,S=b[_1]instanceof Array&&w3(b[_1],function($){return $.toInterface()}),N=(y={id:b.id,outerId:b.outerId,typeName:b[fu],message:b[I2],hasFullStack:b[Ug],stack:b[Hl]},y[_1]=S||void 0,y);return N},g.CreateFromInterface=function(y,b){var S=b[_1]instanceof Array&&w3(b[_1],function($){return d_[Hw]($)})||b[_1],N=new g(y,W1(W1({},b),{parsedStack:S}));return N},g}(),d_=function(){function g(y,b){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var S=this;if(S[F4]=0,typeof y=="string"){var N=y;S[qg]=b,S[M4]=iU,S[O4]=Go(N),S[w2]="",S[Kh]=0;var $=N.match(g.regex);$&&$[Ri]>=5&&(S[M4]=Go($[2])||S[M4],S[w2]=Go($[4]),S[Kh]=parseInt($[5])||0)}else S[qg]=y[qg],S[M4]=y[M4],S[O4]=y[O4],S[w2]=y[w2],S[Kh]=y[Kh],S[F4]=0;S.sizeInBytes+=S.method[Ri],S.sizeInBytes+=S.fileName[Ri],S.sizeInBytes+=S.assembly[Ri],S[F4]+=g.baseSize,S.sizeInBytes+=S.level.toString()[Ri],S.sizeInBytes+=S.line.toString()[Ri]}return o(g,"_StackFrame"),g.CreateFromInterface=function(y){return new g(y,null)},g.prototype.toInterface=function(){var y=this;return{level:y[qg],method:y[M4],assembly:y[O4],fileName:y[w2],line:y[Kh]}},g.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,g.baseSize=58,g}(),cU=function(){function g(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(g,"DataPoint"),g}(),Yh=function(){function g(y,b,S,N,$,K,oe,_e,Ie){this.aiDataContract={ver:1,metrics:1,properties:0};var Ze=this;Ze.ver=2;var x0=new cU;x0[qM]=N>0?N:void 0,x0.max=isNaN(K)||K===null?void 0:K,x0.min=isNaN($)||$===null?void 0:$,x0[L5]=ul(y,b)||uc,x0.value=S,x0.stdDev=isNaN(oe)||oe===null?void 0:oe,Ze.metrics=[x0],Ze[dc]=A2(y,_e),Ze[lu]=P2(y,Ie)}return o(g,"Metric"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",g.dataType="MetricData",g}(),Jh="";function sA(g){(isNaN(g)||g<0)&&(g=0),g=Math.round(g);var y=Jh+g%1e3,b=Jh+Math.floor(g/1e3)%60,S=Jh+Math.floor(g/(1e3*60))%60,N=Jh+Math.floor(g/(1e3*60*60))%24,$=Math.floor(g/(1e3*60*60*24));return y=y[Ri]===1?"00"+y:y[Ri]===2?"0"+y:y,b=b[Ri]<2?"0"+b:b,S=S[Ri]<2?"0"+S:S,N=N[Ri]<2?"0"+N:N,($>0?$+".":Jh)+N+":"+S+":"+b+"."+y}o(sA,"msToTimeSpan");var zg=function(){function g(y,b,S,N,$,K,oe){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var _e=this;_e.ver=2,_e.id=VM(y,oe),_e.url=o_(y,S),_e[L5]=ul(y,b)||uc,isNaN(N)||(_e[$g]=sA(N)),_e[dc]=A2(y,$),_e[lu]=P2(y,K)}return o(g,"PageView"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",g.dataType="PageviewData",g}(),Gg=function(){function g(y,b,S,N,$,K,oe,_e,Ie,Ze,x0,S0){Ie===void 0&&(Ie="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var _0=this;_0.ver=2,_0.id=b,_0[$g]=sA($),_0.success=K,_0.resultCode=oe+"",_0.type=ul(y,Ie);var h0=JM(y,S,_e,N);_0.data=o_(y,N)||h0.data,_0.target=ul(y,h0.target),Ze&&(_0.target="".concat(_0.target," | ").concat(Ze)),_0[L5]=ul(y,h0[L5]),_0[dc]=A2(y,x0),_0[lu]=P2(y,S0)}return o(g,"RemoteDependencyData"),g.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",g.dataType="RemoteDependencyData",g}(),Kg=function(){function g(y,b,S,N,$){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var K=this;K.ver=2,b=b||uc,K[I2]=zw(y,b),K[dc]=A2(y,N),K[lu]=P2(y,$),S&&(K[Gh]=S)}return o(g,"Trace"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Message",g.dataType="MessageData",g}(),Wg=function(){function g(y,b,S,N,$,K,oe){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var _e=this;_e.ver=2,_e.url=o_(y,S),_e[L5]=ul(y,b)||uc,_e[dc]=A2(y,$),_e[lu]=P2(y,K),oe&&(_e.domProcessing=oe.domProcessing,_e[$g]=oe[$g],_e.networkConnect=oe.networkConnect,_e.perfTotal=oe.perfTotal,_e[Vw]=oe[Vw],_e.sentRequest=oe.sentRequest)}return o(g,"PageViewPerformance"),g.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",g.dataType="PageviewPerformanceData",g}(),R2=function(){function g(y,b){this.aiDataContract={baseType:1,baseData:1},this.baseType=y,this.baseData=b}return o(g,"Data"),g}(),uU=i4({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function F5(g){var y="ai."+g+".";return function(b){return y+b}}o(F5,"_aiNameFunc");var Xh=F5("application"),pa=F5("device"),Yg=F5("location"),$4=F5("operation"),h_=F5("session"),O5=F5("user"),k2=F5("cloud"),Zh=F5("internal"),oA=function(g){j3(y,g);function y(){return g.call(this)||this}return o(y,"ContextTagKeys"),y}(Nx({applicationVersion:Xh("ver"),applicationBuild:Xh("build"),applicationTypeId:Xh("typeId"),applicationId:Xh("applicationId"),applicationLayer:Xh("layer"),deviceId:pa("id"),deviceIp:pa("ip"),deviceLanguage:pa("language"),deviceLocale:pa("locale"),deviceModel:pa("model"),deviceFriendlyName:pa("friendlyName"),deviceNetwork:pa("network"),deviceNetworkName:pa("networkName"),deviceOEMName:pa("oemName"),deviceOS:pa("os"),deviceOSVersion:pa("osVersion"),deviceRoleInstance:pa("roleInstance"),deviceRoleName:pa("roleName"),deviceScreenResolution:pa("screenResolution"),deviceType:pa("type"),deviceMachineName:pa("machineName"),deviceVMName:pa("vmName"),deviceBrowser:pa("browser"),deviceBrowserVersion:pa("browserVersion"),locationIp:Yg("ip"),locationCountry:Yg("country"),locationProvince:Yg("province"),locationCity:Yg("city"),operationId:$4("id"),operationName:$4("name"),operationParentId:$4("parentId"),operationRootId:$4("rootId"),operationSyntheticSource:$4("syntheticSource"),operationCorrelationVector:$4("correlationVector"),sessionId:h_("id"),sessionIsFirst:h_("isFirst"),sessionIsNew:h_("isNew"),userAccountAcquisitionDate:O5("accountAcquisitionDate"),userAccountId:O5("accountId"),userAgent:O5("userAgent"),userId:O5("id"),userStoreRegion:O5("storeRegion"),userAuthUserId:O5("authUserId"),userAnonymousUserAcquisitionDate:O5("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:O5("authUserAcquisitionDate"),cloudName:k2("name"),cloudRole:k2("role"),cloudRoleVer:k2("roleVer"),cloudRoleInstance:k2("roleInstance"),cloudEnvironment:k2("environment"),cloudLocation:k2("location"),cloudDeploymentUnit:k2("deploymentUnit"),internalNodeName:Zh("nodeName"),internalSdkVersion:Zh("sdkVersion"),internalAgentVersion:Zh("agentVersion"),internalSnippet:Zh("snippet"),internalSdkSrc:Zh("sdkSrc")})),Va=new oA;function aA(g,y){bs(g,null,null,y)}o(aA,"_disableEvents");function dU(g){var y=qc(),b=H1(),S=!1,N=[],$=1;b&&!ce(b.onLine)&&!b.onLine&&($=2);var K=0,oe=S0(),_e=Cr($l("OfflineListener"),g);try{if(Ze(o1())&&(S=!0),y){var Ie=y.body||y;Ie.ononline&&Ze(Ie)&&(S=!0)}}catch{S=!1}function Ze(P0){var W0=!1;return P0&&(W0=sn(P0,"online",M0,_e),W0&&sn(P0,"offline",w0,_e)),W0}o(Ze,"_enableEvents");function x0(){return oe}o(x0,"_isOnline");function S0(){return!(K===2||$===2)}o(S0,"calCurrentState");function _0(){var P0=S0();oe!==P0&&(oe=P0,$r(N,function(W0){var zr={isOnline:oe,rState:$,uState:K};try{W0(zr)}catch{}}))}o(_0,"listnerNoticeCheck");function h0(P0){K=P0,_0()}o(h0,"setOnlineState");function M0(){$=1,_0()}o(M0,"_setOnline");function w0(){$=2,_0()}o(w0,"_setOffline");function H0(){var P0=o1();if(P0&&S){if(aA(P0,_e),y){var W0=y.body||y;f0(W0.ononline)||aA(W0,_e)}S=!1}}o(H0,"_unload");function F0(P0){return N[t_](P0),{rm:function(){var W0=N.indexOf(P0);if(W0>-1)return N.splice(W0,1)}}}return o(F0,"addListener"),{isOnline:x0,isListening:function(){return S},unload:H0,addListener:F0,setOnlineState:h0}}o(dU,"createOfflineListener");var hU="AppInsightsChannelPlugin",B2="duration",ja="tags",g_="deviceType",Ta="data",cu="name",Qh="traceID",bn="length",e9="stringify",D2="measurements",hc="dataType",L2="envelopeType",F2="toString",t9="_get",O2="enqueue",M2="count",lA="eventsLimitInMem",H4="push",m_="emitLineDelimitedJson",U2="clear",p_="batchPayloads",y_="createNew",V4="markAsSent",r9="clearSent",v_="bufferOverride",x_="BUFFER_KEY",M5="SENT_BUFFER_KEY",n9="concat",i9="MAX_BUFFER_SIZE",__="sendPOST",s9="triggerSend",Sa="diagLog",o9="_sender",b_="customHeaders",fA="maxBatchSizeInBytes",C_="onunloadDisableBeacon",E_="isBeaconApiDisabled",cA="alwaysUseXhrOverride",uA="enableSessionStorageBuffer",U5="_buffer",dA="onunloadDisableFetch",hA="disableSendBeaconSplit",gA="instrumentationKey",mA="unloadTransports",pA="convertUndefined",yA="maxBatchInterval",Jg="serialize",gU="_xhrReadyStateChange",q2="_onError",T_="_onPartialSuccess",Xg="_onSuccess",Zg="itemsAccepted",mU="itemsReceived",S_="baseType",Qg="sampleRate",a9="oriPayload",I_="setRequestHeader",vA="eventsSendRequest",xA="getSamplingScore",pU="getHashCodeScore",w_="baseType",Ds="baseData",Ia="properties",_A="true";function sa(g,y,b){return ec(g,y,b,br)}o(sa,"_setValueIf");function yU(g,y,b){var S=b[ja]=b[ja]||{},N=y.ext=y.ext||{},$=y[ja]=y[ja]||[],K=N.user;K&&(sa(S,Va.userAuthUserId,K.authId),sa(S,Va.userId,K.id||K.localId));var oe=N.app;oe&&sa(S,Va.sessionId,oe.sesId);var _e=N.device;_e&&(sa(S,Va.deviceId,_e.id||_e.localId),sa(S,Va[g_],_e.deviceClass),sa(S,Va.deviceIp,_e.ip),sa(S,Va.deviceModel,_e.model),sa(S,Va[g_],_e[g_]));var Ie=y.ext.web;if(Ie){sa(S,Va.deviceLanguage,Ie.browserLang),sa(S,Va.deviceBrowserVersion,Ie.browserVer),sa(S,Va.deviceBrowser,Ie.browser);var Ze=b[Ta]=b[Ta]||{},x0=Ze[Ds]=Ze[Ds]||{},S0=x0[Ia]=x0[Ia]||{};sa(S0,"domain",Ie.domain),sa(S0,"isManual",Ie.isManual?_A:null),sa(S0,"screenRes",Ie.screenRes),sa(S0,"userConsent",Ie.userConsent?_A:null)}var _0=N.os;_0&&sa(S,Va.deviceOS,_0[cu]);var h0=N.trace;h0&&(sa(S,Va.operationParentId,h0.parentID),sa(S,Va.operationName,ul(g,h0[cu])),sa(S,Va.operationId,h0[Qh]));for(var M0={},w0=$[bn]-1;w0>=0;w0--){var H0=$[w0];yr(H0,function(P0,W0){M0[P0]=W0}),$.splice(w0,1)}yr($,function(P0,W0){M0[P0]=W0});var F0=W1(W1({},S),M0);F0[Va.internalSdkVersion]||(F0[Va.internalSdkVersion]=ul(g,"javascript:".concat(vU.Version),64)),b[ja]=ag(F0)}o(yU,"_extractPartAExtensions");function q5(g,y,b){ce(g)||yr(g,function(S,N){Ke(N)?b[S]=N:O0(N)?y[S]=N:El()&&(y[S]=Nf()[e9](N))})}o(q5,"_extractPropsAndMeasurements");function $2(g,y){ce(g)||yr(g,function(b,S){g[b]=S||y})}o($2,"_convertPropsUndefinedToCustomDefinedValue");function H2(g,y,b,S){var N=new nU(g,S,y);sa(N,"sampleRate",b[Gs]),(b[Ds]||{}).startTime&&(N.time=l2(b[Ds].startTime)),N.iKey=b.iKey;var $=b.iKey.replace(/-/g,"");return N[cu]=N[cu].replace("{0}",$),yU(g,b,N),b[ja]=b[ja]||[],ag(N)}o(H2,"_createEnvelope");function V2(g,y){ce(y[Ds])&&Tr(g,1,46,"telemetryItem.baseData cannot be null.")}o(V2,"EnvelopeCreatorInit");var vU={Version:"3.1.0"};function xU(g,y,b){V2(g,y);var S=y[Ds][D2]||{},N=y[Ds][Ia]||{};q5(y[Ta],N,S),ce(b)||$2(N,b);var $=y[Ds];if(ce($))return A5(g,"Invalid input for dependency data"),null;var K=$[Ia]&&$[Ia][au]?$[Ia][au]:"GET",oe=new Gg(g,$.id,$.target,$[cu],$[B2],$.success,$.responseCode,K,$.type,$.correlationContext,N,S),_e=new R2(Gg[hc],oe);return H2(g,Gg[L2],y,_e)}o(xU,"DependencyEnvelopeCreator");function bA(g,y,b){V2(g,y);var S={},N={};y[w_]!==U4[hc]&&(S.baseTypeSource=y[w_]),y[w_]===U4[hc]?(S=y[Ds][Ia]||{},N=y[Ds][D2]||{}):y[Ds]&&q5(y[Ds],S,N),q5(y[Ta],S,N),ce(b)||$2(S,b);var $=y[Ds][cu],K=new U4(g,$,S,N),oe=new R2(U4[hc],K);return H2(g,U4[L2],y,oe)}o(bA,"EventEnvelopeCreator");function _U(g,y,b){V2(g,y);var S=y[Ds][D2]||{},N=y[Ds][Ia]||{};q5(y[Ta],N,S),ce(b)||$2(N,b);var $=y[Ds],K=jg.CreateFromInterface(g,$,N,S),oe=new R2(jg[hc],K);return H2(g,jg[L2],y,oe)}o(_U,"ExceptionEnvelopeCreator");function bU(g,y,b){V2(g,y);var S=y[Ds],N=S[Ia]||{},$=S[D2]||{};q5(y[Ta],N,$),ce(b)||$2(N,b);var K=new Yh(g,S[cu],S.average,S.sampleCount,S.min,S.max,S.stdDev,N,$),oe=new R2(Yh[hc],K);return H2(g,Yh[L2],y,oe)}o(bU,"MetricEnvelopeCreator");function CU(g,y,b){V2(g,y);var S,N=y[Ds];!ce(N)&&!ce(N[Ia])&&!ce(N[Ia][B2])?(S=N[Ia][B2],delete N[Ia][B2]):!ce(y[Ta])&&!ce(y[Ta][B2])&&(S=y[Ta][B2],delete y[Ta][B2]);var $=y[Ds],K;((y.ext||{}).trace||{})[Qh]&&(K=y.ext.trace[Qh]);var oe=$.id||K,_e=$[cu],Ie=$.uri,Ze=$[Ia]||{},x0=$[D2]||{};if(ce($.refUri)||(Ze.refUri=$.refUri),ce($.pageType)||(Ze.pageType=$.pageType),ce($.isLoggedIn)||(Ze.isLoggedIn=$.isLoggedIn[F2]()),!ce($[Ia])){var S0=$[Ia];yr(S0,function(M0,w0){Ze[M0]=w0})}q5(y[Ta],Ze,x0),ce(b)||$2(Ze,b);var _0=new zg(g,_e,Ie,S,Ze,x0,oe),h0=new R2(zg[hc],_0);return H2(g,zg[L2],y,h0)}o(CU,"PageViewEnvelopeCreator");function EU(g,y,b){V2(g,y);var S=y[Ds],N=S[cu],$=S.uri||S.url,K=S[Ia]||{},oe=S[D2]||{};q5(y[Ta],K,oe),ce(b)||$2(K,b);var _e=new Wg(g,N,$,void 0,K,oe,S),Ie=new R2(Wg[hc],_e);return H2(g,Wg[L2],y,Ie)}o(EU,"PageViewPerformanceEnvelopeCreator");function TU(g,y,b){V2(g,y);var S=y[Ds].message,N=y[Ds].severityLevel,$=y[Ds][Ia]||{},K=y[Ds][D2]||{};q5(y[Ta],$,K),ce(b)||$2($,b);var oe=new Kg(g,S,N,$,K),_e=new R2(Kg[hc],oe);return H2(g,Kg[L2],y,_e)}o(TU,"TraceEnvelopeCreator");var CA=function(){function g(y,b){var S=[],N=!1;this[t9]=function(){return S},this._set=function($){return S=$,S},ll(g,this,function($){$[O2]=function(K){if($[M2]()>=b[lA]){N||(Tr(y,2,105,"Maximum in-memory buffer size reached: "+$[M2](),!0),N=!0);return}S[H4](K)},$[M2]=function(){return S[bn]},$.size=function(){for(var K=S[bn],oe=0;oe<S[bn];oe++)K+=S[oe][bn];return b[m_]||(K+=2),K},$[U2]=function(){S=[],N=!1},$.getItems=function(){return S.slice(0)},$[p_]=function(K){if(K&&K[bn]>0){var oe=b[m_]?K.join(`
`):"["+K.join(",")+"]";return oe}return null},$[y_]=function(K,oe,_e){var Ie=S.slice(0);K=K||y,oe=oe||{};var Ze=_e?new EA(K,oe):new A_(K,oe);return $r(Ie,function(x0){Ze[O2](x0)}),Ze}})}return o(g,"BaseSendBuffer"),g.__ieDyn=1,g}(),A_=function(g){j3(y,g);function y(b,S){var N=g.call(this,b,S)||this;return ll(y,N,function($,K){$[V4]=function(oe){K[U2]()},$[r9]=function(oe){}}),N}return o(y,"ArraySendBuffer"),y.__ieDyn=1,y}(CA),EA=function(g){j3(y,g);function y(b,S){var N=g.call(this,b,S)||this,$=!1,K=S==null?void 0:S.namePrefix,oe=S[v_]||{getItem:ZM,setItem:QM},_e=oe.getItem,Ie=oe.setItem;return ll(y,N,function(Ze,x0){var S0=w0(y[x_]),_0=w0(y[M5]),h0=Ze._set(S0[n9](_0));h0[bn]>y[i9]&&(h0[bn]=y[i9]),H0(y[M5],[]),H0(y[x_],h0),Ze[O2]=function(F0){if(Ze[M2]()>=y[i9]){$||(Tr(b,2,67,"Maximum buffer size reached: "+Ze[M2](),!0),$=!0);return}x0[O2](F0),H0(y.BUFFER_KEY,Ze[t9]())},Ze[U2]=function(){x0[U2](),H0(y.BUFFER_KEY,Ze[t9]()),H0(y[M5],[]),$=!1},Ze[V4]=function(F0){H0(y[x_],Ze._set(M0(F0,Ze[t9]())));var P0=w0(y[M5]);P0 instanceof Array&&F0 instanceof Array&&(P0=P0[n9](F0),P0[bn]>y[i9]&&(Tr(b,1,67,"Sent buffer reached its maximum size: "+P0[bn],!0),P0[bn]=y[i9]),H0(y[M5],P0))},Ze[r9]=function(F0){var P0=w0(y[M5]);P0=M0(F0,P0),H0(y[M5],P0)},Ze[y_]=function(F0,P0,W0){W0=!!W0;var zr=Ze[t9]().slice(0),Yi=w0(y[M5]).slice(0);F0=F0||b,P0=P0||{},Ze[U2]();var Ls=W0?new y(F0,P0):new A_(F0,P0);return $r(zr,function(Cs){Ls[O2](Cs)}),W0&&Ls[V4](Yi),Ls};function M0(F0,P0){var W0=[];return $r(P0,function(zr){!v0(zr)&&Ll(F0,zr)===-1&&W0[H4](zr)}),W0}o(M0,"_removePayloadsFromBuffer");function w0(F0){var P0=F0;try{P0=K?K+"_"+P0:P0;var W0=_e(b,P0);if(W0){var zr=Nf().parse(W0);if(O0(zr)&&(zr=Nf().parse(zr)),zr&&ue(zr))return zr}}catch(Yi){Tr(b,1,42," storage key: "+P0+", "+$a(Yi),{exception:ei(Yi)})}return[]}o(w0,"_getBuffer");function H0(F0,P0){var W0=F0;try{W0=K?K+"_"+W0:W0;var zr=JSON[e9](P0);Ie(b,W0,zr)}catch(Yi){Ie(b,W0,JSON[e9]([])),Tr(b,2,41," storage key: "+W0+", "+$a(Yi)+". Buffer cleared",{exception:ei(Yi)})}}o(H0,"_setBuffer")}),N}return o(y,"SessionStorageSendBuffer"),y.BUFFER_KEY="AI_buffer",y.SENT_BUFFER_KEY="AI_sentBuffer",y.MAX_BUFFER_SIZE=2e3,y}(CA),SU=function(){function g(y){ll(g,this,function(b){b[Jg]=function(K){var oe=S(K,"root");try{return Nf()[e9](oe)}catch(_e){Tr(y,1,48,_e&&v0(_e[F2])?_e[F2]():"Error serializing object",null,!0)}};function S(K,oe){var _e="__aiCircularRefCheck",Ie={};if(!K)return Tr(y,1,48,"cannot serialize object because it is null or undefined",{name:oe},!0),Ie;if(K[_e])return Tr(y,2,50,"Circular reference detected while serializing object",{name:oe},!0),Ie;if(!K.aiDataContract){if(oe==="measurements")Ie=$(K,"number",oe);else if(oe==="properties")Ie=$(K,"string",oe);else if(oe==="tags")Ie=$(K,"string",oe);else if(ue(K))Ie=N(K,oe);else{Tr(y,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:oe},!0);try{Nf()[e9](K),Ie=K}catch(Ze){Tr(y,1,48,Ze&&v0(Ze[F2])?Ze[F2]():"Error serializing object",null,!0)}}return Ie}return K[_e]=!0,yr(K.aiDataContract,function(Ze,x0){var S0=v0(x0)?x0()&1:x0&1,_0=v0(x0)?x0()&4:x0&4,h0=x0&2,M0=K[Ze]!==void 0,w0=fr(K[Ze])&&K[Ze]!==null;if(S0&&!M0&&!h0)Tr(y,1,24,"Missing required field specification. The field is required but not present on source",{field:Ze,name:oe});else if(!_0){var H0=void 0;w0?h0?H0=N(K[Ze],Ze):H0=S(K[Ze],Ze):H0=K[Ze],H0!==void 0&&(Ie[Ze]=H0)}}),delete K[_e],Ie}o(S,"_serializeObject");function N(K,oe){var _e;if(K)if(!ue(K))Tr(y,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:oe},!0);else{_e=[];for(var Ie=0;Ie<K[bn];Ie++){var Ze=K[Ie],x0=S(Ze,oe+"["+Ie+"]");_e[H4](x0)}}return _e}o(N,"_serializeArray");function $(K,oe,_e){var Ie;return K&&(Ie={},yr(K,function(Ze,x0){if(oe==="string")x0===void 0?Ie[Ze]="undefined":x0===null?Ie[Ze]="null":x0[F2]?Ie[Ze]=x0[F2]():Ie[Ze]="invalid field: toString() is not defined.";else if(oe==="number")if(x0===void 0)Ie[Ze]="undefined";else if(x0===null)Ie[Ze]="null";else{var S0=parseFloat(x0);Ie[Ze]=S0}else Ie[Ze]="invalid field: "+_e+" is of unknown type.",Tr(y,1,Ie[Ze],null,!0)})),Ie}o($,"_serializeStringMap")})}return o(g,"Serializer"),g.__ieDyn=1,g}(),IU=8,wU=function(){function g(){}return o(g,"HashCodeScoreGenerator"),g.prototype.getHashCodeScore=function(y){var b=this.getHashCode(y)/g.INT_MAX_VALUE;return b*100},g.prototype.getHashCode=function(y){if(y==="")return 0;for(;y[bn]<IU;)y=y[n9](y);for(var b=5381,S=0;S<y[bn];++S)b=(b<<5)+b+y.charCodeAt(S),b=b&b;return Math.abs(b)},g.INT_MAX_VALUE=2147483647,g}(),AU=function(){function g(){var y=this,b=new wU,S=new oA;y[xA]=function(N){var $=0;return N[ja]&&N[ja][S.userId]?$=b.getHashCodeScore(N[ja][S.userId]):N.ext&&N.ext.user&&N.ext.user.id?$=b[pU](N.ext.user.id):N[ja]&&N[ja][S.operationId]?$=b.getHashCodeScore(N[ja][S.operationId]):N.ext&&N.ext.telemetryTrace&&N.ext.telemetryTrace[Qh]?$=b.getHashCodeScore(N.ext.telemetryTrace[Qh]):$=Math.random()*100,$}}return o(g,"SamplingScoreGenerator"),g}(),PU=function(){function g(y,b){this.INT_MAX_VALUE=2147483647;var S=b||_2(null);(y>100||y<0)&&(S.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:y},!0),y=100),this[Qg]=y,this.samplingScoreGenerator=new AU}return o(g,"Sample"),g.prototype.isSampledIn=function(y){var b=this[Qg],S=!1;return b==null||b>=100||y.baseType===Yh[hc]?!0:(S=this.samplingScoreGenerator[xA](y)<b,S)},g}(),$s,uu,du=void 0,TA="",NU=65e3;function em(g){try{return g.responseText}catch{}return null}o(em,"_getResponseText");function RU(g){return g&&g[__]}o(RU,"isOverrideFn");function SA(g,y){return y&&(Ke(y)?g=[y][n9](g):ue(y)&&(g=y[n9](g))),g}o(SA,"_prependTransports");var IA=yn(($s={endpointUrl:y2(br,v1+x1)},$s[m_]=Df(),$s[yA]=15e3,$s[fA]=102400,$s.disableTelemetry=Df(),$s[uA]=Df(!0),$s.isRetryDisabled=Df(),$s[E_]=Df(!0),$s[hA]=Df(!0),$s.disableXhr=Df(),$s[dA]=Df(),$s[C_]=Df(),$s[gA]=du,$s.namePrefix=du,$s.samplingPercentage=y2(kU,100),$s[b_]=du,$s[pA]=du,$s[lA]=1e4,$s[v_]=!1,$s.httpXHROverride={isVal:RU,v:du},$s[cA]=Df(),$s.transports=du,$s));function kU(g){return!isNaN(g)&&g>0&&g<=100}o(kU,"_chkSampling");var BU=(uu={},uu[U4.dataType]=bA,uu[Kg.dataType]=TU,uu[zg.dataType]=CU,uu[Wg.dataType]=EU,uu[jg.dataType]=_U,uu[Yh.dataType]=bU,uu[Gg.dataType]=xU,uu),wA=function(g){j3(y,g);function y(){var b=g.call(this)||this;b.priority=1001,b.identifier=hU;var S,N,$,K,oe,_e,Ie,Ze=0,x0,S0,_0,h0,M0,w0,H0,F0,P0,W0,zr,Yi,Ls,Cs,wa,oa,l9,$5,Q0,b1,j2,H5,hu,Lf,j4;return ll(y,b,function($0,tm){RA(),$0.pause=function(){F_(),$=!0},$0.resume=function(){$&&($=!1,N=null,Or(),L_())},$0.flush=function(a0,E0,Z0){if(a0===void 0&&(a0=!0),!$){F_();try{return $0[s9](a0,null,Z0||1)}catch(xt){Tr($0[Sa](),1,22,"flush failed, telemetry will not be collected: "+$a(xt),{exception:ei(xt)})}}},$0.onunloadFlush=function(){if(!$)if(H0||b1)try{return $0[s9](!0,aa,2)}catch(a0){Tr($0[Sa](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+$a(a0),{exception:ei(a0)})}else $0.flush(!1)},$0.addHeader=function(a0,E0){Ie[a0]=E0},$0.initialize=function(a0,E0,Z0,xt){$0.isInitialized()&&Tr($0[Sa](),1,28,"Sender is already initialized"),tm.initialize(a0,E0,Z0,xt);var hr=$0.identifier;oe=new SU(E0.logger),S=0,N=null,$0[o9]=null,_e=0;var Er=$0[Sa]();_0=Cr($l("Sender"),E0.evtNamespace&&E0.evtNamespace()),S0=dU(_0),$0._addHook(T5(a0,function(hn){var gn=hn.cfg;gn.storagePrefix&&XM(gn.storagePrefix);var dl=ac(null,gn,E0),Ir=dl.getExtCfg(hr,IA);ks($0,"_senderConfig",{g:function(){return Ir}}),M0!==Ir.endpointUrl&&(h0=M0=Ir.endpointUrl),W0&&W0!==Ir[b_]&&$r(W0,function(la){delete Ie[la.header]}),w0=Ir[fA],H0=(Ir[C_]===!1||Ir[E_]===!1)&&Rf(),F0=Ir[C_]===!1&&Rf(),P0=Ir[E_]===!1&&Rf(),b1=Ir[cA],j2=!!Ir.disableXhr;var C1=Ir[v_],gc=!!Ir[uA]&&(!!C1||Zw()),z4=Ir.namePrefix,sm=gc!==oa||gc&&$5!==z4||gc&&l9!==C1;if($0[U5]){if(sm)try{$0._buffer=$0._buffer[y_](Er,Ir,gc)}catch(la){Tr($0[Sa](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+$a(la),{exception:ei(la)})}Or()}else $0[U5]=gc?new EA(Er,Ir):new A_(Er,Ir);$5=z4,oa=gc,l9=C1,H5=!Ir[dA]&&Qc(!0),j4=!!Ir[hA],$0._sample=new PU(Ir.samplingPercentage,Er),Yi=Ir[gA],$U(Yi,gn)||Tr(Er,1,100,"Invalid Instrumentation key "+Yi),W0=Ir[b_],!Hg(h0)&&W0&&W0[bn]>0?$r(W0,function(la){b.addHeader(la.header,la.value)}):W0=null,Q0=Ir.enableSendPromise;var mc=Ir.httpXHROverride,G2=null,j5=null,hl=SA([3,1,2],Ir.transports);G2=c9(hl,!1);var Ff={sendPOST:V5};hu=o(function(la,K2){return A0(Ff,la,K2)},"_xhrSend"),Lf=o(function(la,K2){return A0(Ff,la,K2,!1)},"_fallbackSend"),G2=b1?mc:G2||mc||Ff,$0[o9]=function(la,K2){return A0(G2,la,K2)},H5&&(x0=im);var u9=SA([3,1],Ir[mA]);H5||(u9=u9.filter(function(la){return la!==2})),j5=c9(u9,!0),j5=b1?mc:j5||mc,(b1||Ir[mA]||!x0)&&j5&&(x0=o(function(la,K2){return A0(j5,la,K2)},"_syncUnloadSender")),x0||(x0=hu),zr=Ir.disableTelemetry,Ls=Ir[pA]||du,Cs=Ir.isRetryDisabled,wa=Ir[yA]}))},$0.processTelemetry=function(a0,E0){E0=$0._getTelCtx(E0);var Z0=E0[Sa]();try{var xt=z2(a0,Z0);if(!xt)return;var hr=f9(a0,Z0);if(!hr)return;var Er=oe[Jg](hr),hn=$0[U5];Or(Er),hn[O2](Er),L_()}catch(gn){Tr(Z0,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+$a(gn),{exception:ei(gn)})}$0.processNext(a0,E0)},$0.isCompletelyIdle=function(){return!$&&Ze===0&&$0._buffer[M2]()===0},$0[gU]=function(a0,E0,Z0){a0.readyState===4&&Mr(a0.status,E0,a0.responseURL,Z0,O_(a0),em(a0)||a0.response)},$0[s9]=function(a0,E0,Z0){a0===void 0&&(a0=!0);var xt;if(!$)try{var hr=$0[U5];if(zr)hr[U2]();else if(hr[M2]()>0){var Er=hr.getItems();qU(Z0||0,a0),E0?xt=E0.call($0,Er,a0):xt=$0[o9](Er,a0)}F_()}catch(gn){var hn=y5();(!hn||hn>9)&&Tr($0[Sa](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+$a(gn),{exception:ei(gn)})}return xt},$0.getOfflineSupport=function(){var a0;return a0={getUrl:function(){return h0},createPayload:rm},a0[Jg]=R_,a0.batch=k_,a0.shouldProcess=function(E0){return!!z2(E0)},a0},$0._doTeardown=function(a0,E0){$0.onunloadFlush(),S5(S0,!1),RA()},$0[q2]=function(a0,E0,Z0){Tr($0[Sa](),2,26,"Failed to send telemetry.",{message:E0}),$0._buffer&&$0._buffer[r9](a0)},$0[T_]=function(a0,E0){for(var Z0=[],xt=[],hr=E0.errors.reverse(),Er=0,hn=hr;Er<hn.length;Er++){var gn=hn[Er],dl=a0.splice(gn.index,1)[0];PA(gn.statusCode)?xt[H4](dl):Z0[H4](dl)}a0[bn]>0&&$0[Xg](a0,E0[Zg]),Z0[bn]>0&&$0[q2](Z0,O_(null,["partial success",E0[Zg],"of",E0.itemsReceived].join(" "))),xt[bn]>0&&(D_(xt),Tr($0[Sa](),2,40,"Partial success. Delivered: "+a0[bn]+", Failed: "+Z0[bn]+". Will retry to send "+xt[bn]+" our of "+E0[mU]+" items"))},$0[Xg]=function(a0,E0){$0._buffer&&$0._buffer[r9](a0)},$0._xdrOnLoad=function(a0,E0){var Z0=em(a0);if(a0&&(Z0+""=="200"||Z0===""))S=0,$0[Xg](E0,0);else{var xt=B_(Z0);xt&&xt.itemsReceived&&xt.itemsReceived>xt[Zg]&&!Cs?$0[T_](E0,xt):$0[q2](E0,NA(a0))}};function z2(a0,E0){if(zr)return!1;if(!a0)return E0&&Tr(E0,1,7,"Cannot send empty telemetry"),!1;if(a0.baseData&&!a0[S_])return E0&&Tr(E0,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(a0[S_]||(a0[S_]="EventData"),!$0[o9])return E0&&Tr(E0,1,28,"Sender was not initialized"),!1;if(nm(a0))a0[Gs]=$0._sample[Qg];else return E0&&Tr(E0,2,33,"Telemetry item was sampled out and not sent",{SampleRate:$0._sample[Qg]}),!1;return!0}o(z2,"_validate");function f9(a0,E0){var Z0=a0.iKey||Yi,xt=y.constructEnvelope(a0,Z0,E0,Ls);if(!xt){Tr(E0,1,47,"Unable to create an AppInsights envelope");return}var hr=!1;if(a0[ja]&&a0[ja][Ks]&&($r(a0[ja][Ks],function(Er){try{Er&&Er(xt)===!1&&(hr=!0,A5(E0,"Telemetry processor check returns false"))}catch(hn){Tr(E0,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+$a(hn),{exception:ei(hn)},!0)}}),delete a0[ja][Ks]),!hr)return xt}o(f9,"_getEnvelope");function R_(a0){var E0=TA,Z0=$0[Sa]();try{var xt=z2(a0,Z0),hr=null;xt&&(hr=f9(a0,Z0)),hr&&(E0=oe[Jg](hr))}catch{}return E0}o(R_,"_serialize");function k_(a0){var E0=TA;return a0&&a0[bn]&&(E0="["+a0.join(",")+"]"),E0}o(k_,"_batch");function rm(a0){var E0,Z0=Ie;return Hg(h0)&&(Z0[D5[6]]=D5[7]),E0={urlString:h0},E0[Ta]=a0,E0.headers=Z0,E0}o(rm,"_createPayload");function nm(a0){return $0._sample.isSampledIn(a0)}o(nm,"_isSampledIn");function c9(a0,E0){for(var Z0,xt=null,hr=null,Er=0;hr==null&&Er<a0[bn];)xt=a0[Er],!j2&&xt===1?c2()?hr=MU:x4()&&(hr=V5):xt===2&&Qc(E0)?hr=Wr:xt===3&&(E0?F0:P0)&&(hr=Vl),Er++;return hr?(Z0={},Z0[__]=hr,Z0):null}o(c9,"_getSenderInterface");function gu(a0,E0,Z0,xt){E0===200&&a0?$0._onSuccess(a0,a0[bn]):xt&&$0[q2](a0,xt)}o(gu,"_getOnComplete");function A0(a0,E0,Z0,xt){xt===void 0&&(xt=!0);var hr=o(function(gn,dl,Ir){return gu(E0,gn,dl,Ir)},"onComplete"),Er=St(E0),hn=a0&&a0[__];return hn&&Er?(xt&&$0._buffer[V4](E0),hn(Er,hr,!Z0)):null}o(A0,"_doSend");function St(a0){var E0;if(ue(a0)&&a0[bn]>0){var Z0=$0._buffer[p_](a0),xt=(E0={},E0[Ta]=Z0,E0.urlString=h0,E0.headers=Ie,E0.disableXhrSync=j2,E0.disableFetchKeepAlive=!H5,E0[a9]=a0,E0);return xt}return null}o(St,"_getPayload");function Wr(a0,E0,Z0){return AA(a0,E0,!1)}o(Wr,"_fetchSender");function Or(a0){var E0=a0?a0[bn]:0;return $0[U5].size()+E0>w0?((!S0||S0.isOnline())&&$0[s9](!0,null,10),!0):!1}o(Or,"_checkMaxSize");function Mr(a0,E0,Z0,xt,hr,Er){var hn=null;if($0._appId||(hn=B_(Er),hn&&hn.appId&&($0._appId=hn.appId)),(a0<200||a0>=300)&&a0!==0){if((a0===301||a0===307||a0===308)&&!ys(Z0)){$0[q2](E0,hr);return}!Cs&&PA(a0)?(D_(E0),Tr($0[Sa](),2,40,". Response code "+a0+". Will retry to send "+E0[bn]+" items.")):$0[q2](E0,hr)}else if(S0&&!S0.isOnline()){if(!Cs){var gn=10;D_(E0,gn),Tr($0[Sa](),2,40,". Offline - Response Code: ".concat(a0,". Offline status: ").concat(!S0.isOnline(),". Will retry to send ").concat(E0.length," items."))}}else ys(Z0),a0===206?(hn||(hn=B_(Er)),hn&&!Cs?$0[T_](E0,hn):$0[q2](E0,hr)):(S=0,$0[Xg](E0,xt))}o(Mr,"_checkResponsStatus");function ys(a0){return _e>=10?!1:!ce(a0)&&a0!==""&&a0!==h0?(h0=a0,++_e,!0):!1}o(ys,"_checkAndUpdateEndPointUrl");function Ui(a0,E0,Z0,xt){try{a0(E0,Z0,xt)}catch{}}o(Ui,"_doOnComplete");function aa(a0,E0){if(x0)x0(a0,!1);else{var Z0=St(a0);$0._buffer[V4](a0),Vl(Z0)}}o(aa,"_doUnloadSend");function ya(a0,E0){var Z0=H1(),xt=h0,hr=$0[U5],Er=hr[p_](a0),hn=new Blob([Er],{type:"text/plain;charset=UTF-8"}),gn=Z0.sendBeacon(xt,hn);return gn&&$0._onSuccess(a0,a0[bn]),gn}o(ya,"_doBeaconSend");function Vl(a0,E0,Z0){var xt=a0,hr=xt&&xt[a9];if(ue(hr)&&hr[bn]>0&&!ya(hr))if(j4)Lf&&Lf(hr,!0),Tr($0[Sa](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var Er=[],hn=0;hn<hr[bn];hn++){var gn=hr[hn];ya([gn])||Er[H4](gn)}Er[bn]>0&&(Lf&&Lf(Er,!0),Tr($0[Sa](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}o(Vl,"_beaconSender");function V5(a0,E0,Z0){var xt=a0,hr,Er,hn,gn=new XMLHttpRequest,dl=h0;try{gn[ea]=!0}catch{}return gn.open("POST",dl,!Z0),gn[I_]("Content-type","application/json"),Hg(dl)&&gn[I_](D5[6],D5[7]),$r(Ql(Ie),function(Ir){gn[I_](Ir,Ie[Ir])}),gn.onreadystatechange=function(){var Ir=xt[a9];$0._xhrReadyStateChange(gn,Ir,Ir[bn]),gn.readyState===4&&Er&&Er(!0)},gn.onerror=function(Ir){Ui(E0,400,{},O_(gn)),hn&&hn(Ir)},!Z0&&Q0&&(hr=u5(function(Ir,C1){Er=Ir,hn=C1})),gn.send(a0[Ta]),hr}o(V5,"_xhrSender");function im(a0,E0){var Z0=o(function(hn,gn,dl){return gu(a0,hn,gn,dl)},"onComplete");if(ue(a0)){for(var xt=a0[bn],hr=0;hr<a0[bn];hr++)xt+=a0[hr][bn];var Er=St(a0);$0._buffer[V4](a0),Ze+xt<=NU?AA(Er,Z0,!0):Rf()?Vl(Er):(Lf&&Lf(a0,!0),Tr($0[Sa](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}o(im,"_fetchKeepAliveSender");function AA(a0,E0,Z0){var xt,hr=h0,Er=a0,hn=Er[Ta],gn=new Blob([hn],{type:"application/json"}),dl,Ir,C1,gc=new Headers,z4=hn[bn],sm=!1,mc=!1;Hg(hr)&&gc.append(D5[6],D5[7]),$r(Ql(Ie),function(hl){gc.append(hl,Ie[hl])});var G2=(xt={method:"POST",headers:gc,body:gn},xt[ea]=!0,xt);Z0&&(G2.keepalive=!0,sm=!0,Ze+=z4);var j5=new Request(hr,G2);try{j5[ea]=!0}catch{}!Z0&&Q0&&(dl=u5(function(hl,Ff){Ir=hl,C1=Ff}));try{d4(fetch(j5),function(hl){if(Z0&&(Ze-=z4,z4=0),!mc)if(mc=!0,hl.rejected)Ui(E0,400,{},hl.reason&&hl.reason.message),C1&&C1(hl.reason);else{var Ff=hl.value;Ff.ok?d4(Ff.text(),function(u9){var la=Er[a9];Mr(Ff.status,la,Ff.url,la[bn],Ff.statusText,u9.value||""),Ir&&Ir(!0)}):(Ui(E0,400,{},Ff.statusText),Ir&&Ir(!1))}})}catch(hl){mc||(Ui(E0,400,{},ei(hl)),C1&&C1(hl))}return sm&&!mc&&(mc=!0,Ui(E0,200,{}),Ir&&Ir(!0)),dl}o(AA,"_doFetchSender");function B_(a0){try{if(a0&&a0!==""){var E0=Nf().parse(a0);if(E0&&E0.itemsReceived&&E0.itemsReceived>=E0[Zg]&&E0.itemsReceived-E0.itemsAccepted===E0.errors[bn])return E0}}catch(Z0){Tr($0[Sa](),1,43,"Cannot parse the response. "+$a(Z0),{response:a0})}return null}o(B_,"_parseResponse");function D_(a0,E0){if(E0===void 0&&(E0=1),!(!a0||a0[bn]===0)){var Z0=$0[U5];Z0[r9](a0),S++;for(var xt=0,hr=a0;xt<hr.length;xt++){var Er=hr[xt];Z0[O2](Er)}OU(E0),L_()}}o(D_,"_resendPayload");function OU(a0){var E0=10,Z0;if(S<=1)Z0=E0;else{var xt=(Math.pow(2,S)-1)/2,hr=Math.floor(Math.random()*xt*E0)+1;hr=a0*hr,Z0=Math.max(Math.min(hr,3600),E0)}var Er=j1()+Z0*1e3;N=Er}o(OU,"_setRetryTime");function L_(){if(!K&&!$){var a0=N?Math.max(0,N-j1()):0,E0=Math.max(wa,a0);K=If(function(){K=null,$0[s9](!0,null,1)},E0)}}o(L_,"_setupTimer");function F_(){K&&K.cancel(),K=null,N=null}o(F_,"_clearScheduledTimer");function PA(a0){return a0===401||a0===403||a0===408||a0===429||a0===500||a0===502||a0===503||a0===504}o(PA,"_isRetriable");function O_(a0,E0){return a0?"XMLHttpRequest,Status:"+a0.status+",Response:"+em(a0)||a0.response||"":E0}o(O_,"_formatErrorMessageXhr");function MU(a0,E0,Z0){var xt=a0,hr=o1(),Er=new XDomainRequest,hn=xt[Ta];Er.onload=function(){var Ir=xt[a9];$0._xdrOnLoad(Er,Ir)},Er.onerror=function(){Ui(E0,400,{},NA(Er))};var gn=hr&&hr.location&&hr.location.protocol||"";if(h0.lastIndexOf(gn,0)!==0){Tr($0[Sa](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),$0._buffer[U2]();return}var dl=h0.replace(/^(https?:)/,"");Er.open("POST",dl),Er.send(hn)}o(MU,"_xdrSender");function NA(a0,E0){return a0?"XDomainRequest,Response:"+em(a0)||"":E0}o(NA,"_formatErrorMessageXdr");function UU(){var a0="getNotifyMgr";return $0.core[a0]?$0.core[a0]():$0.core._notificationManager}o(UU,"_getNotifyMgr");function qU(a0,E0){var Z0=UU();if(Z0&&Z0[vA])try{Z0[vA](a0,E0)}catch(xt){Tr($0[Sa](),1,74,"send request notification failed: "+$a(xt),{exception:ei(xt)})}}o(qU,"_notifySendRequest");function $U(a0,E0){var Z0=E0.disableInstrumentationKeyValidation,xt=ce(Z0)?!1:Z0;if(xt)return!0;var hr="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",Er=new RegExp(hr);return Er.test(a0)}o($U,"_validateInstrumentationKey");function RA(){$0[o9]=null,$0[U5]=null,$0._appId=null,$0._sample=null,Ie={},S0=null,S=0,N=null,$=!1,K=null,oe=null,_e=0,Ze=0,x0=null,_0=null,h0=null,M0=null,w0=0,H0=!1,W0=null,zr=!1,Yi=null,Ls=du,Cs=!1,oa=null,$5=du,j2=!1,H5=!1,j4=!1,hu=null,Lf=null,ks($0,"_senderConfig",{g:function(){return f2({},IA)}})}o(RA,"_initDefaults")}),b}return o(y,"Sender"),y.constructEnvelope=function(b,S,N,$){var K;S!==b.iKey&&!ce(S)?K=W1(W1({},b),{iKey:S}):K=b;var oe=BU[K.baseType]||bA;return oe(N,K,$)},y}(Hh),P_="instrumentationKey",N_="connectionString",DU={diagnosticLogInterval:y2(LU,1e4)};function LU(g){return g&&g>0}o(LU,"_chkDiagLevel");var FU=function(){function g(y){var b=new Zr,S;(ce(y)||ce(y[P_])&&ce(y[N_]))&&Es("Invalid input configuration"),ll(g,this,function($){ks($,"config",{g:function(){return S}}),K(),$.initialize=K,$.track=N,ch($,b,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange"]);function K(){var oe=Ea(y||{},DU);S=oe.cfg,b.addUnloadHook(T5(oe,function(){if(S[N_]){var _e=rU(S[N_]),Ie=_e.ingestionendpoint;S.endpointUrl=Ie?Ie+x1:S.endpointUrl,S[P_]=_e.instrumentationkey||S[P_]}})),b.initialize(S,[new wA])}o(K,"_initialize")});function N($){$&&($.baseData=$.baseData||{},$.baseType=$.baseType||"EventData"),b.track($)}o(N,"_track")}return o(g,"ApplicationInsights"),g.__ieDyn=1,g}();e.AppInsightsCore=Zr,e.ApplicationInsights=FU,e.Sender=wA,e.SeverityLevel=uU,e.arrForEach=$r,e.isNullOrUndefined=ce,e.proxyFunctions=ch,e.throwError=Es})});var AE=y0((Qne,dk)=>{"use strict";var uk=require("fs"),wE;function Iz(){try{return uk.statSync("/.dockerenv"),!0}catch{return!1}}o(Iz,"hasDockerEnv");function wz(){try{return uk.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}o(wz,"hasDockerCGroup");dk.exports=()=>(wE===void 0&&(wE=Iz()||wz()),wE)});var mk=y0((tie,PE)=>{"use strict";var Az=require("os"),Pz=require("fs"),hk=AE(),gk=o(()=>{if(process.platform!=="linux")return!1;if(Az.release().toLowerCase().includes("microsoft"))return!hk();try{return Pz.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!hk():!1}catch{return!1}},"isWsl");process.env.__IS_WSL_TEST__?PE.exports=gk:PE.exports=gk()});var yk=y0((nie,pk)=>{"use strict";pk.exports=(e,t,r)=>{let n=o(s=>Object.defineProperty(e,t,{value:s,enumerable:!0,writable:!0}),"define");return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let s=r();return n(s),s},set(s){n(s)}}),e}});var Tk=y0((sie,Ek)=>{var Nz=require("path"),Rz=require("child_process"),{promises:my,constants:Ck}=require("fs"),gy=mk(),kz=AE(),RE=yk(),vk=Nz.join(__dirname,"xdg-open"),{platform:z8,arch:xk}=process,Bz=o(()=>{try{return my.statSync("/run/.containerenv"),!0}catch{return!1}},"hasContainerEnv"),NE;function Dz(){return NE===void 0&&(NE=Bz()||kz()),NE}o(Dz,"isInsideContainer");var Lz=(()=>{let e="/mnt/",t;return async function(){if(t)return t;let r="/etc/wsl.conf",n=!1;try{await my.access(r,Ck.F_OK),n=!0}catch{}if(!n)return e;let s=await my.readFile(r,{encoding:"utf8"}),l=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(s);return l?(t=l.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),_k=o(async(e,t)=>{let r;for(let n of e)try{return await t(n)}catch(s){r=s}throw r},"pTryEach"),py=o(async e=>{if(e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e},Array.isArray(e.app))return _k(e.app,f=>py({...e,app:f}));let{name:t,arguments:r=[]}=e.app||{};if(r=[...r],Array.isArray(t))return _k(t,f=>py({...e,app:{name:f,arguments:r}}));let n,s=[],l={};if(z8==="darwin")n="open",e.wait&&s.push("--wait-apps"),e.background&&s.push("--background"),e.newInstance&&s.push("--new"),t&&s.push("-a",t);else if(z8==="win32"||gy&&!Dz()&&!t){let f=await Lz();n=gy?`${f}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,s.push("-NoProfile","-NonInteractive","\u2013ExecutionPolicy","Bypass","-EncodedCommand"),gy||(l.windowsVerbatimArguments=!0);let c=["Start"];e.wait&&c.push("-Wait"),t?(c.push(`"\`"${t}\`""`,"-ArgumentList"),e.target&&r.unshift(e.target)):e.target&&c.push(`"${e.target}"`),r.length>0&&(r=r.map(u=>`"\`"${u}\`""`),c.push(r.join(","))),e.target=Buffer.from(c.join(" "),"utf16le").toString("base64")}else{if(t)n=t;else{let f=!__dirname||__dirname==="/",c=!1;try{await my.access(vk,Ck.X_OK),c=!0}catch{}n=process.versions.electron||z8==="android"||f||!c?"xdg-open":vk}r.length>0&&s.push(...r),e.wait||(l.stdio="ignore",l.detached=!0)}e.target&&s.push(e.target),z8==="darwin"&&r.length>0&&s.push("--args",...r);let a=Rz.spawn(n,s,l);return e.wait?new Promise((f,c)=>{a.once("error",c),a.once("close",u=>{if(!e.allowNonzeroExitCode&&u>0){c(new Error(`Exited with code ${u}`));return}f(a)})}):(a.unref(),a)},"baseOpen"),kE=o((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return py({...t,target:e})},"open"),Fz=o((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `name`");let{arguments:r=[]}=t||{};if(r!=null&&!Array.isArray(r))throw new TypeError("Expected `appArguments` as Array type");return py({...t,app:{name:e,arguments:r}})},"openApp");function bk(e){if(typeof e=="string"||Array.isArray(e))return e;let{[xk]:t}=e;if(!t)throw new Error(`${xk} is not supported`);return t}o(bk,"detectArchBinary");function BE({[z8]:e},{wsl:t}){if(t&&gy)return bk(t);if(!e)throw new Error(`${z8} is not supported`);return bk(e)}o(BE,"detectPlatformBinary");var yy={};RE(yy,"chrome",()=>BE({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));RE(yy,"firefox",()=>BE({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));RE(yy,"edge",()=>BE({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));kE.apps=yy;kE.openApp=Fz;Ek.exports=kE});var UE=y0((kie,Pk)=>{"use strict";Pk.exports=o(function(t,r){r===!0&&(r=0);var n="";if(typeof t=="string")try{n=new URL(t).protocol}catch{}else t&&t.constructor===URL&&(n=t.protocol);var s=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?s[r]:s},"protocols")});var Rk=y0((Die,Nk)=>{"use strict";var Uz=UE();function qz(e){var t={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:e,query:{},parse_failed:!1};try{var r=new URL(e);t.protocols=Uz(r),t.protocol=t.protocols[0],t.port=r.port,t.resource=r.hostname,t.host=r.host,t.user=r.username||"",t.password=r.password||"",t.pathname=r.pathname,t.hash=r.hash.slice(1),t.search=r.search.slice(1),t.href=r.href,t.query=Object.fromEntries(r.searchParams)}catch{t.protocols=["file"],t.protocol=t.protocols[0],t.port="",t.resource="",t.user="",t.pathname="",t.hash="",t.search="",t.href=e,t.query={},t.parse_failed=!0}return t}o(qz,"parsePath");Nk.exports=qz});var Dk=y0((Fie,Bk)=>{"use strict";var $z=Rk();function Hz(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}o(Hz,"_interopDefaultLegacy");var Vz=Hz($z),jz="text/plain",zz="us-ascii",kk=o((e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),"testParameter"),Gz=o((e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:s,hash:l}=r.groups,a=n.split(";");l=t?"":l;let f=!1;a[a.length-1]==="base64"&&(a.pop(),f=!0);let c=(a.shift()||"").toLowerCase(),d=[...a.map(h=>{let[m,p=""]=h.split("=").map(v=>v.trim());return m==="charset"&&(p=p.toLowerCase(),p===zz)?"":`${m}${p?`=${p}`:""}`}).filter(Boolean)];return f&&d.push("base64"),(d.length>0||c&&c!==jz)&&d.unshift(c),`data:${d.join(";")},${f?s.trim():s}${l?`#${l}`:""}`},"normalizeDataURL");function Kz(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return Gz(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let s=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&s.protocol==="https:"&&(s.protocol="http:"),t.forceHttps&&s.protocol==="http:"&&(s.protocol="https:"),t.stripAuthentication&&(s.username="",s.password=""),t.stripHash?s.hash="":t.stripTextFragment&&(s.hash=s.hash.replace(/#?:~:text.*?$/i,"")),s.pathname){let a=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,f=0,c="";for(;;){let d=a.exec(s.pathname);if(!d)break;let h=d[0],m=d.index,p=s.pathname.slice(f,m);c+=p.replace(/\/{2,}/g,"/"),c+=h,f=m+h.length}let u=s.pathname.slice(f,s.pathname.length);c+=u.replace(/\/{2,}/g,"/"),s.pathname=c}if(s.pathname)try{s.pathname=decodeURI(s.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let a=s.pathname.split("/"),f=a[a.length-1];kk(f,t.removeDirectoryIndex)&&(a=a.slice(0,-1),s.pathname=a.slice(1).join("/")+"/")}if(s.hostname&&(s.hostname=s.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(s.hostname)&&(s.hostname=s.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let a of[...s.searchParams.keys()])kk(a,t.removeQueryParameters)&&s.searchParams.delete(a);if(t.removeQueryParameters===!0&&(s.search=""),t.sortQueryParameters){s.searchParams.sort();try{s.search=decodeURIComponent(s.search)}catch{}}t.removeTrailingSlash&&(s.pathname=s.pathname.replace(/\/$/,""));let l=e;return e=s.toString(),!t.removeSingleSlash&&s.pathname==="/"&&!l.endsWith("/")&&s.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||s.pathname==="/")&&s.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}o(Kz,"normalizeUrl");var qE=o((e,t=!1)=>{let r=/^(?:([a-z_][a-z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:]([\~,\.\w,\-,\_,\/]+?(?:\.git|\/)?)$/,n=o(l=>{let a=new Error(l);throw a.subject_url=e,a},"throwErr");(typeof e!="string"||!e.trim())&&n("Invalid url."),e.length>qE.MAX_INPUT_LENGTH&&n("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),t&&(typeof t!="object"&&(t={stripHash:!1}),e=Kz(e,t));let s=Vz.default(e);if(s.parse_failed){let l=s.href.match(r);l?(s.protocols=["ssh"],s.protocol="ssh",s.resource=l[2],s.host=l[2],s.user=l[1],s.pathname=`/${l[3]}`,s.parse_failed=!1):n("URL parsing failed.")}return s},"parseUrl");qE.MAX_INPUT_LENGTH=2048;Bk.exports=qE});var Ok=y0((Mie,Fk)=>{"use strict";var Wz=UE();function Lk(e){if(Array.isArray(e))return e.indexOf("ssh")!==-1||e.indexOf("rsync")!==-1;if(typeof e!="string")return!1;var t=Wz(e);if(e=e.substring(e.indexOf("://")+3),Lk(t))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!e.match(r)&&e.indexOf("@")<e.indexOf(":")}o(Lk,"isSsh");Fk.exports=Lk});var qk=y0((qie,Uk)=>{"use strict";var Yz=Dk(),Mk=Ok();function Jz(e){var t=Yz(e);return t.token="",t.password==="x-oauth-basic"?t.token=t.user:t.user==="x-token-auth"&&(t.token=t.password),Mk(t.protocols)||t.protocols.length===0&&Mk(e)?t.protocol="ssh":t.protocols.length?t.protocol=t.protocols[0]:(t.protocol="file",t.protocols=["file"]),t.href=t.href.replace(/\/$/,""),t}o(Jz,"gitUp");Uk.exports=Jz});var Hk=y0((Hie,$k)=>{"use strict";var Xz=qk();function $E(e){if(typeof e!="string")throw new Error("The url must be a string.");var t=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;t.test(e)&&(e="https://github.com/"+e);var r=Xz(e),n=r.resource.split("."),s=null;switch(r.toString=function(E){return $E.stringify(this,E)},r.source=n.length>2?n.slice(1-n.length).join("."):r.source=r.resource,r.git_suffix=/\.git$/.test(r.pathname),r.name=decodeURIComponent((r.pathname||r.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),r.owner=decodeURIComponent(r.user),r.source){case"git.cloudforge.com":r.owner=r.user,r.organization=n[0],r.source="cloudforge.com";break;case"visualstudio.com":if(r.resource==="vs-ssh.visualstudio.com"){s=r.name.split("/"),s.length===4&&(r.organization=s[1],r.owner=s[2],r.name=s[3],r.full_name=s[2]+"/"+s[3]);break}else{s=r.name.split("/"),s.length===2?(r.owner=s[1],r.name=s[1],r.full_name="_git/"+r.name):s.length===3?(r.name=s[2],s[0]==="DefaultCollection"?(r.owner=s[2],r.organization=s[0],r.full_name=r.organization+"/_git/"+r.name):(r.owner=s[0],r.full_name=r.owner+"/_git/"+r.name)):s.length===4&&(r.organization=s[0],r.owner=s[1],r.name=s[3],r.full_name=r.organization+"/"+r.owner+"/_git/"+r.name);break}case"dev.azure.com":case"azure.com":if(r.resource==="ssh.dev.azure.com"){s=r.name.split("/"),s.length===4&&(r.organization=s[1],r.owner=s[2],r.name=s[3]);break}else{s=r.name.split("/"),s.length===5?(r.organization=s[0],r.owner=s[1],r.name=s[4],r.full_name="_git/"+r.name):s.length===3?(r.name=s[2],s[0]==="DefaultCollection"?(r.owner=s[2],r.organization=s[0],r.full_name=r.organization+"/_git/"+r.name):(r.owner=s[0],r.full_name=r.owner+"/_git/"+r.name)):s.length===4&&(r.organization=s[0],r.owner=s[1],r.name=s[3],r.full_name=r.organization+"/"+r.owner+"/_git/"+r.name),r.query&&r.query.path&&(r.filepath=r.query.path.replace(/^\/+/g,"")),r.query&&r.query.version&&(r.ref=r.query.version.replace(/^GB/,""));break}default:s=r.name.split("/");var l=s.length-1;if(s.length>=2){var a=s.indexOf("-",2),f=s.indexOf("blob",2),c=s.indexOf("tree",2),u=s.indexOf("commit",2),d=s.indexOf("src",2),h=s.indexOf("raw",2),m=s.indexOf("edit",2);l=a>0?a-1:f>0?f-1:c>0?c-1:u>0?u-1:d>0?d-1:h>0?h-1:m>0?m-1:l,r.owner=s.slice(0,l).join("/"),r.name=s[l],u&&(r.commit=s[l+2])}r.ref="",r.filepathtype="",r.filepath="";var p=s.length>l&&s[l+1]==="-"?l+1:l;s.length>p+2&&["raw","src","blob","tree","edit"].indexOf(s[p+1])>=0&&(r.filepathtype=s[p+1],r.ref=s[p+2],s.length>p+3&&(r.filepath=s.slice(p+3).join("/"))),r.organization=r.owner;break}r.full_name||(r.full_name=r.owner,r.name&&(r.full_name&&(r.full_name+="/"),r.full_name+=r.name)),r.owner.startsWith("scm/")&&(r.source="bitbucket-server",r.owner=r.owner.replace("scm/",""),r.organization=r.owner,r.full_name=r.owner+"/"+r.name);var v=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,x=v.exec(r.pathname);return x!=null&&(r.source="bitbucket-server",x[1]==="users"?r.owner="~"+x[2]:r.owner=x[2],r.organization=r.owner,r.name=x[3],s=x[4].split("/"),s.length>1&&(["raw","browse"].indexOf(s[1])>=0?(r.filepathtype=s[1],s.length>2&&(r.filepath=s.slice(2).join("/"))):s[1]==="commits"&&s.length>2&&(r.commit=s[2])),r.full_name=r.owner+"/"+r.name,r.query.at?r.ref=r.query.at:r.ref=""),r}o($E,"gitUrlParse");$E.stringify=function(e,t){t=t||(e.protocols&&e.protocols.length?e.protocols.join("+"):e.protocol);var r=e.port?":"+e.port:"",n=e.user||"git",s=e.git_suffix?".git":"";switch(t){case"ssh":return r?"ssh://"+n+"@"+e.resource+r+"/"+e.full_name+s:n+"@"+e.resource+":"+e.full_name+s;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return t+"://"+n+"@"+e.resource+r+"/"+e.full_name+s;case"http":case"https":var l=e.token?Zz(e):e.user&&(e.protocols.includes("http")||e.protocols.includes("https"))?e.user+"@":"";return t+"://"+l+e.resource+r+"/"+Qz(e)+s;default:return e.href}};function Zz(e){switch(e.source){case"bitbucket.org":return"x-token-auth:"+e.token+"@";default:return e.token+"@"}}o(Zz,"buildToken");function Qz(e){switch(e.source){case"bitbucket-server":return"scm/"+e.full_name;default:return""+e.full_name}}o(Qz,"buildPath");$k.exports=$E});var W8=y0((G9,HE)=>{(function(e,t){if(typeof G9=="object"&&typeof HE=="object")HE.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var r=t();for(var n in r)(typeof G9=="object"?G9:e)[n]=r[n]}})(G9,()=>(()=>{"use strict";var e={470:s=>{function l(c){if(typeof c!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}o(l,"e");function a(c,u){for(var d,h="",m=0,p=-1,v=0,x=0;x<=c.length;++x){if(x<c.length)d=c.charCodeAt(x);else{if(d===47)break;d=47}if(d===47){if(!(p===x-1||v===1))if(p!==x-1&&v===2){if(h.length<2||m!==2||h.charCodeAt(h.length-1)!==46||h.charCodeAt(h.length-2)!==46){if(h.length>2){var E=h.lastIndexOf("/");if(E!==h.length-1){E===-1?(h="",m=0):m=(h=h.slice(0,E)).length-1-h.lastIndexOf("/"),p=x,v=0;continue}}else if(h.length===2||h.length===1){h="",m=0,p=x,v=0;continue}}u&&(h.length>0?h+="/..":h="..",m=2)}else h.length>0?h+="/"+c.slice(p+1,x):h=c.slice(p+1,x),m=x-p-1;p=x,v=0}else d===46&&v!==-1?++v:v=-1}return h}o(a,"r");var f={resolve:function(){for(var c,u="",d=!1,h=arguments.length-1;h>=-1&&!d;h--){var m;h>=0?m=arguments[h]:(c===void 0&&(c=process.cwd()),m=c),l(m),m.length!==0&&(u=m+"/"+u,d=m.charCodeAt(0)===47)}return u=a(u,!d),d?u.length>0?"/"+u:"/":u.length>0?u:"."},normalize:function(c){if(l(c),c.length===0)return".";var u=c.charCodeAt(0)===47,d=c.charCodeAt(c.length-1)===47;return(c=a(c,!u)).length!==0||u||(c="."),c.length>0&&d&&(c+="/"),u?"/"+c:c},isAbsolute:function(c){return l(c),c.length>0&&c.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var c,u=0;u<arguments.length;++u){var d=arguments[u];l(d),d.length>0&&(c===void 0?c=d:c+="/"+d)}return c===void 0?".":f.normalize(c)},relative:function(c,u){if(l(c),l(u),c===u||(c=f.resolve(c))===(u=f.resolve(u)))return"";for(var d=1;d<c.length&&c.charCodeAt(d)===47;++d);for(var h=c.length,m=h-d,p=1;p<u.length&&u.charCodeAt(p)===47;++p);for(var v=u.length-p,x=m<v?m:v,E=-1,I=0;I<=x;++I){if(I===x){if(v>x){if(u.charCodeAt(p+I)===47)return u.slice(p+I+1);if(I===0)return u.slice(p+I)}else m>x&&(c.charCodeAt(d+I)===47?E=I:I===0&&(E=0));break}var A=c.charCodeAt(d+I);if(A!==u.charCodeAt(p+I))break;A===47&&(E=I)}var L="";for(I=d+E+1;I<=h;++I)I!==h&&c.charCodeAt(I)!==47||(L.length===0?L+="..":L+="/..");return L.length>0?L+u.slice(p+E):(p+=E,u.charCodeAt(p)===47&&++p,u.slice(p))},_makeLong:function(c){return c},dirname:function(c){if(l(c),c.length===0)return".";for(var u=c.charCodeAt(0),d=u===47,h=-1,m=!0,p=c.length-1;p>=1;--p)if((u=c.charCodeAt(p))===47){if(!m){h=p;break}}else m=!1;return h===-1?d?"/":".":d&&h===1?"//":c.slice(0,h)},basename:function(c,u){if(u!==void 0&&typeof u!="string")throw new TypeError('"ext" argument must be a string');l(c);var d,h=0,m=-1,p=!0;if(u!==void 0&&u.length>0&&u.length<=c.length){if(u.length===c.length&&u===c)return"";var v=u.length-1,x=-1;for(d=c.length-1;d>=0;--d){var E=c.charCodeAt(d);if(E===47){if(!p){h=d+1;break}}else x===-1&&(p=!1,x=d+1),v>=0&&(E===u.charCodeAt(v)?--v==-1&&(m=d):(v=-1,m=x))}return h===m?m=x:m===-1&&(m=c.length),c.slice(h,m)}for(d=c.length-1;d>=0;--d)if(c.charCodeAt(d)===47){if(!p){h=d+1;break}}else m===-1&&(p=!1,m=d+1);return m===-1?"":c.slice(h,m)},extname:function(c){l(c);for(var u=-1,d=0,h=-1,m=!0,p=0,v=c.length-1;v>=0;--v){var x=c.charCodeAt(v);if(x!==47)h===-1&&(m=!1,h=v+1),x===46?u===-1?u=v:p!==1&&(p=1):u!==-1&&(p=-1);else if(!m){d=v+1;break}}return u===-1||h===-1||p===0||p===1&&u===h-1&&u===d+1?"":c.slice(u,h)},format:function(c){if(c===null||typeof c!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return function(u,d){var h=d.dir||d.root,m=d.base||(d.name||"")+(d.ext||"");return h?h===d.root?h+m:h+"/"+m:m}(0,c)},parse:function(c){l(c);var u={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return u;var d,h=c.charCodeAt(0),m=h===47;m?(u.root="/",d=1):d=0;for(var p=-1,v=0,x=-1,E=!0,I=c.length-1,A=0;I>=d;--I)if((h=c.charCodeAt(I))!==47)x===-1&&(E=!1,x=I+1),h===46?p===-1?p=I:A!==1&&(A=1):p!==-1&&(A=-1);else if(!E){v=I+1;break}return p===-1||x===-1||A===0||A===1&&p===x-1&&p===v+1?x!==-1&&(u.base=u.name=v===0&&m?c.slice(1,x):c.slice(v,x)):(v===0&&m?(u.name=c.slice(1,p),u.base=c.slice(1,x)):(u.name=c.slice(v,p),u.base=c.slice(v,x)),u.ext=c.slice(p,x)),v>0?u.dir=c.slice(0,v-1):m&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};f.posix=f,s.exports=f},674:(s,l)=>{if(Object.defineProperty(l,"__esModule",{value:!0}),l.isWindows=void 0,typeof process=="object")l.isWindows=process.platform==="win32";else if(typeof navigator=="object"){var a=navigator.userAgent;l.isWindows=a.indexOf("Windows")>=0}},796:function(s,l,a){var f,c,u=this&&this.__extends||(f=o(function(Ve,we){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o0,u0){o0.__proto__=u0}||function(o0,u0){for(var l0 in u0)Object.prototype.hasOwnProperty.call(u0,l0)&&(o0[l0]=u0[l0])},f(Ve,we)},"n"),function(Ve,we){if(typeof we!="function"&&we!==null)throw new TypeError("Class extends value "+String(we)+" is not a constructor or null");function o0(){this.constructor=Ve}o(o0,"r"),f(Ve,we),Ve.prototype=we===null?Object.create(we):(o0.prototype=we.prototype,new o0)});Object.defineProperty(l,"__esModule",{value:!0}),l.uriToFsPath=l.URI=void 0;var d=a(674),h=/^\w[\w\d+.-]*$/,m=/^\//,p=/^\/\//;function v(Ve,we){if(!Ve.scheme&&we)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(Ve.authority,'", path: "').concat(Ve.path,'", query: "').concat(Ve.query,'", fragment: "').concat(Ve.fragment,'"}'));if(Ve.scheme&&!h.test(Ve.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(Ve.path){if(Ve.authority){if(!m.test(Ve.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(p.test(Ve.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(v,"f");var x="",E="/",I=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,A=function(){function Ve(we,o0,u0,l0,R0,t0){t0===void 0&&(t0=!1),typeof we=="object"?(this.scheme=we.scheme||x,this.authority=we.authority||x,this.path=we.path||x,this.query=we.query||x,this.fragment=we.fragment||x):(this.scheme=function(f0,ce){return f0||ce?f0:"file"}(we,t0),this.authority=o0||x,this.path=function(f0,ce){switch(f0){case"https":case"http":case"file":ce?ce[0]!==E&&(ce=E+ce):ce=E}return ce}(this.scheme,u0||x),this.query=l0||x,this.fragment=R0||x,v(this,t0))}return o(Ve,"t"),Ve.isUri=function(we){return we instanceof Ve||!!we&&typeof we.authority=="string"&&typeof we.fragment=="string"&&typeof we.path=="string"&&typeof we.query=="string"&&typeof we.scheme=="string"&&typeof we.fsPath=="string"&&typeof we.with=="function"&&typeof we.toString=="function"},Object.defineProperty(Ve.prototype,"fsPath",{get:function(){return ve(this,!1)},enumerable:!1,configurable:!0}),Ve.prototype.with=function(we){if(!we)return this;var o0=we.scheme,u0=we.authority,l0=we.path,R0=we.query,t0=we.fragment;return o0===void 0?o0=this.scheme:o0===null&&(o0=x),u0===void 0?u0=this.authority:u0===null&&(u0=x),l0===void 0?l0=this.path:l0===null&&(l0=x),R0===void 0?R0=this.query:R0===null&&(R0=x),t0===void 0?t0=this.fragment:t0===null&&(t0=x),o0===this.scheme&&u0===this.authority&&l0===this.path&&R0===this.query&&t0===this.fragment?this:new D(o0,u0,l0,R0,t0)},Ve.parse=function(we,o0){o0===void 0&&(o0=!1);var u0=I.exec(we);return u0?new D(u0[2]||x,m0(u0[4]||x),m0(u0[5]||x),m0(u0[7]||x),m0(u0[9]||x),o0):new D(x,x,x,x,x)},Ve.file=function(we){var o0=x;if(d.isWindows&&(we=we.replace(/\\/g,E)),we[0]===E&&we[1]===E){var u0=we.indexOf(E,2);u0===-1?(o0=we.substring(2),we=E):(o0=we.substring(2,u0),we=we.substring(u0)||E)}return new D("file",o0,we,x,x)},Ve.from=function(we){var o0=new D(we.scheme,we.authority,we.path,we.query,we.fragment);return v(o0,!0),o0},Ve.prototype.toString=function(we){return we===void 0&&(we=!1),n0(this,we)},Ve.prototype.toJSON=function(){return this},Ve.revive=function(we){if(we){if(we instanceof Ve)return we;var o0=new D(we);return o0._formatted=we.external,o0._fsPath=we._sep===L?we.fsPath:null,o0}return we},Ve}();l.URI=A;var L=d.isWindows?1:void 0,D=function(Ve){function we(){var o0=Ve!==null&&Ve.apply(this,arguments)||this;return o0._formatted=null,o0._fsPath=null,o0}return o(we,"e"),u(we,Ve),Object.defineProperty(we.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=ve(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),we.prototype.toString=function(o0){return o0===void 0&&(o0=!1),o0?n0(this,!0):(this._formatted||(this._formatted=n0(this,!1)),this._formatted)},we.prototype.toJSON=function(){var o0={$mid:1};return this._fsPath&&(o0.fsPath=this._fsPath,o0._sep=L),this._formatted&&(o0.external=this._formatted),this.path&&(o0.path=this.path),this.scheme&&(o0.scheme=this.scheme),this.authority&&(o0.authority=this.authority),this.query&&(o0.query=this.query),this.fragment&&(o0.fragment=this.fragment),o0},we}(A),R=((c={})[58]="%3A",c[47]="%2F",c[63]="%3F",c[35]="%23",c[91]="%5B",c[93]="%5D",c[64]="%40",c[33]="%21",c[36]="%24",c[38]="%26",c[39]="%27",c[40]="%28",c[41]="%29",c[42]="%2A",c[43]="%2B",c[44]="%2C",c[59]="%3B",c[61]="%3D",c[32]="%20",c);function V(Ve,we,o0){for(var u0=void 0,l0=-1,R0=0;R0<Ve.length;R0++){var t0=Ve.charCodeAt(R0);if(t0>=97&&t0<=122||t0>=65&&t0<=90||t0>=48&&t0<=57||t0===45||t0===46||t0===95||t0===126||we&&t0===47||o0&&t0===91||o0&&t0===93||o0&&t0===58)l0!==-1&&(u0+=encodeURIComponent(Ve.substring(l0,R0)),l0=-1),u0!==void 0&&(u0+=Ve.charAt(R0));else{u0===void 0&&(u0=Ve.substr(0,R0));var f0=R[t0];f0!==void 0?(l0!==-1&&(u0+=encodeURIComponent(Ve.substring(l0,R0)),l0=-1),u0+=f0):l0===-1&&(l0=R0)}}return l0!==-1&&(u0+=encodeURIComponent(Ve.substring(l0))),u0!==void 0?u0:Ve}o(V,"m");function de(Ve){for(var we=void 0,o0=0;o0<Ve.length;o0++){var u0=Ve.charCodeAt(o0);u0===35||u0===63?(we===void 0&&(we=Ve.substr(0,o0)),we+=R[u0]):we!==void 0&&(we+=Ve[o0])}return we!==void 0?we:Ve}o(de,"b");function ve(Ve,we){var o0;return o0=Ve.authority&&Ve.path.length>1&&Ve.scheme==="file"?"//".concat(Ve.authority).concat(Ve.path):Ve.path.charCodeAt(0)===47&&(Ve.path.charCodeAt(1)>=65&&Ve.path.charCodeAt(1)<=90||Ve.path.charCodeAt(1)>=97&&Ve.path.charCodeAt(1)<=122)&&Ve.path.charCodeAt(2)===58?we?Ve.path.substr(1):Ve.path[1].toLowerCase()+Ve.path.substr(2):Ve.path,d.isWindows&&(o0=o0.replace(/\//g,"\\")),o0}o(ve,"C");function n0(Ve,we){var o0=we?de:V,u0="",l0=Ve.scheme,R0=Ve.authority,t0=Ve.path,f0=Ve.query,ce=Ve.fragment;if(l0&&(u0+=l0,u0+=":"),(R0||l0==="file")&&(u0+=E,u0+=E),R0){var Ee=R0.indexOf("@");if(Ee!==-1){var C0=R0.substr(0,Ee);R0=R0.substr(Ee+1),(Ee=C0.lastIndexOf(":"))===-1?u0+=o0(C0,!1,!1):(u0+=o0(C0.substr(0,Ee),!1,!1),u0+=":",u0+=o0(C0.substr(Ee+1),!1,!0)),u0+="@"}(Ee=(R0=R0.toLowerCase()).lastIndexOf(":"))===-1?u0+=o0(R0,!1,!0):(u0+=o0(R0.substr(0,Ee),!1,!0),u0+=R0.substr(Ee))}if(t0){if(t0.length>=3&&t0.charCodeAt(0)===47&&t0.charCodeAt(2)===58)(z0=t0.charCodeAt(1))>=65&&z0<=90&&(t0="/".concat(String.fromCharCode(z0+32),":").concat(t0.substr(3)));else if(t0.length>=2&&t0.charCodeAt(1)===58){var z0;(z0=t0.charCodeAt(0))>=65&&z0<=90&&(t0="".concat(String.fromCharCode(z0+32),":").concat(t0.substr(2)))}u0+=o0(t0,!0,!1)}return f0&&(u0+="?",u0+=o0(f0,!1,!1)),ce&&(u0+="#",u0+=we?ce:V(ce,!1,!1)),u0}o(n0,"A");function d0(Ve){try{return decodeURIComponent(Ve)}catch{return Ve.length>3?Ve.substr(0,3)+d0(Ve.substr(3)):Ve}}o(d0,"w"),l.uriToFsPath=ve;var r0=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function m0(Ve){return Ve.match(r0)?Ve.replace(r0,function(we){return d0(we)}):Ve}o(m0,"x")},679:function(s,l,a){var f=this&&this.__spreadArray||function(m,p,v){if(v||arguments.length===2)for(var x,E=0,I=p.length;E<I;E++)!x&&E in p||(x||(x=Array.prototype.slice.call(p,0,E)),x[E]=p[E]);return m.concat(x||Array.prototype.slice.call(p))};Object.defineProperty(l,"__esModule",{value:!0}),l.Utils=void 0;var c,u=a(470),d=u.posix||u,h="/";(c=l.Utils||(l.Utils={})).joinPath=function(m){for(var p=[],v=1;v<arguments.length;v++)p[v-1]=arguments[v];return m.with({path:d.join.apply(d,f([m.path],p,!1))})},c.resolvePath=function(m){for(var p=[],v=1;v<arguments.length;v++)p[v-1]=arguments[v];var x=m.path,E=!1;x[0]!==h&&(x=h+x,E=!0);var I=d.resolve.apply(d,f([x],p,!1));return E&&I[0]===h&&!m.authority&&(I=I.substring(1)),m.with({path:I})},c.dirname=function(m){if(m.path.length===0||m.path===h)return m;var p=d.dirname(m.path);return p.length===1&&p.charCodeAt(0)===46&&(p=""),m.with({path:p})},c.basename=function(m){return d.basename(m.path)},c.extname=function(m){return d.extname(m.path)}}},t={};function r(s){var l=t[s];if(l!==void 0)return l.exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,r),a.exports}o(r,"r");var n={};return(()=>{var s=n;Object.defineProperty(s,"__esModule",{value:!0}),s.Utils=s.URI=void 0;var l=r(796);Object.defineProperty(s,"URI",{enumerable:!0,get:function(){return l.URI}});var a=r(679);Object.defineProperty(s,"Utils",{enumerable:!0,get:function(){return a.Utils}})})(),n})())});var sB=y0((loe,iB)=>{"use strict";iB.exports=rB;function rB(e,t,r){e instanceof RegExp&&(e=tB(e,r)),t instanceof RegExp&&(t=tB(t,r));var n=nB(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}o(rB,"balanced");function tB(e,t){var r=t.match(e);return r?r[0]:null}o(tB,"maybeMatch");rB.range=nB;function nB(e,t,r){var n,s,l,a,f,c=r.indexOf(e),u=r.indexOf(t,c+1),d=c;if(c>=0&&u>0){for(n=[],l=r.length;d>=0&&!f;)d==c?(n.push(d),c=r.indexOf(e,d+1)):n.length==1?f=[n.pop(),u]:(s=n.pop(),s<l&&(l=s,a=u),u=r.indexOf(t,d+1)),d=c<u&&c>=0?c:u;n.length&&(f=[l,a])}return f}o(nB,"range")});var hB=y0((coe,dB)=>{var oB=sB();dB.exports=gG;var aB="\0SLASH"+Math.random()+"\0",lB="\0OPEN"+Math.random()+"\0",nT="\0CLOSE"+Math.random()+"\0",fB="\0COMMA"+Math.random()+"\0",cB="\0PERIOD"+Math.random()+"\0";function rT(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}o(rT,"numeric");function dG(e){return e.split("\\\\").join(aB).split("\\{").join(lB).split("\\}").join(nT).split("\\,").join(fB).split("\\.").join(cB)}o(dG,"escapeBraces");function hG(e){return e.split(aB).join("\\").split(lB).join("{").split(nT).join("}").split(fB).join(",").split(cB).join(".")}o(hG,"unescapeBraces");function uB(e){if(!e)return[""];var t=[],r=oB("{","}",e);if(!r)return e.split(",");var n=r.pre,s=r.body,l=r.post,a=n.split(",");a[a.length-1]+="{"+s+"}";var f=uB(l);return l.length&&(a[a.length-1]+=f.shift(),a.push.apply(a,f)),t.push.apply(t,a),t}o(uB,"parseCommaParts");function gG(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),Z9(dG(e),!0).map(hG)):[]}o(gG,"expandTop");function mG(e){return"{"+e+"}"}o(mG,"embrace");function pG(e){return/^-?0\d/.test(e)}o(pG,"isPadded");function yG(e,t){return e<=t}o(yG,"lte");function vG(e,t){return e>=t}o(vG,"gte");function Z9(e,t){var r=[],n=oB("{","}",e);if(!n)return[e];var s=n.pre,l=n.post.length?Z9(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<l.length;a++){var f=s+"{"+n.body+"}"+l[a];r.push(f)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),d=c||u,h=n.body.indexOf(",")>=0;if(!d&&!h)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+nT+n.post,Z9(e)):[e];var m;if(d)m=n.body.split(/\.\./);else if(m=uB(n.body),m.length===1&&(m=Z9(m[0],!1).map(mG),m.length===1))return l.map(function(d0){return n.pre+m[0]+d0});var p;if(d){var v=rT(m[0]),x=rT(m[1]),E=Math.max(m[0].length,m[1].length),I=m.length==3?Math.abs(rT(m[2])):1,A=yG,L=x<v;L&&(I*=-1,A=vG);var D=m.some(pG);p=[];for(var R=v;A(R,x);R+=I){var V;if(u)V=String.fromCharCode(R),V==="\\"&&(V="");else if(V=String(R),D){var de=E-V.length;if(de>0){var ve=new Array(de+1).join("0");R<0?V="-"+ve+V.slice(1):V=ve+V}}p.push(V)}}else{p=[];for(var n0=0;n0<m.length;n0++)p.push.apply(p,Z9(m[n0],!1))}for(var n0=0;n0<p.length;n0++)for(var a=0;a<l.length;a++){var f=s+p[n0]+l[a];(!t||d||f)&&r.push(f)}}return r}o(Z9,"expand")});var qy=y0(n3=>{"use strict";Object.defineProperty(n3,"__esModule",{value:!0});n3.ValuePointer=n3.ValuePointerRootDeleteError=n3.ValuePointerRootSetError=void 0;var pT=class pT extends Error{constructor(t,r,n){super("Cannot set root value"),this.value=t,this.path=r,this.update=n}};o(pT,"ValuePointerRootSetError");var My=pT;n3.ValuePointerRootSetError=My;var yT=class yT extends Error{constructor(t,r){super("Cannot delete root value"),this.value=t,this.path=r}};o(yT,"ValuePointerRootDeleteError");var Uy=yT;n3.ValuePointerRootDeleteError=Uy;var NB;(function(e){function t(f){return f.indexOf("~")===-1?f:f.replace(/~1/g,"/").replace(/~0/g,"~")}o(t,"Escape");function*r(f){if(f==="")return;let[c,u]=[0,0];for(let d=0;d<f.length;d++)f.charAt(d)==="/"?(d===0||(u=d,yield t(f.slice(c,u))),c=d+1):u=d;yield t(f.slice(c))}o(r,"Format"),e.Format=r;function n(f,c,u){if(c==="")throw new My(f,c,u);let[d,h,m]=[null,f,""];for(let p of r(c))h[p]===void 0&&(h[p]={}),d=h,h=h[p],m=p;d[m]=u}o(n,"Set"),e.Set=n;function s(f,c){if(c==="")throw new Uy(f,c);let[u,d,h]=[null,f,""];for(let m of r(c)){if(d[m]===void 0||d[m]===null)return;u=d,d=d[m],h=m}if(Array.isArray(u)){let m=parseInt(h);u.splice(m,1)}else delete u[h]}o(s,"Delete"),e.Delete=s;function l(f,c){if(c==="")return!0;let[u,d,h]=[null,f,""];for(let m of r(c)){if(d[m]===void 0)return!1;u=d,d=d[m],h=m}return Object.getOwnPropertyNames(u).includes(h)}o(l,"Has"),e.Has=l;function a(f,c){if(c==="")return f;let u=f;for(let d of r(c)){if(u[d]===void 0)return;u=u[d]}return u}o(a,"Get"),e.Get=a})(NB||(n3.ValuePointer=NB={}))});var t6=y0($y=>{"use strict";Object.defineProperty($y,"__esModule",{value:!0});$y.Clone=void 0;var n7=zl();function nK(e){return[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)].reduce((r,n)=>({...r,[n]:vT(e[n])}),{})}o(nK,"ObjectType");function iK(e){return e.map(t=>vT(t))}o(iK,"ArrayType");function sK(e){return e.slice()}o(sK,"TypedArrayType");function oK(e){return new Date(e.toISOString())}o(oK,"DateType");function vT(e){if((0,n7.IsArray)(e))return iK(e);if((0,n7.IsDate)(e))return oK(e);if((0,n7.IsPlainObject)(e))return nK(e);if((0,n7.IsTypedArray)(e))return sK(e);if((0,n7.IsValueType)(e))return e;throw new Error("ValueClone: Unable to clone value")}o(vT,"Clone");$y.Clone=vT});var ET=y0(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.Patch=ra.Diff=ra.ValueDeltaUnableToDiffUnknownValue=ra.ValueDeltaObjectWithSymbolKeyError=ra.Edit=ra.Delete=ra.Update=ra.Insert=void 0;var xl=zl(),Wf=jl(),xT=qy(),_T=t6();ra.Insert=Wf.Type.Object({type:Wf.Type.Literal("insert"),path:Wf.Type.String(),value:Wf.Type.Unknown()});ra.Update=Wf.Type.Object({type:Wf.Type.Literal("update"),path:Wf.Type.String(),value:Wf.Type.Unknown()});ra.Delete=Wf.Type.Object({type:Wf.Type.Literal("delete"),path:Wf.Type.String()});ra.Edit=Wf.Type.Union([ra.Insert,ra.Update,ra.Delete]);var bT=class bT extends Error{constructor(t){super("Cannot diff objects with symbol keys"),this.key=t}};o(bT,"ValueDeltaObjectWithSymbolKeyError");var xd=bT;ra.ValueDeltaObjectWithSymbolKeyError=xd;var CT=class CT extends Error{constructor(t){super("Unable to create diff edits for unknown value"),this.value=t}};o(CT,"ValueDeltaUnableToDiffUnknownValue");var Hy=CT;ra.ValueDeltaUnableToDiffUnknownValue=Hy;function i7(e,t){return{type:"update",path:e,value:t}}o(i7,"CreateUpdate");function RB(e,t){return{type:"insert",path:e,value:t}}o(RB,"CreateInsert");function kB(e){return{type:"delete",path:e}}o(kB,"CreateDelete");function*aK(e,t,r){if(!(0,xl.IsPlainObject)(r))return yield i7(e,r);let n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)],s=[...Object.keys(r),...Object.getOwnPropertySymbols(r)];for(let l of n){if((0,xl.IsSymbol)(l))throw new xd(l);(0,xl.IsUndefined)(r[l])&&s.includes(l)&&(yield i7(`${e}/${String(l)}`,void 0))}for(let l of s)if(!((0,xl.IsUndefined)(t[l])||(0,xl.IsUndefined)(r[l]))){if((0,xl.IsSymbol)(l))throw new xd(l);yield*Vy(`${e}/${String(l)}`,t[l],r[l])}for(let l of s){if((0,xl.IsSymbol)(l))throw new xd(l);(0,xl.IsUndefined)(t[l])&&(yield RB(`${e}/${String(l)}`,r[l]))}for(let l of n.reverse()){if((0,xl.IsSymbol)(l))throw new xd(l);(0,xl.IsUndefined)(r[l])&&!s.includes(l)&&(yield kB(`${e}/${String(l)}`))}}o(aK,"ObjectType");function*lK(e,t,r){if(!(0,xl.IsArray)(r))return yield i7(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*Vy(`${e}/${n}`,t[n],r[n]);for(let n=0;n<r.length;n++)n<t.length||(yield RB(`${e}/${n}`,r[n]));for(let n=t.length-1;n>=0;n--)n<r.length||(yield kB(`${e}/${n}`))}o(lK,"ArrayType");function*fK(e,t,r){if(!(0,xl.IsTypedArray)(r)||t.length!==r.length||Object.getPrototypeOf(t).constructor.name!==Object.getPrototypeOf(r).constructor.name)return yield i7(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*Vy(`${e}/${n}`,t[n],r[n])}o(fK,"TypedArrayType");function*cK(e,t,r){t!==r&&(yield i7(e,r))}o(cK,"ValueType");function*Vy(e,t,r){if((0,xl.IsPlainObject)(t))return yield*aK(e,t,r);if((0,xl.IsArray)(t))return yield*lK(e,t,r);if((0,xl.IsTypedArray)(t))return yield*fK(e,t,r);if((0,xl.IsValueType)(t))return yield*cK(e,t,r);throw new Hy(t)}o(Vy,"Visit");function uK(e,t){return[...Vy("",e,t)]}o(uK,"Diff");ra.Diff=uK;function dK(e){return e.length>0&&e[0].path===""&&e[0].type==="update"}o(dK,"IsRootUpdate");function hK(e){return e.length===0}o(hK,"IsIdentity");function gK(e,t){if(dK(t))return(0,_T.Clone)(t[0].value);if(hK(t))return(0,_T.Clone)(e);let r=(0,_T.Clone)(e);for(let n of t)switch(n.type){case"insert":{xT.ValuePointer.Set(r,n.path,n.value);break}case"update":{xT.ValuePointer.Set(r,n.path,n.value);break}case"delete":{xT.ValuePointer.Delete(r,n.path);break}}return r}o(gK,"Patch");ra.Patch=gK});var DB=y0(i3=>{"use strict";Object.defineProperty(i3,"__esModule",{value:!0});i3.Mutate=i3.ValueMutateInvalidRootMutationError=i3.ValueMutateTypeMismatchError=void 0;var yf=zl(),Gy=qy(),TT=t6(),IT=class IT extends Error{constructor(){super("Cannot assign due type mismatch of assignable values")}};o(IT,"ValueMutateTypeMismatchError");var jy=IT;i3.ValueMutateTypeMismatchError=jy;var wT=class wT extends Error{constructor(){super("Only object and array types can be mutated at the root level")}};o(wT,"ValueMutateInvalidRootMutationError");var zy=wT;i3.ValueMutateInvalidRootMutationError=zy;function mK(e,t,r,n){if(!(0,yf.IsPlainObject)(r))Gy.ValuePointer.Set(e,t,(0,TT.Clone)(n));else{let s=Object.keys(r),l=Object.keys(n);for(let a of s)l.includes(a)||delete r[a];for(let a of l)s.includes(a)||(r[a]=null);for(let a of l)ST(e,`${t}/${a}`,r[a],n[a])}}o(mK,"ObjectType");function pK(e,t,r,n){if(!(0,yf.IsArray)(r))Gy.ValuePointer.Set(e,t,(0,TT.Clone)(n));else{for(let s=0;s<n.length;s++)ST(e,`${t}/${s}`,r[s],n[s]);r.splice(n.length)}}o(pK,"ArrayType");function yK(e,t,r,n){if((0,yf.IsTypedArray)(r)&&r.length===n.length)for(let s=0;s<r.length;s++)r[s]=n[s];else Gy.ValuePointer.Set(e,t,(0,TT.Clone)(n))}o(yK,"TypedArrayType");function vK(e,t,r,n){r!==n&&Gy.ValuePointer.Set(e,t,n)}o(vK,"ValueType");function ST(e,t,r,n){if((0,yf.IsArray)(n))return pK(e,t,r,n);if((0,yf.IsTypedArray)(n))return yK(e,t,r,n);if((0,yf.IsPlainObject)(n))return mK(e,t,r,n);if((0,yf.IsValueType)(n))return vK(e,t,r,n)}o(ST,"Visit");function BB(e){return(0,yf.IsTypedArray)(e)||(0,yf.IsValueType)(e)}o(BB,"IsNonMutableValue");function xK(e,t){return(0,yf.IsPlainObject)(e)&&(0,yf.IsArray)(t)||(0,yf.IsArray)(e)&&(0,yf.IsPlainObject)(t)}o(xK,"IsMismatchedValue");function _K(e,t){if(BB(e)||BB(t))throw new zy;if(xK(e,t))throw new jy;ST(e,"",e,t)}o(_K,"Mutate");i3.Mutate=_K});var LB=y0(Wy=>{"use strict";Object.defineProperty(Wy,"__esModule",{value:!0});Wy.Equal=void 0;var ku=zl();function bK(e,t){if(!(0,ku.IsPlainObject)(t))return!1;let r=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return r.length!==n.length?!1:r.every(s=>Ky(e[s],t[s]))}o(bK,"ObjectType");function CK(e,t){return(0,ku.IsDate)(t)&&e.getTime()===t.getTime()}o(CK,"DateType");function EK(e,t){return!(0,ku.IsArray)(t)||e.length!==t.length?!1:e.every((r,n)=>Ky(r,t[n]))}o(EK,"ArrayType");function TK(e,t){return!(0,ku.IsTypedArray)(t)||e.length!==t.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(t).constructor.name?!1:e.every((r,n)=>Ky(r,t[n]))}o(TK,"TypedArrayType");function SK(e,t){return e===t}o(SK,"ValueType");function Ky(e,t){if((0,ku.IsPlainObject)(e))return bK(e,t);if((0,ku.IsDate)(e))return CK(e,t);if((0,ku.IsTypedArray)(e))return TK(e,t);if((0,ku.IsArray)(e))return EK(e,t);if((0,ku.IsValueType)(e))return SK(e,t);throw new Error("ValueEquals: Unable to compare value")}o(Ky,"Equal");Wy.Equal=Ky});var DT=y0(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.Create=_l.ValueCreateRecursiveInstantiationError=_l.ValueCreateTempateLiteralTypeError=_l.ValueCreateIntersectTypeError=_l.ValueCreateNotTypeError=_l.ValueCreateNeverTypeError=_l.ValueCreateUnknownTypeError=void 0;var Hi=zl(),IK=r8(),OB=z5(),Kl=jl(),AT=class AT extends Kl.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(AT,"ValueCreateUnknownTypeError");var Yy=AT;_l.ValueCreateUnknownTypeError=Yy;var PT=class PT extends Kl.TypeBoxError{constructor(t){super("Never types cannot be created"),this.schema=t}};o(PT,"ValueCreateNeverTypeError");var Jy=PT;_l.ValueCreateNeverTypeError=Jy;var NT=class NT extends Kl.TypeBoxError{constructor(t){super("Not types must have a default value"),this.schema=t}};o(NT,"ValueCreateNotTypeError");var Xy=NT;_l.ValueCreateNotTypeError=Xy;var RT=class RT extends Kl.TypeBoxError{constructor(t){super("Intersect produced invalid value. Consider using a default value."),this.schema=t}};o(RT,"ValueCreateIntersectTypeError");var Zy=RT;_l.ValueCreateIntersectTypeError=Zy;var kT=class kT extends Kl.TypeBoxError{constructor(t){super("Can only create template literal values from patterns that produce finite sequences. Consider using a default value."),this.schema=t}};o(kT,"ValueCreateTempateLiteralTypeError");var Qy=kT;_l.ValueCreateTempateLiteralTypeError=Qy;var BT=class BT extends Kl.TypeBoxError{constructor(t,r){super("Value cannot be created as recursive type may produce value of infinite size. Consider using a default."),this.schema=t,this.recursiveMaxDepth=r}};o(BT,"ValueCreateRecursiveInstantiationError");var ev=BT;_l.ValueCreateRecursiveInstantiationError=ev;function wK(e,t){return(0,Hi.HasPropertyKey)(e,"default")?e.default:{}}o(wK,"TAny");function AK(e,t){if(e.uniqueItems===!0&&!(0,Hi.HasPropertyKey)(e,"default"))throw new Error("ValueCreate.Array: Array with the uniqueItems constraint requires a default value");if("contains"in e&&!(0,Hi.HasPropertyKey)(e,"default"))throw new Error("ValueCreate.Array: Array with the contains constraint requires a default value");return"default"in e?e.default:e.minItems!==void 0?Array.from({length:e.minItems}).map(r=>vf(e.items,t)):[]}o(AK,"TArray");function PK(e,t){return(0,Hi.HasPropertyKey)(e,"default")?e.default:async function*(){}()}o(PK,"TAsyncIterator");function NK(e,t){return(0,Hi.HasPropertyKey)(e,"default")?e.default:BigInt(0)}o(NK,"TBigInt");function RK(e,t){return(0,Hi.HasPropertyKey)(e,"default")?e.default:!1}o(RK,"TBoolean");function kK(e,t){if((0,Hi.HasPropertyKey)(e,"default"))return e.default;{let r=vf(e.returns,t);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,s]of Object.entries(r)){let l=this;l[n]=s}}}:class{}}}o(kK,"TConstructor");function BK(e,t){return(0,Hi.HasPropertyKey)(e,"default")?e.default:e.minimumTimestamp!==void 0?new Date(e.minimumTimestamp):new Date}o(BK,"TDate");function DK(e,t){return(0,Hi.HasPropertyKey)(e,"default")?e.default:()=>vf(e.returns,t)}o(DK,"TFunction");function LK(e,t){return(0,Hi.HasPropertyKey)(e,"default")?e.default:e.minimum!==void 0?e.minimum:0}o(LK,"TInteger");function FK(e,t){if((0,Hi.HasPropertyKey)(e,"default"))return e.default;{let r=e.allOf.reduce((n,s)=>{let l=vf(s,t);return typeof l=="object"?{...n,...l}:l},{});if(!(0,IK.Check)(e,t,r))throw new Zy(e);return r}}o(FK,"TIntersect");function OK(e,t){return(0,Hi.HasPropertyKey)(e,"default")?e.default:function*(){}()}o(OK,"TIterator");function MK(e,t){return(0,Hi.HasPropertyKey)(e,"default")?e.default:e.const}o(MK,"TLiteral");function UK(e,t){throw new Jy(e)}o(UK,"TNever");function qK(e,t){if((0,Hi.HasPropertyKey)(e,"default"))return e.default;throw new Xy(e)}o(qK,"TNot");function $K(e,t){return(0,Hi.HasPropertyKey)(e,"default")?e.default:null}o($K,"TNull");function HK(e,t){return(0,Hi.HasPropertyKey)(e,"default")?e.default:e.minimum!==void 0?e.minimum:0}o(HK,"TNumber");function VK(e,t){if((0,Hi.HasPropertyKey)(e,"default"))return e.default;{let r=new Set(e.required);return e.default||Object.entries(e.properties).reduce((n,[s,l])=>r.has(s)?{...n,[s]:vf(l,t)}:{...n},{})}}o(VK,"TObject");function jK(e,t){return(0,Hi.HasPropertyKey)(e,"default")?e.default:Promise.resolve(vf(e.item,t))}o(jK,"TPromise");function zK(e,t){let[r,n]=Object.entries(e.patternProperties)[0];return(0,Hi.HasPropertyKey)(e,"default")?e.default:r===Kl.PatternStringExact||r===Kl.PatternNumberExact?{}:r.slice(1,r.length-1).split("|").reduce((l,a)=>({...l,[a]:vf(n,t)}),{})}o(zK,"TRecord");function GK(e,t){return(0,Hi.HasPropertyKey)(e,"default")?e.default:vf((0,OB.Deref)(e,t),t)}o(GK,"TRef");function KK(e,t){if(e.pattern!==void 0){if((0,Hi.HasPropertyKey)(e,"default"))return e.default;throw new Error("ValueCreate.String: String types with patterns must specify a default value")}else if(e.format!==void 0){if((0,Hi.HasPropertyKey)(e,"default"))return e.default;throw new Error("ValueCreate.String: String types with formats must specify a default value")}else return(0,Hi.HasPropertyKey)(e,"default")?e.default:e.minLength!==void 0?Array.from({length:e.minLength}).map(()=>".").join(""):""}o(KK,"TString");function WK(e,t){return(0,Hi.HasPropertyKey)(e,"default")?e.default:"value"in e?Symbol.for(e.value):Symbol()}o(WK,"TSymbol");function YK(e,t){if((0,Hi.HasPropertyKey)(e,"default"))return e.default;let r=Kl.TemplateLiteralParser.ParseExact(e.pattern);if(!Kl.TemplateLiteralFinite.Check(r))throw new Qy(e);return Kl.TemplateLiteralGenerator.Generate(r).next().value}o(YK,"TTemplateLiteral");function JK(e,t){if(MB++>FB)throw new ev(e,FB);return(0,Hi.HasPropertyKey)(e,"default")?e.default:vf((0,OB.Deref)(e,t),t)}o(JK,"TThis");function XK(e,t){return(0,Hi.HasPropertyKey)(e,"default")?e.default:e.items===void 0?[]:Array.from({length:e.minItems}).map((r,n)=>vf(e.items[n],t))}o(XK,"TTuple");function ZK(e,t){if((0,Hi.HasPropertyKey)(e,"default"))return e.default}o(ZK,"TUndefined");function QK(e,t){if((0,Hi.HasPropertyKey)(e,"default"))return e.default;if(e.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return vf(e.anyOf[0],t)}o(QK,"TUnion");function eW(e,t){return(0,Hi.HasPropertyKey)(e,"default")?e.default:e.minByteLength!==void 0?new Uint8Array(e.minByteLength):new Uint8Array(0)}o(eW,"TUint8Array");function tW(e,t){return(0,Hi.HasPropertyKey)(e,"default")?e.default:{}}o(tW,"TUnknown");function rW(e,t){if((0,Hi.HasPropertyKey)(e,"default"))return e.default}o(rW,"TVoid");function nW(e,t){if((0,Hi.HasPropertyKey)(e,"default"))return e.default;throw new Error("User defined types must specify a default value")}o(nW,"TKind");function vf(e,t){let r=(0,Hi.IsString)(e.$id)?[...t,e]:t,n=e;switch(n[Kl.Kind]){case"Any":return wK(n,r);case"Array":return AK(n,r);case"AsyncIterator":return PK(n,r);case"BigInt":return NK(n,r);case"Boolean":return RK(n,r);case"Constructor":return kK(n,r);case"Date":return BK(n,r);case"Function":return DK(n,r);case"Integer":return LK(n,r);case"Intersect":return FK(n,r);case"Iterator":return OK(n,r);case"Literal":return MK(n,r);case"Never":return UK(n,r);case"Not":return qK(n,r);case"Null":return $K(n,r);case"Number":return HK(n,r);case"Object":return VK(n,r);case"Promise":return jK(n,r);case"Record":return zK(n,r);case"Ref":return GK(n,r);case"String":return KK(n,r);case"Symbol":return WK(n,r);case"TemplateLiteral":return YK(n,r);case"This":return JK(n,r);case"Tuple":return XK(n,r);case"Undefined":return ZK(n,r);case"Union":return QK(n,r);case"Uint8Array":return eW(n,r);case"Unknown":return tW(n,r);case"Void":return rW(n,r);default:if(!Kl.TypeRegistry.Has(n[Kl.Kind]))throw new Yy(n);return nW(n,r)}}o(vf,"Visit");var FB=512,MB=0;function iW(...e){return MB=0,e.length===2?vf(e[0],e[1]):vf(e[0],[])}o(iW,"Create");_l.Create=iW});var HB=y0(bl=>{"use strict";Object.defineProperty(bl,"__esModule",{value:!0});bl.Cast=bl.Default=bl.DefaultClone=bl.ValueCastUnknownTypeError=bl.ValueCastRecursiveTypeError=bl.ValueCastNeverTypeError=bl.ValueCastArrayUniqueItemsTypeError=void 0;var s3=zl(),Du=DT(),Yf=r8(),r6=t6(),UB=z5(),Bu=jl(),MT=class MT extends Bu.TypeBoxError{constructor(t,r){super("Array cast produced invalid data due to uniqueItems constraint"),this.schema=t,this.value=r}};o(MT,"ValueCastArrayUniqueItemsTypeError");var tv=MT;bl.ValueCastArrayUniqueItemsTypeError=tv;var UT=class UT extends Bu.TypeBoxError{constructor(t){super("Never types cannot be cast"),this.schema=t}};o(UT,"ValueCastNeverTypeError");var rv=UT;bl.ValueCastNeverTypeError=rv;var qT=class qT extends Bu.TypeBoxError{constructor(t){super("Cannot cast recursive schemas"),this.schema=t}};o(qT,"ValueCastRecursiveTypeError");var LT=qT;bl.ValueCastRecursiveTypeError=LT;var $T=class $T extends Bu.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o($T,"ValueCastUnknownTypeError");var nv=$T;bl.ValueCastUnknownTypeError=nv;var FT;(function(e){function t(s,l,a){if(s[Bu.Kind]==="Object"&&typeof a=="object"&&!(0,s3.IsNull)(a)){let f=s,c=Object.getOwnPropertyNames(a),u=Object.entries(f.properties),[d,h]=[1/u.length,u.length];return u.reduce((m,[p,v])=>{let x=v[Bu.Kind]==="Literal"&&v.const===a[p]?h:0,E=(0,Yf.Check)(v,l,a[p])?d:0,I=c.includes(p)?d:0;return m+(x+E+I)},0)}else return(0,Yf.Check)(s,l,a)?1:0}o(t,"Score");function r(s,l,a){let[f,c]=[s.anyOf[0],0];for(let u of s.anyOf){let d=t(u,l,a);d>c&&(f=u,c=d)}return f}o(r,"Select");function n(s,l,a){if("default"in s)return s.default;{let f=r(s,l,a);return $B(f,l,a)}}o(n,"Create"),e.Create=n})(FT||(FT={}));function qB(e,t,r){return(0,Yf.Check)(e,t,r)?(0,r6.Clone)(r):(0,Du.Create)(e,t)}o(qB,"DefaultClone");bl.DefaultClone=qB;function OT(e,t,r){return(0,Yf.Check)(e,t,r)?r:(0,Du.Create)(e,t)}o(OT,"Default");bl.Default=OT;function sW(e,t,r){if((0,Yf.Check)(e,t,r))return(0,r6.Clone)(r);let n=(0,s3.IsArray)(r)?(0,r6.Clone)(r):(0,Du.Create)(e,t),s=(0,s3.IsNumber)(e.minItems)&&n.length<e.minItems?[...n,...Array.from({length:e.minItems-n.length},()=>null)]:n,a=((0,s3.IsNumber)(e.maxItems)&&s.length>e.maxItems?s.slice(0,e.maxItems):s).map(c=>_c(e.items,t,c));if(e.uniqueItems!==!0)return a;let f=[...new Set(a)];if(!(0,Yf.Check)(e,t,f))throw new tv(e,f);return f}o(sW,"TArray");function oW(e,t,r){if((0,Yf.Check)(e,t,r))return(0,Du.Create)(e,t);let n=new Set(e.returns.required||[]),s=o(function(){},"result");for(let[l,a]of Object.entries(e.returns.properties))!n.has(l)&&r.prototype[l]===void 0||(s.prototype[l]=_c(a,t,r.prototype[l]));return s}o(oW,"TConstructor");function aW(e,t,r){let n=(0,Du.Create)(e,t),s=(0,s3.IsPlainObject)(n)&&(0,s3.IsPlainObject)(r)?{...n,...r}:r;return(0,Yf.Check)(e,t,s)?s:(0,Du.Create)(e,t)}o(aW,"TIntersect");function lW(e,t,r){throw new rv(e)}o(lW,"TNever");function fW(e,t,r){if((0,Yf.Check)(e,t,r))return r;if(r===null||typeof r!="object")return(0,Du.Create)(e,t);let n=new Set(e.required||[]),s={};for(let[l,a]of Object.entries(e.properties))!n.has(l)&&r[l]===void 0||(s[l]=_c(a,t,r[l]));if(typeof e.additionalProperties=="object"){let l=Object.getOwnPropertyNames(e.properties);for(let a of Object.getOwnPropertyNames(r))l.includes(a)||(s[a]=_c(e.additionalProperties,t,r[a]))}return s}o(fW,"TObject");function cW(e,t,r){if((0,Yf.Check)(e,t,r))return(0,r6.Clone)(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return(0,Du.Create)(e,t);let n=Object.getOwnPropertyNames(e.patternProperties)[0],s=e.patternProperties[n],l={};for(let[a,f]of Object.entries(r))l[a]=_c(s,t,f);return l}o(cW,"TRecord");function uW(e,t,r){return _c((0,UB.Deref)(e,t),t,r)}o(uW,"TRef");function dW(e,t,r){return _c((0,UB.Deref)(e,t),t,r)}o(dW,"TThis");function hW(e,t,r){return(0,Yf.Check)(e,t,r)?(0,r6.Clone)(r):(0,s3.IsArray)(r)?e.items===void 0?[]:e.items.map((n,s)=>_c(n,t,r[s])):(0,Du.Create)(e,t)}o(hW,"TTuple");function gW(e,t,r){return(0,Yf.Check)(e,t,r)?(0,r6.Clone)(r):FT.Create(e,t,r)}o(gW,"TUnion");function _c(e,t,r){let n=(0,s3.IsString)(e.$id)?[...t,e]:t,s=e;switch(e[Bu.Kind]){case"Array":return sW(s,n,r);case"Constructor":return oW(s,n,r);case"Intersect":return aW(s,n,r);case"Never":return lW(s,n,r);case"Object":return fW(s,n,r);case"Record":return cW(s,n,r);case"Ref":return uW(s,n,r);case"This":return dW(s,n,r);case"Tuple":return hW(s,n,r);case"Union":return gW(s,n,r);case"Date":case"Symbol":case"Uint8Array":return qB(e,t,r);case"Any":case"AsyncIterator":case"BigInt":case"Boolean":case"Function":case"Integer":case"Iterator":case"Literal":case"Not":case"Null":case"Number":case"Promise":case"String":case"TemplateLiteral":case"Undefined":case"Unknown":case"Void":return OT(s,n,r);default:if(!Bu.TypeRegistry.Has(s[Bu.Kind]))throw new nv(s);return OT(s,n,r)}}o(_c,"Visit");function $B(...e){return e.length===3?_c(e[0],e[1],e[2]):_c(e[0],[],e[1])}o($B,"Cast");bl.Cast=$B});var KB=y0(o3=>{"use strict";Object.defineProperty(o3,"__esModule",{value:!0});o3.Convert=o3.Default=o3.ValueConvertUnknownTypeError=void 0;var xs=zl(),mW=t6(),pW=r8(),VB=z5(),n6=jl(),HT=class HT extends n6.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(HT,"ValueConvertUnknownTypeError");var iv=HT;o3.ValueConvertUnknownTypeError=iv;function sv(e){return(0,xs.IsString)(e)&&!isNaN(e)&&!isNaN(parseFloat(e))}o(sv,"IsStringNumeric");function yW(e){return(0,xs.IsBigInt)(e)||(0,xs.IsBoolean)(e)||(0,xs.IsNumber)(e)}o(yW,"IsValueToString");function s7(e){return e===!0||(0,xs.IsNumber)(e)&&e===1||(0,xs.IsBigInt)(e)&&e===BigInt("1")||(0,xs.IsString)(e)&&(e.toLowerCase()==="true"||e==="1")}o(s7,"IsValueTrue");function o7(e){return e===!1||(0,xs.IsNumber)(e)&&(e===0||Object.is(e,-0))||(0,xs.IsBigInt)(e)&&e===BigInt("0")||(0,xs.IsString)(e)&&(e.toLowerCase()==="false"||e==="0"||e==="-0")}o(o7,"IsValueFalse");function vW(e){return(0,xs.IsString)(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(vW,"IsTimeStringWithTimeZone");function xW(e){return(0,xs.IsString)(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(xW,"IsTimeStringWithoutTimeZone");function _W(e){return(0,xs.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(_W,"IsDateTimeStringWithTimeZone");function bW(e){return(0,xs.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(bW,"IsDateTimeStringWithoutTimeZone");function CW(e){return(0,xs.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(e)}o(CW,"IsDateString");function EW(e,t){let r=zB(e);return r===t?r:e}o(EW,"TryConvertLiteralString");function TW(e,t){let r=GB(e);return r===t?r:e}o(TW,"TryConvertLiteralNumber");function SW(e,t){let r=jB(e);return r===t?r:e}o(SW,"TryConvertLiteralBoolean");function IW(e,t){return typeof e.const=="string"?EW(t,e.const):typeof e.const=="number"?TW(t,e.const):typeof e.const=="boolean"?SW(t,e.const):(0,mW.Clone)(t)}o(IW,"TryConvertLiteral");function jB(e){return s7(e)?!0:o7(e)?!1:e}o(jB,"TryConvertBoolean");function wW(e){return sv(e)?BigInt(parseInt(e)):(0,xs.IsNumber)(e)?BigInt(e|0):o7(e)?BigInt(0):s7(e)?BigInt(1):e}o(wW,"TryConvertBigInt");function zB(e){return yW(e)?e.toString():(0,xs.IsSymbol)(e)&&e.description!==void 0?e.description.toString():e}o(zB,"TryConvertString");function GB(e){return sv(e)?parseFloat(e):s7(e)?1:o7(e)?0:e}o(GB,"TryConvertNumber");function AW(e){return sv(e)?parseInt(e):(0,xs.IsNumber)(e)?e|0:s7(e)?1:o7(e)?0:e}o(AW,"TryConvertInteger");function PW(e){return(0,xs.IsString)(e)&&e.toLowerCase()==="null"?null:e}o(PW,"TryConvertNull");function NW(e){return(0,xs.IsString)(e)&&e==="undefined"?void 0:e}o(NW,"TryConvertUndefined");function RW(e){return(0,xs.IsDate)(e)?e:(0,xs.IsNumber)(e)?new Date(e):s7(e)?new Date(1):o7(e)?new Date(0):sv(e)?new Date(parseInt(e)):xW(e)?new Date(`1970-01-01T${e}.000Z`):vW(e)?new Date(`1970-01-01T${e}`):bW(e)?new Date(`${e}.000Z`):_W(e)?new Date(e):CW(e)?new Date(`${e}T00:00:00.000Z`):e}o(RW,"TryConvertDate");function kW(e){return e}o(kW,"Default");o3.Default=kW;function BW(e,t,r){return(0,xs.IsArray)(r)?r.map(n=>k1(e.items,t,n)):r}o(BW,"TArray");function DW(e,t,r){return wW(r)}o(DW,"TBigInt");function LW(e,t,r){return jB(r)}o(LW,"TBoolean");function FW(e,t,r){return RW(r)}o(FW,"TDate");function OW(e,t,r){return AW(r)}o(OW,"TInteger");function MW(e,t,r){return e.allOf.every(n=>n6.TypeGuard.TObject(n))?k1(n6.Type.Composite(e.allOf),t,r):k1(e.allOf[0],t,r)}o(MW,"TIntersect");function UW(e,t,r){return IW(e,r)}o(UW,"TLiteral");function qW(e,t,r){return PW(r)}o(qW,"TNull");function $W(e,t,r){return GB(r)}o($W,"TNumber");function HW(e,t,r){return(0,xs.IsObject)(r)?Object.getOwnPropertyNames(e.properties).reduce((n,s)=>r[s]!==void 0?{...n,[s]:k1(e.properties[s],t,r[s])}:{...n},r):r}o(HW,"TObject");function VW(e,t,r){let n=Object.getOwnPropertyNames(e.patternProperties)[0],s=e.patternProperties[n],l={};for(let[a,f]of Object.entries(r))l[a]=k1(s,t,f);return l}o(VW,"TRecord");function jW(e,t,r){return k1((0,VB.Deref)(e,t),t,r)}o(jW,"TRef");function zW(e,t,r){return zB(r)}o(zW,"TString");function GW(e,t,r){return(0,xs.IsString)(r)||(0,xs.IsNumber)(r)?Symbol(r):r}o(GW,"TSymbol");function KW(e,t,r){return k1((0,VB.Deref)(e,t),t,r)}o(KW,"TThis");function WW(e,t,r){return(0,xs.IsArray)(r)&&!(0,xs.IsUndefined)(e.items)?r.map((n,s)=>s<e.items.length?k1(e.items[s],t,n):n):r}o(WW,"TTuple");function YW(e,t,r){return NW(r)}o(YW,"TUndefined");function JW(e,t,r){for(let n of e.anyOf){let s=k1(n,t,r);if((0,pW.Check)(n,t,s))return s}return r}o(JW,"TUnion");function k1(e,t,r){let n=(0,xs.IsString)(e.$id)?[...t,e]:t,s=e;switch(e[n6.Kind]){case"Array":return BW(s,n,r);case"BigInt":return DW(s,n,r);case"Boolean":return LW(s,n,r);case"Date":return FW(s,n,r);case"Integer":return OW(s,n,r);case"Intersect":return MW(s,n,r);case"Literal":return UW(s,n,r);case"Null":return qW(s,n,r);case"Number":return $W(s,n,r);case"Object":return HW(s,n,r);case"Record":return VW(s,n,r);case"Ref":return jW(s,n,r);case"String":return zW(s,n,r);case"Symbol":return GW(s,n,r);case"This":return KW(s,n,r);case"Tuple":return WW(s,n,r);case"Undefined":return YW(s,n,r);case"Union":return JW(s,n,r);case"Any":case"AsyncIterator":case"Constructor":case"Function":case"Iterator":case"Never":case"Promise":case"TemplateLiteral":case"Uint8Array":case"Unknown":case"Void":return r;default:if(!n6.TypeRegistry.Has(s[n6.Kind]))throw new iv(s);return r}}o(k1,"Visit");function XW(...e){return e.length===3?k1(e[0],e[1],e[2]):k1(e[0],[],e[1])}o(XW,"Convert");o3.Convert=XW});var tD=y0(av=>{"use strict";Object.defineProperty(av,"__esModule",{value:!0});av.Value=void 0;var WB=wm(),ZW=DB(),QW=p9(),eY=LB(),YB=HB(),tY=t6(),JB=KB(),XB=DT(),ZB=r8(),QB=ET(),ov=Cb(),eD;(function(e){function t(...v){return YB.Cast.apply(YB,v)}o(t,"Cast"),e.Cast=t;function r(...v){return XB.Create.apply(XB,v)}o(r,"Create"),e.Create=r;function n(...v){return ZB.Check.apply(ZB,v)}o(n,"Check"),e.Check=n;function s(...v){return JB.Convert.apply(JB,v)}o(s,"Convert"),e.Convert=s;function l(v){return tY.Clone(v)}o(l,"Clone"),e.Clone=l;function a(...v){let[x,E,I]=v.length===3?[v[0],v[1],v[2]]:[v[0],[],v[1]];if(!n(x,E,I))throw new ov.TransformDecodeCheckError(x,I,c(x,E,I).First());return ov.DecodeTransform.Decode(x,E,I)}o(a,"Decode"),e.Decode=a;function f(...v){let[x,E,I]=v.length===3?[v[0],v[1],v[2]]:[v[0],[],v[1]],A=ov.EncodeTransform.Encode(x,E,I);if(!n(x,E,A))throw new ov.TransformEncodeCheckError(x,I,c(x,E,I).First());return A}o(f,"Encode"),e.Encode=f;function c(...v){return WB.Errors.apply(WB,v)}o(c,"Errors"),e.Errors=c;function u(v,x){return eY.Equal(v,x)}o(u,"Equal"),e.Equal=u;function d(v,x){return QB.Diff(v,x)}o(d,"Diff"),e.Diff=d;function h(v){return QW.Hash(v)}o(h,"Hash"),e.Hash=h;function m(v,x){return QB.Patch(v,x)}o(m,"Patch"),e.Patch=m;function p(v,x){ZW.Mutate(v,x)}o(p,"Mutate"),e.Mutate=p})(eD||(av.Value=eD={}))});var nD=y0(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.Value=ka.ValuePointer=ka.Delete=ka.Update=ka.Insert=ka.Edit=ka.ValueErrorIterator=ka.ValueErrorType=void 0;var rD=wm();Object.defineProperty(ka,"ValueErrorType",{enumerable:!0,get:function(){return rD.ValueErrorType}});Object.defineProperty(ka,"ValueErrorIterator",{enumerable:!0,get:function(){return rD.ValueErrorIterator}});var lv=ET();Object.defineProperty(ka,"Edit",{enumerable:!0,get:function(){return lv.Edit}});Object.defineProperty(ka,"Insert",{enumerable:!0,get:function(){return lv.Insert}});Object.defineProperty(ka,"Update",{enumerable:!0,get:function(){return lv.Update}});Object.defineProperty(ka,"Delete",{enumerable:!0,get:function(){return lv.Delete}});var rY=qy();Object.defineProperty(ka,"ValuePointer",{enumerable:!0,get:function(){return rY.ValuePointer}});var nY=tD();Object.defineProperty(ka,"Value",{enumerable:!0,get:function(){return nY.Value}})});var TL=y0((t1e,EL)=>{"use strict";EL.exports=o(function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,l;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(l=Object.keys(t),n=l.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,l[s]))return!1;for(s=n;s--!==0;){var a=l[s];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r},"equal")});var pn=y0((kue,RL)=>{RL.exports={options:{usePureJavaScript:!1}}});var DL=y0((Bue,BL)=>{var YS={};BL.exports=YS;var kL={};YS.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=qY(e,t);else{var s=0,l=t.length,a=t.charAt(0),f=[0];for(s=0;s<e.length;++s){for(var c=0,u=e[s];c<f.length;++c)u+=f[c]<<8,f[c]=u%l,u=u/l|0;for(;u>0;)f.push(u%l),u=u/l|0}for(s=0;e[s]===0&&s<e.length-1;++s)n+=a;for(s=f.length-1;s>=0;--s)n+=t[f[s]]}if(r){var d=new RegExp(".{1,"+r+"}","g");n=n.match(d).join(`\r
`)}return n};YS.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=kL[t];if(!r){r=kL[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var s=t.length,l=t.charAt(0),a=[0],n=0;n<e.length;n++){var f=r[e.charCodeAt(n)];if(f===void 0)return;for(var c=0,u=f;c<a.length;++c)u+=a[c]*s,a[c]=u&255,u>>=8;for(;u>0;)a.push(u&255),u>>=8}for(var d=0;e[d]===l&&d<e.length-1;++d)a.push(0);return typeof Buffer<"u"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function qY(e,t){var r=0,n=t.length,s=t.charAt(0),l=[0];for(r=0;r<e.length();++r){for(var a=0,f=e.at(r);a<l.length;++a)f+=l[a]<<8,l[a]=f%n,f=f/n|0;for(;f>0;)l.push(f%n),f=f/n|0}var c="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)c+=s;for(r=l.length-1;r>=0;--r)c+=t[l[r]];return c}o(qY,"_encodeWithByteBuffer")});var Gi=y0((Lue,ML)=>{var LL=pn(),FL=DL(),s0=ML.exports=LL.util=LL.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){s0.nextTick=process.nextTick,typeof setImmediate=="function"?s0.setImmediate=setImmediate:s0.setImmediate=s0.nextTick;return}if(typeof setImmediate=="function"){s0.setImmediate=function(){return setImmediate.apply(void 0,arguments)},s0.nextTick=function(f){return setImmediate(f)};return}if(s0.setImmediate=function(f){setTimeout(f,0)},typeof window<"u"&&typeof window.postMessage=="function"){let f=function(c){if(c.source===window&&c.data===e){c.stopPropagation();var u=t.slice();t.length=0,u.forEach(function(d){d()})}};var a=f;o(f,"handler");var e="forge.setImmediate",t=[];s0.setImmediate=function(c){t.push(c),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",f,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,s=document.createElement("div"),t=[];new MutationObserver(function(){var c=t.slice();t.length=0,c.forEach(function(u){u()})}).observe(s,{attributes:!0});var l=s0.setImmediate;s0.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),l(c)):(t.push(c),t.length===1&&s.setAttribute("a",n=!n))}}s0.nextTick=s0.setImmediate})();s0.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;s0.globalScope=function(){return s0.isNodejs?global:typeof self>"u"?window:self}();s0.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};s0.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};s0.isArrayBufferView=function(e){return e&&s0.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function v7(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}o(v7,"_checkBitsParam");s0.ByteBuffer=JS;function JS(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(s0.isArrayBuffer(e)||s0.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof JS||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}o(JS,"ByteStringBuffer");s0.ByteStringBuffer=JS;var $Y=4096;s0.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>$Y&&(this.data.substr(0,1),this._constructedStringLength=0)};s0.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};s0.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};s0.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};s0.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};s0.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};s0.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(s0.encodeUtf8(e))};s0.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};s0.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};s0.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};s0.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};s0.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};s0.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};s0.ByteStringBuffer.prototype.putInt=function(e,t){v7(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};s0.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};s0.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};s0.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};s0.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};s0.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};s0.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};s0.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};s0.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};s0.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};s0.ByteStringBuffer.prototype.getInt=function(e){v7(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};s0.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};s0.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};s0.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};s0.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};s0.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};s0.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};s0.ByteStringBuffer.prototype.copy=function(){var e=s0.createBuffer(this.data);return e.read=this.read,e};s0.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};s0.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};s0.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};s0.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};s0.ByteStringBuffer.prototype.toString=function(){return s0.decodeUtf8(this.bytes())};function HY(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=s0.isArrayBuffer(e),n=s0.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}o(HY,"DataBuffer");s0.DataBuffer=HY;s0.DataBuffer.prototype.length=function(){return this.write-this.read};s0.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};s0.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};s0.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};s0.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};s0.DataBuffer.prototype.putBytes=function(e,t){if(s0.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var s=new Uint8Array(this.data.buffer,this.write);return s.set(r),this.write+=n,this}if(s0.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var s=new Uint8Array(this.data.buffer);return s.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof s0.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&s0.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var s=new Uint8Array(e.data.byteLength,this.write);return s.set(r),this.write+=r.byteLength,this}if(e instanceof s0.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var l;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),l=new Uint8Array(this.data.buffer,this.write),this.write+=s0.binary.hex.decode(e,l,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),l=new Uint8Array(this.data.buffer,this.write),this.write+=s0.binary.base64.decode(e,l,this.write),this;if(t==="utf8"&&(e=s0.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),l=new Uint8Array(this.data.buffer,this.write),this.write+=s0.binary.raw.decode(l),this;if(t==="utf16")return this.accommodate(e.length*2),l=new Uint16Array(this.data.buffer,this.write),this.write+=s0.text.utf16.encode(l),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};s0.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};s0.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};s0.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};s0.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};s0.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};s0.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};s0.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};s0.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};s0.DataBuffer.prototype.putInt=function(e,t){v7(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};s0.DataBuffer.prototype.putSignedInt=function(e,t){return v7(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};s0.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};s0.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};s0.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};s0.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};s0.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};s0.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};s0.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};s0.DataBuffer.prototype.getInt=function(e){v7(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};s0.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};s0.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};s0.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};s0.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};s0.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};s0.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};s0.DataBuffer.prototype.copy=function(){return new s0.DataBuffer(this)};s0.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};s0.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};s0.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};s0.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};s0.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return s0.binary.raw.encode(t);if(e==="hex")return s0.binary.hex.encode(t);if(e==="base64")return s0.binary.base64.encode(t);if(e==="utf8")return s0.text.utf8.decode(t);if(e==="utf16")return s0.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};s0.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=s0.encodeUtf8(e)),new s0.ByteBuffer(e)};s0.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};s0.xorBytes=function(e,t,r){for(var n="",s="",l="",a=0,f=0;r>0;--r,++a)s=e.charCodeAt(a)^t.charCodeAt(a),f>=10&&(n+=l,l="",f=0),l+=String.fromCharCode(s),++f;return n+=l,n};s0.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};s0.bytesToHex=function(e){return s0.createBuffer(e).toHex()};s0.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var a3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l3=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],OL="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";s0.encode64=function(e,t){for(var r="",n="",s,l,a,f=0;f<e.length;)s=e.charCodeAt(f++),l=e.charCodeAt(f++),a=e.charCodeAt(f++),r+=a3.charAt(s>>2),r+=a3.charAt((s&3)<<4|l>>4),isNaN(l)?r+="==":(r+=a3.charAt((l&15)<<2|a>>6),r+=isNaN(a)?"=":a3.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};s0.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,s,l,a=0;a<e.length;)r=l3[e.charCodeAt(a++)-43],n=l3[e.charCodeAt(a++)-43],s=l3[e.charCodeAt(a++)-43],l=l3[e.charCodeAt(a++)-43],t+=String.fromCharCode(r<<2|n>>4),s!==64&&(t+=String.fromCharCode((n&15)<<4|s>>2),l!==64&&(t+=String.fromCharCode((s&3)<<6|l)));return t};s0.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};s0.decodeUtf8=function(e){return decodeURIComponent(escape(e))};s0.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:FL.encode,decode:FL.decode}};s0.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};s0.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var s=r,l=0;l<e.length;++l)n[s++]=e.charCodeAt(l);return t?s-r:n};s0.binary.hex.encode=s0.bytesToHex;s0.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var s=0,l=r;for(e.length&1&&(s=1,n[l++]=parseInt(e[0],16));s<e.length;s+=2)n[l++]=parseInt(e.substr(s,2),16);return t?l-r:n};s0.binary.base64.encode=function(e,t){for(var r="",n="",s,l,a,f=0;f<e.byteLength;)s=e[f++],l=e[f++],a=e[f++],r+=a3.charAt(s>>2),r+=a3.charAt((s&3)<<4|l>>4),isNaN(l)?r+="==":(r+=a3.charAt((l&15)<<2|a>>6),r+=isNaN(a)?"=":a3.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};s0.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var s,l,a,f,c=0,u=r;c<e.length;)s=l3[e.charCodeAt(c++)-43],l=l3[e.charCodeAt(c++)-43],a=l3[e.charCodeAt(c++)-43],f=l3[e.charCodeAt(c++)-43],n[u++]=s<<2|l>>4,a!==64&&(n[u++]=(l&15)<<4|a>>2,f!==64&&(n[u++]=(a&3)<<6|f));return t?u-r:n.subarray(0,u)};s0.binary.base58.encode=function(e,t){return s0.binary.baseN.encode(e,OL,t)};s0.binary.base58.decode=function(e,t){return s0.binary.baseN.decode(e,OL,t)};s0.text={utf8:{},utf16:{}};s0.text.utf8.encode=function(e,t,r){e=s0.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var s=r,l=0;l<e.length;++l)n[s++]=e.charCodeAt(l);return t?s-r:n};s0.text.utf8.decode=function(e){return s0.decodeUtf8(String.fromCharCode.apply(null,e))};s0.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var s=new Uint16Array(n.buffer);r=r||0;for(var l=r,a=r,f=0;f<e.length;++f)s[a++]=e.charCodeAt(f),l+=2;return t?l-r:n};s0.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};s0.deflate=function(e,t,r){if(t=s0.decode64(e.deflate(s0.encode64(t)).rval),r){var n=2,s=t.charCodeAt(1);s&32&&(n=6),t=t.substring(n,t.length-4)}return t};s0.inflate=function(e,t,r){var n=e.inflate(s0.encode64(t)).rval;return n===null?null:s0.decode64(n)};var XS=o(function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=s0.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var s=new Error(n.error.message);throw s.id=n.error.id,s.name=n.error.name,s}},"_setStorageObject"),ZS=o(function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(s0.decode64(r))),r},"_getStorageObject"),VY=o(function(e,t,r,n){var s=ZS(e,t);s===null&&(s={}),s[r]=n,XS(e,t,s)},"_setItem"),jY=o(function(e,t,r){var n=ZS(e,t);return n!==null&&(n=r in n?n[r]:null),n},"_getItem"),zY=o(function(e,t,r){var n=ZS(e,t);if(n!==null&&r in n){delete n[r];var s=!0;for(var l in n){s=!1;break}s&&(n=null),XS(e,t,n)}},"_removeItem"),GY=o(function(e,t){XS(e,t,null)},"_clearItems"),Iv=o(function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var s,l=!1,a=null;for(var f in r){s=r[f];try{if(s==="flash"||s==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),l=s==="flash"}(s==="web"||s==="both")&&(t[0]=localStorage,n=e.apply(this,t),l=!0)}catch(c){a=c}if(l)break}if(!l)throw a;return n},"_callStorageFunction");s0.setItem=function(e,t,r,n,s){Iv(VY,arguments,s)};s0.getItem=function(e,t,r,n){return Iv(jY,arguments,n)};s0.removeItem=function(e,t,r,n){Iv(zY,arguments,n)};s0.clearItems=function(e,t,r){Iv(GY,arguments,r)};s0.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};s0.format=function(e){for(var t=/%./g,r,n,s=0,l=[],a=0;r=t.exec(e);){n=e.substring(a,t.lastIndex-2),n.length>0&&l.push(n),a=t.lastIndex;var f=r[0][1];switch(f){case"s":case"o":s<arguments.length?l.push(arguments[s+++1]):l.push("<?>");break;case"%":l.push("%");break;default:l.push("<%"+f+"?>")}}return l.push(e.substring(a)),l.join("")};s0.formatNumber=function(e,t,r,n){var s=e,l=isNaN(t=Math.abs(t))?2:t,a=r===void 0?",":r,f=n===void 0?".":n,c=s<0?"-":"",u=parseInt(s=Math.abs(+s||0).toFixed(l),10)+"",d=u.length>3?u.length%3:0;return c+(d?u.substr(0,d)+f:"")+u.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+f)+(l?a+Math.abs(s-u).toFixed(l).slice(2):"")};s0.formatSize=function(e){return e>=1073741824?e=s0.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=s0.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=s0.formatNumber(e/1024,0)+" KiB":e=s0.formatNumber(e,0)+" bytes",e};s0.bytesFromIP=function(e){return e.indexOf(".")!==-1?s0.bytesFromIPv4(e):e.indexOf(":")!==-1?s0.bytesFromIPv6(e):null};s0.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=s0.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};s0.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(a){return a.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=s0.createBuffer(),s=0;s<8;++s){if(!e[s]||e[s].length===0){n.fillWithByte(0,r),r=0;continue}var l=s0.hexToBytes(e[s]);l.length<2&&n.putByte(0),n.putBytes(l)}return n.getBytes()};s0.bytesToIP=function(e){return e.length===4?s0.bytesToIPv4(e):e.length===16?s0.bytesToIPv6(e):null};s0.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};s0.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,s=0;s<e.length;s+=2){for(var l=s0.bytesToHex(e[s]+e[s+1]);l[0]==="0"&&l!=="0";)l=l.substr(1);if(l==="0"){var a=r[r.length-1],f=t.length;!a||f!==a.end+1?r.push({start:f,end:f}):(a.end=f,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(l)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),c.start===0&&t.unshift(""),c.end===7&&t.push(""))}return t.join(":")};s0.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in s0&&!e.update)return t(null,s0.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return s0.cores=navigator.hardwareConcurrency,t(null,s0.cores);if(typeof Worker>"u")return s0.cores=1,t(null,s0.cores);if(typeof Blob>"u")return s0.cores=2,t(null,s0.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var f=Date.now(),c=f+4;Date.now()<c;);self.postMessage({st:f,et:c})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,f,c){if(f===0){var u=Math.floor(a.reduce(function(d,h){return d+h},0)/a.length);return s0.cores=Math.max(1,u),URL.revokeObjectURL(r),t(null,s0.cores)}s(c,function(d,h){a.push(l(c,h)),n(a,f-1,c)})}o(n,"sample");function s(a,f){for(var c=[],u=[],d=0;d<a;++d){var h=new Worker(r);h.addEventListener("message",function(m){if(u.push(m.data),u.length===a){for(var p=0;p<a;++p)c[p].terminate();f(null,u)}}),c.push(h)}for(var d=0;d<a;++d)c[d].postMessage(d)}o(s,"map");function l(a,f){for(var c=[],u=0;u<a;++u)for(var d=f[u],h=c[u]=[],m=0;m<a;++m)if(u!==m){var p=f[m];(d.st>p.st&&d.st<p.et||p.st>d.st&&p.st<d.et)&&h.push(m)}return c.reduce(function(v,x){return Math.max(v,x.length)},0)}o(l,"reduce")}});var wv=y0((Oue,UL)=>{var Ba=pn();Gi();UL.exports=Ba.cipher=Ba.cipher||{};Ba.cipher.algorithms=Ba.cipher.algorithms||{};Ba.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Ba.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Ba.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};Ba.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Ba.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Ba.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};Ba.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),Ba.cipher.algorithms[e]=t};Ba.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in Ba.cipher.algorithms?Ba.cipher.algorithms[e]:null};var QS=Ba.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};QS.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=Ba.util.createBuffer(),this.output=e.output||Ba.util.createBuffer(),this.mode.start(t)};QS.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};QS.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var tI=y0((Mue,qL)=>{var Da=pn();Gi();Da.cipher=Da.cipher||{};var ti=qL.exports=Da.cipher.modes=Da.cipher.modes||{};ti.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};ti.ecb.prototype.start=function(e){};ti.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};ti.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};ti.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};ti.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};ti.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};ti.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=Av(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};ti.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};ti.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};ti.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};ti.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};ti.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Da.util.createBuffer(),this._partialBytes=0};ti.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Av(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ti.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)this._inBlock[s]=e.getInt32()^this._outBlock[s],t.putInt32(this._inBlock[s]);return}var l=(this.blockSize-n)%this.blockSize;l>0&&(l=this.blockSize-l),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialBlock[s]=e.getInt32()^this._outBlock[s],this._partialOutput.putInt32(this._partialBlock[s]);if(l>0)e.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._partialBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),l>0&&!r)return t.putBytes(this._partialOutput.getBytes(l-this._partialBytes)),this._partialBytes=l,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};ti.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)this._inBlock[s]=e.getInt32(),t.putInt32(this._inBlock[s]^this._outBlock[s]);return}var l=(this.blockSize-n)%this.blockSize;l>0&&(l=this.blockSize-l),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialBlock[s]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[s]^this._outBlock[s]);if(l>0)e.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._partialBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),l>0&&!r)return t.putBytes(this._partialOutput.getBytes(l-this._partialBytes)),this._partialBytes=l,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};ti.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Da.util.createBuffer(),this._partialBytes=0};ti.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Av(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ti.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)t.putInt32(e.getInt32()^this._outBlock[s]),this._inBlock[s]=this._outBlock[s];return}var l=(this.blockSize-n)%this.blockSize;l>0&&(l=this.blockSize-l),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(e.getInt32()^this._outBlock[s]);if(l>0)e.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._outBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),l>0&&!r)return t.putBytes(this._partialOutput.getBytes(l-this._partialBytes)),this._partialBytes=l,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};ti.ofb.prototype.decrypt=ti.ofb.prototype.encrypt;ti.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Da.util.createBuffer(),this._partialBytes=0};ti.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Av(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ti.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var s=0;s<this._ints;++s)t.putInt32(e.getInt32()^this._outBlock[s]);else{var l=(this.blockSize-n)%this.blockSize;l>0&&(l=this.blockSize-l),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(e.getInt32()^this._outBlock[s]);if(l>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),l>0&&!r)return t.putBytes(this._partialOutput.getBytes(l-this._partialBytes)),this._partialBytes=l,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}Pv(this._inBlock)};ti.ctr.prototype.decrypt=ti.ctr.prototype.encrypt;ti.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Da.util.createBuffer(),this._partialBytes=0,this._R=3774873600};ti.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=Da.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=Da.util.createBuffer(e.additionalData):r=Da.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=Da.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(eI(n*8)))}this._inBlock=this._j0.slice(0),Pv(this._inBlock),this._partialBytes=0,r=Da.util.createBuffer(r),this._aDataLength=eI(r.length()*8);var s=r.length()%this.blockSize;for(s&&r.fillWithByte(0,this.blockSize-s),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};ti.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)t.putInt32(this._outBlock[s]^=e.getInt32());this._cipherLength+=this.blockSize}else{var l=(this.blockSize-n)%this.blockSize;l>0&&(l=this.blockSize-l),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(e.getInt32()^this._outBlock[s]);if(l<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var s=0;s<this._ints;++s)this._outBlock[s]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),l>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(l-this._partialBytes)),this._partialBytes=l,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),Pv(this._inBlock)};ti.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),Pv(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var s=0;s<this._ints;++s)t.putInt32(this._outBlock[s]^this._hashBlock[s]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};ti.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=Da.util.createBuffer();var n=this._aDataLength.concat(eI(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var s=[];this.cipher.encrypt(this._j0,s);for(var l=0;l<this._ints;++l)this.tag.putInt32(this._s[l]^s[l]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};ti.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),s=0;s<128;++s){var l=e[s/32|0]&1<<31-s%32;l&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};ti.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};ti.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,s=e[n]>>>(7-r%8)*4&15,l=this._m[r][s];t[0]^=l[0],t[1]^=l[1],t[2]^=l[2],t[3]^=l[3]}return t};ti.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};ti.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,s=16*r,l=new Array(s),a=0;a<s;++a){var f=[0,0,0,0],c=a/n|0,u=(n-1-a%n)*t;f[c]=1<<t-1<<u,l[a]=this.generateSubHashTable(this.multiply(f,e),t)}return l};ti.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,s=new Array(r);s[n]=e.slice(0);for(var l=n>>>1;l>0;)this.pow(s[2*l],s[l]=[]),l>>=1;for(l=2;l<n;){for(var a=1;a<l;++a){var f=s[l],c=s[a];s[l+a]=[f[0]^c[0],f[1]^c[1],f[2]^c[2],f[3]^c[3]]}l*=2}for(s[0]=[0,0,0,0],l=n+1;l<r;++l){var u=s[l^n];s[l]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return s};function Av(e,t){if(typeof e=="string"&&(e=Da.util.createBuffer(e)),Da.util.isArray(e)&&e.length>4){var r=e;e=Da.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!Da.util.isArray(e)){for(var s=[],l=t/4,n=0;n<l;++n)s.push(e.getInt32());e=s}return e}o(Av,"transformIV");function Pv(e){e[e.length-1]=e[e.length-1]+1&4294967295}o(Pv,"inc32");function eI(e){return[e/4294967296|0,e&4294967295]}o(eI,"from64To32")});var f3=y0((que,jL)=>{var Ss=pn();wv();tI();Gi();jL.exports=Ss.aes=Ss.aes||{};Ss.aes.startEncrypting=function(e,t,r,n){var s=Nv({key:e,output:r,decrypt:!1,mode:n});return s.start(t),s};Ss.aes.createEncryptionCipher=function(e,t){return Nv({key:e,output:null,decrypt:!1,mode:t})};Ss.aes.startDecrypting=function(e,t,r,n){var s=Nv({key:e,output:r,decrypt:!0,mode:n});return s.start(t),s};Ss.aes.createDecryptionCipher=function(e,t){return Nv({key:e,output:null,decrypt:!0,mode:t})};Ss.aes.Algorithm=function(e,t){iI||HL();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(n,s){return nI(r._w,n,s,!1)},decrypt:function(n,s){return nI(r._w,n,s,!0)}}}),r._init=!1};Ss.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=Ss.util.createBuffer(t);else if(Ss.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=Ss.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!Ss.util.isArray(t)){r=t,t=[];var s=r.length();if(s===16||s===24||s===32){s=s>>>2;for(var n=0;n<s;++n)t.push(r.getInt32())}}if(!Ss.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var l=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(l)!==-1;this._w=VL(t,e.decrypt&&!a),this._init=!0}};Ss.aes._expandKey=function(e,t){return iI||HL(),VL(e,t)};Ss.aes._updateBlock=nI;u6("AES-ECB",Ss.cipher.modes.ecb);u6("AES-CBC",Ss.cipher.modes.cbc);u6("AES-CFB",Ss.cipher.modes.cfb);u6("AES-OFB",Ss.cipher.modes.ofb);u6("AES-CTR",Ss.cipher.modes.ctr);u6("AES-GCM",Ss.cipher.modes.gcm);function u6(e,t){var r=o(function(){return new Ss.aes.Algorithm(e,t)},"factory");Ss.cipher.registerAlgorithm(e,r)}o(u6,"registerAlgorithm");var iI=!1,c6=4,wl,rI,$L,Sd,L1;function HL(){iI=!0,$L=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;wl=new Array(256),rI=new Array(256),Sd=new Array(4),L1=new Array(4);for(var t=0;t<4;++t)Sd[t]=new Array(256),L1[t]=new Array(256);for(var r=0,n=0,s,l,a,f,c,u,d,t=0;t<256;++t){f=n^n<<1^n<<2^n<<3^n<<4,f=f>>8^f&255^99,wl[r]=f,rI[f]=r,c=e[f],s=e[r],l=e[s],a=e[l],u=c<<24^f<<16^f<<8^(f^c),d=(s^l^a)<<24^(r^a)<<16^(r^l^a)<<8^(r^s^a);for(var h=0;h<4;++h)Sd[h][r]=u,L1[h][f]=d,u=u<<24|u>>>8,d=d<<24|d>>>8;r===0?r=n=1:(r=s^e[e[e[s^a]]],n^=e[e[n]])}}o(HL,"initialize");function VL(e,t){for(var r=e.slice(0),n,s=1,l=r.length,a=l+6+1,f=c6*a,c=l;c<f;++c)n=r[c-1],c%l===0?(n=wl[n>>>16&255]<<24^wl[n>>>8&255]<<16^wl[n&255]<<8^wl[n>>>24]^$L[s]<<24,s++):l>6&&c%l===4&&(n=wl[n>>>24]<<24^wl[n>>>16&255]<<16^wl[n>>>8&255]<<8^wl[n&255]),r[c]=r[c-l]^n;if(t){var u,d=L1[0],h=L1[1],m=L1[2],p=L1[3],v=r.slice(0);f=r.length;for(var c=0,x=f-c6;c<f;c+=c6,x-=c6)if(c===0||c===f-c6)v[c]=r[x],v[c+1]=r[x+3],v[c+2]=r[x+2],v[c+3]=r[x+1];else for(var E=0;E<c6;++E)u=r[x+E],v[c+(3&-E)]=d[wl[u>>>24]]^h[wl[u>>>16&255]]^m[wl[u>>>8&255]]^p[wl[u&255]];r=v}return r}o(VL,"_expandKey");function nI(e,t,r,n){var s=e.length/4-1,l,a,f,c,u;n?(l=L1[0],a=L1[1],f=L1[2],c=L1[3],u=rI):(l=Sd[0],a=Sd[1],f=Sd[2],c=Sd[3],u=wl);var d,h,m,p,v,x,E;d=t[0]^e[0],h=t[n?3:1]^e[1],m=t[2]^e[2],p=t[n?1:3]^e[3];for(var I=3,A=1;A<s;++A)v=l[d>>>24]^a[h>>>16&255]^f[m>>>8&255]^c[p&255]^e[++I],x=l[h>>>24]^a[m>>>16&255]^f[p>>>8&255]^c[d&255]^e[++I],E=l[m>>>24]^a[p>>>16&255]^f[d>>>8&255]^c[h&255]^e[++I],p=l[p>>>24]^a[d>>>16&255]^f[h>>>8&255]^c[m&255]^e[++I],d=v,h=x,m=E;r[0]=u[d>>>24]<<24^u[h>>>16&255]<<16^u[m>>>8&255]<<8^u[p&255]^e[++I],r[n?3:1]=u[h>>>24]<<24^u[m>>>16&255]<<16^u[p>>>8&255]<<8^u[d&255]^e[++I],r[2]=u[m>>>24]<<24^u[p>>>16&255]<<16^u[d>>>8&255]<<8^u[h&255]^e[++I],r[n?1:3]=u[p>>>24]<<24^u[d>>>16&255]<<16^u[h>>>8&255]<<8^u[m&255]^e[++I]}o(nI,"_updateBlock");function Nv(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=Ss.cipher.createDecipher(r,e.key):n=Ss.cipher.createCipher(r,e.key);var s=n.start;return n.start=function(l,a){var f=null;a instanceof Ss.util.ByteBuffer&&(f=a,a={}),a=a||{},a.output=f,a.iv=l,s.call(n,a)},n}o(Nv,"_createCipher")});var c3=y0((Hue,zL)=>{var x7=pn();x7.pki=x7.pki||{};var sI=zL.exports=x7.pki.oids=x7.oids=x7.oids||{};function j0(e,t){sI[e]=t,sI[t]=e}o(j0,"_IN");function ms(e,t){sI[e]=t}o(ms,"_I_");j0("1.2.840.113549.1.1.1","rsaEncryption");j0("1.2.840.113549.1.1.4","md5WithRSAEncryption");j0("1.2.840.113549.1.1.5","sha1WithRSAEncryption");j0("1.2.840.113549.1.1.7","RSAES-OAEP");j0("1.2.840.113549.1.1.8","mgf1");j0("1.2.840.113549.1.1.9","pSpecified");j0("1.2.840.113549.1.1.10","RSASSA-PSS");j0("1.2.840.113549.1.1.11","sha256WithRSAEncryption");j0("1.2.840.113549.1.1.12","sha384WithRSAEncryption");j0("1.2.840.113549.1.1.13","sha512WithRSAEncryption");j0("1.3.101.112","EdDSA25519");j0("1.2.840.10040.4.3","dsa-with-sha1");j0("1.3.14.3.2.7","desCBC");j0("1.3.14.3.2.26","sha1");j0("1.3.14.3.2.29","sha1WithRSASignature");j0("2.16.840.1.101.3.4.2.1","sha256");j0("2.16.840.1.101.3.4.2.2","sha384");j0("2.16.840.1.101.3.4.2.3","sha512");j0("2.16.840.1.101.3.4.2.4","sha224");j0("2.16.840.1.101.3.4.2.5","sha512-224");j0("2.16.840.1.101.3.4.2.6","sha512-256");j0("1.2.840.113549.2.2","md2");j0("1.2.840.113549.2.5","md5");j0("1.2.840.113549.1.7.1","data");j0("1.2.840.113549.1.7.2","signedData");j0("1.2.840.113549.1.7.3","envelopedData");j0("1.2.840.113549.1.7.4","signedAndEnvelopedData");j0("1.2.840.113549.1.7.5","digestedData");j0("1.2.840.113549.1.7.6","encryptedData");j0("1.2.840.113549.1.9.1","emailAddress");j0("1.2.840.113549.1.9.2","unstructuredName");j0("1.2.840.113549.1.9.3","contentType");j0("1.2.840.113549.1.9.4","messageDigest");j0("1.2.840.113549.1.9.5","signingTime");j0("1.2.840.113549.1.9.6","counterSignature");j0("1.2.840.113549.1.9.7","challengePassword");j0("1.2.840.113549.1.9.8","unstructuredAddress");j0("1.2.840.113549.1.9.14","extensionRequest");j0("1.2.840.113549.1.9.20","friendlyName");j0("1.2.840.113549.1.9.21","localKeyId");j0("1.2.840.113549.1.9.22.1","x509Certificate");j0("1.2.840.113549.1.12.10.1.1","keyBag");j0("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");j0("1.2.840.113549.1.12.10.1.3","certBag");j0("1.2.840.113549.1.12.10.1.4","crlBag");j0("1.2.840.113549.1.12.10.1.5","secretBag");j0("1.2.840.113549.1.12.10.1.6","safeContentsBag");j0("1.2.840.113549.1.5.13","pkcs5PBES2");j0("1.2.840.113549.1.5.12","pkcs5PBKDF2");j0("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");j0("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");j0("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");j0("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");j0("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");j0("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");j0("1.2.840.113549.2.7","hmacWithSHA1");j0("1.2.840.113549.2.8","hmacWithSHA224");j0("1.2.840.113549.2.9","hmacWithSHA256");j0("1.2.840.113549.2.10","hmacWithSHA384");j0("1.2.840.113549.2.11","hmacWithSHA512");j0("1.2.840.113549.3.7","des-EDE3-CBC");j0("2.16.840.1.101.3.4.1.2","aes128-CBC");j0("2.16.840.1.101.3.4.1.22","aes192-CBC");j0("2.16.840.1.101.3.4.1.42","aes256-CBC");j0("2.5.4.3","commonName");j0("2.5.4.4","surname");j0("2.5.4.5","serialNumber");j0("2.5.4.6","countryName");j0("2.5.4.7","localityName");j0("2.5.4.8","stateOrProvinceName");j0("2.5.4.9","streetAddress");j0("2.5.4.10","organizationName");j0("2.5.4.11","organizationalUnitName");j0("2.5.4.12","title");j0("2.5.4.13","description");j0("2.5.4.15","businessCategory");j0("2.5.4.17","postalCode");j0("2.5.4.42","givenName");j0("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");j0("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");j0("2.16.840.1.113730.1.1","nsCertType");j0("2.16.840.1.113730.1.13","nsComment");ms("2.5.29.1","authorityKeyIdentifier");ms("2.5.29.2","keyAttributes");ms("2.5.29.3","certificatePolicies");ms("2.5.29.4","keyUsageRestriction");ms("2.5.29.5","policyMapping");ms("2.5.29.6","subtreesConstraint");ms("2.5.29.7","subjectAltName");ms("2.5.29.8","issuerAltName");ms("2.5.29.9","subjectDirectoryAttributes");ms("2.5.29.10","basicConstraints");ms("2.5.29.11","nameConstraints");ms("2.5.29.12","policyConstraints");ms("2.5.29.13","basicConstraints");j0("2.5.29.14","subjectKeyIdentifier");j0("2.5.29.15","keyUsage");ms("2.5.29.16","privateKeyUsagePeriod");j0("2.5.29.17","subjectAltName");j0("2.5.29.18","issuerAltName");j0("2.5.29.19","basicConstraints");ms("2.5.29.20","cRLNumber");ms("2.5.29.21","cRLReason");ms("2.5.29.22","expirationDate");ms("2.5.29.23","instructionCode");ms("2.5.29.24","invalidityDate");ms("2.5.29.25","cRLDistributionPoints");ms("2.5.29.26","issuingDistributionPoint");ms("2.5.29.27","deltaCRLIndicator");ms("2.5.29.28","issuingDistributionPoint");ms("2.5.29.29","certificateIssuer");ms("2.5.29.30","nameConstraints");j0("2.5.29.31","cRLDistributionPoints");j0("2.5.29.32","certificatePolicies");ms("2.5.29.33","policyMappings");ms("2.5.29.34","policyConstraints");j0("2.5.29.35","authorityKeyIdentifier");ms("2.5.29.36","policyConstraints");j0("2.5.29.37","extKeyUsage");ms("2.5.29.46","freshestCRL");ms("2.5.29.54","inhibitAnyPolicy");j0("1.3.6.1.4.1.11129.2.4.2","timestampList");j0("1.3.6.1.5.5.7.1.1","authorityInfoAccess");j0("1.3.6.1.5.5.7.3.1","serverAuth");j0("1.3.6.1.5.5.7.3.2","clientAuth");j0("1.3.6.1.5.5.7.3.3","codeSigning");j0("1.3.6.1.5.5.7.3.4","emailProtection");j0("1.3.6.1.5.5.7.3.8","timeStamping")});var F1=y0((jue,KL)=>{var Ns=pn();Gi();c3();var vt=KL.exports=Ns.asn1=Ns.asn1||{};vt.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};vt.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};vt.create=function(e,t,r,n,s){if(Ns.util.isArray(n)){for(var l=[],a=0;a<n.length;++a)n[a]!==void 0&&l.push(n[a]);n=l}var f={tagClass:e,type:t,constructed:r,composed:r||Ns.util.isArray(n),value:n};return s&&"bitStringContents"in s&&(f.bitStringContents=s.bitStringContents,f.original=vt.copy(f)),f};vt.copy=function(e,t){var r;if(Ns.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(vt.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:vt.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};vt.equals=function(e,t,r){if(Ns.util.isArray(e)){if(!Ns.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!vt.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var s=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&vt.equals(e.value,t.value);return r&&r.includeBitStringContents&&(s=s&&e.bitStringContents===t.bitStringContents),s};vt.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function _7(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}o(_7,"_checkBufferLength");var KY=o(function(e,t){var r=e.getByte();if(t--,r!==128){var n,s=r&128;if(!s)n=r;else{var l=r&127;_7(e,t,l),n=e.getInt(l<<3)}if(n<0)throw new Error("Negative length: "+n);return n}},"_getValueLength");vt.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=Ns.util.createBuffer(e));var r=e.length(),n=Rv(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var s=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw s.byteCount=r,s.remaining=e.length(),s}return n};function Rv(e,t,r,n){var s;_7(e,t,2);var l=e.getByte();t--;var a=l&192,f=l&31;s=e.length();var c=KY(e,t);if(t-=s-e.length(),c!==void 0&&c>t){if(n.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=e.length(),u.remaining=t,u.requested=c,u}c=t}var d,h,m=(l&32)===32;if(m)if(d=[],c===void 0)for(;;){if(_7(e,t,2),e.bytes(2)==="\0\0"){e.getBytes(2),t-=2;break}s=e.length(),d.push(Rv(e,t,r+1,n)),t-=s-e.length()}else for(;c>0;)s=e.length(),d.push(Rv(e,c,r+1,n)),t-=s-e.length(),c-=s-e.length();if(d===void 0&&a===vt.Class.UNIVERSAL&&f===vt.Type.BITSTRING&&(h=e.bytes(c)),d===void 0&&n.decodeBitStrings&&a===vt.Class.UNIVERSAL&&f===vt.Type.BITSTRING&&c>1){var p=e.read,v=t,x=0;if(f===vt.Type.BITSTRING&&(_7(e,t,1),x=e.getByte(),t--),x===0)try{s=e.length();var E={strict:!0,decodeBitStrings:!0},I=Rv(e,t,r+1,E),A=s-e.length();t-=A,f==vt.Type.BITSTRING&&A++;var L=I.tagClass;A===c&&(L===vt.Class.UNIVERSAL||L===vt.Class.CONTEXT_SPECIFIC)&&(d=[I])}catch{}d===void 0&&(e.read=p,t=v)}if(d===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=t}if(f===vt.Type.BMPSTRING)for(d="";c>0;c-=2)_7(e,t,2),d+=String.fromCharCode(e.getInt16()),t-=2;else d=e.getBytes(c),t-=c}var D=h===void 0?null:{bitStringContents:h};return vt.create(a,f,m,d,D)}o(Rv,"_fromDer");vt.toDer=function(e){var t=Ns.util.createBuffer(),r=e.tagClass|e.type,n=Ns.util.createBuffer(),s=!1;if("bitStringContents"in e&&(s=!0,e.original&&(s=vt.equals(e,e.original))),s)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var l=0;l<e.value.length;++l)e.value[l]!==void 0&&n.putBuffer(vt.toDer(e.value[l]))}else if(e.type===vt.Type.BMPSTRING)for(var l=0;l<e.value.length;++l)n.putInt16(e.value.charCodeAt(l));else e.type===vt.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&!(e.value.charCodeAt(1)&128)||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var a=n.length(),f="";do f+=String.fromCharCode(a&255),a=a>>>8;while(a>0);t.putByte(f.length|128);for(var l=f.length-1;l>=0;--l)t.putByte(f.charCodeAt(l))}return t.putBuffer(n),t};vt.oidToDer=function(e){var t=e.split("."),r=Ns.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,s,l,a,f=2;f<t.length;++f){n=!0,s=[],l=parseInt(t[f],10);do a=l&127,l=l>>>7,n||(a|=128),s.push(a),n=!1;while(l>0);for(var c=s.length-1;c>=0;--c)r.putByte(s[c])}return r};vt.derToOid=function(e){var t;typeof e=="string"&&(e=Ns.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};vt.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,s=parseInt(e.substr(4,2),10),l=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),f=0;if(e.length>11){var c=e.charAt(10),u=10;c!=="+"&&c!=="-"&&(f=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(r,n,s),t.setUTCHours(l,a,f,0),u&&(c=e.charAt(u),c==="+"||c==="-")){var d=parseInt(e.substr(u+1,2),10),h=parseInt(e.substr(u+4,2),10),m=d*60+h;m*=6e4,c==="+"?t.setTime(+t-m):t.setTime(+t+m)}return t};vt.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,s=parseInt(e.substr(6,2),10),l=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),f=parseInt(e.substr(12,2),10),c=0,u=0,d=!1;e.charAt(e.length-1)==="Z"&&(d=!0);var h=e.length-5,m=e.charAt(h);if(m==="+"||m==="-"){var p=parseInt(e.substr(h+1,2),10),v=parseInt(e.substr(h+4,2),10);u=p*60+v,u*=6e4,m==="+"&&(u*=-1),d=!0}return e.charAt(14)==="."&&(c=parseFloat(e.substr(14),10)*1e3),d?(t.setUTCFullYear(r,n,s),t.setUTCHours(l,a,f,c),t.setTime(+t+u)):(t.setFullYear(r,n,s),t.setHours(l,a,f,c)),t};vt.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};vt.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};vt.integerToDer=function(e){var t=Ns.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};vt.derToInteger=function(e){typeof e=="string"&&(e=Ns.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};vt.validate=function(e,t,r,n){var s=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(s=!0,t.value&&Ns.util.isArray(t.value))for(var l=0,a=0;s&&a<t.value.length;++a)s=t.value[a].optional||!1,e.value[l]&&(s=vt.validate(e.value[l],t.value[a],r,n),s?++l:t.value[a].optional&&(s=!0)),!s&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(s&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var f;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var c=e.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return s};var GL=/[^\\u0000-\\u00ff]/;vt.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var s="",l=0;l<t*r;++l)s+=" ";switch(n+=s+"Tag: ",e.tagClass){case vt.Class.UNIVERSAL:n+="Universal:";break;case vt.Class.APPLICATION:n+="Application:";break;case vt.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case vt.Class.PRIVATE:n+="Private:";break}if(e.tagClass===vt.Class.UNIVERSAL)switch(n+=e.type,e.type){case vt.Type.NONE:n+=" (None)";break;case vt.Type.BOOLEAN:n+=" (Boolean)";break;case vt.Type.INTEGER:n+=" (Integer)";break;case vt.Type.BITSTRING:n+=" (Bit string)";break;case vt.Type.OCTETSTRING:n+=" (Octet string)";break;case vt.Type.NULL:n+=" (Null)";break;case vt.Type.OID:n+=" (Object Identifier)";break;case vt.Type.ODESC:n+=" (Object Descriptor)";break;case vt.Type.EXTERNAL:n+=" (External or Instance of)";break;case vt.Type.REAL:n+=" (Real)";break;case vt.Type.ENUMERATED:n+=" (Enumerated)";break;case vt.Type.EMBEDDED:n+=" (Embedded PDV)";break;case vt.Type.UTF8:n+=" (UTF8)";break;case vt.Type.ROID:n+=" (Relative Object Identifier)";break;case vt.Type.SEQUENCE:n+=" (Sequence)";break;case vt.Type.SET:n+=" (Set)";break;case vt.Type.PRINTABLESTRING:n+=" (Printable String)";break;case vt.Type.IA5String:n+=" (IA5String (ASCII))";break;case vt.Type.UTCTIME:n+=" (UTC time)";break;case vt.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case vt.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=s+"Constructed: "+e.constructed+`
`,e.composed){for(var a=0,f="",l=0;l<e.value.length;++l)e.value[l]!==void 0&&(a+=1,f+=vt.prettyPrint(e.value[l],t+1,r),l+1<e.value.length&&(f+=","));n+=s+"Sub values: "+a+f}else{if(n+=s+"Value: ",e.type===vt.Type.OID){var c=vt.derToOid(e.value);n+=c,Ns.pki&&Ns.pki.oids&&c in Ns.pki.oids&&(n+=" ("+Ns.pki.oids[c]+") ")}if(e.type===vt.Type.INTEGER)try{n+=vt.derToInteger(e.value)}catch{n+="0x"+Ns.util.bytesToHex(e.value)}else if(e.type===vt.Type.BITSTRING){if(e.value.length>1?n+="0x"+Ns.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var u=e.value.charCodeAt(0);u==1?n+=" (1 unused bit shown)":u>1&&(n+=" ("+u+" unused bits shown)")}}else if(e.type===vt.Type.OCTETSTRING)GL.test(e.value)||(n+="("+e.value+") "),n+="0x"+Ns.util.bytesToHex(e.value);else if(e.type===vt.Type.UTF8)try{n+=Ns.util.decodeUtf8(e.value)}catch(d){if(d.message==="URI malformed")n+="0x"+Ns.util.bytesToHex(e.value)+" (malformed UTF8)";else throw d}else e.type===vt.Type.PRINTABLESTRING||e.type===vt.Type.IA5String?n+=e.value:GL.test(e.value)?n+="0x"+Ns.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var Ec=y0((Gue,WL)=>{var kv=pn();WL.exports=kv.md=kv.md||{};kv.md.algorithms=kv.md.algorithms||{}});var d6=y0((Kue,YL)=>{var Ou=pn();Ec();Gi();var WY=YL.exports=Ou.hmac=Ou.hmac||{};WY.create=function(){var e=null,t=null,r=null,n=null,s={};return s.start=function(l,a){if(l!==null)if(typeof l=="string")if(l=l.toLowerCase(),l in Ou.md.algorithms)t=Ou.md.algorithms[l].create();else throw new Error('Unknown hash algorithm "'+l+'"');else t=l;if(a===null)a=e;else{if(typeof a=="string")a=Ou.util.createBuffer(a);else if(Ou.util.isArray(a)){var f=a;a=Ou.util.createBuffer();for(var c=0;c<f.length;++c)a.putByte(f[c])}var u=a.length();u>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=Ou.util.createBuffer(),n=Ou.util.createBuffer(),u=a.length();for(var c=0;c<u;++c){var f=a.at(c);r.putByte(54^f),n.putByte(92^f)}if(u<t.blockLength)for(var f=t.blockLength-u,c=0;c<f;++c)r.putByte(54),n.putByte(92);e=a,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},s.update=function(l){t.update(l)},s.getMac=function(){var l=t.digest().bytes();return t.start(),t.update(n),t.update(l),t.digest()},s.digest=s.getMac,s}});var Dv=y0((Wue,QL)=>{var Tc=pn();Ec();Gi();var XL=QL.exports=Tc.md5=Tc.md5||{};Tc.md.md5=Tc.md.algorithms.md5=XL;XL.create=function(){ZL||YY();var e=null,t=Tc.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var s=n.messageLengthSize/4,l=0;l<s;++l)n.fullMessageLength.push(0);return t=Tc.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(s,l){l==="utf8"&&(s=Tc.util.encodeUtf8(s));var a=s.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var f=n.fullMessageLength.length-1;f>=0;--f)n.fullMessageLength[f]+=a[1],a[1]=a[0]+(n.fullMessageLength[f]/4294967296>>>0),n.fullMessageLength[f]=n.fullMessageLength[f]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(s),JL(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var s=Tc.util.createBuffer();s.putBytes(t.bytes());var l=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=l&n.blockLength-1;s.putBytes(oI.substr(0,n.blockLength-a));for(var f,c=0,u=n.fullMessageLength.length-1;u>=0;--u)f=n.fullMessageLength[u]*8+c,c=f/4294967296>>>0,s.putInt32Le(f>>>0);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};JL(d,r,s);var h=Tc.util.createBuffer();return h.putInt32Le(d.h0),h.putInt32Le(d.h1),h.putInt32Le(d.h2),h.putInt32Le(d.h3),h},n};var oI=null,Bv=null,b7=null,h6=null,ZL=!1;function YY(){oI="\x80",oI+=Tc.util.fillString("\0",64),Bv=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],b7=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],h6=new Array(64);for(var e=0;e<64;++e)h6[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);ZL=!0}o(YY,"_init");function JL(e,t,r){for(var n,s,l,a,f,c,u,d,h=r.length();h>=64;){for(s=e.h0,l=e.h1,a=e.h2,f=e.h3,d=0;d<16;++d)t[d]=r.getInt32Le(),c=f^l&(a^f),n=s+c+h6[d]+t[d],u=b7[d],s=f,f=a,a=l,l+=n<<u|n>>>32-u;for(;d<32;++d)c=a^f&(l^a),n=s+c+h6[d]+t[Bv[d]],u=b7[d],s=f,f=a,a=l,l+=n<<u|n>>>32-u;for(;d<48;++d)c=l^a^f,n=s+c+h6[d]+t[Bv[d]],u=b7[d],s=f,f=a,a=l,l+=n<<u|n>>>32-u;for(;d<64;++d)c=a^(l|~f),n=s+c+h6[d]+t[Bv[d]],u=b7[d],s=f,f=a,a=l,l+=n<<u|n>>>32-u;e.h0=e.h0+s|0,e.h1=e.h1+l|0,e.h2=e.h2+a|0,e.h3=e.h3+f|0,h-=64}}o(JL,"_update")});var Id=y0((Jue,tF)=>{var Fv=pn();Gi();var eF=tF.exports=Fv.pem=Fv.pem||{};eF.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=Lv(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=Lv(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=Lv(n)),e.headers)for(var s=0;s<e.headers.length;++s)r+=Lv(e.headers[s]);return e.procType&&(r+=`\r
`),r+=Fv.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};eF.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,s=/\r?\n/,l;l=r.exec(e),!!l;){var a=l[1];a==="NEW CERTIFICATE REQUEST"&&(a="CERTIFICATE REQUEST");var f={type:a,procType:null,contentDomain:null,dekInfo:null,headers:[],body:Fv.util.decode64(l[3])};if(t.push(f),!!l[2]){for(var c=l[2].split(s),u=0;l&&u<c.length;){for(var d=c[u].replace(/\s+$/,""),h=u+1;h<c.length;++h){var m=c[h];if(!/\s/.test(m[0]))break;d+=m,u=h}if(l=d.match(n),l){for(var p={name:l[1],values:[]},v=l[2].split(","),x=0;x<v.length;++x)p.values.push(JY(v[x]));if(f.procType)if(!f.contentDomain&&p.name==="Content-Domain")f.contentDomain=v[0]||"";else if(!f.dekInfo&&p.name==="DEK-Info"){if(p.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');f.dekInfo={algorithm:v[0],parameters:v[1]||null}}else f.headers.push(p);else{if(p.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(p.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');f.procType={version:v[0],type:v[1]}}}++u}if(f.procType==="ENCRYPTED"&&!f.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function Lv(e){for(var t=e.name+": ",r=[],n=o(function(c,u){return" "+u},"insertSpace"),s=0;s<e.values.length;++s)r.push(e.values[s].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var l=0,a=-1,s=0;s<t.length;++s,++l)if(l>65&&a!==-1){var f=t[a];f===","?(++a,t=t.substr(0,a)+`\r
 `+t.substr(a)):t=t.substr(0,a)+`\r
`+f+t.substr(a+1),l=s-a-1,a=-1,++s}else(t[s]===" "||t[s]==="	"||t[s]===",")&&(a=s);return t}o(Lv,"foldHeader");function JY(e){return e.replace(/^\s+/,"")}o(JY,"ltrim")});var C7=y0((Zue,nF)=>{var Ms=pn();wv();tI();Gi();nF.exports=Ms.des=Ms.des||{};Ms.des.startEncrypting=function(e,t,r,n){var s=Ov({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return s.start(t),s};Ms.des.createEncryptionCipher=function(e,t){return Ov({key:e,output:null,decrypt:!1,mode:t})};Ms.des.startDecrypting=function(e,t,r,n){var s=Ov({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return s.start(t),s};Ms.des.createDecryptionCipher=function(e,t){return Ov({key:e,output:null,decrypt:!0,mode:t})};Ms.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(n,s){return rF(r._keys,n,s,!1)},decrypt:function(n,s){return rF(r._keys,n,s,!0)}}}),r._init=!1};Ms.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=Ms.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=sJ(t),this._init=!0}};Sc("DES-ECB",Ms.cipher.modes.ecb);Sc("DES-CBC",Ms.cipher.modes.cbc);Sc("DES-CFB",Ms.cipher.modes.cfb);Sc("DES-OFB",Ms.cipher.modes.ofb);Sc("DES-CTR",Ms.cipher.modes.ctr);Sc("3DES-ECB",Ms.cipher.modes.ecb);Sc("3DES-CBC",Ms.cipher.modes.cbc);Sc("3DES-CFB",Ms.cipher.modes.cfb);Sc("3DES-OFB",Ms.cipher.modes.ofb);Sc("3DES-CTR",Ms.cipher.modes.ctr);function Sc(e,t){var r=o(function(){return new Ms.des.Algorithm(e,t)},"factory");Ms.cipher.registerAlgorithm(e,r)}o(Sc,"registerAlgorithm");var XY=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],ZY=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],QY=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],eJ=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],tJ=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],rJ=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],nJ=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],iJ=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function sJ(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],s=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],l=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],f=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],d=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],m=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],v=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],x=e.length()>8?3:1,E=[],I=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],A=0,L,D=0;D<x;D++){var R=e.getInt32(),V=e.getInt32();L=(R>>>4^V)&252645135,V^=L,R^=L<<4,L=(V>>>-16^R)&65535,R^=L,V^=L<<-16,L=(R>>>2^V)&858993459,V^=L,R^=L<<2,L=(V>>>-16^R)&65535,R^=L,V^=L<<-16,L=(R>>>1^V)&1431655765,V^=L,R^=L<<1,L=(V>>>8^R)&16711935,R^=L,V^=L<<8,L=(R>>>1^V)&1431655765,V^=L,R^=L<<1,L=R<<8|V>>>20&240,R=V<<24|V<<8&16711680|V>>>8&65280|V>>>24&240,V=L;for(var de=0;de<I.length;++de){I[de]?(R=R<<2|R>>>26,V=V<<2|V>>>26):(R=R<<1|R>>>27,V=V<<1|V>>>27),R&=-15,V&=-15;var ve=t[R>>>28]|r[R>>>24&15]|n[R>>>20&15]|s[R>>>16&15]|l[R>>>12&15]|a[R>>>8&15]|f[R>>>4&15],n0=c[V>>>28]|u[V>>>24&15]|d[V>>>20&15]|h[V>>>16&15]|m[V>>>12&15]|p[V>>>8&15]|v[V>>>4&15];L=(n0>>>16^ve)&65535,E[A++]=ve^L,E[A++]=n0^L<<16}}return E}o(sJ,"_createKeys");function rF(e,t,r,n){var s=e.length===32?3:9,l;s===3?l=n?[30,-2,-2]:[0,32,2]:l=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,f=t[0],c=t[1];a=(f>>>4^c)&252645135,c^=a,f^=a<<4,a=(f>>>16^c)&65535,c^=a,f^=a<<16,a=(c>>>2^f)&858993459,f^=a,c^=a<<2,a=(c>>>8^f)&16711935,f^=a,c^=a<<8,a=(f>>>1^c)&1431655765,c^=a,f^=a<<1,f=f<<1|f>>>31,c=c<<1|c>>>31;for(var u=0;u<s;u+=3){for(var d=l[u+1],h=l[u+2],m=l[u];m!=d;m+=h){var p=c^e[m],v=(c>>>4|c<<28)^e[m+1];a=f,f=c,c=a^(ZY[p>>>24&63]|eJ[p>>>16&63]|rJ[p>>>8&63]|iJ[p&63]|XY[v>>>24&63]|QY[v>>>16&63]|tJ[v>>>8&63]|nJ[v&63])}a=f,f=c,c=a}f=f>>>1|f<<31,c=c>>>1|c<<31,a=(f>>>1^c)&1431655765,c^=a,f^=a<<1,a=(c>>>8^f)&16711935,f^=a,c^=a<<8,a=(c>>>2^f)&858993459,f^=a,c^=a<<2,a=(f>>>16^c)&65535,c^=a,f^=a<<16,a=(f>>>4^c)&252645135,c^=a,f^=a<<4,r[0]=f,r[1]=c}o(rF,"_updateBlock");function Ov(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=Ms.cipher.createDecipher(r,e.key):n=Ms.cipher.createCipher(r,e.key);var s=n.start;return n.start=function(l,a){var f=null;a instanceof Ms.util.ByteBuffer&&(f=a,a={}),a=a||{},a.output=f,a.iv=l,s.call(n,a)},n}o(Ov,"_createCipher")});var Mv=y0((e5e,iF)=>{var Al=pn();d6();Ec();Gi();var oJ=Al.pkcs5=Al.pkcs5||{},Mu;Al.util.isNodejs&&!Al.options.usePureJavaScript&&(Mu=require("crypto"));iF.exports=Al.pbkdf2=oJ.pbkdf2=function(e,t,r,n,s,l){if(typeof s=="function"&&(l=s,s=null),Al.util.isNodejs&&!Al.options.usePureJavaScript&&Mu.pbkdf2&&(s===null||typeof s!="object")&&(Mu.pbkdf2Sync.length>4||!s||s==="sha1"))return typeof s!="string"&&(s="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),l?Mu.pbkdf2Sync.length===4?Mu.pbkdf2(e,t,r,n,function(L,D){if(L)return l(L);l(null,D.toString("binary"))}):Mu.pbkdf2(e,t,r,n,s,function(L,D){if(L)return l(L);l(null,D.toString("binary"))}):Mu.pbkdf2Sync.length===4?Mu.pbkdf2Sync(e,t,r,n).toString("binary"):Mu.pbkdf2Sync(e,t,r,n,s).toString("binary");if((typeof s>"u"||s===null)&&(s="sha1"),typeof s=="string"){if(!(s in Al.md.algorithms))throw new Error("Unknown hash algorithm: "+s);s=Al.md[s].create()}var a=s.digestLength;if(n>4294967295*a){var f=new Error("Derived key is too long.");if(l)return l(f);throw f}var c=Math.ceil(n/a),u=n-(c-1)*a,d=Al.hmac.create();d.start(s,e);var h="",m,p,v;if(!l){for(var x=1;x<=c;++x){d.start(null,null),d.update(t),d.update(Al.util.int32ToBytes(x)),m=v=d.digest().getBytes();for(var E=2;E<=r;++E)d.start(null,null),d.update(v),p=d.digest().getBytes(),m=Al.util.xorBytes(m,p,a),v=p;h+=x<c?m:m.substr(0,u)}return h}var x=1,E;function I(){if(x>c)return l(null,h);d.start(null,null),d.update(t),d.update(Al.util.int32ToBytes(x)),m=v=d.digest().getBytes(),E=2,A()}o(I,"outer");function A(){if(E<=r)return d.start(null,null),d.update(v),p=d.digest().getBytes(),m=Al.util.xorBytes(m,p,a),v=p,++E,Al.util.setImmediate(A);h+=x<c?m:m.substr(0,u),++x,I()}o(A,"inner"),I()}});var lI=y0((r5e,fF)=>{var Ic=pn();Ec();Gi();var oF=fF.exports=Ic.sha256=Ic.sha256||{};Ic.md.sha256=Ic.md.algorithms.sha256=oF;oF.create=function(){aF||aJ();var e=null,t=Ic.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var s=n.messageLengthSize/4,l=0;l<s;++l)n.fullMessageLength.push(0);return t=Ic.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(s,l){l==="utf8"&&(s=Ic.util.encodeUtf8(s));var a=s.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var f=n.fullMessageLength.length-1;f>=0;--f)n.fullMessageLength[f]+=a[1],a[1]=a[0]+(n.fullMessageLength[f]/4294967296>>>0),n.fullMessageLength[f]=n.fullMessageLength[f]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(s),sF(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var s=Ic.util.createBuffer();s.putBytes(t.bytes());var l=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=l&n.blockLength-1;s.putBytes(aI.substr(0,n.blockLength-a));for(var f,c,u=n.fullMessageLength[0]*8,d=0;d<n.fullMessageLength.length-1;++d)f=n.fullMessageLength[d+1]*8,c=f/4294967296>>>0,u+=c,s.putInt32(u>>>0),u=f>>>0;s.putInt32(u);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};sF(h,r,s);var m=Ic.util.createBuffer();return m.putInt32(h.h0),m.putInt32(h.h1),m.putInt32(h.h2),m.putInt32(h.h3),m.putInt32(h.h4),m.putInt32(h.h5),m.putInt32(h.h6),m.putInt32(h.h7),m},n};var aI=null,aF=!1,lF=null;function aJ(){aI="\x80",aI+=Ic.util.fillString("\0",64),lF=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],aF=!0}o(aJ,"_init");function sF(e,t,r){for(var n,s,l,a,f,c,u,d,h,m,p,v,x,E,I,A=r.length();A>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=t[u-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,s=t[u-15],s=(s>>>7|s<<25)^(s>>>18|s<<14)^s>>>3,t[u]=n+t[u-7]+s+t[u-16]|0;for(d=e.h0,h=e.h1,m=e.h2,p=e.h3,v=e.h4,x=e.h5,E=e.h6,I=e.h7,u=0;u<64;++u)a=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),f=E^v&(x^E),l=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),c=d&h|m&(d^h),n=I+a+f+lF[u]+t[u],s=l+c,I=E,E=x,x=v,v=p+n>>>0,p=m,m=h,h=d,d=n+s>>>0;e.h0=e.h0+d|0,e.h1=e.h1+h|0,e.h2=e.h2+m|0,e.h3=e.h3+p|0,e.h4=e.h4+v|0,e.h5=e.h5+x|0,e.h6=e.h6+E|0,e.h7=e.h7+I|0,A-=64}}o(sF,"_update")});var fI=y0((i5e,cF)=>{var wc=pn();Gi();var Uv=null;wc.util.isNodejs&&!wc.options.usePureJavaScript&&!process.versions["node-webkit"]&&(Uv=require("crypto"));var lJ=cF.exports=wc.prng=wc.prng||{};lJ.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),s=0;s<32;++s)n[s]=r.create();t.pools=n,t.pool=0,t.generate=function(u,d){if(!d)return t.generateSync(u);var h=t.plugin.cipher,m=t.plugin.increment,p=t.plugin.formatKey,v=t.plugin.formatSeed,x=wc.util.createBuffer();t.key=null,E();function E(I){if(I)return d(I);if(x.length()>=u)return d(null,x.getBytes(u));if(t.generated>1048575&&(t.key=null),t.key===null)return wc.util.nextTick(function(){l(E)});var A=h(t.key,t.seed);t.generated+=A.length,x.putBytes(A),t.key=p(h(t.key,m(t.seed))),t.seed=v(h(t.key,t.seed)),wc.util.setImmediate(E)}o(E,"generate")},t.generateSync=function(u){var d=t.plugin.cipher,h=t.plugin.increment,m=t.plugin.formatKey,p=t.plugin.formatSeed;t.key=null;for(var v=wc.util.createBuffer();v.length()<u;){t.generated>1048575&&(t.key=null),t.key===null&&a();var x=d(t.key,t.seed);t.generated+=x.length,v.putBytes(x),t.key=m(d(t.key,h(t.seed))),t.seed=p(d(t.key,t.seed))}return v.getBytes(u)};function l(u){if(t.pools[0].messageLength>=32)return f(),u();var d=32-t.pools[0].messageLength<<5;t.seedFile(d,function(h,m){if(h)return u(h);t.collect(m),f(),u()})}o(l,"_reseed");function a(){if(t.pools[0].messageLength>=32)return f();var u=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(u)),f()}o(a,"_reseedSync");function f(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var u=t.plugin.md.create();u.update(t.keyBytes);for(var d=1,h=0;h<32;++h)t.reseeds%d===0&&(u.update(t.pools[h].digest().getBytes()),t.pools[h].start()),d=d<<1;t.keyBytes=u.digest().getBytes(),u.start(),u.update(t.keyBytes);var m=u.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(m),t.generated=0}o(f,"_seed");function c(u){var d=null,h=wc.util.globalScope,m=h.crypto||h.msCrypto;m&&m.getRandomValues&&(d=o(function(R){return m.getRandomValues(R)},"getRandomValues"));var p=wc.util.createBuffer();if(d)for(;p.length()<u;){var v=Math.max(1,Math.min(u-p.length(),65536)/4),x=new Uint32Array(Math.floor(v));try{d(x);for(var E=0;E<x.length;++E)p.putInt32(x[E])}catch(R){if(!(typeof QuotaExceededError<"u"&&R instanceof QuotaExceededError))throw R}}if(p.length()<u)for(var I,A,L,D=Math.floor(Math.random()*65536);p.length()<u;){A=16807*(D&65535),I=16807*(D>>16),A+=(I&32767)<<16,A+=I>>15,A=(A&2147483647)+(A>>31),D=A&4294967295;for(var E=0;E<3;++E)L=D>>>(E<<3),L^=Math.floor(Math.random()*256),p.putByte(L&255)}return p.getBytes(u)}return o(c,"defaultSeedFile"),Uv?(t.seedFile=function(u,d){Uv.randomBytes(u,function(h,m){if(h)return d(h);d(null,m.toString())})},t.seedFileSync=function(u){return Uv.randomBytes(u).toString()}):(t.seedFile=function(u,d){try{d(null,c(u))}catch(h){d(h)}},t.seedFileSync=c),t.collect=function(u){for(var d=u.length,h=0;h<d;++h)t.pools[t.pool].update(u.substr(h,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(u,d){for(var h="",m=0;m<d;m+=8)h+=String.fromCharCode(u>>m&255);t.collect(h)},t.registerWorker=function(u){if(u===self)t.seedFile=function(h,m){function p(v){var x=v.data;x.forge&&x.forge.prng&&(self.removeEventListener("message",p),m(x.forge.prng.err,x.forge.prng.bytes))}o(p,"listener"),self.addEventListener("message",p),self.postMessage({forge:{prng:{needed:h}}})};else{var d=o(function(h){var m=h.data;m.forge&&m.forge.prng&&t.seedFile(m.forge.prng.needed,function(p,v){u.postMessage({forge:{prng:{err:p,bytes:v}}})})},"listener");u.addEventListener("message",d)}},t}});var Xf=y0((o5e,cI)=>{var La=pn();f3();lI();fI();Gi();(function(){if(La.random&&La.random.getBytes){cI.exports=La.random;return}(function(e){var t={},r=new Array(4),n=La.util.createBuffer();t.formatKey=function(h){var m=La.util.createBuffer(h);return h=new Array(4),h[0]=m.getInt32(),h[1]=m.getInt32(),h[2]=m.getInt32(),h[3]=m.getInt32(),La.aes._expandKey(h,!1)},t.formatSeed=function(h){var m=La.util.createBuffer(h);return h=new Array(4),h[0]=m.getInt32(),h[1]=m.getInt32(),h[2]=m.getInt32(),h[3]=m.getInt32(),h},t.cipher=function(h,m){return La.aes._updateBlock(h,m,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(h){return++h[3],h},t.md=La.md.sha256;function s(){var h=La.prng.create(t);return h.getBytes=function(m,p){return h.generate(m,p)},h.getBytesSync=function(m){return h.generate(m)},h}o(s,"spawnPrng");var l=s(),a=null,f=La.util.globalScope,c=f.crypto||f.msCrypto;if(c&&c.getRandomValues&&(a=o(function(h){return c.getRandomValues(h)},"getRandomValues")),La.options.usePureJavaScript||!La.util.isNodejs&&!a){if(typeof window>"u"||window.document,l.collectInt(+new Date,32),typeof navigator<"u"){var u="";for(var d in navigator)try{typeof navigator[d]=="string"&&(u+=navigator[d])}catch{}l.collect(u),u=null}e&&(e().mousemove(function(h){l.collectInt(h.clientX,16),l.collectInt(h.clientY,16)}),e().keypress(function(h){l.collectInt(h.charCode,8)}))}if(!La.random)La.random=l;else for(var d in l)La.random[d]=l[d];La.random.createInstance=s,cI.exports=La.random})(typeof jQuery<"u"?jQuery:null)})()});var dI=y0((l5e,hF)=>{var Yl=pn();Gi();var uI=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],uF=[1,2,3,5],fJ=o(function(e,t){return e<<t&65535|(e&65535)>>16-t},"rol"),cJ=o(function(e,t){return(e&65535)>>t|e<<16-t&65535},"ror");hF.exports=Yl.rc2=Yl.rc2||{};Yl.rc2.expandKey=function(e,t){typeof e=="string"&&(e=Yl.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),s=t,l=Math.ceil(s/8),a=255>>(s&7),f;for(f=n;f<128;f++)r.putByte(uI[r.at(f-1)+r.at(f-n)&255]);for(r.setAt(128-l,uI[r.at(128-l)&a]),f=127-l;f>=0;f--)r.setAt(f,uI[r.at(f+1)^r.at(f+l)]);return r};var dF=o(function(e,t,r){var n=!1,s=null,l=null,a=null,f,c,u,d,h=[];for(e=Yl.rc2.expandKey(e,t),u=0;u<64;u++)h.push(e.getInt16Le());r?(f=o(function(v){for(u=0;u<4;u++)v[u]+=h[d]+(v[(u+3)%4]&v[(u+2)%4])+(~v[(u+3)%4]&v[(u+1)%4]),v[u]=fJ(v[u],uF[u]),d++},"mixRound"),c=o(function(v){for(u=0;u<4;u++)v[u]+=h[v[(u+3)%4]&63]},"mashRound")):(f=o(function(v){for(u=3;u>=0;u--)v[u]=cJ(v[u],uF[u]),v[u]-=h[d]+(v[(u+3)%4]&v[(u+2)%4])+(~v[(u+3)%4]&v[(u+1)%4]),d--},"mixRound"),c=o(function(v){for(u=3;u>=0;u--)v[u]-=h[v[(u+3)%4]&63]},"mashRound"));var m=o(function(v){var x=[];for(u=0;u<4;u++){var E=s.getInt16Le();a!==null&&(r?E^=a.getInt16Le():a.putInt16Le(E)),x.push(E&65535)}d=r?0:63;for(var I=0;I<v.length;I++)for(var A=0;A<v[I][0];A++)v[I][1](x);for(u=0;u<4;u++)a!==null&&(r?a.putInt16Le(x[u]):x[u]^=a.getInt16Le()),l.putInt16Le(x[u])},"runPlan"),p=null;return p={start:function(v,x){v&&typeof v=="string"&&(v=Yl.util.createBuffer(v)),n=!1,s=Yl.util.createBuffer(),l=x||new Yl.util.createBuffer,a=v,p.output=l},update:function(v){for(n||s.putBuffer(v);s.length()>=8;)m([[5,f],[1,c],[6,f],[1,c],[5,f]])},finish:function(v){var x=!0;if(r)if(v)x=v(8,s,!r);else{var E=s.length()===8?8:8-s.length();s.fillWithByte(E,E)}if(x&&(n=!0,p.update()),!r&&(x=s.length()===0,x))if(v)x=v(8,l,!r);else{var I=l.length(),A=l.at(I-1);A>I?x=!1:l.truncate(A)}return x}},p},"createCipher");Yl.rc2.startEncrypting=function(e,t,r){var n=Yl.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};Yl.rc2.createEncryptionCipher=function(e,t){return dF(e,t,!0)};Yl.rc2.startDecrypting=function(e,t,r){var n=Yl.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};Yl.rc2.createDecryptionCipher=function(e,t){return dF(e,t,!1)}});var T7=y0((c5e,bF)=>{var hI=pn();bF.exports=hI.jsbn=hI.jsbn||{};var Uu,uJ=0xdeadbeefcafe,gF=(uJ&16777215)==15715070;function U0(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}o(U0,"BigInteger");hI.jsbn.BigInteger=U0;function Ki(){return new U0(null)}o(Ki,"nbi");function dJ(e,t,r,n,s,l){for(;--l>=0;){var a=t*this.data[e++]+r.data[n]+s;s=Math.floor(a/67108864),r.data[n++]=a&67108863}return s}o(dJ,"am1");function hJ(e,t,r,n,s,l){for(var a=t&32767,f=t>>15;--l>=0;){var c=this.data[e]&32767,u=this.data[e++]>>15,d=f*c+u*a;c=a*c+((d&32767)<<15)+r.data[n]+(s&1073741823),s=(c>>>30)+(d>>>15)+f*u+(s>>>30),r.data[n++]=c&1073741823}return s}o(hJ,"am2");function mF(e,t,r,n,s,l){for(var a=t&16383,f=t>>14;--l>=0;){var c=this.data[e]&16383,u=this.data[e++]>>14,d=f*c+u*a;c=a*c+((d&16383)<<14)+r.data[n]+s,s=(c>>28)+(d>>14)+f*u,r.data[n++]=c&268435455}return s}o(mF,"am3");typeof navigator>"u"?(U0.prototype.am=mF,Uu=28):gF&&navigator.appName=="Microsoft Internet Explorer"?(U0.prototype.am=hJ,Uu=30):gF&&navigator.appName!="Netscape"?(U0.prototype.am=dJ,Uu=26):(U0.prototype.am=mF,Uu=28);U0.prototype.DB=Uu;U0.prototype.DM=(1<<Uu)-1;U0.prototype.DV=1<<Uu;var gI=52;U0.prototype.FV=Math.pow(2,gI);U0.prototype.F1=gI-Uu;U0.prototype.F2=2*Uu-gI;var gJ="0123456789abcdefghijklmnopqrstuvwxyz",qv=new Array,g6,Zf;g6=48;for(Zf=0;Zf<=9;++Zf)qv[g6++]=Zf;g6=97;for(Zf=10;Zf<36;++Zf)qv[g6++]=Zf;g6=65;for(Zf=10;Zf<36;++Zf)qv[g6++]=Zf;function pF(e){return gJ.charAt(e)}o(pF,"int2char");function yF(e,t){var r=qv[e.charCodeAt(t)];return r==null?-1:r}o(yF,"intAt");function mJ(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}o(mJ,"bnpCopyTo");function pJ(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}o(pJ,"bnpFromInt");function u3(e){var t=Ki();return t.fromInt(e),t}o(u3,"nbv");function yJ(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,s=!1,l=0;--n>=0;){var a=r==8?e[n]&255:yF(e,n);if(a<0){e.charAt(n)=="-"&&(s=!0);continue}s=!1,l==0?this.data[this.t++]=a:l+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-l)-1)<<l,this.data[this.t++]=a>>this.DB-l):this.data[this.t-1]|=a<<l,l+=r,l>=this.DB&&(l-=this.DB)}r==8&&e[0]&128&&(this.s=-1,l>0&&(this.data[this.t-1]|=(1<<this.DB-l)-1<<l)),this.clamp(),s&&U0.ZERO.subTo(this,this)}o(yJ,"bnpFromString");function vJ(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}o(vJ,"bnpClamp");function xJ(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,s=!1,l="",a=this.t,f=this.DB-a*this.DB%t;if(a-- >0)for(f<this.DB&&(n=this.data[a]>>f)>0&&(s=!0,l=pF(n));a>=0;)f<t?(n=(this.data[a]&(1<<f)-1)<<t-f,n|=this.data[--a]>>(f+=this.DB-t)):(n=this.data[a]>>(f-=t)&r,f<=0&&(f+=this.DB,--a)),n>0&&(s=!0),s&&(l+=pF(n));return s?l:"0"}o(xJ,"bnToString");function _J(){var e=Ki();return U0.ZERO.subTo(this,e),e}o(_J,"bnNegate");function bJ(){return this.s<0?this.negate():this}o(bJ,"bnAbs");function CJ(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}o(CJ,"bnCompareTo");function $v(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}o($v,"nbits");function EJ(){return this.t<=0?0:this.DB*(this.t-1)+$v(this.data[this.t-1]^this.s&this.DM)}o(EJ,"bnBitLength");function TJ(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}o(TJ,"bnpDLShiftTo");function SJ(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}o(SJ,"bnpDRShiftTo");function IJ(e,t){var r=e%this.DB,n=this.DB-r,s=(1<<n)-1,l=Math.floor(e/this.DB),a=this.s<<r&this.DM,f;for(f=this.t-1;f>=0;--f)t.data[f+l+1]=this.data[f]>>n|a,a=(this.data[f]&s)<<r;for(f=l-1;f>=0;--f)t.data[f]=0;t.data[l]=a,t.t=this.t+l+1,t.s=this.s,t.clamp()}o(IJ,"bnpLShiftTo");function wJ(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,s=this.DB-n,l=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&l)<<s,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&l)<<s),t.t=this.t-r,t.clamp()}o(wJ,"bnpRShiftTo");function AJ(e,t){for(var r=0,n=0,s=Math.min(e.t,this.t);r<s;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}o(AJ,"bnpSubTo");function PJ(e,t){var r=this.abs(),n=e.abs(),s=r.t;for(t.t=s+n.t;--s>=0;)t.data[s]=0;for(s=0;s<n.t;++s)t.data[s+r.t]=r.am(0,n.data[s],t,s,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&U0.ZERO.subTo(t,t)}o(PJ,"bnpMultiplyTo");function NJ(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}o(NJ,"bnpSquareTo");function RJ(e,t,r){var n=e.abs();if(!(n.t<=0)){var s=this.abs();if(s.t<n.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Ki());var l=Ki(),a=this.s,f=e.s,c=this.DB-$v(n.data[n.t-1]);c>0?(n.lShiftTo(c,l),s.lShiftTo(c,r)):(n.copyTo(l),s.copyTo(r));var u=l.t,d=l.data[u-1];if(d!=0){var h=d*(1<<this.F1)+(u>1?l.data[u-2]>>this.F2:0),m=this.FV/h,p=(1<<this.F1)/h,v=1<<this.F2,x=r.t,E=x-u,I=t==null?Ki():t;for(l.dlShiftTo(E,I),r.compareTo(I)>=0&&(r.data[r.t++]=1,r.subTo(I,r)),U0.ONE.dlShiftTo(u,I),I.subTo(l,l);l.t<u;)l.data[l.t++]=0;for(;--E>=0;){var A=r.data[--x]==d?this.DM:Math.floor(r.data[x]*m+(r.data[x-1]+v)*p);if((r.data[x]+=l.am(0,A,r,E,0,u))<A)for(l.dlShiftTo(E,I),r.subTo(I,r);r.data[x]<--A;)r.subTo(I,r)}t!=null&&(r.drShiftTo(u,t),a!=f&&U0.ZERO.subTo(t,t)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&U0.ZERO.subTo(r,r)}}}o(RJ,"bnpDivRemTo");function kJ(e){var t=Ki();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(U0.ZERO)>0&&e.subTo(t,t),t}o(kJ,"bnMod");function wd(e){this.m=e}o(wd,"Classic");function BJ(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}o(BJ,"cConvert");function DJ(e){return e}o(DJ,"cRevert");function LJ(e){e.divRemTo(this.m,null,e)}o(LJ,"cReduce");function FJ(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(FJ,"cMulTo");function OJ(e,t){e.squareTo(t),this.reduce(t)}o(OJ,"cSqrTo");wd.prototype.convert=BJ;wd.prototype.revert=DJ;wd.prototype.reduce=LJ;wd.prototype.mulTo=FJ;wd.prototype.sqrTo=OJ;function MJ(){if(this.t<1)return 0;var e=this.data[0];if(!(e&1))return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}o(MJ,"bnpInvDigit");function Ad(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}o(Ad,"Montgomery");function UJ(e){var t=Ki();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(U0.ZERO)>0&&this.m.subTo(t,t),t}o(UJ,"montConvert");function qJ(e){var t=Ki();return e.copyTo(t),this.reduce(t),t}o(qJ,"montRevert");function $J(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}o($J,"montReduce");function HJ(e,t){e.squareTo(t),this.reduce(t)}o(HJ,"montSqrTo");function VJ(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(VJ,"montMulTo");Ad.prototype.convert=UJ;Ad.prototype.revert=qJ;Ad.prototype.reduce=$J;Ad.prototype.mulTo=VJ;Ad.prototype.sqrTo=HJ;function jJ(){return(this.t>0?this.data[0]&1:this.s)==0}o(jJ,"bnpIsEven");function zJ(e,t){if(e>4294967295||e<1)return U0.ONE;var r=Ki(),n=Ki(),s=t.convert(this),l=$v(e)-1;for(s.copyTo(r);--l>=0;)if(t.sqrTo(r,n),(e&1<<l)>0)t.mulTo(n,s,r);else{var a=r;r=n,n=a}return t.revert(r)}o(zJ,"bnpExp");function GJ(e,t){var r;return e<256||t.isEven()?r=new wd(t):r=new Ad(t),this.exp(e,r)}o(GJ,"bnModPowInt");U0.prototype.copyTo=mJ;U0.prototype.fromInt=pJ;U0.prototype.fromString=yJ;U0.prototype.clamp=vJ;U0.prototype.dlShiftTo=TJ;U0.prototype.drShiftTo=SJ;U0.prototype.lShiftTo=IJ;U0.prototype.rShiftTo=wJ;U0.prototype.subTo=AJ;U0.prototype.multiplyTo=PJ;U0.prototype.squareTo=NJ;U0.prototype.divRemTo=RJ;U0.prototype.invDigit=MJ;U0.prototype.isEven=jJ;U0.prototype.exp=zJ;U0.prototype.toString=xJ;U0.prototype.negate=_J;U0.prototype.abs=bJ;U0.prototype.compareTo=CJ;U0.prototype.bitLength=EJ;U0.prototype.mod=kJ;U0.prototype.modPowInt=GJ;U0.ZERO=u3(0);U0.ONE=u3(1);function KJ(){var e=Ki();return this.copyTo(e),e}o(KJ,"bnClone");function WJ(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}o(WJ,"bnIntValue");function YJ(){return this.t==0?this.s:this.data[0]<<24>>24}o(YJ,"bnByteValue");function JJ(){return this.t==0?this.s:this.data[0]<<16>>16}o(JJ,"bnShortValue");function XJ(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}o(XJ,"bnpChunkSize");function ZJ(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}o(ZJ,"bnSigNum");function QJ(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=u3(r),s=Ki(),l=Ki(),a="";for(this.divRemTo(n,s,l);s.signum()>0;)a=(r+l.intValue()).toString(e).substr(1)+a,s.divRemTo(n,s,l);return l.intValue().toString(e)+a}o(QJ,"bnpToRadix");function eX(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),s=!1,l=0,a=0,f=0;f<e.length;++f){var c=yF(e,f);if(c<0){e.charAt(f)=="-"&&this.signum()==0&&(s=!0);continue}a=t*a+c,++l>=r&&(this.dMultiply(n),this.dAddOffset(a,0),l=0,a=0)}l>0&&(this.dMultiply(Math.pow(t,l)),this.dAddOffset(a,0)),s&&U0.ZERO.subTo(this,this)}o(eX,"bnpFromRadix");function tX(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(U0.ONE.shiftLeft(e-1),mI,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(U0.ONE.shiftLeft(e-1),this);else{var n=new Array,s=e&7;n.length=(e>>3)+1,t.nextBytes(n),s>0?n[0]&=(1<<s)-1:n[0]=0,this.fromString(n,256)}}o(tX,"bnpFromNumber");function rX(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,s=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[s++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),n&128&&(n|=-256),s==0&&(this.s&128)!=(n&128)&&++s,(s>0||n!=this.s)&&(t[s++]=n);return t}o(rX,"bnToByteArray");function nX(e){return this.compareTo(e)==0}o(nX,"bnEquals");function iX(e){return this.compareTo(e)<0?this:e}o(iX,"bnMin");function sX(e){return this.compareTo(e)>0?this:e}o(sX,"bnMax");function oX(e,t,r){var n,s,l=Math.min(e.t,this.t);for(n=0;n<l;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(s=e.s&this.DM,n=l;n<this.t;++n)r.data[n]=t(this.data[n],s);r.t=this.t}else{for(s=this.s&this.DM,n=l;n<e.t;++n)r.data[n]=t(s,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}o(oX,"bnpBitwiseTo");function aX(e,t){return e&t}o(aX,"op_and");function lX(e){var t=Ki();return this.bitwiseTo(e,aX,t),t}o(lX,"bnAnd");function mI(e,t){return e|t}o(mI,"op_or");function fX(e){var t=Ki();return this.bitwiseTo(e,mI,t),t}o(fX,"bnOr");function vF(e,t){return e^t}o(vF,"op_xor");function cX(e){var t=Ki();return this.bitwiseTo(e,vF,t),t}o(cX,"bnXor");function xF(e,t){return e&~t}o(xF,"op_andnot");function uX(e){var t=Ki();return this.bitwiseTo(e,xF,t),t}o(uX,"bnAndNot");function dX(){for(var e=Ki(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}o(dX,"bnNot");function hX(e){var t=Ki();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}o(hX,"bnShiftLeft");function gX(e){var t=Ki();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}o(gX,"bnShiftRight");function mX(e){if(e==0)return-1;var t=0;return e&65535||(e>>=16,t+=16),e&255||(e>>=8,t+=8),e&15||(e>>=4,t+=4),e&3||(e>>=2,t+=2),e&1||++t,t}o(mX,"lbit");function pX(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+mX(this.data[e]);return this.s<0?this.t*this.DB:-1}o(pX,"bnGetLowestSetBit");function yX(e){for(var t=0;e!=0;)e&=e-1,++t;return t}o(yX,"cbit");function vX(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=yX(this.data[r]^t);return e}o(vX,"bnBitCount");function xX(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}o(xX,"bnTestBit");function _X(e,t){var r=U0.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}o(_X,"bnpChangeBit");function bX(e){return this.changeBit(e,mI)}o(bX,"bnSetBit");function CX(e){return this.changeBit(e,xF)}o(CX,"bnClearBit");function EX(e){return this.changeBit(e,vF)}o(EX,"bnFlipBit");function TX(e,t){for(var r=0,n=0,s=Math.min(e.t,this.t);r<s;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}o(TX,"bnpAddTo");function SX(e){var t=Ki();return this.addTo(e,t),t}o(SX,"bnAdd");function IX(e){var t=Ki();return this.subTo(e,t),t}o(IX,"bnSubtract");function wX(e){var t=Ki();return this.multiplyTo(e,t),t}o(wX,"bnMultiply");function AX(e){var t=Ki();return this.divRemTo(e,t,null),t}o(AX,"bnDivide");function PX(e){var t=Ki();return this.divRemTo(e,null,t),t}o(PX,"bnRemainder");function NX(e){var t=Ki(),r=Ki();return this.divRemTo(e,t,r),new Array(t,r)}o(NX,"bnDivideAndRemainder");function RX(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}o(RX,"bnpDMultiply");function kX(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}o(kX,"bnpDAddOffset");function E7(){}o(E7,"NullExp");function _F(e){return e}o(_F,"nNop");function BX(e,t,r){e.multiplyTo(t,r)}o(BX,"nMulTo");function DX(e,t){e.squareTo(t)}o(DX,"nSqrTo");E7.prototype.convert=_F;E7.prototype.revert=_F;E7.prototype.mulTo=BX;E7.prototype.sqrTo=DX;function LX(e){return this.exp(e,new E7)}o(LX,"bnPow");function FX(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var s;for(s=r.t-this.t;n<s;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(s=Math.min(e.t,t);n<s;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}o(FX,"bnpMultiplyLowerTo");function OX(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}o(OX,"bnpMultiplyUpperTo");function m6(e){this.r2=Ki(),this.q3=Ki(),U0.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}o(m6,"Barrett");function MX(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Ki();return e.copyTo(t),this.reduce(t),t}o(MX,"barrettConvert");function UX(e){return e}o(UX,"barrettRevert");function qX(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}o(qX,"barrettReduce");function $X(e,t){e.squareTo(t),this.reduce(t)}o($X,"barrettSqrTo");function HX(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(HX,"barrettMulTo");m6.prototype.convert=MX;m6.prototype.revert=UX;m6.prototype.reduce=qX;m6.prototype.mulTo=HX;m6.prototype.sqrTo=$X;function VX(e,t){var r=e.bitLength(),n,s=u3(1),l;if(r<=0)return s;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?l=new wd(t):t.isEven()?l=new m6(t):l=new Ad(t);var a=new Array,f=3,c=n-1,u=(1<<n)-1;if(a[1]=l.convert(this),n>1){var d=Ki();for(l.sqrTo(a[1],d);f<=u;)a[f]=Ki(),l.mulTo(d,a[f-2],a[f]),f+=2}var h=e.t-1,m,p=!0,v=Ki(),x;for(r=$v(e.data[h])-1;h>=0;){for(r>=c?m=e.data[h]>>r-c&u:(m=(e.data[h]&(1<<r+1)-1)<<c-r,h>0&&(m|=e.data[h-1]>>this.DB+r-c)),f=n;!(m&1);)m>>=1,--f;if((r-=f)<0&&(r+=this.DB,--h),p)a[m].copyTo(s),p=!1;else{for(;f>1;)l.sqrTo(s,v),l.sqrTo(v,s),f-=2;f>0?l.sqrTo(s,v):(x=s,s=v,v=x),l.mulTo(v,a[m],s)}for(;h>=0&&!(e.data[h]&1<<r);)l.sqrTo(s,v),x=s,s=v,v=x,--r<0&&(r=this.DB-1,--h)}return l.revert(s)}o(VX,"bnModPow");function jX(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var s=t.getLowestSetBit(),l=r.getLowestSetBit();if(l<0)return t;for(s<l&&(l=s),l>0&&(t.rShiftTo(l,t),r.rShiftTo(l,r));t.signum()>0;)(s=t.getLowestSetBit())>0&&t.rShiftTo(s,t),(s=r.getLowestSetBit())>0&&r.rShiftTo(s,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return l>0&&r.lShiftTo(l,r),r}o(jX,"bnGCD");function zX(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}o(zX,"bnpModInt");function GX(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return U0.ZERO;for(var r=e.clone(),n=this.clone(),s=u3(1),l=u3(0),a=u3(0),f=u3(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!s.isEven()||!l.isEven())&&(s.addTo(this,s),l.subTo(e,l)),s.rShiftTo(1,s)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);for(;n.isEven();)n.rShiftTo(1,n),t?((!a.isEven()||!f.isEven())&&(a.addTo(this,a),f.subTo(e,f)),a.rShiftTo(1,a)):f.isEven()||f.subTo(e,f),f.rShiftTo(1,f);r.compareTo(n)>=0?(r.subTo(n,r),t&&s.subTo(a,s),l.subTo(f,l)):(n.subTo(r,n),t&&a.subTo(s,a),f.subTo(l,f))}if(n.compareTo(U0.ONE)!=0)return U0.ZERO;if(f.compareTo(e)>=0)return f.subtract(e);if(f.signum()<0)f.addTo(e,f);else return f;return f.signum()<0?f.add(e):f}o(GX,"bnModInverse");var O1=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],KX=(1<<26)/O1[O1.length-1];function WX(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=O1[O1.length-1]){for(t=0;t<O1.length;++t)if(r.data[0]==O1[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<O1.length;){for(var n=O1[t],s=t+1;s<O1.length&&n<KX;)n*=O1[s++];for(n=r.modInt(n);t<s;)if(n%O1[t++]==0)return!1}return r.millerRabin(e)}o(WX,"bnIsProbablePrime");function YX(e){var t=this.subtract(U0.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),s=JX(),l,a=0;a<e;++a){do l=new U0(this.bitLength(),s);while(l.compareTo(U0.ONE)<=0||l.compareTo(t)>=0);var f=l.modPow(n,this);if(f.compareTo(U0.ONE)!=0&&f.compareTo(t)!=0){for(var c=1;c++<r&&f.compareTo(t)!=0;)if(f=f.modPowInt(2,this),f.compareTo(U0.ONE)==0)return!1;if(f.compareTo(t)!=0)return!1}}return!0}o(YX,"bnpMillerRabin");function JX(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)}}}o(JX,"bnGetPrng");U0.prototype.chunkSize=XJ;U0.prototype.toRadix=QJ;U0.prototype.fromRadix=eX;U0.prototype.fromNumber=tX;U0.prototype.bitwiseTo=oX;U0.prototype.changeBit=_X;U0.prototype.addTo=TX;U0.prototype.dMultiply=RX;U0.prototype.dAddOffset=kX;U0.prototype.multiplyLowerTo=FX;U0.prototype.multiplyUpperTo=OX;U0.prototype.modInt=zX;U0.prototype.millerRabin=YX;U0.prototype.clone=KJ;U0.prototype.intValue=WJ;U0.prototype.byteValue=YJ;U0.prototype.shortValue=JJ;U0.prototype.signum=ZJ;U0.prototype.toByteArray=rX;U0.prototype.equals=nX;U0.prototype.min=iX;U0.prototype.max=sX;U0.prototype.and=lX;U0.prototype.or=fX;U0.prototype.xor=cX;U0.prototype.andNot=uX;U0.prototype.not=dX;U0.prototype.shiftLeft=hX;U0.prototype.shiftRight=gX;U0.prototype.getLowestSetBit=pX;U0.prototype.bitCount=vX;U0.prototype.testBit=xX;U0.prototype.setBit=bX;U0.prototype.clearBit=CX;U0.prototype.flipBit=EX;U0.prototype.add=SX;U0.prototype.subtract=IX;U0.prototype.multiply=wX;U0.prototype.divide=AX;U0.prototype.remainder=PX;U0.prototype.divideAndRemainder=NX;U0.prototype.modPow=VX;U0.prototype.modInverse=GX;U0.prototype.pow=LX;U0.prototype.gcd=jX;U0.prototype.isProbablePrime=WX});var p6=y0((d5e,SF)=>{var Ac=pn();Ec();Gi();var EF=SF.exports=Ac.sha1=Ac.sha1||{};Ac.md.sha1=Ac.md.algorithms.sha1=EF;EF.create=function(){TF||XX();var e=null,t=Ac.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var s=n.messageLengthSize/4,l=0;l<s;++l)n.fullMessageLength.push(0);return t=Ac.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(s,l){l==="utf8"&&(s=Ac.util.encodeUtf8(s));var a=s.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var f=n.fullMessageLength.length-1;f>=0;--f)n.fullMessageLength[f]+=a[1],a[1]=a[0]+(n.fullMessageLength[f]/4294967296>>>0),n.fullMessageLength[f]=n.fullMessageLength[f]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(s),CF(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var s=Ac.util.createBuffer();s.putBytes(t.bytes());var l=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=l&n.blockLength-1;s.putBytes(pI.substr(0,n.blockLength-a));for(var f,c,u=n.fullMessageLength[0]*8,d=0;d<n.fullMessageLength.length-1;++d)f=n.fullMessageLength[d+1]*8,c=f/4294967296>>>0,u+=c,s.putInt32(u>>>0),u=f>>>0;s.putInt32(u);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};CF(h,r,s);var m=Ac.util.createBuffer();return m.putInt32(h.h0),m.putInt32(h.h1),m.putInt32(h.h2),m.putInt32(h.h3),m.putInt32(h.h4),m},n};var pI=null,TF=!1;function XX(){pI="\x80",pI+=Ac.util.fillString("\0",64),TF=!0}o(XX,"_init");function CF(e,t,r){for(var n,s,l,a,f,c,u,d,h=r.length();h>=64;){for(s=e.h0,l=e.h1,a=e.h2,f=e.h3,c=e.h4,d=0;d<16;++d)n=r.getInt32(),t[d]=n,u=f^l&(a^f),n=(s<<5|s>>>27)+u+c+1518500249+n,c=f,f=a,a=(l<<30|l>>>2)>>>0,l=s,s=n;for(;d<20;++d)n=t[d-3]^t[d-8]^t[d-14]^t[d-16],n=n<<1|n>>>31,t[d]=n,u=f^l&(a^f),n=(s<<5|s>>>27)+u+c+1518500249+n,c=f,f=a,a=(l<<30|l>>>2)>>>0,l=s,s=n;for(;d<32;++d)n=t[d-3]^t[d-8]^t[d-14]^t[d-16],n=n<<1|n>>>31,t[d]=n,u=l^a^f,n=(s<<5|s>>>27)+u+c+1859775393+n,c=f,f=a,a=(l<<30|l>>>2)>>>0,l=s,s=n;for(;d<40;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,u=l^a^f,n=(s<<5|s>>>27)+u+c+1859775393+n,c=f,f=a,a=(l<<30|l>>>2)>>>0,l=s,s=n;for(;d<60;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,u=l&a|f&(l^a),n=(s<<5|s>>>27)+u+c+2400959708+n,c=f,f=a,a=(l<<30|l>>>2)>>>0,l=s,s=n;for(;d<80;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,u=l^a^f,n=(s<<5|s>>>27)+u+c+3395469782+n,c=f,f=a,a=(l<<30|l>>>2)>>>0,l=s,s=n;e.h0=e.h0+s|0,e.h1=e.h1+l|0,e.h2=e.h2+a|0,e.h3=e.h3+f|0,e.h4=e.h4+c|0,h-=64}}o(CF,"_update")});var yI=y0((g5e,wF)=>{var Pc=pn();Gi();Xf();p6();var IF=wF.exports=Pc.pkcs1=Pc.pkcs1||{};IF.encode_rsa_oaep=function(e,t,r){var n,s,l,a;typeof r=="string"?(n=r,s=arguments[3]||void 0,l=arguments[4]||void 0):r&&(n=r.label||void 0,s=r.seed||void 0,l=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),l?l.start():l=Pc.md.sha1.create(),a||(a=l);var f=Math.ceil(e.n.bitLength()/8),c=f-2*l.digestLength-2;if(t.length>c){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=t.length,u.maxLength=c,u}n||(n=""),l.update(n,"raw");for(var d=l.digest(),h="",m=c-t.length,p=0;p<m;p++)h+="\0";var v=d.getBytes()+h+""+t;if(!s)s=Pc.random.getBytes(l.digestLength);else if(s.length!==l.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=s.length,u.digestLength=l.digestLength,u}var x=Hv(s,f-l.digestLength-1,a),E=Pc.util.xorBytes(v,x,v.length),I=Hv(E,l.digestLength,a),A=Pc.util.xorBytes(s,I,s.length);return"\0"+A+E};IF.decode_rsa_oaep=function(e,t,r){var n,s,l;typeof r=="string"?(n=r,s=arguments[3]||void 0):r&&(n=r.label||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(l=r.mgf1.md));var a=Math.ceil(e.n.bitLength()/8);if(t.length!==a){var E=new Error("RSAES-OAEP encoded message length is invalid.");throw E.length=t.length,E.expectedLength=a,E}if(s===void 0?s=Pc.md.sha1.create():s.start(),l||(l=s),a<2*s.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),s.update(n,"raw");for(var f=s.digest().getBytes(),c=t.charAt(0),u=t.substring(1,s.digestLength+1),d=t.substring(1+s.digestLength),h=Hv(d,s.digestLength,l),m=Pc.util.xorBytes(u,h,u.length),p=Hv(m,a-s.digestLength-1,l),v=Pc.util.xorBytes(d,p,d.length),x=v.substring(0,s.digestLength),E=c!=="\0",I=0;I<s.digestLength;++I)E|=f.charAt(I)!==x.charAt(I);for(var A=1,L=s.digestLength,D=s.digestLength;D<v.length;D++){var R=v.charCodeAt(D),V=R&1^1,de=A?65534:0;E|=R&de,A=A&V,L+=A}if(E||v.charCodeAt(L)!==1)throw new Error("Invalid RSAES-OAEP padding.");return v.substring(L+1)};function Hv(e,t,r){r||(r=Pc.md.sha1.create());for(var n="",s=Math.ceil(t/r.digestLength),l=0;l<s;++l){var a=String.fromCharCode(l>>24&255,l>>16&255,l>>8&255,l&255);r.start(),r.update(e+a),n+=r.digest().getBytes()}return n.substring(0,t)}o(Hv,"rsa_mgf1")});var xI=y0((p5e,vI)=>{var d3=pn();Gi();T7();Xf();(function(){if(d3.prime){vI.exports=d3.prime;return}var e=vI.exports=d3.prime=d3.prime||{},t=d3.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var s=o(function(h,m){return h|m},"op_or");e.generateProbablePrime=function(h,m,p){typeof m=="function"&&(p=m,m={}),m=m||{};var v=m.algorithm||"PRIMEINC";typeof v=="string"&&(v={name:v}),v.options=v.options||{};var x=m.prng||d3.random,E={nextBytes:function(I){for(var A=x.getBytesSync(I.length),L=0;L<I.length;++L)I[L]=A.charCodeAt(L)}};if(v.name==="PRIMEINC")return l(h,E,v.options,p);throw new Error("Invalid prime generation algorithm: "+v.name)};function l(h,m,p,v){return"workers"in p?c(h,m,p,v):a(h,m,p,v)}o(l,"primeincFindPrime");function a(h,m,p,v){var x=u(h,m),E=0,I=d(x.bitLength());"millerRabinTests"in p&&(I=p.millerRabinTests);var A=10;"maxBlockTime"in p&&(A=p.maxBlockTime),f(x,h,m,E,I,A,v)}o(a,"primeincFindPrimeWithoutWorkers");function f(h,m,p,v,x,E,I){var A=+new Date;do{if(h.bitLength()>m&&(h=u(m,p)),h.isProbablePrime(x))return I(null,h);h.dAddOffset(r[v++%8],0)}while(E<0||+new Date-A<E);d3.util.setImmediate(function(){f(h,m,p,v,x,E,I)})}o(f,"_primeinc");function c(h,m,p,v){if(typeof Worker>"u")return a(h,m,p,v);var x=u(h,m),E=p.workers,I=p.workLoad||100,A=I*30/8,L=p.workerScript||"forge/prime.worker.js";if(E===-1)return d3.util.estimateCores(function(R,V){R&&(V=2),E=V-1,D()});D();function D(){E=Math.max(1,E);for(var R=[],V=0;V<E;++V)R[V]=new Worker(L);for(var de=E,V=0;V<E;++V)R[V].addEventListener("message",n0);var ve=!1;function n0(d0){if(!ve){--de;var r0=d0.data;if(r0.found){for(var m0=0;m0<R.length;++m0)R[m0].terminate();return ve=!0,v(null,new t(r0.prime,16))}x.bitLength()>h&&(x=u(h,m));var Ve=x.toString(16);d0.target.postMessage({hex:Ve,workLoad:I}),x.dAddOffset(A,0)}}o(n0,"workerMessage")}o(D,"generate")}o(c,"primeincFindPrimeWithWorkers");function u(h,m){var p=new t(h,m),v=h-1;return p.testBit(v)||p.bitwiseTo(t.ONE.shiftLeft(v),s,p),p.dAddOffset(31-p.mod(n).byteValue(),0),p}o(u,"generateRandom");function d(h){return h<=100?27:h<=150?18:h<=200?15:h<=250?12:h<=300?9:h<=350?8:h<=400?7:h<=500?6:h<=600?5:h<=800?4:h<=1250?3:2}o(d,"getMillerRabinTests")})()});var S7=y0((v5e,DF)=>{var wr=pn();F1();T7();c3();yI();xI();Xf();Gi();typeof Vi>"u"&&(Vi=wr.jsbn.BigInteger);var Vi,_I=wr.util.isNodejs?require("crypto"):null,g0=wr.asn1,Qf=wr.util;wr.pki=wr.pki||{};DF.exports=wr.pki.rsa=wr.rsa=wr.rsa||{};var an=wr.pki,ZX=[6,4,2,4,2,4,6,2],QX={name:"PrivateKeyInfo",tagClass:g0.Class.UNIVERSAL,type:g0.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:g0.Class.UNIVERSAL,type:g0.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:g0.Class.UNIVERSAL,type:g0.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:g0.Class.UNIVERSAL,type:g0.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:g0.Class.UNIVERSAL,type:g0.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},eZ={name:"RSAPrivateKey",tagClass:g0.Class.UNIVERSAL,type:g0.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:g0.Class.UNIVERSAL,type:g0.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:g0.Class.UNIVERSAL,type:g0.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:g0.Class.UNIVERSAL,type:g0.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:g0.Class.UNIVERSAL,type:g0.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:g0.Class.UNIVERSAL,type:g0.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:g0.Class.UNIVERSAL,type:g0.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:g0.Class.UNIVERSAL,type:g0.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:g0.Class.UNIVERSAL,type:g0.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:g0.Class.UNIVERSAL,type:g0.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},tZ={name:"RSAPublicKey",tagClass:g0.Class.UNIVERSAL,type:g0.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:g0.Class.UNIVERSAL,type:g0.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:g0.Class.UNIVERSAL,type:g0.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},rZ=wr.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:g0.Class.UNIVERSAL,type:g0.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:g0.Class.UNIVERSAL,type:g0.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:g0.Class.UNIVERSAL,type:g0.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:g0.Class.UNIVERSAL,type:g0.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:g0.Class.UNIVERSAL,type:g0.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},nZ={name:"DigestInfo",tagClass:g0.Class.UNIVERSAL,type:g0.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:g0.Class.UNIVERSAL,type:g0.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:g0.Class.UNIVERSAL,type:g0.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:g0.Class.UNIVERSAL,type:g0.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:g0.Class.UNIVERSAL,type:g0.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},iZ=o(function(e){var t;if(e.algorithm in an.oids)t=an.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=g0.oidToDer(t).getBytes(),s=g0.create(g0.Class.UNIVERSAL,g0.Type.SEQUENCE,!0,[]),l=g0.create(g0.Class.UNIVERSAL,g0.Type.SEQUENCE,!0,[]);l.value.push(g0.create(g0.Class.UNIVERSAL,g0.Type.OID,!1,n)),l.value.push(g0.create(g0.Class.UNIVERSAL,g0.Type.NULL,!1,""));var a=g0.create(g0.Class.UNIVERSAL,g0.Type.OCTETSTRING,!1,e.digest().getBytes());return s.value.push(l),s.value.push(a),g0.toDer(s).getBytes()},"emsaPkcs1v15encode"),kF=o(function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(Vi.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(Vi.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new Vi(wr.util.bytesToHex(wr.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(Vi.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var s=e.mod(t.p).modPow(t.dP,t.p),l=e.mod(t.q).modPow(t.dQ,t.q);s.compareTo(l)<0;)s=s.add(t.p);var a=s.subtract(l).multiply(t.qInv).mod(t.p).multiply(t.q).add(l);return a=a.multiply(n.modInverse(t.n)).mod(t.n),a},"_modPow");an.rsa.encrypt=function(e,t,r){var n=r,s,l=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,s=BF(e,t,r)):(s=wr.util.createBuffer(),s.putBytes(e));for(var a=new Vi(s.toHex(),16),f=kF(a,t,n),c=f.toString(16),u=wr.util.createBuffer(),d=l-Math.ceil(c.length/2);d>0;)u.putByte(0),--d;return u.putBytes(wr.util.hexToBytes(c)),u.getBytes()};an.rsa.decrypt=function(e,t,r,n){var s=Math.ceil(t.n.bitLength()/8);if(e.length!==s){var l=new Error("Encrypted message length is invalid.");throw l.length=e.length,l.expected=s,l}var a=new Vi(wr.util.createBuffer(e).toHex(),16);if(a.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var f=kF(a,t,r),c=f.toString(16),u=wr.util.createBuffer(),d=s-Math.ceil(c.length/2);d>0;)u.putByte(0),--d;return u.putBytes(wr.util.hexToBytes(c)),n!==!1?Vv(u.getBytes(),t,r):u.getBytes()};an.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||wr.random,s={nextBytes:function(f){for(var c=n.getBytesSync(f.length),u=0;u<f.length;++u)f[u]=c.charCodeAt(u)}},l=r.algorithm||"PRIMEINC",a;if(l==="PRIMEINC")a={algorithm:l,state:0,bits:e,rng:s,eInt:t||65537,e:new Vi(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+l);return a};an.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new Vi(null);r.fromInt(30);for(var n=0,s=o(function(h,m){return h|m},"op_or"),l=+new Date,a,f=0;e.keys===null&&(t<=0||f<t);){if(e.state===0){var c=e.p===null?e.pBits:e.qBits,u=c-1;e.pqState===0?(e.num=new Vi(c,e.rng),e.num.testBit(u)||e.num.bitwiseTo(Vi.ONE.shiftLeft(u),s,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(oZ(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(ZX[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(Vi.ONE).gcd(e.e).compareTo(Vi.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(Vi.ONE),e.q1=e.q.subtract(Vi.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(Vi.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var d=e.e.modInverse(e.phi);e.keys={privateKey:an.rsa.setPrivateKey(e.n,e.e,d,e.p,e.q,d.mod(e.p1),d.mod(e.q1),e.q.modInverse(e.p)),publicKey:an.rsa.setPublicKey(e.n,e.e)}}a=+new Date,f+=a-l,l=a}return e.keys!==null};an.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!wr.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(AF("generateKeyPair"))return _I.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(f,c,u){if(f)return n(f);n(null,{privateKey:an.privateKeyFromPem(u),publicKey:an.publicKeyFromPem(c)})});if(PF("generateKey")&&PF("exportKey"))return Qf.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:RF(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(f){return Qf.globalScope.crypto.subtle.exportKey("pkcs8",f.privateKey)}).then(void 0,function(f){n(f)}).then(function(f){if(f){var c=an.privateKeyFromAsn1(g0.fromDer(wr.util.createBuffer(f)));n(null,{privateKey:c,publicKey:an.setRsaPublicKey(c.n,c.e)})}});if(NF("generateKey")&&NF("exportKey")){var s=Qf.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:RF(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);s.oncomplete=function(f){var c=f.target.result,u=Qf.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);u.oncomplete=function(d){var h=d.target.result,m=an.privateKeyFromAsn1(g0.fromDer(wr.util.createBuffer(h)));n(null,{privateKey:m,publicKey:an.setRsaPublicKey(m.n,m.e)})},u.onerror=function(d){n(d)}},s.onerror=function(f){n(f)};return}}else if(AF("generateKeyPairSync")){var l=_I.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:an.privateKeyFromPem(l.privateKey),publicKey:an.publicKeyFromPem(l.publicKey)}}}var a=an.rsa.createKeyPairGenerationState(e,t,r);if(!n)return an.rsa.stepKeyPairGenerationState(a,0),a.keys;sZ(a,r,n)};an.setRsaPublicKey=an.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,s,l){if(typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSAES-PKCS1-V1_5"),s==="RSAES-PKCS1-V1_5")s={encode:function(f,c,u){return BF(f,c,2).getBytes()}};else if(s==="RSA-OAEP"||s==="RSAES-OAEP")s={encode:function(f,c){return wr.pkcs1.encode_rsa_oaep(c,f,l)}};else if(["RAW","NONE","NULL",null].indexOf(s)!==-1)s={encode:function(f){return f}};else if(typeof s=="string")throw new Error('Unsupported encryption scheme: "'+s+'".');var a=s.encode(n,r,!0);return an.rsa.encrypt(a,r,!0)},r.verify=function(n,s,l,a){typeof l=="string"?l=l.toUpperCase():l===void 0&&(l="RSASSA-PKCS1-V1_5"),a===void 0&&(a={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in a||(a._parseAllDigestBytes=!0),l==="RSASSA-PKCS1-V1_5"?l={verify:function(c,u){u=Vv(u,r,!0);var d=g0.fromDer(u,{parseAllBytes:a._parseAllDigestBytes}),h={},m=[];if(!g0.validate(d,nZ,h,m)){var p=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw p.errors=m,p}var v=g0.derToOid(h.algorithmIdentifier);if(!(v===wr.oids.md2||v===wr.oids.md5||v===wr.oids.sha1||v===wr.oids.sha224||v===wr.oids.sha256||v===wr.oids.sha384||v===wr.oids.sha512||v===wr.oids["sha512-224"]||v===wr.oids["sha512-256"])){var p=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw p.oid=v,p}if((v===wr.oids.md2||v===wr.oids.md5)&&!("parameters"in h))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return c===h.digest}}:(l==="NONE"||l==="NULL"||l===null)&&(l={verify:function(c,u){return u=Vv(u,r,!0),c===u}});var f=an.rsa.decrypt(s,r,!0,!1);return l.verify(n,f,r.n.bitLength())},r};an.setRsaPrivateKey=an.rsa.setPrivateKey=function(e,t,r,n,s,l,a,f){var c={n:e,e:t,d:r,p:n,q:s,dP:l,dQ:a,qInv:f};return c.decrypt=function(u,d,h){typeof d=="string"?d=d.toUpperCase():d===void 0&&(d="RSAES-PKCS1-V1_5");var m=an.rsa.decrypt(u,c,!1,!1);if(d==="RSAES-PKCS1-V1_5")d={decode:Vv};else if(d==="RSA-OAEP"||d==="RSAES-OAEP")d={decode:function(p,v){return wr.pkcs1.decode_rsa_oaep(v,p,h)}};else if(["RAW","NONE","NULL",null].indexOf(d)!==-1)d={decode:function(p){return p}};else throw new Error('Unsupported encryption scheme: "'+d+'".');return d.decode(m,c,!1)},c.sign=function(u,d){var h=!1;typeof d=="string"&&(d=d.toUpperCase()),d===void 0||d==="RSASSA-PKCS1-V1_5"?(d={encode:iZ},h=1):(d==="NONE"||d==="NULL"||d===null)&&(d={encode:function(){return u}},h=1);var m=d.encode(u,c.n.bitLength());return an.rsa.encrypt(m,c,h)},c};an.wrapRsaPrivateKey=function(e){return g0.create(g0.Class.UNIVERSAL,g0.Type.SEQUENCE,!0,[g0.create(g0.Class.UNIVERSAL,g0.Type.INTEGER,!1,g0.integerToDer(0).getBytes()),g0.create(g0.Class.UNIVERSAL,g0.Type.SEQUENCE,!0,[g0.create(g0.Class.UNIVERSAL,g0.Type.OID,!1,g0.oidToDer(an.oids.rsaEncryption).getBytes()),g0.create(g0.Class.UNIVERSAL,g0.Type.NULL,!1,"")]),g0.create(g0.Class.UNIVERSAL,g0.Type.OCTETSTRING,!1,g0.toDer(e).getBytes())])};an.privateKeyFromAsn1=function(e){var t={},r=[];if(g0.validate(e,QX,t,r)&&(e=g0.fromDer(wr.util.createBuffer(t.privateKey))),t={},r=[],!g0.validate(e,eZ,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var s,l,a,f,c,u,d,h;return s=wr.util.createBuffer(t.privateKeyModulus).toHex(),l=wr.util.createBuffer(t.privateKeyPublicExponent).toHex(),a=wr.util.createBuffer(t.privateKeyPrivateExponent).toHex(),f=wr.util.createBuffer(t.privateKeyPrime1).toHex(),c=wr.util.createBuffer(t.privateKeyPrime2).toHex(),u=wr.util.createBuffer(t.privateKeyExponent1).toHex(),d=wr.util.createBuffer(t.privateKeyExponent2).toHex(),h=wr.util.createBuffer(t.privateKeyCoefficient).toHex(),an.setRsaPrivateKey(new Vi(s,16),new Vi(l,16),new Vi(a,16),new Vi(f,16),new Vi(c,16),new Vi(u,16),new Vi(d,16),new Vi(h,16))};an.privateKeyToAsn1=an.privateKeyToRSAPrivateKey=function(e){return g0.create(g0.Class.UNIVERSAL,g0.Type.SEQUENCE,!0,[g0.create(g0.Class.UNIVERSAL,g0.Type.INTEGER,!1,g0.integerToDer(0).getBytes()),g0.create(g0.Class.UNIVERSAL,g0.Type.INTEGER,!1,Nc(e.n)),g0.create(g0.Class.UNIVERSAL,g0.Type.INTEGER,!1,Nc(e.e)),g0.create(g0.Class.UNIVERSAL,g0.Type.INTEGER,!1,Nc(e.d)),g0.create(g0.Class.UNIVERSAL,g0.Type.INTEGER,!1,Nc(e.p)),g0.create(g0.Class.UNIVERSAL,g0.Type.INTEGER,!1,Nc(e.q)),g0.create(g0.Class.UNIVERSAL,g0.Type.INTEGER,!1,Nc(e.dP)),g0.create(g0.Class.UNIVERSAL,g0.Type.INTEGER,!1,Nc(e.dQ)),g0.create(g0.Class.UNIVERSAL,g0.Type.INTEGER,!1,Nc(e.qInv))])};an.publicKeyFromAsn1=function(e){var t={},r=[];if(g0.validate(e,rZ,t,r)){var n=g0.derToOid(t.publicKeyOid);if(n!==an.oids.rsaEncryption){var s=new Error("Cannot read public key. Unknown OID.");throw s.oid=n,s}e=t.rsaPublicKey}if(r=[],!g0.validate(e,tZ,t,r)){var s=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw s.errors=r,s}var l=wr.util.createBuffer(t.publicKeyModulus).toHex(),a=wr.util.createBuffer(t.publicKeyExponent).toHex();return an.setRsaPublicKey(new Vi(l,16),new Vi(a,16))};an.publicKeyToAsn1=an.publicKeyToSubjectPublicKeyInfo=function(e){return g0.create(g0.Class.UNIVERSAL,g0.Type.SEQUENCE,!0,[g0.create(g0.Class.UNIVERSAL,g0.Type.SEQUENCE,!0,[g0.create(g0.Class.UNIVERSAL,g0.Type.OID,!1,g0.oidToDer(an.oids.rsaEncryption).getBytes()),g0.create(g0.Class.UNIVERSAL,g0.Type.NULL,!1,"")]),g0.create(g0.Class.UNIVERSAL,g0.Type.BITSTRING,!1,[an.publicKeyToRSAPublicKey(e)])])};an.publicKeyToRSAPublicKey=function(e){return g0.create(g0.Class.UNIVERSAL,g0.Type.SEQUENCE,!0,[g0.create(g0.Class.UNIVERSAL,g0.Type.INTEGER,!1,Nc(e.n)),g0.create(g0.Class.UNIVERSAL,g0.Type.INTEGER,!1,Nc(e.e))])};function BF(e,t,r){var n=wr.util.createBuffer(),s=Math.ceil(t.n.bitLength()/8);if(e.length>s-11){var l=new Error("Message is too long for PKCS#1 v1.5 padding.");throw l.length=e.length,l.max=s-11,l}n.putByte(0),n.putByte(r);var a=s-3-e.length,f;if(r===0||r===1){f=r===0?0:255;for(var c=0;c<a;++c)n.putByte(f)}else for(;a>0;){for(var u=0,d=wr.random.getBytes(a),c=0;c<a;++c)f=d.charCodeAt(c),f===0?++u:n.putByte(f);a=u}return n.putByte(0),n.putBytes(e),n}o(BF,"_encodePkcs1_v1_5");function Vv(e,t,r,n){var s=Math.ceil(t.n.bitLength()/8),l=wr.util.createBuffer(e),a=l.getByte(),f=l.getByte();if(a!==0||r&&f!==0&&f!==1||!r&&f!=2||r&&f===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var c=0;if(f===0){c=s-3-n;for(var u=0;u<c;++u)if(l.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(f===1)for(c=0;l.length()>1;){if(l.getByte()!==255){--l.read;break}++c}else if(f===2)for(c=0;l.length()>1;){if(l.getByte()===0){--l.read;break}++c}var d=l.getByte();if(d!==0||c!==s-3-l.length())throw new Error("Encryption block is invalid.");return l.getBytes()}o(Vv,"_decodePkcs1_v1_5");function sZ(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),s();function s(){l(e.pBits,function(f,c){if(f)return r(f);if(e.p=c,e.q!==null)return a(f,e.q);l(e.qBits,a)})}o(s,"generate");function l(f,c){wr.prime.generateProbablePrime(f,n,c)}o(l,"getPrime");function a(f,c){if(f)return r(f);if(e.q=c,e.p.compareTo(e.q)<0){var u=e.p;e.p=e.q,e.q=u}if(e.p.subtract(Vi.ONE).gcd(e.e).compareTo(Vi.ONE)!==0){e.p=null,s();return}if(e.q.subtract(Vi.ONE).gcd(e.e).compareTo(Vi.ONE)!==0){e.q=null,l(e.qBits,a);return}if(e.p1=e.p.subtract(Vi.ONE),e.q1=e.q.subtract(Vi.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(Vi.ONE)!==0){e.p=e.q=null,s();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,l(e.qBits,a);return}var d=e.e.modInverse(e.phi);e.keys={privateKey:an.rsa.setPrivateKey(e.n,e.e,d,e.p,e.q,d.mod(e.p1),d.mod(e.q1),e.q.modInverse(e.p)),publicKey:an.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}o(a,"finish")}o(sZ,"_generateKeyPair");function Nc(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=wr.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}o(Nc,"_bnToBytes");function oZ(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}o(oZ,"_getMillerRabinTests");function AF(e){return wr.util.isNodejs&&typeof _I[e]=="function"}o(AF,"_detectNodeCrypto");function PF(e){return typeof Qf.globalScope<"u"&&typeof Qf.globalScope.crypto=="object"&&typeof Qf.globalScope.crypto.subtle=="object"&&typeof Qf.globalScope.crypto.subtle[e]=="function"}o(PF,"_detectSubtleCrypto");function NF(e){return typeof Qf.globalScope<"u"&&typeof Qf.globalScope.msCrypto=="object"&&typeof Qf.globalScope.msCrypto.subtle=="object"&&typeof Qf.globalScope.msCrypto.subtle[e]=="function"}o(NF,"_detectSubtleMsCrypto");function RF(e){for(var t=wr.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}o(RF,"_intToUint8Array")});var bI=y0((_5e,UF)=>{var Mt=pn();f3();F1();C7();Ec();c3();Mv();Id();Xf();dI();S7();Gi();typeof LF>"u"&&(LF=Mt.jsbn.BigInteger);var LF,I0=Mt.asn1,mn=Mt.pki=Mt.pki||{};UF.exports=mn.pbe=Mt.pbe=Mt.pbe||{};var Pd=mn.oids,aZ={name:"EncryptedPrivateKeyInfo",tagClass:I0.Class.UNIVERSAL,type:I0.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:I0.Class.UNIVERSAL,type:I0.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:I0.Class.UNIVERSAL,type:I0.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:I0.Class.UNIVERSAL,type:I0.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:I0.Class.UNIVERSAL,type:I0.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},lZ={name:"PBES2Algorithms",tagClass:I0.Class.UNIVERSAL,type:I0.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:I0.Class.UNIVERSAL,type:I0.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:I0.Class.UNIVERSAL,type:I0.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:I0.Class.UNIVERSAL,type:I0.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:I0.Class.UNIVERSAL,type:I0.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:I0.Class.UNIVERSAL,type:I0.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:I0.Class.UNIVERSAL,type:I0.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:I0.Class.UNIVERSAL,type:I0.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:I0.Class.UNIVERSAL,type:I0.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:I0.Class.UNIVERSAL,type:I0.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:I0.Class.UNIVERSAL,type:I0.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:I0.Class.UNIVERSAL,type:I0.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},fZ={name:"pkcs-12PbeParams",tagClass:I0.Class.UNIVERSAL,type:I0.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:I0.Class.UNIVERSAL,type:I0.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:I0.Class.UNIVERSAL,type:I0.Type.INTEGER,constructed:!1,capture:"iterations"}]};mn.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=Mt.random.getBytesSync(r.saltSize),s=r.count,l=I0.integerToDer(s),a,f,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,d,h;switch(r.algorithm){case"aes128":a=16,u=16,d=Pd["aes128-CBC"],h=Mt.aes.createEncryptionCipher;break;case"aes192":a=24,u=16,d=Pd["aes192-CBC"],h=Mt.aes.createEncryptionCipher;break;case"aes256":a=32,u=16,d=Pd["aes256-CBC"],h=Mt.aes.createEncryptionCipher;break;case"des":a=8,u=8,d=Pd.desCBC,h=Mt.des.createEncryptionCipher;break;default:var m=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw m.algorithm=r.algorithm,m}var p="hmacWith"+r.prfAlgorithm.toUpperCase(),v=MF(p),x=Mt.pkcs5.pbkdf2(t,n,s,a,v),E=Mt.random.getBytesSync(u),I=h(x);I.start(E),I.update(I0.toDer(e)),I.finish(),c=I.output.getBytes();var A=cZ(n,l,a,p);f=I0.create(I0.Class.UNIVERSAL,I0.Type.SEQUENCE,!0,[I0.create(I0.Class.UNIVERSAL,I0.Type.OID,!1,I0.oidToDer(Pd.pkcs5PBES2).getBytes()),I0.create(I0.Class.UNIVERSAL,I0.Type.SEQUENCE,!0,[I0.create(I0.Class.UNIVERSAL,I0.Type.SEQUENCE,!0,[I0.create(I0.Class.UNIVERSAL,I0.Type.OID,!1,I0.oidToDer(Pd.pkcs5PBKDF2).getBytes()),A]),I0.create(I0.Class.UNIVERSAL,I0.Type.SEQUENCE,!0,[I0.create(I0.Class.UNIVERSAL,I0.Type.OID,!1,I0.oidToDer(d).getBytes()),I0.create(I0.Class.UNIVERSAL,I0.Type.OCTETSTRING,!1,E)])])])}else if(r.algorithm==="3des"){a=24;var L=new Mt.util.ByteBuffer(n),x=mn.pbe.generatePkcs12Key(t,L,1,s,a),E=mn.pbe.generatePkcs12Key(t,L,2,s,a),I=Mt.des.createEncryptionCipher(x);I.start(E),I.update(I0.toDer(e)),I.finish(),c=I.output.getBytes(),f=I0.create(I0.Class.UNIVERSAL,I0.Type.SEQUENCE,!0,[I0.create(I0.Class.UNIVERSAL,I0.Type.OID,!1,I0.oidToDer(Pd["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),I0.create(I0.Class.UNIVERSAL,I0.Type.SEQUENCE,!0,[I0.create(I0.Class.UNIVERSAL,I0.Type.OCTETSTRING,!1,n),I0.create(I0.Class.UNIVERSAL,I0.Type.INTEGER,!1,l.getBytes())])])}else{var m=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw m.algorithm=r.algorithm,m}var D=I0.create(I0.Class.UNIVERSAL,I0.Type.SEQUENCE,!0,[f,I0.create(I0.Class.UNIVERSAL,I0.Type.OCTETSTRING,!1,c)]);return D};mn.decryptPrivateKeyInfo=function(e,t){var r=null,n={},s=[];if(!I0.validate(e,aZ,n,s)){var l=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw l.errors=s,l}var a=I0.derToOid(n.encryptionOid),f=mn.pbe.getCipher(a,n.encryptionParams,t),c=Mt.util.createBuffer(n.encryptedData);return f.update(c),f.finish()&&(r=I0.fromDer(f.output)),r};mn.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:I0.toDer(e).getBytes()};return Mt.pem.encode(r,{maxline:t})};mn.encryptedPrivateKeyFromPem=function(e){var t=Mt.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return I0.fromDer(t.body)};mn.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=mn.wrapRsaPrivateKey(mn.privateKeyToAsn1(e));return n=mn.encryptPrivateKeyInfo(n,t,r),mn.encryptedPrivateKeyToPem(n)}var s,l,a,f;switch(r.algorithm){case"aes128":s="AES-128-CBC",a=16,l=Mt.random.getBytesSync(16),f=Mt.aes.createEncryptionCipher;break;case"aes192":s="AES-192-CBC",a=24,l=Mt.random.getBytesSync(16),f=Mt.aes.createEncryptionCipher;break;case"aes256":s="AES-256-CBC",a=32,l=Mt.random.getBytesSync(16),f=Mt.aes.createEncryptionCipher;break;case"3des":s="DES-EDE3-CBC",a=24,l=Mt.random.getBytesSync(8),f=Mt.des.createEncryptionCipher;break;case"des":s="DES-CBC",a=8,l=Mt.random.getBytesSync(8),f=Mt.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var u=Mt.pbe.opensslDeriveBytes(t,l.substr(0,8),a),d=f(u);d.start(l),d.update(I0.toDer(mn.privateKeyToAsn1(e))),d.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:s,parameters:Mt.util.bytesToHex(l).toUpperCase()},body:d.output.getBytes()};return Mt.pem.encode(h)};mn.decryptRsaPrivateKey=function(e,t){var r=null,n=Mt.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var s=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw s.headerType=s,s}if(n.procType&&n.procType.type==="ENCRYPTED"){var l,a;switch(n.dekInfo.algorithm){case"DES-CBC":l=8,a=Mt.des.createDecryptionCipher;break;case"DES-EDE3-CBC":l=24,a=Mt.des.createDecryptionCipher;break;case"AES-128-CBC":l=16,a=Mt.aes.createDecryptionCipher;break;case"AES-192-CBC":l=24,a=Mt.aes.createDecryptionCipher;break;case"AES-256-CBC":l=32,a=Mt.aes.createDecryptionCipher;break;case"RC2-40-CBC":l=5,a=o(function(h){return Mt.rc2.createDecryptionCipher(h,40)},"cipherFn");break;case"RC2-64-CBC":l=8,a=o(function(h){return Mt.rc2.createDecryptionCipher(h,64)},"cipherFn");break;case"RC2-128-CBC":l=16,a=o(function(h){return Mt.rc2.createDecryptionCipher(h,128)},"cipherFn");break;default:var s=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw s.algorithm=n.dekInfo.algorithm,s}var f=Mt.util.hexToBytes(n.dekInfo.parameters),c=Mt.pbe.opensslDeriveBytes(t,f.substr(0,8),l),u=a(c);if(u.start(f),u.update(Mt.util.createBuffer(n.body)),u.finish())r=u.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=mn.decryptPrivateKeyInfo(I0.fromDer(r),t):r=I0.fromDer(r),r!==null&&(r=mn.privateKeyFromAsn1(r)),r};mn.pbe.generatePkcs12Key=function(e,t,r,n,s,l){var a,f;if(typeof l>"u"||l===null){if(!("sha1"in Mt.md))throw new Error('"sha1" hash algorithm unavailable.');l=Mt.md.sha1.create()}var c=l.digestLength,u=l.blockLength,d=new Mt.util.ByteBuffer,h=new Mt.util.ByteBuffer;if(e!=null){for(f=0;f<e.length;f++)h.putInt16(e.charCodeAt(f));h.putInt16(0)}var m=h.length(),p=t.length(),v=new Mt.util.ByteBuffer;v.fillWithByte(r,u);var x=u*Math.ceil(p/u),E=new Mt.util.ByteBuffer;for(f=0;f<x;f++)E.putByte(t.at(f%p));var I=u*Math.ceil(m/u),A=new Mt.util.ByteBuffer;for(f=0;f<I;f++)A.putByte(h.at(f%m));var L=E;L.putBuffer(A);for(var D=Math.ceil(s/c),R=1;R<=D;R++){var V=new Mt.util.ByteBuffer;V.putBytes(v.bytes()),V.putBytes(L.bytes());for(var de=0;de<n;de++)l.start(),l.update(V.getBytes()),V=l.digest();var ve=new Mt.util.ByteBuffer;for(f=0;f<u;f++)ve.putByte(V.at(f%c));var n0=Math.ceil(p/u)+Math.ceil(m/u),d0=new Mt.util.ByteBuffer;for(a=0;a<n0;a++){var r0=new Mt.util.ByteBuffer(L.getBytes(u)),m0=511;for(f=ve.length()-1;f>=0;f--)m0=m0>>8,m0+=ve.at(f)+r0.at(f),r0.setAt(f,m0&255);d0.putBuffer(r0)}L=d0,d.putBuffer(V)}return d.truncate(d.length()-s),d};mn.pbe.getCipher=function(e,t,r){switch(e){case mn.oids.pkcs5PBES2:return mn.pbe.getCipherForPBES2(e,t,r);case mn.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case mn.oids["pbewithSHAAnd40BitRC2-CBC"]:return mn.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};mn.pbe.getCipherForPBES2=function(e,t,r){var n={},s=[];if(!I0.validate(t,lZ,n,s)){var l=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw l.errors=s,l}if(e=I0.derToOid(n.kdfOid),e!==mn.oids.pkcs5PBKDF2){var l=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw l.oid=e,l.supportedOids=["pkcs5PBKDF2"],l}if(e=I0.derToOid(n.encOid),e!==mn.oids["aes128-CBC"]&&e!==mn.oids["aes192-CBC"]&&e!==mn.oids["aes256-CBC"]&&e!==mn.oids["des-EDE3-CBC"]&&e!==mn.oids.desCBC){var l=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw l.oid=e,l.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],l}var a=n.kdfSalt,f=Mt.util.createBuffer(n.kdfIterationCount);f=f.getInt(f.length()<<3);var c,u;switch(mn.oids[e]){case"aes128-CBC":c=16,u=Mt.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,u=Mt.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,u=Mt.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,u=Mt.des.createDecryptionCipher;break;case"desCBC":c=8,u=Mt.des.createDecryptionCipher;break}var d=OF(n.prfOid),h=Mt.pkcs5.pbkdf2(r,a,f,c,d),m=n.encIv,p=u(h);return p.start(m),p};mn.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},s=[];if(!I0.validate(t,fZ,n,s)){var l=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw l.errors=s,l}var a=Mt.util.createBuffer(n.salt),f=Mt.util.createBuffer(n.iterations);f=f.getInt(f.length()<<3);var c,u,d;switch(e){case mn.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,u=8,d=Mt.des.startDecrypting;break;case mn.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,u=8,d=o(function(x,E){var I=Mt.rc2.createDecryptionCipher(x,40);return I.start(E,null),I},"cipherFn");break;default:var l=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw l.oid=e,l}var h=OF(n.prfOid),m=mn.pbe.generatePkcs12Key(r,a,1,f,c,h);h.start();var p=mn.pbe.generatePkcs12Key(r,a,2,f,u,h);return d(m,p)};mn.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in Mt.md))throw new Error('"md5" hash algorithm unavailable.');n=Mt.md.md5.create()}t===null&&(t="");for(var s=[FF(n,e+t)],l=16,a=1;l<r;++a,l+=16)s.push(FF(n,s[a-1]+e+t));return s.join("").substr(0,r)};function FF(e,t){return e.start().update(t).digest().getBytes()}o(FF,"hash");function OF(e){var t;if(!e)t="hmacWithSHA1";else if(t=mn.oids[I0.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return MF(t)}o(OF,"prfOidToMessageDigest");function MF(e){var t=Mt.md;switch(e){case"hmacWithSHA224":t=Mt.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}o(MF,"prfAlgorithmToMessageDigest");function cZ(e,t,r,n){var s=I0.create(I0.Class.UNIVERSAL,I0.Type.SEQUENCE,!0,[I0.create(I0.Class.UNIVERSAL,I0.Type.OCTETSTRING,!1,e),I0.create(I0.Class.UNIVERSAL,I0.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&s.value.push(I0.create(I0.Class.UNIVERSAL,I0.Type.INTEGER,!1,Mt.util.hexToBytes(r.toString(16))),I0.create(I0.Class.UNIVERSAL,I0.Type.SEQUENCE,!0,[I0.create(I0.Class.UNIVERSAL,I0.Type.OID,!1,I0.oidToDer(mn.oids[n]).getBytes()),I0.create(I0.Class.UNIVERSAL,I0.Type.NULL,!1,"")])),s}o(cZ,"createPbkdf2Params")});var CI=y0((C5e,HF)=>{var y6=pn();F1();Gi();var Tt=y6.asn1,v6=HF.exports=y6.pkcs7asn1=y6.pkcs7asn1||{};y6.pkcs7=y6.pkcs7||{};y6.pkcs7.asn1=v6;var qF={name:"ContentInfo",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:Tt.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};v6.contentInfoValidator=qF;var $F={name:"EncryptedContentInfo",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:Tt.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:Tt.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};v6.envelopedDataValidator={name:"EnvelopedData",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat($F)};v6.encryptedDataValidator={name:"EncryptedData",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.INTEGER,constructed:!1,capture:"version"}].concat($F)};var uZ={name:"SignerInfo",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:Tt.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:Tt.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:Tt.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};v6.signedDataValidator={name:"SignedData",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},qF,{name:"SignedData.Certificates",tagClass:Tt.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:Tt.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SET,capture:"signerInfos",optional:!0,value:[uZ]}]};v6.recipientInfoValidator={name:"RecipientInfo",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:Tt.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var EI=y0((E5e,VF)=>{var Nd=pn();Gi();Nd.mgf=Nd.mgf||{};var dZ=VF.exports=Nd.mgf.mgf1=Nd.mgf1=Nd.mgf1||{};dZ.create=function(e){var t={generate:function(r,n){for(var s=new Nd.util.ByteBuffer,l=Math.ceil(n/e.digestLength),a=0;a<l;a++){var f=new Nd.util.ByteBuffer;f.putInt32(a),e.start(),e.update(r+f.getBytes()),s.putBuffer(e.digest())}return s.truncate(s.length()-n),s.getBytes()}};return t}});var zF=y0((T5e,jF)=>{var jv=pn();EI();jF.exports=jv.mgf=jv.mgf||{};jv.mgf.mgf1=jv.mgf1});var zv=y0((S5e,GF)=>{var Rd=pn();Xf();Gi();var hZ=GF.exports=Rd.pss=Rd.pss||{};hZ.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,s=e.salt||null;typeof s=="string"&&(s=Rd.util.createBuffer(s));var l;if("saltLength"in e)l=e.saltLength;else if(s!==null)l=s.length();else throw new Error("Salt length not specified or specific salt not given.");if(s!==null&&s.length()!==l)throw new Error("Given salt length does not match length of given salt.");var a=e.prng||Rd.random,f={};return f.encode=function(c,u){var d,h=u-1,m=Math.ceil(h/8),p=c.digest().getBytes();if(m<n+l+2)throw new Error("Message is too long to encrypt.");var v;s===null?v=a.getBytesSync(l):v=s.bytes();var x=new Rd.util.ByteBuffer;x.fillWithByte(0,8),x.putBytes(p),x.putBytes(v),t.start(),t.update(x.getBytes());var E=t.digest().getBytes(),I=new Rd.util.ByteBuffer;I.fillWithByte(0,m-l-n-2),I.putByte(1),I.putBytes(v);var A=I.getBytes(),L=m-n-1,D=r.generate(E,L),R="";for(d=0;d<L;d++)R+=String.fromCharCode(A.charCodeAt(d)^D.charCodeAt(d));var V=65280>>8*m-h&255;return R=String.fromCharCode(R.charCodeAt(0)&~V)+R.substr(1),R+E+"\xBC"},f.verify=function(c,u,d){var h,m=d-1,p=Math.ceil(m/8);if(u=u.substr(-p),p<n+l+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(u.charCodeAt(p-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var v=p-n-1,x=u.substr(0,v),E=u.substr(v,n),I=65280>>8*p-m&255;if(x.charCodeAt(0)&I)throw new Error("Bits beyond keysize not zero as expected.");var A=r.generate(E,v),L="";for(h=0;h<v;h++)L+=String.fromCharCode(x.charCodeAt(h)^A.charCodeAt(h));L=String.fromCharCode(L.charCodeAt(0)&~I)+L.substr(1);var D=p-n-l-2;for(h=0;h<D;h++)if(L.charCodeAt(h)!==0)throw new Error("Leftmost octets not zero as expected");if(L.charCodeAt(D)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var R=L.substr(-l),V=new Rd.util.ByteBuffer;V.fillWithByte(0,8),V.putBytes(c),V.putBytes(R),t.start(),t.update(V.getBytes());var de=t.digest().getBytes();return E===de},f}});var Wv=y0((I5e,XF)=>{var kr=pn();f3();F1();C7();Ec();zF();c3();Id();zv();S7();Gi();var W=kr.asn1,K0=XF.exports=kr.pki=kr.pki||{},ji=K0.oids,Js={};Js.CN=ji.commonName;Js.commonName="CN";Js.C=ji.countryName;Js.countryName="C";Js.L=ji.localityName;Js.localityName="L";Js.ST=ji.stateOrProvinceName;Js.stateOrProvinceName="ST";Js.O=ji.organizationName;Js.organizationName="O";Js.OU=ji.organizationalUnitName;Js.organizationalUnitName="OU";Js.E=ji.emailAddress;Js.emailAddress="E";var WF=kr.pki.rsa.publicKeyValidator,gZ={name:"Certificate",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:W.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:W.Class.UNIVERSAL,type:W.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:W.Class.UNIVERSAL,type:W.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:W.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:W.Class.UNIVERSAL,type:W.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:W.Class.UNIVERSAL,type:W.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:W.Class.UNIVERSAL,type:W.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:W.Class.UNIVERSAL,type:W.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},WF,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:W.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:W.Class.UNIVERSAL,type:W.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:W.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:W.Class.UNIVERSAL,type:W.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:W.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:W.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:W.Class.UNIVERSAL,type:W.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},mZ={name:"rsapss",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:W.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:W.Class.UNIVERSAL,type:W.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:W.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:W.Class.UNIVERSAL,type:W.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:W.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:W.Class.UNIVERSAL,type:W.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:W.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:W.Class.UNIVERSAL,type:W.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},pZ={name:"CertificationRequestInfo",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:W.Class.UNIVERSAL,type:W.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},WF,{name:"CertificationRequestInfo.attributes",tagClass:W.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:W.Class.UNIVERSAL,type:W.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:W.Class.UNIVERSAL,type:W.Type.SET,constructed:!0}]}]}]},yZ={name:"CertificationRequest",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[pZ,{name:"CertificationRequest.signatureAlgorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:W.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:W.Class.UNIVERSAL,type:W.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};K0.RDNAttributesAsArray=function(e,t){for(var r=[],n,s,l,a=0;a<e.value.length;++a){n=e.value[a];for(var f=0;f<n.value.length;++f)l={},s=n.value[f],l.type=W.derToOid(s.value[0].value),l.value=s.value[1].value,l.valueTagClass=s.value[1].type,l.type in ji&&(l.name=ji[l.type],l.name in Js&&(l.shortName=Js[l.name])),t&&(t.update(l.type),t.update(l.value)),r.push(l)}return r};K0.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],s=W.derToOid(n.value[0].value),l=n.value[1].value,a=0;a<l.length;++a){var f={};if(f.type=s,f.value=l[a].value,f.valueTagClass=l[a].type,f.type in ji&&(f.name=ji[f.type],f.name in Js&&(f.shortName=Js[f.name])),f.type===ji.extensionRequest){f.extensions=[];for(var c=0;c<f.value.length;++c)f.extensions.push(K0.certificateExtensionFromAsn1(f.value[c]))}t.push(f)}return t};function h3(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,s=0;r===null&&s<e.attributes.length;++s)n=e.attributes[s],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}o(h3,"_getAttribute");var Gv=o(function(e,t,r){var n={};if(e!==ji["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:ji.sha1},mgf:{algorithmOid:ji.mgf1,hash:{algorithmOid:ji.sha1}},saltLength:20});var s={},l=[];if(!W.validate(t,mZ,s,l)){var a=new Error("Cannot read RSASSA-PSS parameter block.");throw a.errors=l,a}return s.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=W.derToOid(s.hashOid)),s.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=W.derToOid(s.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=W.derToOid(s.maskGenHashOid)),s.saltLength!==void 0&&(n.saltLength=s.saltLength.charCodeAt(0)),n},"_readSignatureParameters"),Kv=o(function(e){switch(ji[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return kr.md.sha1.create();case"md5WithRSAEncryption":return kr.md.md5.create();case"sha256WithRSAEncryption":return kr.md.sha256.create();case"sha384WithRSAEncryption":return kr.md.sha384.create();case"sha512WithRSAEncryption":return kr.md.sha512.create();case"RSASSA-PSS":return kr.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},"_createSignatureDigest"),YF=o(function(e){var t=e.certificate,r;switch(t.signatureOid){case ji.sha1WithRSAEncryption:case ji.sha1WithRSASignature:break;case ji["RSASSA-PSS"]:var n,s;if(n=ji[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||kr.md[n]===void 0){var l=new Error("Unsupported MGF hash function.");throw l.oid=t.signatureParameters.mgf.hash.algorithmOid,l.name=n,l}if(s=ji[t.signatureParameters.mgf.algorithmOid],s===void 0||kr.mgf[s]===void 0){var l=new Error("Unsupported MGF function.");throw l.oid=t.signatureParameters.mgf.algorithmOid,l.name=s,l}if(s=kr.mgf[s].create(kr.md[n].create()),n=ji[t.signatureParameters.hash.algorithmOid],n===void 0||kr.md[n]===void 0){var l=new Error("Unsupported RSASSA-PSS hash function.");throw l.oid=t.signatureParameters.hash.algorithmOid,l.name=n,l}r=kr.pss.create(kr.md[n].create(),s,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)},"_verifySignature");K0.certificateFromPem=function(e,t,r){var n=kr.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var s=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw s.headerType=n.type,s}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var l=W.fromDer(n.body,r);return K0.certificateFromAsn1(l,t)};K0.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:W.toDer(K0.certificateToAsn1(e)).getBytes()};return kr.pem.encode(r,{maxline:t})};K0.publicKeyFromPem=function(e){var t=kr.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=W.fromDer(t.body);return K0.publicKeyFromAsn1(n)};K0.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:W.toDer(K0.publicKeyToAsn1(e)).getBytes()};return kr.pem.encode(r,{maxline:t})};K0.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:W.toDer(K0.publicKeyToRSAPublicKey(e)).getBytes()};return kr.pem.encode(r,{maxline:t})};K0.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||kr.md.sha1.create(),n=t.type||"RSAPublicKey",s;switch(n){case"RSAPublicKey":s=W.toDer(K0.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":s=W.toDer(K0.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(s);var l=r.digest();if(t.encoding==="hex"){var a=l.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return l.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return l};K0.certificationRequestFromPem=function(e,t,r){var n=kr.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var s=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw s.headerType=n.type,s}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var l=W.fromDer(n.body,r);return K0.certificationRequestFromAsn1(l,t)};K0.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:W.toDer(K0.certificationRequestToAsn1(e)).getBytes()};return kr.pem.encode(r,{maxline:t})};K0.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return h3(e.issuer,t)},e.issuer.addField=function(t){e1([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return h3(e.subject,t)},e.subject.addField=function(t){e1([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){e1(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){e1(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)JF(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,s=0;r===null&&s<e.extensions.length;++s)n=e.extensions[s],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||kr.md.sha1.create();var n=ji[e.md.algorithm+"WithRSAEncryption"];if(!n){var s=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw s.algorithm=e.md.algorithm,s}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=K0.getTBSCertificate(e);var l=W.toDer(e.tbsCertificate);e.md.update(l.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,s=e.subject,l=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw l.expectedIssuer=s.attributes,l.actualIssuer=n.attributes,l}var a=t.md;if(a===null){a=Kv({signatureOid:t.signatureOid,type:"certificate"});var f=t.tbsCertificate||K0.getTBSCertificate(t),c=W.toDer(f);a.update(c.getBytes())}return a!==null&&(r=YF({certificate:e,md:a,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,s=t.subject;if(n.hash&&s.hash)r=n.hash===s.hash;else if(n.attributes.length===s.attributes.length){r=!0;for(var l,a,f=0;r&&f<n.attributes.length;++f)l=n.attributes[f],a=s.attributes[f],(l.type!==a.type||l.value!==a.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return K0.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=ji.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var s=e.generateSubjectKeyIdentifier().getBytes();return kr.util.hexToBytes(n.subjectKeyIdentifier)===s}}return!1},e};K0.certificateFromAsn1=function(e,t){var r={},n=[];if(!W.validate(e,gZ,r,n)){var s=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw s.errors=n,s}var l=W.derToOid(r.publicKeyOid);if(l!==K0.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=K0.createCertificate();a.version=r.certVersion?r.certVersion.charCodeAt(0):0;var f=kr.util.createBuffer(r.certSerialNumber);a.serialNumber=f.toHex(),a.signatureOid=kr.asn1.derToOid(r.certSignatureOid),a.signatureParameters=Gv(a.signatureOid,r.certSignatureParams,!0),a.siginfo.algorithmOid=kr.asn1.derToOid(r.certinfoSignatureOid),a.siginfo.parameters=Gv(a.siginfo.algorithmOid,r.certinfoSignatureParams,!1),a.signature=r.certSignature;var c=[];if(r.certValidity1UTCTime!==void 0&&c.push(W.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&c.push(W.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&c.push(W.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&c.push(W.generalizedTimeToDate(r.certValidity4GeneralizedTime)),c.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(c.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(a.validity.notBefore=c[0],a.validity.notAfter=c[1],a.tbsCertificate=r.tbsCertificate,t){a.md=Kv({signatureOid:a.signatureOid,type:"certificate"});var u=W.toDer(a.tbsCertificate);a.md.update(u.getBytes())}var d=kr.md.sha1.create(),h=W.toDer(r.certIssuer);d.update(h.getBytes()),a.issuer.getField=function(v){return h3(a.issuer,v)},a.issuer.addField=function(v){e1([v]),a.issuer.attributes.push(v)},a.issuer.attributes=K0.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(a.issuer.uniqueId=r.certIssuerUniqueId),a.issuer.hash=d.digest().toHex();var m=kr.md.sha1.create(),p=W.toDer(r.certSubject);return m.update(p.getBytes()),a.subject.getField=function(v){return h3(a.subject,v)},a.subject.addField=function(v){e1([v]),a.subject.attributes.push(v)},a.subject.attributes=K0.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(a.subject.uniqueId=r.certSubjectUniqueId),a.subject.hash=m.digest().toHex(),r.certExtensions?a.extensions=K0.certificateExtensionsFromAsn1(r.certExtensions):a.extensions=[],a.publicKey=K0.publicKeyFromAsn1(r.subjectPublicKeyInfo),a};K0.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],s=0;s<n.value.length;++s)t.push(K0.certificateExtensionFromAsn1(n.value[s]));return t};K0.certificateExtensionFromAsn1=function(e){var t={};if(t.id=W.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===W.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in ji){if(t.name=ji[t.id],t.name==="keyUsage"){var r=W.fromDer(t.value),n=0,s=0;r.value.length>1&&(n=r.value.charCodeAt(1),s=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)===128,t.nonRepudiation=(n&64)===64,t.keyEncipherment=(n&32)===32,t.dataEncipherment=(n&16)===16,t.keyAgreement=(n&8)===8,t.keyCertSign=(n&4)===4,t.cRLSign=(n&2)===2,t.encipherOnly=(n&1)===1,t.decipherOnly=(s&128)===128}else if(t.name==="basicConstraints"){var r=W.fromDer(t.value);r.value.length>0&&r.value[0].type===W.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var l=null;r.value.length>0&&r.value[0].type===W.Type.INTEGER?l=r.value[0].value:r.value.length>1&&(l=r.value[1].value),l!==null&&(t.pathLenConstraint=W.derToInteger(l))}else if(t.name==="extKeyUsage")for(var r=W.fromDer(t.value),a=0;a<r.value.length;++a){var f=W.derToOid(r.value[a].value);f in ji?t[ji[f]]=!0:t[f]=!0}else if(t.name==="nsCertType"){var r=W.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)===128,t.server=(n&64)===64,t.email=(n&32)===32,t.objsign=(n&16)===16,t.reserved=(n&8)===8,t.sslCA=(n&4)===4,t.emailCA=(n&2)===2,t.objCA=(n&1)===1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var c,r=W.fromDer(t.value),u=0;u<r.value.length;++u){c=r.value[u];var d={type:c.type,value:c.value};switch(t.altNames.push(d),c.type){case 1:case 2:case 6:break;case 7:d.ip=kr.util.bytesToIP(c.value);break;case 8:d.oid=W.derToOid(c.value);break;default:}}}else if(t.name==="subjectKeyIdentifier"){var r=W.fromDer(t.value);t.subjectKeyIdentifier=kr.util.bytesToHex(r.value)}}return t};K0.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!W.validate(e,yZ,r,n)){var s=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw s.errors=n,s}var l=W.derToOid(r.publicKeyOid);if(l!==K0.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=K0.createCertificationRequest();if(a.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,a.signatureOid=kr.asn1.derToOid(r.csrSignatureOid),a.signatureParameters=Gv(a.signatureOid,r.csrSignatureParams,!0),a.siginfo.algorithmOid=kr.asn1.derToOid(r.csrSignatureOid),a.siginfo.parameters=Gv(a.siginfo.algorithmOid,r.csrSignatureParams,!1),a.signature=r.csrSignature,a.certificationRequestInfo=r.certificationRequestInfo,t){a.md=Kv({signatureOid:a.signatureOid,type:"certification request"});var f=W.toDer(a.certificationRequestInfo);a.md.update(f.getBytes())}var c=kr.md.sha1.create();return a.subject.getField=function(u){return h3(a.subject,u)},a.subject.addField=function(u){e1([u]),a.subject.attributes.push(u)},a.subject.attributes=K0.RDNAttributesAsArray(r.certificationRequestInfoSubject,c),a.subject.hash=c.digest().toHex(),a.publicKey=K0.publicKeyFromAsn1(r.subjectPublicKeyInfo),a.getAttribute=function(u){return h3(a,u)},a.addAttribute=function(u){e1([u]),a.attributes.push(u)},a.attributes=K0.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),a};K0.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return h3(e.subject,t)},e.subject.addField=function(t){e1([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return h3(e,t)},e.addAttribute=function(t){e1([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){e1(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){e1(t),e.attributes=t},e.sign=function(t,r){e.md=r||kr.md.sha1.create();var n=ji[e.md.algorithm+"WithRSAEncryption"];if(!n){var s=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw s.algorithm=e.md.algorithm,s}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=K0.getCertificationRequestInfo(e);var l=W.toDer(e.certificationRequestInfo);e.md.update(l.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=Kv({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||K0.getCertificationRequestInfo(e),s=W.toDer(n);r.update(s.getBytes())}return r!==null&&(t=YF({certificate:e,md:r,signature:e.signature})),t},e};function x6(e){for(var t=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]),r,n,s=e.attributes,l=0;l<s.length;++l){r=s[l];var a=r.value,f=W.Type.PRINTABLESTRING;"valueTagClass"in r&&(f=r.valueTagClass,f===W.Type.UTF8&&(a=kr.util.encodeUtf8(a))),n=W.create(W.Class.UNIVERSAL,W.Type.SET,!0,[W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(r.type).getBytes()),W.create(W.Class.UNIVERSAL,f,!1,a)])]),t.value.push(n)}return t}o(x6,"_dnToAsn1");function e1(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name>"u"&&(t.type&&t.type in K0.oids?t.name=K0.oids[t.type]:t.shortName&&t.shortName in Js&&(t.name=K0.oids[Js[t.shortName]])),typeof t.type>"u")if(t.name&&t.name in K0.oids)t.type=K0.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName>"u"&&t.name&&t.name in Js&&(t.shortName=Js[t.name]),t.type===ji.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=W.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var s=0;s<t.extensions.length;++s)t.value.push(K0.certificateExtensionToAsn1(JF(t.extensions[s])))}if(typeof t.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}o(e1,"_fillMissingFields");function JF(e,t){if(t=t||{},typeof e.name>"u"&&e.id&&e.id in K0.oids&&(e.name=K0.oids[e.id]),typeof e.id>"u")if(e.name&&e.name in K0.oids)e.id=K0.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value<"u")return e;if(e.name==="keyUsage"){var n=0,s=0,l=0;e.digitalSignature&&(s|=128,n=7),e.nonRepudiation&&(s|=64,n=6),e.keyEncipherment&&(s|=32,n=5),e.dataEncipherment&&(s|=16,n=4),e.keyAgreement&&(s|=8,n=3),e.keyCertSign&&(s|=4,n=2),e.cRLSign&&(s|=2,n=1),e.encipherOnly&&(s|=1,n=0),e.decipherOnly&&(l|=128,n=7);var a=String.fromCharCode(n);l!==0?a+=String.fromCharCode(s)+String.fromCharCode(l):s!==0&&(a+=String.fromCharCode(s)),e.value=W.create(W.Class.UNIVERSAL,W.Type.BITSTRING,!1,a)}else if(e.name==="basicConstraints")e.value=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(W.create(W.Class.UNIVERSAL,W.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in e&&e.value.value.push(W.create(W.Class.UNIVERSAL,W.Type.INTEGER,!1,W.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]);var f=e.value.value;for(var c in e)e[c]===!0&&(c in ji?f.push(W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(ji[c]).getBytes())):c.indexOf(".")!==-1&&f.push(W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(c).getBytes())))}else if(e.name==="nsCertType"){var n=0,s=0;e.client&&(s|=128,n=7),e.server&&(s|=64,n=6),e.email&&(s|=32,n=5),e.objsign&&(s|=16,n=4),e.reserved&&(s|=8,n=3),e.sslCA&&(s|=4,n=2),e.emailCA&&(s|=2,n=1),e.objCA&&(s|=1,n=0);var a=String.fromCharCode(n);s!==0&&(a+=String.fromCharCode(s)),e.value=W.create(W.Class.UNIVERSAL,W.Type.BITSTRING,!1,a)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]);for(var u,d=0;d<e.altNames.length;++d){u=e.altNames[d];var a=u.value;if(u.type===7&&u.ip){if(a=kr.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=W.oidToDer(W.oidToDer(u.oid)):a=W.oidToDer(a));e.value.value.push(W.create(W.Class.CONTEXT_SPECIFIC,u.type,!1,a))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=W.create(W.Class.UNIVERSAL,W.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var h=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=h.toHex(),e.value=W.create(W.Class.UNIVERSAL,W.Type.OCTETSTRING,!1,h.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]);var f=e.value.value;if(e.keyIdentifier){var m=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;f.push(W.create(W.Class.CONTEXT_SPECIFIC,0,!1,m))}if(e.authorityCertIssuer){var p=[W.create(W.Class.CONTEXT_SPECIFIC,4,!0,[x6(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];f.push(W.create(W.Class.CONTEXT_SPECIFIC,1,!0,p))}if(e.serialNumber){var v=kr.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);f.push(W.create(W.Class.CONTEXT_SPECIFIC,2,!1,v))}}else if(e.name==="cRLDistributionPoints"){e.value=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]);for(var f=e.value.value,x=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]),E=W.create(W.Class.CONTEXT_SPECIFIC,0,!0,[]),u,d=0;d<e.altNames.length;++d){u=e.altNames[d];var a=u.value;if(u.type===7&&u.ip){if(a=kr.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=W.oidToDer(W.oidToDer(u.oid)):a=W.oidToDer(a));E.value.push(W.create(W.Class.CONTEXT_SPECIFIC,u.type,!1,a))}x.value.push(W.create(W.Class.CONTEXT_SPECIFIC,0,!0,[E])),f.push(x)}if(typeof e.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}o(JF,"_fillMissingExtensionFields");function TI(e,t){switch(e){case ji["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push(W.create(W.Class.CONTEXT_SPECIFIC,0,!0,[W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(t.hash.algorithmOid).getBytes()),W.create(W.Class.UNIVERSAL,W.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push(W.create(W.Class.CONTEXT_SPECIFIC,1,!0,[W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(t.mgf.algorithmOid).getBytes()),W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(t.mgf.hash.algorithmOid).getBytes()),W.create(W.Class.UNIVERSAL,W.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push(W.create(W.Class.CONTEXT_SPECIFIC,2,!0,[W.create(W.Class.UNIVERSAL,W.Type.INTEGER,!1,W.integerToDer(t.saltLength).getBytes())])),W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,r);default:return W.create(W.Class.UNIVERSAL,W.Type.NULL,!1,"")}}o(TI,"_signatureParametersToAsn1");function vZ(e){var t=W.create(W.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var s=r[n],l=s.value,a=W.Type.UTF8;"valueTagClass"in s&&(a=s.valueTagClass),a===W.Type.UTF8&&(l=kr.util.encodeUtf8(l));var f=!1;"valueConstructed"in s&&(f=s.valueConstructed);var c=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(s.type).getBytes()),W.create(W.Class.UNIVERSAL,W.Type.SET,!0,[W.create(W.Class.UNIVERSAL,a,f,l)])]);t.value.push(c)}return t}o(vZ,"_CRIAttributesToAsn1");var xZ=new Date("1950-01-01T00:00:00Z"),_Z=new Date("2050-01-01T00:00:00Z");function KF(e){return e>=xZ&&e<_Z?W.create(W.Class.UNIVERSAL,W.Type.UTCTIME,!1,W.dateToUtcTime(e)):W.create(W.Class.UNIVERSAL,W.Type.GENERALIZEDTIME,!1,W.dateToGeneralizedTime(e))}o(KF,"_dateToAsn1");K0.getTBSCertificate=function(e){var t=KF(e.validity.notBefore),r=KF(e.validity.notAfter),n=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.CONTEXT_SPECIFIC,0,!0,[W.create(W.Class.UNIVERSAL,W.Type.INTEGER,!1,W.integerToDer(e.version).getBytes())]),W.create(W.Class.UNIVERSAL,W.Type.INTEGER,!1,kr.util.hexToBytes(e.serialNumber)),W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(e.siginfo.algorithmOid).getBytes()),TI(e.siginfo.algorithmOid,e.siginfo.parameters)]),x6(e.issuer),W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[t,r]),x6(e.subject),K0.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push(W.create(W.Class.CONTEXT_SPECIFIC,1,!0,[W.create(W.Class.UNIVERSAL,W.Type.BITSTRING,!1,"\0"+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push(W.create(W.Class.CONTEXT_SPECIFIC,2,!0,[W.create(W.Class.UNIVERSAL,W.Type.BITSTRING,!1,"\0"+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(K0.certificateExtensionsToAsn1(e.extensions)),n};K0.getCertificationRequestInfo=function(e){var t=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.INTEGER,!1,W.integerToDer(e.version).getBytes()),x6(e.subject),K0.publicKeyToAsn1(e.publicKey),vZ(e)]);return t};K0.distinguishedNameToAsn1=function(e){return x6(e)};K0.certificateToAsn1=function(e){var t=e.tbsCertificate||K0.getTBSCertificate(e);return W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[t,W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(e.signatureOid).getBytes()),TI(e.signatureOid,e.signatureParameters)]),W.create(W.Class.UNIVERSAL,W.Type.BITSTRING,!1,"\0"+e.signature)])};K0.certificateExtensionsToAsn1=function(e){var t=W.create(W.Class.CONTEXT_SPECIFIC,3,!0,[]),r=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(K0.certificateExtensionToAsn1(e[n]));return t};K0.certificateExtensionToAsn1=function(e){var t=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]);t.value.push(W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(e.id).getBytes())),e.critical&&t.value.push(W.create(W.Class.UNIVERSAL,W.Type.BOOLEAN,!1,"\xFF"));var r=e.value;return typeof e.value!="string"&&(r=W.toDer(r).getBytes()),t.value.push(W.create(W.Class.UNIVERSAL,W.Type.OCTETSTRING,!1,r)),t};K0.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||K0.getCertificationRequestInfo(e);return W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[t,W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(e.signatureOid).getBytes()),TI(e.signatureOid,e.signatureParameters)]),W.create(W.Class.UNIVERSAL,W.Type.BITSTRING,!1,"\0"+e.signature)])};K0.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(a){var f=r(a.issuer);return f},t.addCertificate=function(a){if(typeof a=="string"&&(a=kr.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))if(a.subject.hash in t.certs){var f=t.certs[a.subject.hash];kr.util.isArray(f)||(f=[f]),f.push(a),t.certs[a.subject.hash]=f}else t.certs[a.subject.hash]=a},t.hasCertificate=function(a){typeof a=="string"&&(a=kr.pki.certificateFromPem(a));var f=r(a.subject);if(!f)return!1;kr.util.isArray(f)||(f=[f]);for(var c=W.toDer(K0.certificateToAsn1(a)).getBytes(),u=0;u<f.length;++u){var d=W.toDer(K0.certificateToAsn1(f[u])).getBytes();if(c===d)return!0}return!1},t.listAllCertificates=function(){var a=[];for(var f in t.certs)if(t.certs.hasOwnProperty(f)){var c=t.certs[f];if(!kr.util.isArray(c))a.push(c);else for(var u=0;u<c.length;++u)a.push(c[u])}return a},t.removeCertificate=function(a){var f;if(typeof a=="string"&&(a=kr.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))return null;var c=r(a.subject);if(!kr.util.isArray(c))return f=t.certs[a.subject.hash],delete t.certs[a.subject.hash],f;for(var u=W.toDer(K0.certificateToAsn1(a)).getBytes(),d=0;d<c.length;++d){var h=W.toDer(K0.certificateToAsn1(c[d])).getBytes();u===h&&(f=c[d],c.splice(d,1))}return c.length===0&&delete t.certs[a.subject.hash],f};function r(a){return n(a),t.certs[a.hash]||null}o(r,"getBySubject");function n(a){if(!a.hash){var f=kr.md.sha1.create();a.attributes=K0.RDNAttributesAsArray(x6(a),f),a.hash=f.digest().toHex()}}if(o(n,"ensureSubjectHasHash"),e)for(var s=0;s<e.length;++s){var l=e[s];t.addCertificate(l)}return t};K0.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};K0.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),s=r.validityCheckDate;typeof s>"u"&&(s=new Date);var l=!0,a=null,f=0;do{var c=t.shift(),u=null,d=!1;if(s&&(s<c.validity.notBefore||s>c.validity.notAfter)&&(a={message:"Certificate is not valid yet or has expired.",error:K0.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:s}),a===null){if(u=t[0]||e.getIssuer(c),u===null&&c.isIssuer(c)&&(d=!0,u=c),u){var h=u;kr.util.isArray(h)||(h=[h]);for(var m=!1;!m&&h.length>0;){u=h.shift();try{m=u.verify(c)}catch{}}m||(a={message:"Certificate signature is invalid.",error:K0.certificateError.bad_certificate})}a===null&&(!u||d)&&!e.hasCertificate(c)&&(a={message:"Certificate is not trusted.",error:K0.certificateError.unknown_ca})}if(a===null&&u&&!c.isIssuer(u)&&(a={message:"Certificate issuer is invalid.",error:K0.certificateError.bad_certificate}),a===null)for(var p={keyUsage:!0,basicConstraints:!0},v=0;a===null&&v<c.extensions.length;++v){var x=c.extensions[v];x.critical&&!(x.name in p)&&(a={message:"Certificate has an unsupported critical extension.",error:K0.certificateError.unsupported_certificate})}if(a===null&&(!l||t.length===0&&(!u||d))){var E=c.getExtension("basicConstraints"),I=c.getExtension("keyUsage");if(I!==null&&(!I.keyCertSign||E===null)&&(a={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:K0.certificateError.bad_certificate}),a===null&&E!==null&&!E.cA&&(a={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:K0.certificateError.bad_certificate}),a===null&&I!==null&&"pathLenConstraint"in E){var A=f-1;A>E.pathLenConstraint&&(a={message:"Certificate basicConstraints pathLenConstraint violated.",error:K0.certificateError.bad_certificate})}}var L=a===null?!0:a.error,D=r.verify?r.verify(L,f,n):L;if(D===!0)a=null;else throw L===!0&&(a={message:"The application rejected the certificate.",error:K0.certificateError.bad_certificate}),(D||D===0)&&(typeof D=="object"&&!kr.util.isArray(D)?(D.message&&(a.message=D.message),D.error&&(a.error=D.error)):typeof D=="string"&&(a.error=D)),a;l=!1,++f}while(t.length>0);return!0}});var II=y0((A5e,QF)=>{var Is=pn();F1();d6();c3();CI();bI();Xf();S7();p6();Gi();Wv();var je=Is.asn1,Ci=Is.pki,w7=QF.exports=Is.pkcs12=Is.pkcs12||{},ZF={name:"ContentInfo",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:je.Class.UNIVERSAL,type:je.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:je.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},bZ={name:"PFX",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:je.Class.UNIVERSAL,type:je.Type.INTEGER,constructed:!1,capture:"version"},ZF,{name:"PFX.macData",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:je.Class.UNIVERSAL,type:je.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:je.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:je.Class.UNIVERSAL,type:je.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:je.Class.UNIVERSAL,type:je.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:je.Class.UNIVERSAL,type:je.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},CZ={name:"SafeBag",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:je.Class.UNIVERSAL,type:je.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:je.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:je.Class.UNIVERSAL,type:je.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},EZ={name:"Attribute",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:je.Class.UNIVERSAL,type:je.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:je.Class.UNIVERSAL,type:je.Type.SET,constructed:!0,capture:"values"}]},TZ={name:"CertBag",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:je.Class.UNIVERSAL,type:je.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:je.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:je.Class.UNIVERSAL,type:je.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function I7(e,t,r,n){for(var s=[],l=0;l<e.length;l++)for(var a=0;a<e[l].safeBags.length;a++){var f=e[l].safeBags[a];if(!(n!==void 0&&f.type!==n)){if(t===null){s.push(f);continue}f.attributes[t]!==void 0&&f.attributes[t].indexOf(r)>=0&&s.push(f)}}return s}o(I7,"_getBagsByAttribute");w7.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},s=[];if(!je.validate(e,bZ,n,s)){var l=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw l.errors=l,l}var a={version:n.version.charCodeAt(0),safeContents:[],getBags:function(E){var I={},A;return"localKeyId"in E?A=E.localKeyId:"localKeyIdHex"in E&&(A=Is.util.hexToBytes(E.localKeyIdHex)),A===void 0&&!("friendlyName"in E)&&"bagType"in E&&(I[E.bagType]=I7(a.safeContents,null,null,E.bagType)),A!==void 0&&(I.localKeyId=I7(a.safeContents,"localKeyId",A,E.bagType)),"friendlyName"in E&&(I.friendlyName=I7(a.safeContents,"friendlyName",E.friendlyName,E.bagType)),I},getBagsByFriendlyName:function(E,I){return I7(a.safeContents,"friendlyName",E,I)},getBagsByLocalKeyId:function(E,I){return I7(a.safeContents,"localKeyId",E,I)}};if(n.version.charCodeAt(0)!==3){var l=new Error("PKCS#12 PFX of version other than 3 not supported.");throw l.version=n.version.charCodeAt(0),l}if(je.derToOid(n.contentType)!==Ci.oids.data){var l=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw l.oid=je.derToOid(n.contentType),l}var f=n.content.value[0];if(f.tagClass!==je.Class.UNIVERSAL||f.type!==je.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(f=SI(f),n.mac){var c=null,u=0,d=je.derToOid(n.macAlgorithm);switch(d){case Ci.oids.sha1:c=Is.md.sha1.create(),u=20;break;case Ci.oids.sha256:c=Is.md.sha256.create(),u=32;break;case Ci.oids.sha384:c=Is.md.sha384.create(),u=48;break;case Ci.oids.sha512:c=Is.md.sha512.create(),u=64;break;case Ci.oids.md5:c=Is.md.md5.create(),u=16;break}if(c===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+d);var h=new Is.util.ByteBuffer(n.macSalt),m="macIterations"in n?parseInt(Is.util.bytesToHex(n.macIterations),16):1,p=w7.generateKey(r,h,3,m,u,c),v=Is.hmac.create();v.start(c,p),v.update(f.value);var x=v.getMac();if(x.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return SZ(a,f.value,t,r),a};function SI(e){if(e.composed||e.constructed){for(var t=Is.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}o(SI,"_decodePkcs7Data");function SZ(e,t,r,n){if(t=je.fromDer(t,r),t.tagClass!==je.Class.UNIVERSAL||t.type!==je.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var s=0;s<t.value.length;s++){var l=t.value[s],a={},f=[];if(!je.validate(l,ZF,a,f)){var c=new Error("Cannot read ContentInfo.");throw c.errors=f,c}var u={encrypted:!1},d=null,h=a.content.value[0];switch(je.derToOid(a.contentType)){case Ci.oids.data:if(h.tagClass!==je.Class.UNIVERSAL||h.type!==je.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");d=SI(h).value;break;case Ci.oids.encryptedData:d=IZ(h,n),u.encrypted=!0;break;default:var c=new Error("Unsupported PKCS#12 contentType.");throw c.contentType=je.derToOid(a.contentType),c}u.safeBags=wZ(d,r,n),e.safeContents.push(u)}}o(SZ,"_decodeAuthenticatedSafe");function IZ(e,t){var r={},n=[];if(!je.validate(e,Is.pkcs7.asn1.encryptedDataValidator,r,n)){var s=new Error("Cannot read EncryptedContentInfo.");throw s.errors=n,s}var l=je.derToOid(r.contentType);if(l!==Ci.oids.data){var s=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw s.oid=l,s}l=je.derToOid(r.encAlgorithm);var a=Ci.pbe.getCipher(l,r.encParameter,t),f=SI(r.encryptedContentAsn1),c=Is.util.createBuffer(f.value);if(a.update(c),!a.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return a.output.getBytes()}o(IZ,"_decryptSafeContents");function wZ(e,t,r){if(!t&&e.length===0)return[];if(e=je.fromDer(e,t),e.tagClass!==je.Class.UNIVERSAL||e.type!==je.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],s=0;s<e.value.length;s++){var l=e.value[s],a={},f=[];if(!je.validate(l,CZ,a,f)){var c=new Error("Cannot read SafeBag.");throw c.errors=f,c}var u={type:je.derToOid(a.bagId),attributes:AZ(a.bagAttributes)};n.push(u);var d,h,m=a.bagValue.value[0];switch(u.type){case Ci.oids.pkcs8ShroudedKeyBag:if(m=Ci.decryptPrivateKeyInfo(m,r),m===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case Ci.oids.keyBag:try{u.key=Ci.privateKeyFromAsn1(m)}catch{u.key=null,u.asn1=m}continue;case Ci.oids.certBag:d=TZ,h=o(function(){if(je.derToOid(a.certId)!==Ci.oids.x509Certificate){var v=new Error("Unsupported certificate type, only X.509 supported.");throw v.oid=je.derToOid(a.certId),v}var x=je.fromDer(a.cert,t);try{u.cert=Ci.certificateFromAsn1(x,!0)}catch{u.cert=null,u.asn1=x}},"decoder");break;default:var c=new Error("Unsupported PKCS#12 SafeBag type.");throw c.oid=u.type,c}if(d!==void 0&&!je.validate(m,d,a,f)){var c=new Error("Cannot read PKCS#12 "+d.name);throw c.errors=f,c}h()}return n}o(wZ,"_decodeSafeContents");function AZ(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},s=[];if(!je.validate(e[r],EZ,n,s)){var l=new Error("Cannot read PKCS#12 BagAttribute.");throw l.errors=s,l}var a=je.derToOid(n.oid);if(Ci.oids[a]!==void 0){t[Ci.oids[a]]=[];for(var f=0;f<n.values.length;++f)t[Ci.oids[a]].push(n.values[f].value)}}return t}o(AZ,"_decodeBagAttributes");w7.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var s=n.localKeyId,l;if(s!==null)s=Is.util.hexToBytes(s);else if(n.generateLocalKeyId)if(t){var a=Is.util.isArray(t)?t[0]:t;typeof a=="string"&&(a=Ci.certificateFromPem(a));var f=Is.md.sha1.create();f.update(je.toDer(Ci.certificateToAsn1(a)).getBytes()),s=f.digest().getBytes()}else s=Is.random.getBytes(20);var c=[];s!==null&&c.push(je.create(je.Class.UNIVERSAL,je.Type.SEQUENCE,!0,[je.create(je.Class.UNIVERSAL,je.Type.OID,!1,je.oidToDer(Ci.oids.localKeyId).getBytes()),je.create(je.Class.UNIVERSAL,je.Type.SET,!0,[je.create(je.Class.UNIVERSAL,je.Type.OCTETSTRING,!1,s)])])),"friendlyName"in n&&c.push(je.create(je.Class.UNIVERSAL,je.Type.SEQUENCE,!0,[je.create(je.Class.UNIVERSAL,je.Type.OID,!1,je.oidToDer(Ci.oids.friendlyName).getBytes()),je.create(je.Class.UNIVERSAL,je.Type.SET,!0,[je.create(je.Class.UNIVERSAL,je.Type.BMPSTRING,!1,n.friendlyName)])])),c.length>0&&(l=je.create(je.Class.UNIVERSAL,je.Type.SET,!0,c));var u=[],d=[];t!==null&&(Is.util.isArray(t)?d=t:d=[t]);for(var h=[],m=0;m<d.length;++m){t=d[m],typeof t=="string"&&(t=Ci.certificateFromPem(t));var p=m===0?l:void 0,v=Ci.certificateToAsn1(t),x=je.create(je.Class.UNIVERSAL,je.Type.SEQUENCE,!0,[je.create(je.Class.UNIVERSAL,je.Type.OID,!1,je.oidToDer(Ci.oids.certBag).getBytes()),je.create(je.Class.CONTEXT_SPECIFIC,0,!0,[je.create(je.Class.UNIVERSAL,je.Type.SEQUENCE,!0,[je.create(je.Class.UNIVERSAL,je.Type.OID,!1,je.oidToDer(Ci.oids.x509Certificate).getBytes()),je.create(je.Class.CONTEXT_SPECIFIC,0,!0,[je.create(je.Class.UNIVERSAL,je.Type.OCTETSTRING,!1,je.toDer(v).getBytes())])])]),p]);h.push(x)}if(h.length>0){var E=je.create(je.Class.UNIVERSAL,je.Type.SEQUENCE,!0,h),I=je.create(je.Class.UNIVERSAL,je.Type.SEQUENCE,!0,[je.create(je.Class.UNIVERSAL,je.Type.OID,!1,je.oidToDer(Ci.oids.data).getBytes()),je.create(je.Class.CONTEXT_SPECIFIC,0,!0,[je.create(je.Class.UNIVERSAL,je.Type.OCTETSTRING,!1,je.toDer(E).getBytes())])]);u.push(I)}var A=null;if(e!==null){var L=Ci.wrapRsaPrivateKey(Ci.privateKeyToAsn1(e));r===null?A=je.create(je.Class.UNIVERSAL,je.Type.SEQUENCE,!0,[je.create(je.Class.UNIVERSAL,je.Type.OID,!1,je.oidToDer(Ci.oids.keyBag).getBytes()),je.create(je.Class.CONTEXT_SPECIFIC,0,!0,[L]),l]):A=je.create(je.Class.UNIVERSAL,je.Type.SEQUENCE,!0,[je.create(je.Class.UNIVERSAL,je.Type.OID,!1,je.oidToDer(Ci.oids.pkcs8ShroudedKeyBag).getBytes()),je.create(je.Class.CONTEXT_SPECIFIC,0,!0,[Ci.encryptPrivateKeyInfo(L,r,n)]),l]);var D=je.create(je.Class.UNIVERSAL,je.Type.SEQUENCE,!0,[A]),R=je.create(je.Class.UNIVERSAL,je.Type.SEQUENCE,!0,[je.create(je.Class.UNIVERSAL,je.Type.OID,!1,je.oidToDer(Ci.oids.data).getBytes()),je.create(je.Class.CONTEXT_SPECIFIC,0,!0,[je.create(je.Class.UNIVERSAL,je.Type.OCTETSTRING,!1,je.toDer(D).getBytes())])]);u.push(R)}var V=je.create(je.Class.UNIVERSAL,je.Type.SEQUENCE,!0,u),de;if(n.useMac){var f=Is.md.sha1.create(),ve=new Is.util.ByteBuffer(Is.random.getBytes(n.saltSize)),n0=n.count,e=w7.generateKey(r,ve,3,n0,20),d0=Is.hmac.create();d0.start(f,e),d0.update(je.toDer(V).getBytes());var r0=d0.getMac();de=je.create(je.Class.UNIVERSAL,je.Type.SEQUENCE,!0,[je.create(je.Class.UNIVERSAL,je.Type.SEQUENCE,!0,[je.create(je.Class.UNIVERSAL,je.Type.SEQUENCE,!0,[je.create(je.Class.UNIVERSAL,je.Type.OID,!1,je.oidToDer(Ci.oids.sha1).getBytes()),je.create(je.Class.UNIVERSAL,je.Type.NULL,!1,"")]),je.create(je.Class.UNIVERSAL,je.Type.OCTETSTRING,!1,r0.getBytes())]),je.create(je.Class.UNIVERSAL,je.Type.OCTETSTRING,!1,ve.getBytes()),je.create(je.Class.UNIVERSAL,je.Type.INTEGER,!1,je.integerToDer(n0).getBytes())])}return je.create(je.Class.UNIVERSAL,je.Type.SEQUENCE,!0,[je.create(je.Class.UNIVERSAL,je.Type.INTEGER,!1,je.integerToDer(3).getBytes()),je.create(je.Class.UNIVERSAL,je.Type.SEQUENCE,!0,[je.create(je.Class.UNIVERSAL,je.Type.OID,!1,je.oidToDer(Ci.oids.data).getBytes()),je.create(je.Class.CONTEXT_SPECIFIC,0,!0,[je.create(je.Class.UNIVERSAL,je.Type.OCTETSTRING,!1,je.toDer(V).getBytes())])]),de])};w7.generateKey=Is.pbe.generatePkcs12Key});var AI=y0((N5e,eO)=>{var g3=pn();F1();c3();bI();Id();Mv();II();zv();S7();Gi();Wv();var wI=g3.asn1,_6=eO.exports=g3.pki=g3.pki||{};_6.pemToDer=function(e){var t=g3.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return g3.util.createBuffer(t.body)};_6.privateKeyFromPem=function(e){var t=g3.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=wI.fromDer(t.body);return _6.privateKeyFromAsn1(n)};_6.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:wI.toDer(_6.privateKeyToAsn1(e)).getBytes()};return g3.pem.encode(r,{maxline:t})};_6.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:wI.toDer(e).getBytes()};return g3.pem.encode(r,{maxline:t})}});var DI=y0((R5e,lO)=>{var q0=pn();F1();d6();Dv();Id();AI();Xf();p6();Gi();var Zv=o(function(e,t,r,n){var s=q0.util.createBuffer(),l=e.length>>1,a=l+(e.length&1),f=e.substr(0,a),c=e.substr(l,a),u=q0.util.createBuffer(),d=q0.hmac.create();r=t+r;var h=Math.ceil(n/16),m=Math.ceil(n/20);d.start("MD5",f);var p=q0.util.createBuffer();u.putBytes(r);for(var v=0;v<h;++v)d.start(null,null),d.update(u.getBytes()),u.putBuffer(d.digest()),d.start(null,null),d.update(u.bytes()+r),p.putBuffer(d.digest());d.start("SHA1",c);var x=q0.util.createBuffer();u.clear(),u.putBytes(r);for(var v=0;v<m;++v)d.start(null,null),d.update(u.getBytes()),u.putBuffer(d.digest()),d.start(null,null),d.update(u.bytes()+r),x.putBuffer(d.digest());return s.putBytes(q0.util.xorBytes(p.getBytes(),x.getBytes(),n)),s},"prf_TLS1"),PZ=o(function(e,t,r){var n=q0.hmac.create();n.start("SHA1",e);var s=q0.util.createBuffer();return s.putInt32(t[0]),s.putInt32(t[1]),s.putByte(r.type),s.putByte(r.version.major),s.putByte(r.version.minor),s.putInt16(r.length),s.putBytes(r.fragment.bytes()),n.update(s.getBytes()),n.digest().getBytes()},"hmac_sha1"),NZ=o(function(e,t,r){var n=!1;try{var s=e.deflate(t.fragment.getBytes());t.fragment=q0.util.createBuffer(s),t.length=s.length,n=!0}catch{}return n},"deflate"),RZ=o(function(e,t,r){var n=!1;try{var s=e.inflate(t.fragment.getBytes());t.fragment=q0.util.createBuffer(s),t.length=s.length,n=!0}catch{}return n},"inflate"),Cf=o(function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return q0.util.createBuffer(e.getBytes(r))},"readVector"),t1=o(function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},"writeVector"),X={};X.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};X.SupportedVersions=[X.Versions.TLS_1_1,X.Versions.TLS_1_0];X.Version=X.SupportedVersions[0];X.MaxFragment=15360;X.ConnectionEnd={server:0,client:1};X.PRFAlgorithm={tls_prf_sha256:0};X.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};X.CipherType={stream:0,block:1,aead:2};X.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};X.CompressionMethod={none:0,deflate:1};X.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};X.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};X.Alert={};X.Alert.Level={warning:1,fatal:2};X.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};X.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};X.CipherSuites={};X.getCipherSuite=function(e){var t=null;for(var r in X.CipherSuites){var n=X.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};X.handleUnexpected=function(e,t){var r=!e.open&&e.entity===X.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unexpected_message}})};X.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(X.queue(e,X.createAlert(e,{level:X.Alert.Level.warning,description:X.Alert.Description.no_renegotiation})),X.flush(e)),e.process()};X.parseHelloMessage=function(e,t,r){var n=null,s=e.entity===X.ConnectionEnd.client;if(r<38)e.error(e,{message:s?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});else{var l=t.fragment,a=l.length();if(n={version:{major:l.getByte(),minor:l.getByte()},random:q0.util.createBuffer(l.getBytes(32)),session_id:Cf(l,1),extensions:[]},s?(n.cipher_suite=l.getBytes(2),n.compression_method=l.getByte()):(n.cipher_suites=Cf(l,2),n.compression_methods=Cf(l,1)),a=r-(a-l.length()),a>0){for(var f=Cf(l,2);f.length()>0;)n.extensions.push({type:[f.getByte(),f.getByte()],data:Cf(f,2)});if(!s)for(var c=0;c<n.extensions.length;++c){var u=n.extensions[c];if(u.type[0]===0&&u.type[1]===0)for(var d=Cf(u.data,2);d.length()>0;){var h=d.getByte();if(h!==0)break;e.session.extensions.server_name.serverNameList.push(Cf(d,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.protocol_version}});if(s)e.session.cipherSuite=X.getCipherSuite(n.cipher_suite);else for(var m=q0.util.createBuffer(n.cipher_suites.bytes());m.length()>0&&(e.session.cipherSuite=X.getCipherSuite(m.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.handshake_failure},cipherSuite:q0.util.bytesToHex(n.cipher_suite)});s?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=X.CompressionMethod.none}return n};X.createSecurityParameters=function(e,t){var r=e.entity===X.ConnectionEnd.client,n=t.random.bytes(),s=r?e.session.sp.client_random:n,l=r?n:X.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:X.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:s,server_random:l}};X.handleServerHello=function(e,t,r){var n=X.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.protocol_version}});e.session.version=e.version;var s=n.session_id.bytes();s.length>0&&s===e.session.id?(e.expect=nO,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=BZ,e.session.resuming=!1,X.createSecurityParameters(e,n)),e.session.id=s,e.process()}};X.handleClientHello=function(e,t,r){var n=X.parseHelloMessage(e,t,r);if(!e.fail){var s=n.session_id.bytes(),l=null;if(e.sessionCache&&(l=e.sessionCache.getSession(s),l===null?s="":(l.version.major!==n.version.major||l.version.minor>n.version.minor)&&(l=null,s="")),s.length===0&&(s=q0.random.getBytes(32)),e.session.id=s,e.session.clientHelloVersion=n.version,e.session.sp={},l)e.version=e.session.version=l.version,e.session.sp=l.sp;else{for(var a,f=1;f<X.SupportedVersions.length&&(a=X.SupportedVersions[f],!(a.minor<=n.version.minor));++f);e.version={major:a.major,minor:a.minor},e.session.version=e.version}l!==null?(e.expect=kI,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?qZ:RI,e.session.resuming=!1,X.createSecurityParameters(e,n)),e.open=!0,X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createServerHello(e)})),e.session.resuming?(X.queue(e,X.createRecord(e,{type:X.ContentType.change_cipher_spec,data:X.createChangeCipherSpec()})),e.state.pending=X.createConnectionState(e),e.state.current.write=e.state.pending.write,X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createFinished(e)}))):(X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createCertificate(e)})),e.fail||(X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createServerKeyExchange(e)})),e.verifyClient!==!1&&X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createCertificateRequest(e)})),X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createServerHelloDone(e)})))),X.flush(e),e.process()}};X.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var n=t.fragment,s={certificate_list:Cf(n,3)},l,a,f=[];try{for(;s.certificate_list.length()>0;)l=Cf(s.certificate_list,3),a=q0.asn1.fromDer(l),l=q0.pki.certificateFromAsn1(a,!0),f.push(l)}catch(u){return e.error(e,{message:"Could not parse certificate list.",cause:u,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.bad_certificate}})}var c=e.entity===X.ConnectionEnd.client;(c||e.verifyClient===!0)&&f.length===0?e.error(e,{message:c?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}}):f.length===0?e.expect=c?tO:RI:(c?e.session.serverCertificate=f[0]:e.session.clientCertificate=f[0],X.verifyCertificateChain(e,f)&&(e.expect=c?tO:RI)),e.process()};X.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unsupported_certificate}});e.expect=DZ,e.process()};X.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unsupported_certificate}});var n=t.fragment,s={enc_pre_master_secret:Cf(n,2).getBytes()},l=null;if(e.getPrivateKey)try{l=e.getPrivateKey(e,e.session.serverCertificate),l=q0.pki.privateKeyFromPem(l)}catch(c){e.error(e,{message:"Could not get private key.",cause:c,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}})}if(l===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}});try{var a=e.session.sp;a.pre_master_secret=l.decrypt(s.enc_pre_master_secret);var f=e.session.clientHelloVersion;if(f.major!==a.pre_master_secret.charCodeAt(0)||f.minor!==a.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{a.pre_master_secret=q0.random.getBytes(48)}e.expect=kI,e.session.clientCertificate!==null&&(e.expect=$Z),e.process()};X.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var n=t.fragment,s={certificate_types:Cf(n,1),certificate_authorities:Cf(n,2)};e.session.certificateRequest=s,e.expect=LZ,e.process()};X.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var s=n.bytes();n.read+=4;var l={signature:Cf(n,2).getBytes()},a=q0.util.createBuffer();a.putBuffer(e.session.md5.digest()),a.putBuffer(e.session.sha1.digest()),a=a.getBytes();try{var f=e.session.clientCertificate;if(!f.publicKey.verify(a,l.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(s),e.session.sha1.update(s)}catch{return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.handshake_failure}})}e.expect=kI,e.process()};X.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.insufficient_security}},s=0,l=e.verify(e,n.alert.description,s,[]);if(l!==!0)return(l||l===0)&&(typeof l=="object"&&!q0.util.isArray(l)?(l.message&&(n.message=l.message),l.alert&&(n.alert.description=l.alert)):typeof l=="number"&&(n.alert.description=l)),e.error(e,n)}e.session.certificateRequest!==null&&(t=X.createRecord(e,{type:X.ContentType.handshake,data:X.createCertificate(e)}),X.queue(e,t)),t=X.createRecord(e,{type:X.ContentType.handshake,data:X.createClientKeyExchange(e)}),X.queue(e,t),e.expect=MZ;var a=o(function(f,c){f.session.certificateRequest!==null&&f.session.clientCertificate!==null&&X.queue(f,X.createRecord(f,{type:X.ContentType.handshake,data:X.createCertificateVerify(f,c)})),X.queue(f,X.createRecord(f,{type:X.ContentType.change_cipher_spec,data:X.createChangeCipherSpec()})),f.state.pending=X.createConnectionState(f),f.state.current.write=f.state.pending.write,X.queue(f,X.createRecord(f,{type:X.ContentType.handshake,data:X.createFinished(f)})),f.expect=nO,X.flush(f),f.process()},"callback");if(e.session.certificateRequest===null||e.session.clientCertificate===null)return a(e,null);X.getClientSignature(e,a)};X.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var r=e.entity===X.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=X.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?FZ:HZ,e.process()};X.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var s=n.bytes();n.read+=4;var l=t.fragment.getBytes();n=q0.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var a=e.entity===X.ConnectionEnd.client,f=a?"server finished":"client finished",c=e.session.sp,u=12,d=Zv;if(n=d(c.master_secret,f,n.getBytes(),u),n.getBytes()!==l)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.decrypt_error}});e.session.md5.update(s),e.session.sha1.update(s),(e.session.resuming&&a||!e.session.resuming&&!a)&&(X.queue(e,X.createRecord(e,{type:X.ContentType.change_cipher_spec,data:X.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createFinished(e)}))),e.expect=a?OZ:VZ,e.handshaking=!1,++e.handshakes,e.peerCertificate=a?e.session.serverCertificate:e.session.clientCertificate,X.flush(e),e.isConnected=!0,e.connected(e),e.process()};X.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},s;switch(n.description){case X.Alert.Description.close_notify:s="Connection closed.";break;case X.Alert.Description.unexpected_message:s="Unexpected message.";break;case X.Alert.Description.bad_record_mac:s="Bad record MAC.";break;case X.Alert.Description.decryption_failed:s="Decryption failed.";break;case X.Alert.Description.record_overflow:s="Record overflow.";break;case X.Alert.Description.decompression_failure:s="Decompression failed.";break;case X.Alert.Description.handshake_failure:s="Handshake failure.";break;case X.Alert.Description.bad_certificate:s="Bad certificate.";break;case X.Alert.Description.unsupported_certificate:s="Unsupported certificate.";break;case X.Alert.Description.certificate_revoked:s="Certificate revoked.";break;case X.Alert.Description.certificate_expired:s="Certificate expired.";break;case X.Alert.Description.certificate_unknown:s="Certificate unknown.";break;case X.Alert.Description.illegal_parameter:s="Illegal parameter.";break;case X.Alert.Description.unknown_ca:s="Unknown certificate authority.";break;case X.Alert.Description.access_denied:s="Access denied.";break;case X.Alert.Description.decode_error:s="Decode error.";break;case X.Alert.Description.decrypt_error:s="Decrypt error.";break;case X.Alert.Description.export_restriction:s="Export restriction.";break;case X.Alert.Description.protocol_version:s="Unsupported protocol version.";break;case X.Alert.Description.insufficient_security:s="Insufficient security.";break;case X.Alert.Description.internal_error:s="Internal error.";break;case X.Alert.Description.user_canceled:s="User canceled.";break;case X.Alert.Description.no_renegotiation:s="Renegotiation not supported.";break;default:s="Unknown error.";break}if(n.description===X.Alert.Description.close_notify)return e.close();e.error(e,{message:s,send:!1,origin:e.entity===X.ConnectionEnd.client?"server":"client",alert:n}),e.process()};X.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),s=r.getInt24();if(s>r.length())return e.fragmented=t,t.fragment=q0.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var l=r.bytes(s+4);r.read+=4,n in Xv[e.entity][e.expect]?(e.entity===X.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:q0.md.md5.create(),sha1:q0.md.sha1.create()}),n!==X.HandshakeType.hello_request&&n!==X.HandshakeType.certificate_verify&&n!==X.HandshakeType.finished&&(e.session.md5.update(l),e.session.sha1.update(l)),Xv[e.entity][e.expect][n](e,t,s)):X.handleUnexpected(e,t)};X.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};X.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),s=r.getInt16(),l=r.getBytes(s);if(n===X.HeartbeatMessageType.heartbeat_request){if(e.handshaking||s>l.length)return e.process();X.queue(e,X.createRecord(e,{type:X.ContentType.heartbeat,data:X.createHeartbeat(X.HeartbeatMessageType.heartbeat_response,l)})),X.flush(e)}else if(n===X.HeartbeatMessageType.heartbeat_response){if(l!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,q0.util.createBuffer(l))}e.process()};var kZ=0,BZ=1,tO=2,DZ=3,LZ=4,nO=5,FZ=6,OZ=7,MZ=8,UZ=0,qZ=1,RI=2,$Z=3,kI=4,HZ=5,VZ=6,Y=X.handleUnexpected,iO=X.handleChangeCipherSpec,el=X.handleAlert,Pl=X.handleHandshake,sO=X.handleApplicationData,tl=X.handleHeartbeat,BI=[];BI[X.ConnectionEnd.client]=[[Y,el,Pl,Y,tl],[Y,el,Pl,Y,tl],[Y,el,Pl,Y,tl],[Y,el,Pl,Y,tl],[Y,el,Pl,Y,tl],[iO,el,Y,Y,tl],[Y,el,Pl,Y,tl],[Y,el,Pl,sO,tl],[Y,el,Pl,Y,tl]];BI[X.ConnectionEnd.server]=[[Y,el,Pl,Y,tl],[Y,el,Pl,Y,tl],[Y,el,Pl,Y,tl],[Y,el,Pl,Y,tl],[iO,el,Y,Y,tl],[Y,el,Pl,Y,tl],[Y,el,Pl,sO,tl],[Y,el,Pl,Y,tl]];var m3=X.handleHelloRequest,jZ=X.handleServerHello,oO=X.handleCertificate,rO=X.handleServerKeyExchange,PI=X.handleCertificateRequest,Yv=X.handleServerHelloDone,aO=X.handleFinished,Xv=[];Xv[X.ConnectionEnd.client]=[[Y,Y,jZ,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y],[m3,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,oO,rO,PI,Yv,Y,Y,Y,Y,Y,Y],[m3,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,rO,PI,Yv,Y,Y,Y,Y,Y,Y],[m3,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,PI,Yv,Y,Y,Y,Y,Y,Y],[m3,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Yv,Y,Y,Y,Y,Y,Y],[m3,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y],[m3,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,aO],[m3,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y],[m3,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y]];var zZ=X.handleClientHello,GZ=X.handleClientKeyExchange,KZ=X.handleCertificateVerify;Xv[X.ConnectionEnd.server]=[[Y,zZ,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y],[Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,oO,Y,Y,Y,Y,Y,Y,Y,Y,Y],[Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,GZ,Y,Y,Y,Y],[Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,KZ,Y,Y,Y,Y,Y],[Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y],[Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,aO],[Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y],[Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y]];X.generateKeys=function(e,t){var r=Zv,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var s=2*t.mac_key_length+2*t.enc_key_length,l=e.version.major===X.Versions.TLS_1_0.major&&e.version.minor===X.Versions.TLS_1_0.minor;l&&(s+=2*t.fixed_iv_length);var a=r(t.master_secret,"key expansion",n,s),f={client_write_MAC_key:a.getBytes(t.mac_key_length),server_write_MAC_key:a.getBytes(t.mac_key_length),client_write_key:a.getBytes(t.enc_key_length),server_write_key:a.getBytes(t.enc_key_length)};return l&&(f.client_write_IV=a.getBytes(t.fixed_iv_length),f.server_write_IV=a.getBytes(t.fixed_iv_length)),f};X.createConnectionState=function(e){var t=e.entity===X.ConnectionEnd.client,r=o(function(){var l={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(a){return!0},compressionState:null,compressFunction:function(a){return!0},updateSequenceNumber:function(){l.sequenceNumber[1]===4294967295?(l.sequenceNumber[1]=0,++l.sequenceNumber[0]):++l.sequenceNumber[1]}};return l},"createMode"),n={read:r(),write:r()};if(n.read.update=function(l,a){return n.read.cipherFunction(a,n.read)?n.read.compressFunction(l,a,n.read)||l.error(l,{message:"Could not decompress record.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.decompression_failure}}):l.error(l,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.bad_record_mac}}),!l.fail},n.write.update=function(l,a){return n.write.compressFunction(l,a,n.write)?n.write.cipherFunction(a,n.write)||l.error(l,{message:"Could not encrypt record.",send:!1,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}}):l.error(l,{message:"Could not compress record.",send:!1,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}}),!l.fail},e.session){var s=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(s),s.keys=X.generateKeys(e,s),n.read.macKey=t?s.keys.server_write_MAC_key:s.keys.client_write_MAC_key,n.write.macKey=t?s.keys.client_write_MAC_key:s.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,s),s.compression_algorithm){case X.CompressionMethod.none:break;case X.CompressionMethod.deflate:n.read.compressFunction=RZ,n.write.compressFunction=NZ;break;default:throw new Error("Unsupported compression algorithm.")}}return n};X.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=q0.util.createBuffer();return r.putInt32(t),r.putBytes(q0.random.getBytes(28)),r};X.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};X.createAlert=function(e,t){var r=q0.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),X.createRecord(e,{type:X.ContentType.alert,data:r})};X.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=q0.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var s=t.length(),l=q0.util.createBuffer();l.putByte(X.CompressionMethod.none);var a=l.length(),f=q0.util.createBuffer();if(e.virtualHost){var c=q0.util.createBuffer();c.putByte(0),c.putByte(0);var u=q0.util.createBuffer();u.putByte(0),t1(u,2,q0.util.createBuffer(e.virtualHost));var d=q0.util.createBuffer();t1(d,2,u),t1(c,2,d),f.putBuffer(c)}var h=f.length();h>0&&(h+=2);var m=e.session.id,p=m.length+1+2+4+28+2+s+1+a+h,v=q0.util.createBuffer();return v.putByte(X.HandshakeType.client_hello),v.putInt24(p),v.putByte(e.version.major),v.putByte(e.version.minor),v.putBytes(e.session.sp.client_random),t1(v,1,q0.util.createBuffer(m)),t1(v,2,t),t1(v,1,l),h>0&&t1(v,2,f),v};X.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=q0.util.createBuffer();return n.putByte(X.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),t1(n,1,q0.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};X.createCertificate=function(e){var t=e.entity===X.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var s=q0.util.createBuffer();if(r!==null)try{q0.util.isArray(r)||(r=[r]);for(var l=null,a=0;a<r.length;++a){var f=q0.pem.decode(r[a])[0];if(f.type!=="CERTIFICATE"&&f.type!=="X509 CERTIFICATE"&&f.type!=="TRUSTED CERTIFICATE"){var c=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw c.headerType=f.type,c}if(f.procType&&f.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=q0.util.createBuffer(f.body);l===null&&(l=q0.asn1.fromDer(u.bytes(),!1));var d=q0.util.createBuffer();t1(d,3,u),s.putBuffer(d)}r=q0.pki.certificateFromAsn1(l),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(p){return e.error(e,{message:"Could not send certificate list.",cause:p,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.bad_certificate}})}var h=3+s.length(),m=q0.util.createBuffer();return m.putByte(X.HandshakeType.certificate),m.putInt24(h),t1(m,3,s),m};X.createClientKeyExchange=function(e){var t=q0.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(q0.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var s=t.length+2,l=q0.util.createBuffer();return l.putByte(X.HandshakeType.client_key_exchange),l.putInt24(s),l.putInt16(t.length),l.putBytes(t),l};X.createServerKeyExchange=function(e){var t=0,r=q0.util.createBuffer();return t>0&&(r.putByte(X.HandshakeType.server_key_exchange),r.putInt24(t)),r};X.getClientSignature=function(e,t){var r=q0.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,s,l){var a=null;if(n.getPrivateKey)try{a=n.getPrivateKey(n,n.session.clientCertificate),a=q0.pki.privateKeyFromPem(a)}catch(f){n.error(n,{message:"Could not get private key.",cause:f,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}})}a===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}}):s=a.sign(s,null),l(n,s)},e.getSignature(e,r,t)};X.createCertificateVerify=function(e,t){var r=t.length+2,n=q0.util.createBuffer();return n.putByte(X.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};X.createCertificateRequest=function(e){var t=q0.util.createBuffer();t.putByte(1);var r=q0.util.createBuffer();for(var n in e.caStore.certs){var s=e.caStore.certs[n],l=q0.pki.distinguishedNameToAsn1(s.subject),a=q0.asn1.toDer(l);r.putInt16(a.length()),r.putBuffer(a)}var f=1+t.length()+2+r.length(),c=q0.util.createBuffer();return c.putByte(X.HandshakeType.certificate_request),c.putInt24(f),t1(c,1,t),t1(c,2,r),c};X.createServerHelloDone=function(e){var t=q0.util.createBuffer();return t.putByte(X.HandshakeType.server_hello_done),t.putInt24(0),t};X.createChangeCipherSpec=function(){var e=q0.util.createBuffer();return e.putByte(1),e};X.createFinished=function(e){var t=q0.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===X.ConnectionEnd.client,n=e.session.sp,s=12,l=Zv,a=r?"client finished":"server finished";t=l(n.master_secret,a,t.getBytes(),s);var f=q0.util.createBuffer();return f.putByte(X.HandshakeType.finished),f.putInt24(t.length()),f.putBuffer(t),f};X.createHeartbeat=function(e,t,r){typeof r>"u"&&(r=t.length);var n=q0.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var s=n.length(),l=Math.max(16,s-r-3);return n.putBytes(q0.random.getBytes(l)),n};X.queue=function(e,t){if(t&&!(t.fragment.length()===0&&(t.type===X.ContentType.handshake||t.type===X.ContentType.alert||t.type===X.ContentType.change_cipher_spec))){if(t.type===X.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=X.MaxFragment)n=[t];else{n=[];for(var s=t.fragment.bytes();s.length>X.MaxFragment;)n.push(X.createRecord(e,{type:t.type,data:q0.util.createBuffer(s.slice(0,X.MaxFragment))})),s=s.slice(X.MaxFragment);s.length>0&&n.push(X.createRecord(e,{type:t.type,data:q0.util.createBuffer(s)}))}for(var l=0;l<n.length&&!e.fail;++l){var a=n[l],f=e.state.current.write;f.update(e,a)&&e.records.push(a)}}};X.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var NI=o(function(e){switch(e){case!0:return!0;case q0.pki.certificateError.bad_certificate:return X.Alert.Description.bad_certificate;case q0.pki.certificateError.unsupported_certificate:return X.Alert.Description.unsupported_certificate;case q0.pki.certificateError.certificate_revoked:return X.Alert.Description.certificate_revoked;case q0.pki.certificateError.certificate_expired:return X.Alert.Description.certificate_expired;case q0.pki.certificateError.certificate_unknown:return X.Alert.Description.certificate_unknown;case q0.pki.certificateError.unknown_ca:return X.Alert.Description.unknown_ca;default:return X.Alert.Description.bad_certificate}},"_certErrorToAlertDesc"),WZ=o(function(e){switch(e){case!0:return!0;case X.Alert.Description.bad_certificate:return q0.pki.certificateError.bad_certificate;case X.Alert.Description.unsupported_certificate:return q0.pki.certificateError.unsupported_certificate;case X.Alert.Description.certificate_revoked:return q0.pki.certificateError.certificate_revoked;case X.Alert.Description.certificate_expired:return q0.pki.certificateError.certificate_expired;case X.Alert.Description.certificate_unknown:return q0.pki.certificateError.certificate_unknown;case X.Alert.Description.unknown_ca:return q0.pki.certificateError.unknown_ca;default:return q0.pki.certificateError.bad_certificate}},"_alertDescToCertError");X.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(l,a,f){var c=NI(l),u=e.verify(e,l,a,f);if(u!==!0){if(typeof u=="object"&&!q0.util.isArray(u)){var d=new Error("The application rejected the certificate.");throw d.send=!0,d.alert={level:X.Alert.Level.fatal,description:X.Alert.Description.bad_certificate},u.message&&(d.message=u.message),u.alert&&(d.alert.description=u.alert),d}u!==l&&(u=WZ(u))}return u},q0.pki.verifyCertificateChain(e.caStore,t,r)}catch(l){var s=l;(typeof s!="object"||q0.util.isArray(s))&&(s={send:!0,alert:{level:X.Alert.Level.fatal,description:NI(l)}}),"send"in s||(s.send=!0),"alert"in s||(s.alert={level:X.Alert.Level.fatal,description:NI(s.error)}),e.error(e,s)}return!e.fail};X.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(s){var l=null,a=null;if(s?a=q0.util.bytesToHex(s):r.order.length>0&&(a=r.order[0]),a!==null&&a in r.cache){l=r.cache[a],delete r.cache[a];for(var f in r.order)if(r.order[f]===a){r.order.splice(f,1);break}}return l},r.setSession=function(s,l){if(r.order.length===r.capacity){var a=r.order.shift();delete r.cache[a]}var a=q0.util.bytesToHex(s);r.order.push(a),r.cache[a]=l}}return r};X.createConnection=function(e){var t=null;e.caStore?q0.util.isArray(e.caStore)?t=q0.pki.createCaStore(e.caStore):t=e.caStore:t=q0.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in X.CipherSuites)r.push(X.CipherSuites[n])}var s=e.server?X.ConnectionEnd.server:X.ConnectionEnd.client,l=e.sessionCache?X.createSessionCache(e.sessionCache):null,a={version:{major:X.Version.major,minor:X.Version.minor},entity:s,sessionId:e.sessionId,caStore:t,sessionCache:l,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(d,h,m,p){return h},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:q0.util.createBuffer(),tlsData:q0.util.createBuffer(),data:q0.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(d,h){h.origin=h.origin||(d.entity===X.ConnectionEnd.client?"client":"server"),h.send&&(X.queue(d,X.createAlert(d,h.alert)),X.flush(d));var m=h.fatal!==!1;m&&(d.fail=!0),e.error(d,h),m&&d.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null};a.reset=function(d){a.version={major:X.Version.major,minor:X.Version.minor},a.record=null,a.session=null,a.peerCertificate=null,a.state={pending:null,current:null},a.expect=a.entity===X.ConnectionEnd.client?kZ:UZ,a.fragmented=null,a.records=[],a.open=!1,a.handshakes=0,a.handshaking=!1,a.isConnected=!1,a.fail=!(d||typeof d>"u"),a.input.clear(),a.tlsData.clear(),a.data.clear(),a.state.current=X.createConnectionState(a)},a.reset();var f=o(function(d,h){var m=h.type-X.ContentType.change_cipher_spec,p=BI[d.entity][d.expect];m in p?p[m](d,h):X.handleUnexpected(d,h)},"_update"),c=o(function(d){var h=0,m=d.input,p=m.length();if(p<5)h=5-p;else{d.record={type:m.getByte(),version:{major:m.getByte(),minor:m.getByte()},length:m.getInt16(),fragment:q0.util.createBuffer(),ready:!1};var v=d.record.version.major===d.version.major;v&&d.session&&d.session.version&&(v=d.record.version.minor===d.version.minor),v||d.error(d,{message:"Incompatible TLS version.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.protocol_version}})}return h},"_readRecordHeader"),u=o(function(d){var h=0,m=d.input,p=m.length();if(p<d.record.length)h=d.record.length-p;else{d.record.fragment.putBytes(m.getBytes(d.record.length)),m.compact();var v=d.state.current.read;v.update(d,d.record)&&(d.fragmented!==null&&(d.fragmented.type===d.record.type?(d.fragmented.fragment.putBuffer(d.record.fragment),d.record=d.fragmented):d.error(d,{message:"Invalid fragmented record.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unexpected_message}})),d.record.ready=!0)}return h},"_readRecord");return a.handshake=function(d){if(a.entity!==X.ConnectionEnd.client)a.error(a,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(a.handshaking)a.error(a,{message:"Handshake already in progress.",fatal:!1});else{a.fail&&!a.open&&a.handshakes===0&&(a.fail=!1),a.handshaking=!0,d=d||"";var h=null;d.length>0&&(a.sessionCache&&(h=a.sessionCache.getSession(d)),h===null&&(d="")),d.length===0&&a.sessionCache&&(h=a.sessionCache.getSession(),h!==null&&(d=h.id)),a.session={id:d,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:q0.md.md5.create(),sha1:q0.md.sha1.create()},h&&(a.version=h.version,a.session.sp=h.sp),a.session.sp.client_random=X.createRandom().getBytes(),a.open=!0,X.queue(a,X.createRecord(a,{type:X.ContentType.handshake,data:X.createClientHello(a)})),X.flush(a)}},a.process=function(d){var h=0;return d&&a.input.putBytes(d),a.fail||(a.record!==null&&a.record.ready&&a.record.fragment.isEmpty()&&(a.record=null),a.record===null&&(h=c(a)),!a.fail&&a.record!==null&&!a.record.ready&&(h=u(a)),!a.fail&&a.record!==null&&a.record.ready&&f(a,a.record)),h},a.prepare=function(d){return X.queue(a,X.createRecord(a,{type:X.ContentType.application_data,data:q0.util.createBuffer(d)})),X.flush(a)},a.prepareHeartbeatRequest=function(d,h){return d instanceof q0.util.ByteBuffer&&(d=d.bytes()),typeof h>"u"&&(h=d.length),a.expectedHeartbeatPayload=d,X.queue(a,X.createRecord(a,{type:X.ContentType.heartbeat,data:X.createHeartbeat(X.HeartbeatMessageType.heartbeat_request,d,h)})),X.flush(a)},a.close=function(d){if(!a.fail&&a.sessionCache&&a.session){var h={id:a.session.id,version:a.session.version,sp:a.session.sp};h.sp.keys=null,a.sessionCache.setSession(h.id,h)}a.open&&(a.open=!1,a.input.clear(),(a.isConnected||a.handshaking)&&(a.isConnected=a.handshaking=!1,X.queue(a,X.createAlert(a,{level:X.Alert.Level.warning,description:X.Alert.Description.close_notify})),X.flush(a)),a.closed(a)),a.reset(d)},a};lO.exports=q0.tls=q0.tls||{};for(Jv in X)typeof X[Jv]!="function"&&(q0.tls[Jv]=X[Jv]);var Jv;q0.tls.prf_tls1=Zv;q0.tls.hmac_sha1=PZ;q0.tls.createSessionCache=X.createSessionCache;q0.tls.createConnection=X.createConnection});var uO=y0((B5e,cO)=>{var p3=pn();f3();DI();var r1=cO.exports=p3.tls;r1.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=r1.BulkCipherAlgorithm.aes,e.cipher_type=r1.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=r1.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:fO};r1.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=r1.BulkCipherAlgorithm.aes,e.cipher_type=r1.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=r1.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:fO};function fO(e,t,r){var n=t.entity===p3.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:p3.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:p3.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=ZZ,e.write.cipherFunction=YZ,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=r1.hmac_sha1}o(fO,"initConnectionState");function YZ(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var s;e.version.minor===r1.Versions.TLS_1_0.minor?s=t.cipherState.init?null:t.cipherState.iv:s=p3.random.getBytesSync(16),t.cipherState.init=!0;var l=t.cipherState.cipher;return l.start({iv:s}),e.version.minor>=r1.Versions.TLS_1_1.minor&&l.output.putBytes(s),l.update(e.fragment),l.finish(JZ)&&(e.fragment=l.output,e.length=e.fragment.length(),r=!0),r}o(YZ,"encrypt_aes_cbc_sha1");function JZ(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}o(JZ,"encrypt_aes_cbc_sha1_padding");function XZ(e,t,r){var n=!0;if(r){for(var s=t.length(),l=t.last(),a=s-1-l;a<s-1;++a)n=n&&t.at(a)==l;n&&t.truncate(l+1)}return n}o(XZ,"decrypt_aes_cbc_sha1_padding");function ZZ(e,t){var r=!1,n;e.version.minor===r1.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var s=t.cipherState.cipher;s.start({iv:n}),s.update(e.fragment),r=s.finish(XZ);var l=t.macLength,a=p3.random.getBytesSync(l),f=s.output.length();f>=l?(e.fragment=s.output.getBytes(f-l),a=s.output.getBytes(l)):e.fragment=s.output.getBytes(),e.fragment=p3.util.createBuffer(e.fragment),e.length=e.fragment.length();var c=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=QZ(t.macKey,a,c)&&r,r}o(ZZ,"decrypt_aes_cbc_sha1");function QZ(e,t,r){var n=p3.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}o(QZ,"compareMacs")});var OI=y0((L5e,mO)=>{var Rs=pn();Ec();Gi();var A7=mO.exports=Rs.sha512=Rs.sha512||{};Rs.md.sha512=Rs.md.algorithms.sha512=A7;var hO=Rs.sha384=Rs.sha512.sha384=Rs.sha512.sha384||{};hO.create=function(){return A7.create("SHA-384")};Rs.md.sha384=Rs.md.algorithms.sha384=hO;Rs.sha512.sha256=Rs.sha512.sha256||{create:function(){return A7.create("SHA-512/256")}};Rs.md["sha512/256"]=Rs.md.algorithms["sha512/256"]=Rs.sha512.sha256;Rs.sha512.sha224=Rs.sha512.sha224||{create:function(){return A7.create("SHA-512/224")}};Rs.md["sha512/224"]=Rs.md.algorithms["sha512/224"]=Rs.sha512.sha224;A7.create=function(e){if(gO||eQ(),typeof e>"u"&&(e="SHA-512"),!(e in kd))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=kd[e],r=null,n=Rs.util.createBuffer(),s=new Array(80),l=0;l<80;++l)s[l]=new Array(2);var a=64;switch(e){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var f={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return f.start=function(){f.messageLength=0,f.fullMessageLength=f.messageLength128=[];for(var c=f.messageLengthSize/4,u=0;u<c;++u)f.fullMessageLength.push(0);n=Rs.util.createBuffer(),r=new Array(t.length);for(var u=0;u<t.length;++u)r[u]=t[u].slice(0);return f},f.start(),f.update=function(c,u){u==="utf8"&&(c=Rs.util.encodeUtf8(c));var d=c.length;f.messageLength+=d,d=[d/4294967296>>>0,d>>>0];for(var h=f.fullMessageLength.length-1;h>=0;--h)f.fullMessageLength[h]+=d[1],d[1]=d[0]+(f.fullMessageLength[h]/4294967296>>>0),f.fullMessageLength[h]=f.fullMessageLength[h]>>>0,d[0]=d[1]/4294967296>>>0;return n.putBytes(c),dO(r,s,n),(n.read>2048||n.length()===0)&&n.compact(),f},f.digest=function(){var c=Rs.util.createBuffer();c.putBytes(n.bytes());var u=f.fullMessageLength[f.fullMessageLength.length-1]+f.messageLengthSize,d=u&f.blockLength-1;c.putBytes(LI.substr(0,f.blockLength-d));for(var h,m,p=f.fullMessageLength[0]*8,v=0;v<f.fullMessageLength.length-1;++v)h=f.fullMessageLength[v+1]*8,m=h/4294967296>>>0,p+=m,c.putInt32(p>>>0),p=h>>>0;c.putInt32(p);for(var x=new Array(r.length),v=0;v<r.length;++v)x[v]=r[v].slice(0);dO(x,s,c);var E=Rs.util.createBuffer(),I;e==="SHA-512"?I=x.length:e==="SHA-384"?I=x.length-2:I=x.length-4;for(var v=0;v<I;++v)E.putInt32(x[v][0]),(v!==I-1||e!=="SHA-512/224")&&E.putInt32(x[v][1]);return E},f};var LI=null,gO=!1,FI=null,kd=null;function eQ(){LI="\x80",LI+=Rs.util.fillString("\0",128),FI=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],kd={},kd["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],kd["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],kd["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],kd["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],gO=!0}o(eQ,"_init");function dO(e,t,r){for(var n,s,l,a,f,c,u,d,h,m,p,v,x,E,I,A,L,D,R,V,de,ve,n0,d0,r0,m0,Ve,we,o0,u0,l0,R0,t0,f0,ce,Ee=r.length();Ee>=128;){for(o0=0;o0<16;++o0)t[o0][0]=r.getInt32()>>>0,t[o0][1]=r.getInt32()>>>0;for(;o0<80;++o0)R0=t[o0-2],u0=R0[0],l0=R0[1],n=((u0>>>19|l0<<13)^(l0>>>29|u0<<3)^u0>>>6)>>>0,s=((u0<<13|l0>>>19)^(l0<<3|u0>>>29)^(u0<<26|l0>>>6))>>>0,f0=t[o0-15],u0=f0[0],l0=f0[1],l=((u0>>>1|l0<<31)^(u0>>>8|l0<<24)^u0>>>7)>>>0,a=((u0<<31|l0>>>1)^(u0<<24|l0>>>8)^(u0<<25|l0>>>7))>>>0,t0=t[o0-7],ce=t[o0-16],l0=s+t0[1]+a+ce[1],t[o0][0]=n+t0[0]+l+ce[0]+(l0/4294967296>>>0)>>>0,t[o0][1]=l0>>>0;for(x=e[0][0],E=e[0][1],I=e[1][0],A=e[1][1],L=e[2][0],D=e[2][1],R=e[3][0],V=e[3][1],de=e[4][0],ve=e[4][1],n0=e[5][0],d0=e[5][1],r0=e[6][0],m0=e[6][1],Ve=e[7][0],we=e[7][1],o0=0;o0<80;++o0)u=((de>>>14|ve<<18)^(de>>>18|ve<<14)^(ve>>>9|de<<23))>>>0,d=((de<<18|ve>>>14)^(de<<14|ve>>>18)^(ve<<23|de>>>9))>>>0,h=(r0^de&(n0^r0))>>>0,m=(m0^ve&(d0^m0))>>>0,f=((x>>>28|E<<4)^(E>>>2|x<<30)^(E>>>7|x<<25))>>>0,c=((x<<4|E>>>28)^(E<<30|x>>>2)^(E<<25|x>>>7))>>>0,p=(x&I|L&(x^I))>>>0,v=(E&A|D&(E^A))>>>0,l0=we+d+m+FI[o0][1]+t[o0][1],n=Ve+u+h+FI[o0][0]+t[o0][0]+(l0/4294967296>>>0)>>>0,s=l0>>>0,l0=c+v,l=f+p+(l0/4294967296>>>0)>>>0,a=l0>>>0,Ve=r0,we=m0,r0=n0,m0=d0,n0=de,d0=ve,l0=V+s,de=R+n+(l0/4294967296>>>0)>>>0,ve=l0>>>0,R=L,V=D,L=I,D=A,I=x,A=E,l0=s+a,x=n+l+(l0/4294967296>>>0)>>>0,E=l0>>>0;l0=e[0][1]+E,e[0][0]=e[0][0]+x+(l0/4294967296>>>0)>>>0,e[0][1]=l0>>>0,l0=e[1][1]+A,e[1][0]=e[1][0]+I+(l0/4294967296>>>0)>>>0,e[1][1]=l0>>>0,l0=e[2][1]+D,e[2][0]=e[2][0]+L+(l0/4294967296>>>0)>>>0,e[2][1]=l0>>>0,l0=e[3][1]+V,e[3][0]=e[3][0]+R+(l0/4294967296>>>0)>>>0,e[3][1]=l0>>>0,l0=e[4][1]+ve,e[4][0]=e[4][0]+de+(l0/4294967296>>>0)>>>0,e[4][1]=l0>>>0,l0=e[5][1]+d0,e[5][0]=e[5][0]+n0+(l0/4294967296>>>0)>>>0,e[5][1]=l0>>>0,l0=e[6][1]+m0,e[6][0]=e[6][0]+r0+(l0/4294967296>>>0)>>>0,e[6][1]=l0>>>0,l0=e[7][1]+we,e[7][0]=e[7][0]+Ve+(l0/4294967296>>>0)>>>0,e[7][1]=l0>>>0,Ee-=128}}o(dO,"_update")});var pO=y0(MI=>{var tQ=pn();F1();var Fa=tQ.asn1;MI.privateKeyValidator={name:"PrivateKeyInfo",tagClass:Fa.Class.UNIVERSAL,type:Fa.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Fa.Class.UNIVERSAL,type:Fa.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Fa.Class.UNIVERSAL,type:Fa.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Fa.Class.UNIVERSAL,type:Fa.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Fa.Class.UNIVERSAL,type:Fa.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};MI.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Fa.Class.UNIVERSAL,type:Fa.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Fa.Class.UNIVERSAL,type:Fa.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Fa.Class.UNIVERSAL,type:Fa.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:Fa.Class.UNIVERSAL,type:Fa.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var PO=y0((M5e,AO)=>{var rl=pn();T7();Xf();OI();Gi();var CO=pO(),rQ=CO.publicKeyValidator,nQ=CO.privateKeyValidator;typeof yO>"u"&&(yO=rl.jsbn.BigInteger);var yO,$I=rl.util.ByteBuffer,Jl=typeof Buffer>"u"?Uint8Array:Buffer;rl.pki=rl.pki||{};AO.exports=rl.pki.ed25519=rl.ed25519=rl.ed25519||{};var Ai=rl.ed25519;Ai.constants={};Ai.constants.PUBLIC_KEY_BYTE_LENGTH=32;Ai.constants.PRIVATE_KEY_BYTE_LENGTH=64;Ai.constants.SEED_BYTE_LENGTH=32;Ai.constants.SIGN_BYTE_LENGTH=64;Ai.constants.HASH_BYTE_LENGTH=64;Ai.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=rl.random.getBytesSync(Ai.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==Ai.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+Ai.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=qu({message:t,encoding:"binary"});for(var r=new Jl(Ai.constants.PUBLIC_KEY_BYTE_LENGTH),n=new Jl(Ai.constants.PRIVATE_KEY_BYTE_LENGTH),s=0;s<32;++s)n[s]=t[s];return aQ(r,n),{publicKey:r,privateKey:n}};Ai.privateKeyFromAsn1=function(e){var t={},r=[],n=rl.asn1.validate(e,nQ,t,r);if(!n){var s=new Error("Invalid Key.");throw s.errors=r,s}var l=rl.asn1.derToOid(t.privateKeyOid),a=rl.oids.EdDSA25519;if(l!==a)throw new Error('Invalid OID "'+l+'"; OID must be "'+a+'".');var f=t.privateKey,c=qu({message:rl.asn1.fromDer(f).value,encoding:"binary"});return{privateKeyBytes:c}};Ai.publicKeyFromAsn1=function(e){var t={},r=[],n=rl.asn1.validate(e,rQ,t,r);if(!n){var s=new Error("Invalid Key.");throw s.errors=r,s}var l=rl.asn1.derToOid(t.publicKeyOid),a=rl.oids.EdDSA25519;if(l!==a)throw new Error('Invalid OID "'+l+'"; OID must be "'+a+'".');var f=t.ed25519PublicKey;if(f.length!==Ai.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return qu({message:f,encoding:"binary"})};Ai.publicKeyFromPrivateKey=function(e){e=e||{};var t=qu({message:e.privateKey,encoding:"binary"});if(t.length!==Ai.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+Ai.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new Jl(Ai.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};Ai.sign=function(e){e=e||{};var t=qu(e),r=qu({message:e.privateKey,encoding:"binary"});if(r.length===Ai.constants.SEED_BYTE_LENGTH){var n=Ai.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==Ai.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+Ai.constants.SEED_BYTE_LENGTH+" or "+Ai.constants.PRIVATE_KEY_BYTE_LENGTH);var s=new Jl(Ai.constants.SIGN_BYTE_LENGTH+t.length);lQ(s,t,t.length,r);for(var l=new Jl(Ai.constants.SIGN_BYTE_LENGTH),a=0;a<l.length;++a)l[a]=s[a];return l};Ai.verify=function(e){e=e||{};var t=qu(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=qu({message:e.signature,encoding:"binary"});if(r.length!==Ai.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+Ai.constants.SIGN_BYTE_LENGTH);var n=qu({message:e.publicKey,encoding:"binary"});if(n.length!==Ai.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+Ai.constants.PUBLIC_KEY_BYTE_LENGTH);var s=new Jl(Ai.constants.SIGN_BYTE_LENGTH+t.length),l=new Jl(Ai.constants.SIGN_BYTE_LENGTH+t.length),a;for(a=0;a<Ai.constants.SIGN_BYTE_LENGTH;++a)s[a]=r[a];for(a=0;a<t.length;++a)s[a+Ai.constants.SIGN_BYTE_LENGTH]=t[a];return fQ(l,s,s.length,n)>=0};function qu(e){var t=e.message;if(t instanceof Uint8Array||t instanceof Jl)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.from(t,r);t=new $I(t,r)}else if(!(t instanceof $I))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new Jl(t.length()),s=0;s<n.length;++s)n[s]=t.at(s);return n}o(qu,"messageToNativeBuffer");var HI=qr(),Qv=qr([1]),iQ=qr([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),sQ=qr([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),vO=qr([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),xO=qr([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),UI=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),oQ=qr([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function P7(e,t){var r=rl.md.sha512.create(),n=new $I(e);r.update(n.getBytes(t),"binary");var s=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(s,"binary");for(var l=new Jl(Ai.constants.HASH_BYTE_LENGTH),a=0;a<64;++a)l[a]=s.charCodeAt(a);return l}o(P7,"sha512");function aQ(e,t){var r=[qr(),qr(),qr(),qr()],n,s=P7(t,32);for(s[0]&=248,s[31]&=127,s[31]|=64,GI(r,s),zI(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}o(aQ,"crypto_sign_keypair");function lQ(e,t,r,n){var s,l,a=new Float64Array(64),f=[qr(),qr(),qr(),qr()],c=P7(n,32);c[0]&=248,c[31]&=127,c[31]|=64;var u=r+64;for(s=0;s<r;++s)e[64+s]=t[s];for(s=0;s<32;++s)e[32+s]=c[32+s];var d=P7(e.subarray(32),r+32);for(VI(d),GI(f,d),zI(e,f),s=32;s<64;++s)e[s]=n[s];var h=P7(e,r+64);for(VI(h),s=32;s<64;++s)a[s]=0;for(s=0;s<32;++s)a[s]=d[s];for(s=0;s<32;++s)for(l=0;l<32;l++)a[s+l]+=h[s]*c[l];return EO(e.subarray(32),a),u}o(lQ,"crypto_sign");function fQ(e,t,r,n){var s,l,a=new Jl(32),f=[qr(),qr(),qr(),qr()],c=[qr(),qr(),qr(),qr()];if(l=-1,r<64||cQ(c,n))return-1;for(s=0;s<r;++s)e[s]=t[s];for(s=0;s<32;++s)e[s+32]=n[s];var u=P7(e,r);if(VI(u),IO(f,c,u),GI(c,t.subarray(32)),jI(f,c),zI(a,f),r-=64,TO(t,0,a,0)){for(s=0;s<r;++s)e[s]=0;return-1}for(s=0;s<r;++s)e[s]=t[s+64];return l=r,l}o(fQ,"crypto_sign_open");function EO(e,t){var r,n,s,l;for(n=63;n>=32;--n){for(r=0,s=n-32,l=n-12;s<l;++s)t[s]+=r-16*t[n]*UI[s-(n-32)],r=t[s]+128>>8,t[s]-=r*256;t[s]+=r,t[n]=0}for(r=0,s=0;s<32;++s)t[s]+=r-(t[31]>>4)*UI[s],r=t[s]>>8,t[s]&=255;for(s=0;s<32;++s)t[s]-=r*UI[s];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}o(EO,"modL");function VI(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;EO(e,t)}o(VI,"reduce");function jI(e,t){var r=qr(),n=qr(),s=qr(),l=qr(),a=qr(),f=qr(),c=qr(),u=qr(),d=qr();C6(r,e[1],e[0]),C6(d,t[1],t[0]),Ts(r,r,d),b6(n,e[0],e[1]),b6(d,t[0],t[1]),Ts(n,n,d),Ts(s,e[3],t[3]),Ts(s,s,sQ),Ts(l,e[2],t[2]),b6(l,l,l),C6(a,n,r),C6(f,l,s),b6(c,l,s),b6(u,n,r),Ts(e[0],a,f),Ts(e[1],u,c),Ts(e[2],c,f),Ts(e[3],a,u)}o(jI,"add");function _O(e,t,r){for(var n=0;n<4;++n)wO(e[n],t[n],r)}o(_O,"cswap");function zI(e,t){var r=qr(),n=qr(),s=qr();gQ(s,t[2]),Ts(r,t[0],s),Ts(n,t[1],s),ex(e,n),e[31]^=SO(r)<<7}o(zI,"pack");function ex(e,t){var r,n,s,l=qr(),a=qr();for(r=0;r<16;++r)a[r]=t[r];for(qI(a),qI(a),qI(a),n=0;n<2;++n){for(l[0]=a[0]-65517,r=1;r<15;++r)l[r]=a[r]-65535-(l[r-1]>>16&1),l[r-1]&=65535;l[15]=a[15]-32767-(l[14]>>16&1),s=l[15]>>16&1,l[14]&=65535,wO(a,l,1-s)}for(r=0;r<16;r++)e[2*r]=a[r]&255,e[2*r+1]=a[r]>>8}o(ex,"pack25519");function cQ(e,t){var r=qr(),n=qr(),s=qr(),l=qr(),a=qr(),f=qr(),c=qr();return y3(e[2],Qv),uQ(e[1],t),Bd(s,e[1]),Ts(l,s,iQ),C6(s,s,e[2]),b6(l,e[2],l),Bd(a,l),Bd(f,a),Ts(c,f,a),Ts(r,c,s),Ts(r,r,l),dQ(r,r),Ts(r,r,s),Ts(r,r,l),Ts(r,r,l),Ts(e[0],r,l),Bd(n,e[0]),Ts(n,n,l),bO(n,s)&&Ts(e[0],e[0],oQ),Bd(n,e[0]),Ts(n,n,l),bO(n,s)?-1:(SO(e[0])===t[31]>>7&&C6(e[0],HI,e[0]),Ts(e[3],e[0],e[1]),0)}o(cQ,"unpackneg");function uQ(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}o(uQ,"unpack25519");function dQ(e,t){var r=qr(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)Bd(r,r),n!==1&&Ts(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o(dQ,"pow2523");function bO(e,t){var r=new Jl(32),n=new Jl(32);return ex(r,e),ex(n,t),TO(r,0,n,0)}o(bO,"neq25519");function TO(e,t,r,n){return hQ(e,t,r,n,32)}o(TO,"crypto_verify_32");function hQ(e,t,r,n,s){var l,a=0;for(l=0;l<s;++l)a|=e[t+l]^r[n+l];return(1&a-1>>>8)-1}o(hQ,"vn");function SO(e){var t=new Jl(32);return ex(t,e),t[0]&1}o(SO,"par25519");function IO(e,t,r){var n,s;for(y3(e[0],HI),y3(e[1],Qv),y3(e[2],Qv),y3(e[3],HI),s=255;s>=0;--s)n=r[s/8|0]>>(s&7)&1,_O(e,t,n),jI(t,e),jI(e,e),_O(e,t,n)}o(IO,"scalarmult");function GI(e,t){var r=[qr(),qr(),qr(),qr()];y3(r[0],vO),y3(r[1],xO),y3(r[2],Qv),Ts(r[3],vO,xO),IO(e,r,t)}o(GI,"scalarbase");function y3(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}o(y3,"set25519");function gQ(e,t){var r=qr(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)Bd(r,r),n!==2&&n!==4&&Ts(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o(gQ,"inv25519");function qI(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}o(qI,"car25519");function wO(e,t,r){for(var n,s=~(r-1),l=0;l<16;++l)n=s&(e[l]^t[l]),e[l]^=n,t[l]^=n}o(wO,"sel25519");function qr(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}o(qr,"gf");function b6(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}o(b6,"A");function C6(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}o(C6,"Z");function Bd(e,t){Ts(e,t,t)}o(Bd,"S");function Ts(e,t,r){var n,s,l=0,a=0,f=0,c=0,u=0,d=0,h=0,m=0,p=0,v=0,x=0,E=0,I=0,A=0,L=0,D=0,R=0,V=0,de=0,ve=0,n0=0,d0=0,r0=0,m0=0,Ve=0,we=0,o0=0,u0=0,l0=0,R0=0,t0=0,f0=r[0],ce=r[1],Ee=r[2],C0=r[3],z0=r[4],O0=r[5],v0=r[6],fr=r[7],ue=r[8],D0=r[9],Ke=r[10],L0=r[11],B0=r[12],G0=r[13],br=r[14],en=r[15];n=t[0],l+=n*f0,a+=n*ce,f+=n*Ee,c+=n*C0,u+=n*z0,d+=n*O0,h+=n*v0,m+=n*fr,p+=n*ue,v+=n*D0,x+=n*Ke,E+=n*L0,I+=n*B0,A+=n*G0,L+=n*br,D+=n*en,n=t[1],a+=n*f0,f+=n*ce,c+=n*Ee,u+=n*C0,d+=n*z0,h+=n*O0,m+=n*v0,p+=n*fr,v+=n*ue,x+=n*D0,E+=n*Ke,I+=n*L0,A+=n*B0,L+=n*G0,D+=n*br,R+=n*en,n=t[2],f+=n*f0,c+=n*ce,u+=n*Ee,d+=n*C0,h+=n*z0,m+=n*O0,p+=n*v0,v+=n*fr,x+=n*ue,E+=n*D0,I+=n*Ke,A+=n*L0,L+=n*B0,D+=n*G0,R+=n*br,V+=n*en,n=t[3],c+=n*f0,u+=n*ce,d+=n*Ee,h+=n*C0,m+=n*z0,p+=n*O0,v+=n*v0,x+=n*fr,E+=n*ue,I+=n*D0,A+=n*Ke,L+=n*L0,D+=n*B0,R+=n*G0,V+=n*br,de+=n*en,n=t[4],u+=n*f0,d+=n*ce,h+=n*Ee,m+=n*C0,p+=n*z0,v+=n*O0,x+=n*v0,E+=n*fr,I+=n*ue,A+=n*D0,L+=n*Ke,D+=n*L0,R+=n*B0,V+=n*G0,de+=n*br,ve+=n*en,n=t[5],d+=n*f0,h+=n*ce,m+=n*Ee,p+=n*C0,v+=n*z0,x+=n*O0,E+=n*v0,I+=n*fr,A+=n*ue,L+=n*D0,D+=n*Ke,R+=n*L0,V+=n*B0,de+=n*G0,ve+=n*br,n0+=n*en,n=t[6],h+=n*f0,m+=n*ce,p+=n*Ee,v+=n*C0,x+=n*z0,E+=n*O0,I+=n*v0,A+=n*fr,L+=n*ue,D+=n*D0,R+=n*Ke,V+=n*L0,de+=n*B0,ve+=n*G0,n0+=n*br,d0+=n*en,n=t[7],m+=n*f0,p+=n*ce,v+=n*Ee,x+=n*C0,E+=n*z0,I+=n*O0,A+=n*v0,L+=n*fr,D+=n*ue,R+=n*D0,V+=n*Ke,de+=n*L0,ve+=n*B0,n0+=n*G0,d0+=n*br,r0+=n*en,n=t[8],p+=n*f0,v+=n*ce,x+=n*Ee,E+=n*C0,I+=n*z0,A+=n*O0,L+=n*v0,D+=n*fr,R+=n*ue,V+=n*D0,de+=n*Ke,ve+=n*L0,n0+=n*B0,d0+=n*G0,r0+=n*br,m0+=n*en,n=t[9],v+=n*f0,x+=n*ce,E+=n*Ee,I+=n*C0,A+=n*z0,L+=n*O0,D+=n*v0,R+=n*fr,V+=n*ue,de+=n*D0,ve+=n*Ke,n0+=n*L0,d0+=n*B0,r0+=n*G0,m0+=n*br,Ve+=n*en,n=t[10],x+=n*f0,E+=n*ce,I+=n*Ee,A+=n*C0,L+=n*z0,D+=n*O0,R+=n*v0,V+=n*fr,de+=n*ue,ve+=n*D0,n0+=n*Ke,d0+=n*L0,r0+=n*B0,m0+=n*G0,Ve+=n*br,we+=n*en,n=t[11],E+=n*f0,I+=n*ce,A+=n*Ee,L+=n*C0,D+=n*z0,R+=n*O0,V+=n*v0,de+=n*fr,ve+=n*ue,n0+=n*D0,d0+=n*Ke,r0+=n*L0,m0+=n*B0,Ve+=n*G0,we+=n*br,o0+=n*en,n=t[12],I+=n*f0,A+=n*ce,L+=n*Ee,D+=n*C0,R+=n*z0,V+=n*O0,de+=n*v0,ve+=n*fr,n0+=n*ue,d0+=n*D0,r0+=n*Ke,m0+=n*L0,Ve+=n*B0,we+=n*G0,o0+=n*br,u0+=n*en,n=t[13],A+=n*f0,L+=n*ce,D+=n*Ee,R+=n*C0,V+=n*z0,de+=n*O0,ve+=n*v0,n0+=n*fr,d0+=n*ue,r0+=n*D0,m0+=n*Ke,Ve+=n*L0,we+=n*B0,o0+=n*G0,u0+=n*br,l0+=n*en,n=t[14],L+=n*f0,D+=n*ce,R+=n*Ee,V+=n*C0,de+=n*z0,ve+=n*O0,n0+=n*v0,d0+=n*fr,r0+=n*ue,m0+=n*D0,Ve+=n*Ke,we+=n*L0,o0+=n*B0,u0+=n*G0,l0+=n*br,R0+=n*en,n=t[15],D+=n*f0,R+=n*ce,V+=n*Ee,de+=n*C0,ve+=n*z0,n0+=n*O0,d0+=n*v0,r0+=n*fr,m0+=n*ue,Ve+=n*D0,we+=n*Ke,o0+=n*L0,u0+=n*B0,l0+=n*G0,R0+=n*br,t0+=n*en,l+=38*R,a+=38*V,f+=38*de,c+=38*ve,u+=38*n0,d+=38*d0,h+=38*r0,m+=38*m0,p+=38*Ve,v+=38*we,x+=38*o0,E+=38*u0,I+=38*l0,A+=38*R0,L+=38*t0,s=1,n=l+s+65535,s=Math.floor(n/65536),l=n-s*65536,n=a+s+65535,s=Math.floor(n/65536),a=n-s*65536,n=f+s+65535,s=Math.floor(n/65536),f=n-s*65536,n=c+s+65535,s=Math.floor(n/65536),c=n-s*65536,n=u+s+65535,s=Math.floor(n/65536),u=n-s*65536,n=d+s+65535,s=Math.floor(n/65536),d=n-s*65536,n=h+s+65535,s=Math.floor(n/65536),h=n-s*65536,n=m+s+65535,s=Math.floor(n/65536),m=n-s*65536,n=p+s+65535,s=Math.floor(n/65536),p=n-s*65536,n=v+s+65535,s=Math.floor(n/65536),v=n-s*65536,n=x+s+65535,s=Math.floor(n/65536),x=n-s*65536,n=E+s+65535,s=Math.floor(n/65536),E=n-s*65536,n=I+s+65535,s=Math.floor(n/65536),I=n-s*65536,n=A+s+65535,s=Math.floor(n/65536),A=n-s*65536,n=L+s+65535,s=Math.floor(n/65536),L=n-s*65536,n=D+s+65535,s=Math.floor(n/65536),D=n-s*65536,l+=s-1+37*(s-1),s=1,n=l+s+65535,s=Math.floor(n/65536),l=n-s*65536,n=a+s+65535,s=Math.floor(n/65536),a=n-s*65536,n=f+s+65535,s=Math.floor(n/65536),f=n-s*65536,n=c+s+65535,s=Math.floor(n/65536),c=n-s*65536,n=u+s+65535,s=Math.floor(n/65536),u=n-s*65536,n=d+s+65535,s=Math.floor(n/65536),d=n-s*65536,n=h+s+65535,s=Math.floor(n/65536),h=n-s*65536,n=m+s+65535,s=Math.floor(n/65536),m=n-s*65536,n=p+s+65535,s=Math.floor(n/65536),p=n-s*65536,n=v+s+65535,s=Math.floor(n/65536),v=n-s*65536,n=x+s+65535,s=Math.floor(n/65536),x=n-s*65536,n=E+s+65535,s=Math.floor(n/65536),E=n-s*65536,n=I+s+65535,s=Math.floor(n/65536),I=n-s*65536,n=A+s+65535,s=Math.floor(n/65536),A=n-s*65536,n=L+s+65535,s=Math.floor(n/65536),L=n-s*65536,n=D+s+65535,s=Math.floor(n/65536),D=n-s*65536,l+=s-1+37*(s-1),e[0]=l,e[1]=a,e[2]=f,e[3]=c,e[4]=u,e[5]=d,e[6]=h,e[7]=m,e[8]=p,e[9]=v,e[10]=x,e[11]=E,e[12]=I,e[13]=A,e[14]=L,e[15]=D}o(Ts,"M")});var BO=y0((q5e,kO)=>{var Ef=pn();Gi();Xf();T7();kO.exports=Ef.kem=Ef.kem||{};var NO=Ef.jsbn.BigInteger;Ef.kem.rsa={};Ef.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||Ef.random,n={};return n.encrypt=function(s,l){var a=Math.ceil(s.n.bitLength()/8),f;do f=new NO(Ef.util.bytesToHex(r.getBytesSync(a)),16).mod(s.n);while(f.compareTo(NO.ONE)<=0);f=Ef.util.hexToBytes(f.toString(16));var c=a-f.length;c>0&&(f=Ef.util.fillString("\0",c)+f);var u=s.encrypt(f,"NONE"),d=e.generate(f,l);return{encapsulation:u,key:d}},n.decrypt=function(s,l,a){var f=s.decrypt(l,"NONE");return e.generate(f,a)},n};Ef.kem.kdf1=function(e,t){RO(this,e,0,t||e.digestLength)};Ef.kem.kdf2=function(e,t){RO(this,e,1,t||e.digestLength)};function RO(e,t,r,n){e.generate=function(s,l){for(var a=new Ef.util.ByteBuffer,f=Math.ceil(l/n)+r,c=new Ef.util.ByteBuffer,u=r;u<f;++u){c.putInt32(u),t.start(),t.update(s+c.getBytes());var d=t.digest();a.putBytes(d.getBytes(n))}return a.truncate(a.length()-l),a.getBytes()}}o(RO,"_createKDF")});var OO=y0((H5e,FO)=>{var Fi=pn();Gi();FO.exports=Fi.log=Fi.log||{};Fi.log.levels=["none","error","warning","info","debug","verbose","max"];var tx={},YI=[],R7=null;Fi.log.LEVEL_LOCKED=2;Fi.log.NO_LEVEL_CHECK=4;Fi.log.INTERPOLATE=8;for(Rc=0;Rc<Fi.log.levels.length;++Rc)KI=Fi.log.levels[Rc],tx[KI]={index:Rc,name:KI.toUpperCase()};var KI,Rc;Fi.log.logMessage=function(e){for(var t=tx[e.level].index,r=0;r<YI.length;++r){var n=YI[r];if(n.flags&Fi.log.NO_LEVEL_CHECK)n.f(e);else{var s=tx[n.level].index;t<=s&&n.f(n,e)}}};Fi.log.prepareStandard=function(e){"standard"in e||(e.standard=tx[e.level].name+" ["+e.category+"] "+e.message)};Fi.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=Fi.util.format.apply(this,t)}};Fi.log.prepareStandardFull=function(e){"standardFull"in e||(Fi.log.prepareStandard(e),e.standardFull=e.standard)};for(WI=["error","warning","info","debug","verbose"],Rc=0;Rc<WI.length;++Rc)(function(t){Fi.log[t]=function(r,n){var s=Array.prototype.slice.call(arguments).slice(2),l={timestamp:new Date,level:t,category:r,message:n,arguments:s};Fi.log.logMessage(l)}})(WI[Rc]);var WI,Rc;Fi.log.makeLogger=function(e){var t={flags:0,f:e};return Fi.log.setLevel(t,"none"),t};Fi.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&Fi.log.LEVEL_LOCKED))for(var n=0;n<Fi.log.levels.length;++n){var s=Fi.log.levels[n];if(t==s){e.level=t,r=!0;break}}return r};Fi.log.lock=function(e,t){typeof t>"u"||t?e.flags|=Fi.log.LEVEL_LOCKED:e.flags&=~Fi.log.LEVEL_LOCKED};Fi.log.addLogger=function(e){YI.push(e)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(DO={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},k7=o(function(e,t){Fi.log.prepareStandard(t);var r=DO[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)},"f"),E6=Fi.log.makeLogger(k7)):(k7=o(function(t,r){Fi.log.prepareStandardFull(r),console.log(r.standardFull)},"f"),E6=Fi.log.makeLogger(k7)),Fi.log.setLevel(E6,"debug"),Fi.log.addLogger(E6),R7=E6):console={log:function(){}};var E6,DO,k7;R7!==null&&typeof window<"u"&&window.location&&(N7=new URL(window.location.href).searchParams,N7.has("console.level")&&Fi.log.setLevel(R7,N7.get("console.level").slice(-1)[0]),N7.has("console.lock")&&(LO=N7.get("console.lock").slice(-1)[0],LO=="true"&&Fi.log.lock(R7)));var N7,LO;Fi.log.consoleLogger=R7});var UO=y0((j5e,MO)=>{MO.exports=Ec();Dv();p6();lI();OI()});var HO=y0((z5e,$O)=>{var J0=pn();f3();F1();C7();c3();Id();CI();Xf();Gi();Wv();var e0=J0.asn1,Nl=$O.exports=J0.pkcs7=J0.pkcs7||{};Nl.messageFromPem=function(e){var t=J0.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=e0.fromDer(t.body);return Nl.messageFromAsn1(n)};Nl.messageToPem=function(e,t){var r={type:"PKCS7",body:e0.toDer(e.toAsn1()).getBytes()};return J0.pem.encode(r,{maxline:t})};Nl.messageFromAsn1=function(e){var t={},r=[];if(!e0.validate(e,Nl.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var s=e0.derToOid(t.contentType),l;switch(s){case J0.pki.oids.envelopedData:l=Nl.createEnvelopedData();break;case J0.pki.oids.encryptedData:l=Nl.createEncryptedData();break;case J0.pki.oids.signedData:l=Nl.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+s+" is not (yet) supported.")}return l.fromAsn1(t.content.value[0]),l};Nl.createSignedData=function(){var e=null;return e={type:J0.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(n){if(XI(e,n,Nl.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var s=e.rawCapture.certificates.value,l=0;l<s.length;++l)e.certificates.push(J0.pki.certificateFromAsn1(s[l]))},toAsn1:function(){e.contentInfo||e.sign();for(var n=[],s=0;s<e.certificates.length;++s)n.push(J0.pki.certificateToAsn1(e.certificates[s]));var l=[],a=e0.create(e0.Class.CONTEXT_SPECIFIC,0,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.INTEGER,!1,e0.integerToDer(e.version).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&a.value[0].value.push(e0.create(e0.Class.CONTEXT_SPECIFIC,0,!0,n)),l.length>0&&a.value[0].value.push(e0.create(e0.Class.CONTEXT_SPECIFIC,1,!0,l)),a.value[0].value.push(e0.create(e0.Class.UNIVERSAL,e0.Type.SET,!0,e.signerInfos)),e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(e.type).getBytes()),a])},addSigner:function(n){var s=n.issuer,l=n.serialNumber;if(n.certificate){var a=n.certificate;typeof a=="string"&&(a=J0.pki.certificateFromPem(a)),s=a.issuer.attributes,l=a.serialNumber}var f=n.key;if(!f)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof f=="string"&&(f=J0.pki.privateKeyFromPem(f));var c=n.digestAlgorithm||J0.pki.oids.sha1;switch(c){case J0.pki.oids.sha1:case J0.pki.oids.sha256:case J0.pki.oids.sha384:case J0.pki.oids.sha512:case J0.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+c)}var u=n.authenticatedAttributes||[];if(u.length>0){for(var d=!1,h=!1,m=0;m<u.length;++m){var p=u[m];if(!d&&p.type===J0.pki.oids.contentType){if(d=!0,h)break;continue}if(!h&&p.type===J0.pki.oids.messageDigest){if(h=!0,d)break;continue}}if(!d||!h)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:f,version:1,issuer:s,serialNumber:l,digestAlgorithm:c,signatureAlgorithm:J0.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},sign:function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(J0.pki.oids.data).getBytes())]),"content"in e)){var s;e.content instanceof J0.util.ByteBuffer?s=e.content.bytes():typeof e.content=="string"&&(s=J0.util.encodeUtf8(e.content)),n.detached?e.detachedContent=e0.create(e0.Class.UNIVERSAL,e0.Type.OCTETSTRING,!1,s):e.contentInfo.value.push(e0.create(e0.Class.CONTEXT_SPECIFIC,0,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OCTETSTRING,!1,s)]))}if(e.signers.length!==0){var l=t();r(l)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(n){typeof n=="string"&&(n=J0.pki.certificateFromPem(n)),e.certificates.push(n)},addCertificateRevokationList:function(n){throw new Error("PKCS#7 CRL support not yet implemented.")}},e;function t(){for(var n={},s=0;s<e.signers.length;++s){var l=e.signers[s],a=l.digestAlgorithm;a in n||(n[a]=J0.md[J0.pki.oids[a]].create()),l.authenticatedAttributes.length===0?l.md=n[a]:l.md=J0.md[J0.pki.oids[a]].create()}e.digestAlgorithmIdentifiers=[];for(var a in n)e.digestAlgorithmIdentifiers.push(e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(a).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.NULL,!1,"")]));return n}o(t,"addDigestAlgorithmIds");function r(n){var s;if(e.detachedContent?s=e.detachedContent:(s=e.contentInfo.value[1],s=s.value[0]),!s)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var l=e0.derToOid(e.contentInfo.value[0].value),a=e0.toDer(s);a.getByte(),e0.getBerValueLength(a),a=a.getBytes();for(var f in n)n[f].start().update(a);for(var c=new Date,u=0;u<e.signers.length;++u){var d=e.signers[u];if(d.authenticatedAttributes.length===0){if(l!==J0.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{d.authenticatedAttributesAsn1=e0.create(e0.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var h=e0.create(e0.Class.UNIVERSAL,e0.Type.SET,!0,[]),m=0;m<d.authenticatedAttributes.length;++m){var p=d.authenticatedAttributes[m];p.type===J0.pki.oids.messageDigest?p.value=n[d.digestAlgorithm].digest():p.type===J0.pki.oids.signingTime&&(p.value||(p.value=c)),h.value.push(JI(p)),d.authenticatedAttributesAsn1.value.push(JI(p))}a=e0.toDer(h).getBytes(),d.md.start().update(a)}d.signature=d.key.sign(d.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=_Q(e.signers)}o(r,"addSignerInfos")};Nl.createEncryptedData=function(){var e=null;return e={type:J0.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:J0.pki.oids["aes256-CBC"]},fromAsn1:function(t){XI(e,t,Nl.asn1.encryptedDataValidator)},decrypt:function(t){t!==void 0&&(e.encryptedContent.key=t),qO(e)}},e};Nl.createEnvelopedData=function(){var e=null;return e={type:J0.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:J0.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=XI(e,t,Nl.asn1.envelopedDataValidator);e.recipients=yQ(r.recipientInfos.value)},toAsn1:function(){return e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(e.type).getBytes()),e0.create(e0.Class.CONTEXT_SPECIFIC,0,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.INTEGER,!1,e0.integerToDer(e.version).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.SET,!0,vQ(e.recipients)),e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,bQ(e.encryptedContent))])])])},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var s=e.recipients[n],l=s.issuer;if(s.serialNumber===t.serialNumber&&l.length===r.length){for(var a=!0,f=0;f<r.length;++f)if(l[f].type!==r[f].type||l[f].value!==r[f].value){a=!1;break}if(a)return s}}return null},decrypt:function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case J0.pki.oids.rsaEncryption:case J0.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=J0.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}qO(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:J0.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,s,l;switch(r){case J0.pki.oids["aes128-CBC"]:n=16,s=16,l=J0.aes.createEncryptionCipher;break;case J0.pki.oids["aes192-CBC"]:n=24,s=16,l=J0.aes.createEncryptionCipher;break;case J0.pki.oids["aes256-CBC"]:n=32,s=16,l=J0.aes.createEncryptionCipher;break;case J0.pki.oids["des-EDE3-CBC"]:n=24,s=8,l=J0.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=J0.util.createBuffer(J0.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=J0.util.createBuffer(J0.random.getBytes(s));var a=l(t);if(a.start(e.encryptedContent.parameter.copy()),a.update(e.content),!a.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=a.output}for(var f=0;f<e.recipients.length;++f){var c=e.recipients[f];if(c.encryptedContent.content===void 0)switch(c.encryptedContent.algorithm){case J0.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}}},e};function mQ(e){var t={},r=[];if(!e0.validate(e,Nl.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:J0.pki.RDNAttributesAsArray(t.issuer),serialNumber:J0.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:e0.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}o(mQ,"_recipientFromAsn1");function pQ(e){return e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.INTEGER,!1,e0.integerToDer(e.version).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[J0.pki.distinguishedNameToAsn1({attributes:e.issuer}),e0.create(e0.Class.UNIVERSAL,e0.Type.INTEGER,!1,J0.util.hexToBytes(e.serialNumber))]),e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(e.encryptedContent.algorithm).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.NULL,!1,"")]),e0.create(e0.Class.UNIVERSAL,e0.Type.OCTETSTRING,!1,e.encryptedContent.content)])}o(pQ,"_recipientToAsn1");function yQ(e){for(var t=[],r=0;r<e.length;++r)t.push(mQ(e[r]));return t}o(yQ,"_recipientsFromAsn1");function vQ(e){for(var t=[],r=0;r<e.length;++r)t.push(pQ(e[r]));return t}o(vQ,"_recipientsToAsn1");function xQ(e){var t=e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.INTEGER,!1,e0.integerToDer(e.version).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[J0.pki.distinguishedNameToAsn1({attributes:e.issuer}),e0.create(e0.Class.UNIVERSAL,e0.Type.INTEGER,!1,J0.util.hexToBytes(e.serialNumber))]),e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(e.digestAlgorithm).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(e.signatureAlgorithm).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.NULL,!1,"")])),t.value.push(e0.create(e0.Class.UNIVERSAL,e0.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=e0.create(e0.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var s=e.unauthenticatedAttributes[n];r.values.push(JI(s))}t.value.push(r)}return t}o(xQ,"_signerToAsn1");function _Q(e){for(var t=[],r=0;r<e.length;++r)t.push(xQ(e[r]));return t}o(_Q,"_signersToAsn1");function JI(e){var t;if(e.type===J0.pki.oids.contentType)t=e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(e.value).getBytes());else if(e.type===J0.pki.oids.messageDigest)t=e0.create(e0.Class.UNIVERSAL,e0.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===J0.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),s=e.value;if(typeof s=="string"){var l=Date.parse(s);isNaN(l)?s.length===13?s=e0.utcTimeToDate(s):s=e0.generalizedTimeToDate(s):s=new Date(l)}s>=r&&s<n?t=e0.create(e0.Class.UNIVERSAL,e0.Type.UTCTIME,!1,e0.dateToUtcTime(s)):t=e0.create(e0.Class.UNIVERSAL,e0.Type.GENERALIZEDTIME,!1,e0.dateToGeneralizedTime(s))}return e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(e.type).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.SET,!0,[t])])}o(JI,"_attributeToAsn1");function bQ(e){return[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(J0.pki.oids.data).getBytes()),e0.create(e0.Class.UNIVERSAL,e0.Type.SEQUENCE,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OID,!1,e0.oidToDer(e.algorithm).getBytes()),e.parameter?e0.create(e0.Class.UNIVERSAL,e0.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),e0.create(e0.Class.CONTEXT_SPECIFIC,0,!0,[e0.create(e0.Class.UNIVERSAL,e0.Type.OCTETSTRING,!1,e.content.getBytes())])]}o(bQ,"_encryptedContentToAsn1");function XI(e,t,r){var n={},s=[];if(!e0.validate(t,r,n,s)){var l=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw l.errors=l,l}var a=e0.derToOid(n.contentType);if(a!==J0.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var f="";if(J0.util.isArray(n.encryptedContent))for(var c=0;c<n.encryptedContent.length;++c){if(n.encryptedContent[c].type!==e0.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");f+=n.encryptedContent[c].value}else f=n.encryptedContent;e.encryptedContent={algorithm:e0.derToOid(n.encAlgorithm),parameter:J0.util.createBuffer(n.encParameter.value),content:J0.util.createBuffer(f)}}if(n.content){var f="";if(J0.util.isArray(n.content))for(var c=0;c<n.content.length;++c){if(n.content[c].type!==e0.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");f+=n.content[c].value}else f=n.content;e.content=J0.util.createBuffer(f)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}o(XI,"_fromAsn1");function qO(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case J0.pki.oids["aes128-CBC"]:case J0.pki.oids["aes192-CBC"]:case J0.pki.oids["aes256-CBC"]:t=J0.aes.createDecryptionCipher(e.encryptedContent.key);break;case J0.pki.oids.desCBC:case J0.pki.oids["des-EDE3-CBC"]:t=J0.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}o(qO,"_decryptContent")});var jO=y0((K5e,VO)=>{var ma=pn();f3();d6();Dv();p6();Gi();var nx=VO.exports=ma.ssh=ma.ssh||{};nx.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",s=t===""?"none":"aes256-cbc",l="PuTTY-User-Key-File-2: "+n+`\r
`;l+="Encryption: "+s+`\r
`,l+="Comment: "+r+`\r
`;var a=ma.util.createBuffer();T6(a,n),kc(a,e.e),kc(a,e.n);var f=ma.util.encode64(a.bytes(),64),c=Math.floor(f.length/66)+1;l+="Public-Lines: "+c+`\r
`,l+=f;var u=ma.util.createBuffer();kc(u,e.d),kc(u,e.p),kc(u,e.q),kc(u,e.qInv);var d;if(!t)d=ma.util.encode64(u.bytes(),64);else{var h=u.length()+16-1;h-=h%16;var m=rx(u.bytes());m.truncate(m.length()-h+u.length()),u.putBuffer(m);var p=ma.util.createBuffer();p.putBuffer(rx("\0\0\0\0",t)),p.putBuffer(rx("\0\0\0",t));var v=ma.aes.createEncryptionCipher(p.truncate(8),"CBC");v.start(ma.util.createBuffer().fillWithByte(0,16)),v.update(u.copy()),v.finish();var x=v.output;x.truncate(16),d=ma.util.encode64(x.bytes(),64)}c=Math.floor(d.length/66)+1,l+=`\r
Private-Lines: `+c+`\r
`,l+=d;var E=rx("putty-private-key-file-mac-key",t),I=ma.util.createBuffer();T6(I,n),T6(I,s),T6(I,r),I.putInt32(a.length()),I.putBuffer(a),I.putInt32(u.length()),I.putBuffer(u);var A=ma.hmac.create();return A.start("sha1",E),A.update(I.bytes()),l+=`\r
Private-MAC: `+A.digest().toHex()+`\r
`,l};nx.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=ma.util.createBuffer();return T6(n,r),kc(n,e.e),kc(n,e.n),r+" "+ma.util.encode64(n.bytes())+" "+t};nx.privateKeyToOpenSSH=function(e,t){return t?ma.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):ma.pki.privateKeyToPem(e)};nx.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||ma.md.md5.create(),n="ssh-rsa",s=ma.util.createBuffer();T6(s,n),kc(s,e.e),kc(s,e.n),r.start(),r.update(s.getBytes());var l=r.digest();if(t.encoding==="hex"){var a=l.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return l.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return l};function kc(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=ma.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}o(kc,"_addBigIntegerToBuffer");function T6(e,t){e.putInt32(t.length),e.putString(t)}o(T6,"_addStringToBuffer");function rx(){for(var e=ma.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}o(rx,"_sha1")});var GO=y0((Y5e,zO)=>{zO.exports=pn();f3();uO();F1();wv();C7();PO();d6();BO();OO();UO();EI();Mv();Id();yI();II();HO();AI();xI();fI();zv();Xf();dI();jO();DI();Gi()});var KO=y0((J5e,CQ)=>{CQ.exports={name:"@roamhq/mac-ca",version:"1.0.7",description:"Get Mac OS Root certificates",main:"index.js",repository:{type:"git",url:"https://github.com/WonderInventions/mac-ca.git"},scripts:{test:'echo "Error: no test specified" && exit 1',lint:"eslint ."},license:"BSD-3-Clause",dependencies:{"node-forge":"^1.3.1"},devDependencies:{eslint:"^8.22.0"}}});var JO=y0((X5e,ZI)=>{var sx=GO(),WO=KO(),ix=ZI.exports.validFormats={der:0,pem:1,txt:2,asn1:3};function YO(e){let t=sx.pki.pemToDer(e),r=sx.asn1,n=r.fromDer(t.data.toString("binary")).value[0].value,s=n[0],l=s.tagClass===r.Class.CONTEXT_SPECIFIC&&s.type===0&&s.constructed,a=n.slice(l);return{serial:a[0],issuer:a[2],valid:a[3],subject:a[4]}}o(YO,"myASN");function EQ(e){let t=YO(e),r=new Date,n=t.subject.value.map(a=>a.value[0].value[1].value).join("/"),s=t.valid.value.map(a=>a.value).join(" - "),l=r.toTimeString().replace(/\s*\(.*\)\s*/,"");return[`Subject	${n}`,`Valid	${s}`,`Saved	${r.toLocaleDateString()} ${l} by ${WO.name}@${WO.version}`,String(e)].join(`
`)}o(EQ,"txtFormat");ZI.exports.transform=function(e){return function(t){try{switch(e){case ix.der:return sx.pki.pemToDer(t);case ix.pem:return t;case ix.txt:return EQ(t);case ix.asn1:return YO(t);default:return sx.pki.certificateFromPem(t)}}catch{return}}}});var XO=y0((Q5e,S6)=>{var QI=require("https"),ew=JO();if(process.platform!=="darwin")S6.exports.all=()=>[],S6.exports.each=()=>{};else{let f=function(u,d,h){return h.indexOf(u)===d};TQ=f,o(f,"duplicated");let e=require("child_process"),t=/(?=-----BEGIN\sCERTIFICATE-----)/g,r="/System/Library/Keychains/SystemRootCertificates.keychain",n=["find-certificate","-a","-p"],s=e.spawnSync("/usr/bin/security",n).stdout.toString().split(t),l=e.spawnSync("/usr/bin/security",n.concat(r)).stdout.toString().split(t);QI.globalAgent.options.ca=QI.globalAgent.options.ca||[];let a=QI.globalAgent.options.ca,c=s.concat(l);c.filter(f).forEach(u=>a.push(u)),S6.exports.der2=ew.validFormats,S6.exports.all=function(u){return c.map(ew.transform(u)).filter(d=>d)},S6.exports.each=function(u,d){return typeof u=="function"&&(d=u,u=void 0),c.map(ew.transform(u)).filter(h=>h).forEach(d)}}var TQ});var ZO=y0((t3e,tw)=>{function SQ(){let{X509Certificate:e}=require("crypto"),{join:t}=require("path");var r=typeof __webpack_require__=="function"?__non_webpack_require__:require;let n=r(t(__dirname,"crypt32.node")),s=[],l=new n.Crypt32;try{let a;for(;a=l.next();){let f=new e(a);s.push(f.toString())}}finally{l.done()}return Array.from(new Set(s))}o(SQ,"all");process.platform!=="win32"?tw.exports.all=()=>[]:tw.exports.all=SQ});var iM=y0((o3e,nM)=>{var ax=require("path").sep||"/";nM.exports=wQ;function wQ(e){if(typeof e!="string"||e.length<=7||e.substring(0,7)!="file://")throw new TypeError("must pass in a file:// URI to convert to a file path");var t=decodeURI(e.substring(7)),r=t.indexOf("/"),n=t.substring(0,r),s=t.substring(r+1);return n=="localhost"&&(n=""),n&&(n=ax+ax+n),s=s.replace(/^(.+)\|/,"$1:"),ax=="\\"&&(s=s.replace(/\//g,"\\")),/^.+\:/.test(s)||(s=ax+s),n+s}o(wQ,"fileUriToPath")});var fM=y0((cx,lM)=>{var xw=require("fs"),fx=require("path"),AQ=iM(),lx=fx.join,aM=fx.dirname,sM=xw.accessSync&&function(e){try{xw.accessSync(e)}catch{return!1}return!0}||xw.existsSync||fx.existsSync,oM={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"],["module_root","addon-build","release","install-root","bindings"],["module_root","addon-build","debug","install-root","bindings"],["module_root","addon-build","default","install-root","bindings"],["module_root","lib","binding","nodePreGyp","bindings"]]};function PQ(e){typeof e=="string"?e={bindings:e}:e||(e={}),Object.keys(oM).map(function(c){c in e||(e[c]=oM[c])}),e.module_root||(e.module_root=aM(__filename)),fx.extname(e.bindings)!=".node"&&(e.bindings+=".node");for(var t=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],n=0,s=e.try.length,l,a,f;n<s;n++){l=lx.apply(null,e.try[n].map(function(c){return e[c]||c})),r.push(l);try{return a=e.path?t.resolve(l):t(l),e.path||(a.path=l),a}catch(c){if(c.code!=="MODULE_NOT_FOUND"&&c.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(c.message))throw c}}throw f=new Error(`Could not locate the bindings file. Tried:
`+r.map(function(c){return e.arrow+c}).join(`
`)),f.tries=r,f}o(PQ,"bindings");lM.exports=cx=PQ;cx.getFileName=o(function(t){var r=Error.prepareStackTrace,n=Error.stackTraceLimit,s={},l;Error.stackTraceLimit=10,Error.prepareStackTrace=function(f,c){for(var u=0,d=c.length;u<d;u++)if(l=c[u].getFileName(),l!==__filename)if(t){if(l!==t)return}else return},Error.captureStackTrace(s),new Error(s.stack),Error.prepareStackTrace=r,Error.stackTraceLimit=n;var a="file://";return l.indexOf(a)===0&&(l=AQ(l)),l},"getFileName");cx.getRoot=o(function(t){for(var r=aM(t),n;;){if(r==="."&&(r=process.cwd()),sM(lx(r,"package.json"))||sM(lx(r,"node_modules")))return r;if(n===r)throw new Error('Could not find module root given file: "'+t+'". Do you have a `package.json` file? ');n=r,r=lx(r,"..")}},"getRoot")});var dM=y0((f3e,uM)=>{"use strict";function cM(e,t,r){let n=t[r];if(e==null&&n.required===!1)return;if(e==null)throw new TypeError(`Required parameter \`${n.name}\` missing`);let s=typeof e;if(n.type&&s!==n.type){if(n.required===!1&&t.slice(r).some(l=>l.type===s))return!1;throw new TypeError(`Invalid type for parameter \`${n.name}\`, expected \`${n.type}\` but found \`${typeof e}\``)}return!0}o(cM,"validateParameter");function NQ(e,t){return Object.prototype.hasOwnProperty.call(e,t)}o(NQ,"hasOwnProperty");function RQ(e,t){return function(){let r=Array.prototype.slice.call(arguments),n=[];for(let l=0,a=0;l<t.length;++l,++a){let f=t[l],c=r[a];NQ(f,"default")&&c==null&&(c=f.default),f.type==="object"&&f.default!=null&&(c=Object.assign({},f.default,c)),f.name==="options"&&(typeof c=="function"||c==null)&&(c={}),cM(c,t,l)?n.push(c):a--}if(typeof arguments[arguments.length-1]!="function")return new Promise((l,a)=>{n.push((f,c)=>{if(f)return a(f);l(c)}),e.apply(this,n)});e.apply(this,n)}}o(RQ,"defineOperation");uM.exports={defineOperation:RQ,validateParameter:cM}});var _w=y0((u3e,mM)=>{"use strict";var w6=fM()("kerberos"),I6=w6.KerberosClient,hM=w6.KerberosServer,v3=dM().defineOperation,kQ=1,BQ=2,DQ=4,LQ=8,FQ=16,OQ=32,MQ=64,UQ=128,qQ=256,gM=0,$Q=9,HQ=6;I6.prototype.step=v3(I6.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);I6.prototype.wrap=v3(I6.prototype.wrap,[{name:"challenge",type:"string"},{name:"options",type:"object"},{name:"callback",type:"function",required:!1}]);I6.prototype.unwrap=v3(I6.prototype.unwrap,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);hM.prototype.step=v3(hM.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);var VQ=v3(w6.checkPassword,[{name:"username",type:"string"},{name:"password",type:"string"},{name:"service",type:"string"},{name:"defaultRealm",type:"string",required:!1},{name:"callback",type:"function",required:!1}]),jQ=v3(w6.principalDetails,[{name:"service",type:"string"},{name:"hostname",type:"string"},{name:"callback",type:"function",required:!1}]),zQ=v3(w6.initializeClient,[{name:"service",type:"string"},{name:"options",type:"object",default:{mechOID:gM}},{name:"callback",type:"function",required:!1}]),GQ=v3(w6.initializeServer,[{name:"service",type:"string"},{name:"callback",type:"function",required:!1}]);mM.exports={initializeClient:zQ,initializeServer:GQ,principalDetails:jQ,checkPassword:VQ,GSS_C_DELEG_FLAG:kQ,GSS_C_MUTUAL_FLAG:BQ,GSS_C_REPLAY_FLAG:DQ,GSS_C_SEQUENCE_FLAG:LQ,GSS_C_CONF_FLAG:FQ,GSS_C_INTEG_FLAG:OQ,GSS_C_ANON_FLAG:MQ,GSS_C_PROT_READY_FLAG:UQ,GSS_C_TRANS_FLAG:qQ,GSS_C_NO_OID:gM,GSS_MECH_OID_KRB5:$Q,GSS_MECH_OID_SPNEGO:HQ}});var pM=y0((d3e,KQ)=>{KQ.exports={name:"kerberos",version:"2.1.0",description:"Kerberos library for Node.js",main:"lib/index.js",files:["lib","src","binding.gyp","HISTORY.md","README.md"],repository:{type:"git",url:"https://github.com/mongodb-js/kerberos.git"},keywords:["kerberos","security","authentication"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},dependencies:{bindings:"^1.5.0","node-addon-api":"^6.1.0","prebuild-install":"7.1.1"},devDependencies:{chai:"^4.3.7","chai-string":"^1.5.0",chalk:"^4.1.2","clang-format":"^1.8.0","dmd-clear":"^0.1.2",eslint:"^8.46.0","eslint-config-prettier":"^8.10.0","eslint-plugin-prettier":"^4.2.1","jsdoc-to-markdown":"^8.0.0",mocha:"^10.2.0",mongodb:"^5.7.0","node-gyp":"^9.4.0",prebuild:"^11.0.4",prettier:"^2.8.8",request:"^2.88.2","standard-version":"^9.5.0"},scripts:{install:"prebuild-install --runtime napi || node-gyp rebuild","format-cxx":"clang-format -i 'src/**/*'","format-js":"eslint lib test --fix","check:lint":"eslint lib test",precommit:"check-clang-format",test:"mocha test",docs:"jsdoc2md --template etc/README.hbs --plugin dmd-clear --files lib/kerberos.js > README.md",rebuild:"prebuild --runtime napi --compile",prebuild:"prebuild --runtime napi --strip --verbose --all",release:"standard-version -i HISTORY.md"},engines:{node:">=12.9.0"},binary:{napi_versions:[4]},license:"Apache-2.0",readmeFilename:"README.md"}});var vM=y0((h3e,yM)=>{"use strict";var WQ=require("dns"),YQ=_w(),Cw=class Cw{constructor(t,r,n,s){s=s||{},this.host=t,this.port=r,this.serviceName=n||s.gssapiServiceName||"mongodb",this.canonicalizeHostName=typeof s.gssapiCanonicalizeHostName=="boolean"?s.gssapiCanonicalizeHostName:!1,this._transition=JQ(this),this.retries=10}init(t,r,n){let s=this;this.username=t,this.password=r;function l(a,f,c){if(!a)return c();WQ.resolveCname(f,(u,d)=>{if(u)return c(u);Array.isArray(d)&&d.length>0&&(s.host=d[0]),c()})}o(l,"performGssapiCanonicalizeHostName"),l(this.canonicalizeHostName,this.host,a=>{if(a)return n(a);let f={};r!=null&&Object.assign(f,{user:t,password:r});let c=process.platform==="win32"?`${this.serviceName}/${this.host}`:`${this.serviceName}@${this.host}`;YQ.initializeClient(c,f,(u,d)=>{if(u)return n(u,null);s.client=d,n(null,d)})})}transition(t,r){if(this._transition==null)return r(new Error("Transition finished"));this._transition(t,r)}};o(Cw,"MongoAuthProcess");var bw=Cw;function JQ(e){return(t,r)=>{e.client.step("",(n,s)=>{if(n)return r(n);e._transition=XQ(e),r(null,s)})}}o(JQ,"firstTransition");function XQ(e){return(t,r)=>{e.client.step(t,(n,s)=>{if(n&&e.retries===0)return r(n);if(n)return e.retries=e.retries-1,e.transition(t,r);e._transition=ZQ(e),r(null,s||"")})}}o(XQ,"secondTransition");function ZQ(e){return(t,r)=>{e.client.unwrap(t,(n,s)=>{if(n)return r(n,!1);e.client.wrap(s,{user:e.username},(l,a)=>{if(l)return r(l,!1);e._transition=QQ(e),r(null,a)})})}}o(ZQ,"thirdTransition");function QQ(e){return(t,r)=>{e._transition=null,r(null,!0)}}o(QQ,"fourthTransition");yM.exports={MongoAuthProcess:bw}});var _M=y0((m3e,B7)=>{"use strict";var xM=_w();B7.exports=xM;B7.exports.Kerberos=xM;B7.exports.version=pM().version;B7.exports.processes={MongoAuthProcess:vM().MongoAuthProcess}});var Iu=Sn(jl()),yE=Sn(tP());var rP=Sn(require("crypto"));var Lm=new Uint8Array(256),Dm=Lm.length;function Ab(){return Dm>Lm.length-16&&(rP.default.randomFillSync(Lm),Dm=0),Lm.slice(Dm,Dm+=16)}o(Ab,"rng");var Ya=[];for(let e=0;e<256;++e)Ya.push((e+256).toString(16).slice(1));function nP(e,t=0){return Ya[e[t+0]]+Ya[e[t+1]]+Ya[e[t+2]]+Ya[e[t+3]]+"-"+Ya[e[t+4]]+Ya[e[t+5]]+"-"+Ya[e[t+6]]+Ya[e[t+7]]+"-"+Ya[e[t+8]]+Ya[e[t+9]]+"-"+Ya[e[t+10]]+Ya[e[t+11]]+Ya[e[t+12]]+Ya[e[t+13]]+Ya[e[t+14]]+Ya[e[t+15]]}o(nP,"unsafeStringify");var iP=Sn(require("crypto")),Pb={randomUUID:iP.default.randomUUID};function W$(e,t,r){if(Pb.randomUUID&&!t&&!e)return Pb.randomUUID();e=e||{};let n=e.random||(e.rng||Ab)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return nP(n)}o(W$,"v4");var X2=W$;var Rb=class Rb extends Error{constructor(r,n){super(r);this.cause=n;this.name="CopilotAuthError"}};o(Rb,"CopilotAuthError");var I1=Rb;var Zp=Sn(qf());var Fm="github.copilot";var jf=Sn(qf());var kb=class kb{now(){return new Date}};o(kb,"Clock");var ed=kb;var dN=Sn(bp());var Lb=class Lb{constructor(t=10){this.valueMap=new Map;this.lruKeys=[];this.sizeLimit=t}set(t,r){let n;return this.valueMap.has(t)?n=t:this.lruKeys.length>=this.sizeLimit&&(n=this.lruKeys[0]),n!==void 0&&this.delete(n),this.valueMap.set(t,r),this.touchKeyInLRU(t),this}get(t){if(this.valueMap.has(t)){let r=this.valueMap.get(t);return this.touchKeyInLRU(t),r}}delete(t){return this.has(t)?(this.removeKeyFromLRU(t),this.valueMap.get(t)!==void 0&&this.valueMap.delete(t),!0):!1}clear(){this.valueMap.clear(),this.lruKeys=[]}get size(){return this.valueMap.size}keys(){return this.lruKeys.slice().values()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(t){return this.valueMap.has(t)}forEach(t,r){new Map(this.valueMap).forEach(t,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(t){return this.valueMap.get(t)}removeKeyFromLRU(t){let r=this.lruKeys.indexOf(t);r!==-1&&this.lruKeys.splice(r,1)}touchKeyInLRU(t){this.removeKeyFromLRU(t),this.lruKeys.push(t)}};o(Lb,"LRUCacheMap");var Ys=Lb;var Cp=class Cp{constructor(t,r,n){this.variables=t,this.assignmentContext=r,this.features=n}static createFallbackConfig(t,r){return hN(t,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new Cp({},"","")}addToTelemetry(t){t.properties["VSCode.ABExp.Features"]=this.features,t.properties["abexp.assignmentcontext"]=this.assignmentContext}};o(Cp,"ExpConfig");var w1=Cp;var O8=Sn(AR(),1),Ate={ALPN_HTTP2:O8.default.ALPN_HTTP2,ALPN_HTTP2C:O8.default.ALPN_HTTP2C,ALPN_HTTP1_1:O8.default.ALPN_HTTP1_1,ALPN_HTTP1_0:O8.default.ALPN_HTTP1_0},{fetch:Pte,context:PR,reset:Nte,noCache:Rte,h1:kte,keepAlive:Bte,h1NoCache:Dte,keepAliveNoCache:Lte,cacheStats:Fte,clearCache:Ote,offPush:Mte,onPush:Ute,createUrl:qte,timeoutSignal:$te,Body:Hte,Headers:Vte,Request:jte,Response:zte,AbortController:NR,AbortError:RR,AbortSignal:Gte,FetchBaseError:Kte,FetchError:L9,ALPN_HTTP2:Wte,ALPN_HTTP2C:Yte,ALPN_HTTP1_1:Jte,ALPN_HTTP1_0:Xte}=O8.default;var BR=Sn(require("util")),DR=require("util");var IC=class IC{constructor(){this.contributors=[]}add(t){this.contributors.push(t)}remove(t){let r=this.contributors.indexOf(t);r!==-1&&this.contributors.splice(r,1)}contributeHeaders(t,r){for(let n of this.contributors)n.contributeHeaderValues(t,r)}size(){return this.contributors.length}};o(IC,"HeaderContributors");var ad=IC;var PC=class PC{set rejectUnauthorized(t){this._rejectUnauthorized=t}get rejectUnauthorized(){return this._rejectUnauthorized}};o(PC,"Fetcher");var Pa=PC;function wC(e){return e instanceof RR||e.name==="AbortError"||e instanceof L9&&e.code==="ABORT_ERR"}o(wC,"isAbortError");var NC=class NC extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}};o(NC,"JsonParseError");var M8=NC,RC=class RC extends Error{constructor(r){super(`HTTP ${r.status} ${r.statusText}`);this.name="FetchResponseError",this.code=`HTTP${r.status}`}};o(RC,"FetchResponseError");var ld=RC,qj=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE"]);function LR(e){var t;return e instanceof L9||e instanceof Error&&e.name==="FetchError"||e instanceof M8||e instanceof ld||e instanceof Error&&qj.has(e.code)||((t=e==null?void 0:e.message)==null?void 0:t.startsWith("net::"))}o(LR,"isNetworkError");var kC=class kC{constructor(t,r,n,s,l,a){this.status=t;this.statusText=r;this.headers=n;this.getText=s;this.getBody=l;this.getJson=a;this.ok=this.status>=200&&this.status<300}async text(){return this.getText()}async json(){if(this.getJson)return this.getJson();let t=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new M8(`Response content-type is ${r!=null?r:"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(t)}catch(n){if(n instanceof SyntaxError){let s=n.message.match(/^(.*?) in JSON at position (\d+)$/);if(s&&parseInt(s[2],10)==t.length||n.message==="Unexpected end of JSON input"){let l=new DR.TextEncoder().encode(t).length,a=this.headers.get("content-length");throw a===null?new M8(`Response body truncated: actualLength=${l}`,"Truncated"):new M8(`Response body truncated: actualLength=${l}, headerLength=${a}`,"Truncated")}}throw n}}async body(){return this.getBody()}};o(kC,"Response");var Gp=kC,$j=30*1e3;function AC(e,t,r,n,s,l,a){let f={Authorization:BR.format("Bearer %s",r),"X-Request-Id":s,"Openai-Organization":"github-copilot","VScode-SessionId":e.get(da).sessionId,"VScode-MachineId":e.get(da).machineId,...BC(e)};e.get(ad).contributeHeaders(t,f),n&&(f["OpenAI-Intent"]=n);let c={method:"POST",headers:f,json:l,timeout:$j},u=e.get(Pa);if(a){let h=u.makeAbortController();a.onCancellationRequested(()=>{Di(e,"networking.cancelRequest",vs.createAndMarkAsIssued({headerRequestId:s})),h.abort()}),c.signal=h.signal}return u.fetch(t,c).catch(h=>{if(h.code=="ECONNRESET"||h.code=="ETIMEDOUT"||h.code=="ERR_HTTP2_INVALID_SESSION"||h.message=="ERR_HTTP2_GOAWAY_SESSION")return Di(e,"networking.disconnectAll"),u.disconnectAll().then(()=>u.fetch(t,c));throw h})}o(AC,"postRequest");var DC=class DC{};o(DC,"ExpConfigMaker");var fd=DC,Hj="https://default.exp-tas.com",LC=class LC extends fd{constructor(r="/vscode/ab"){super();this.expPath=r}async fetchExperiments(r,n){var u;let s=r.get(Pa),l;try{l=await s.fetch(Hj+this.expPath,{method:"GET",headers:n})}catch(d){return w1.createFallbackConfig(r,`Error fetching ExP config: ${d}`)}if(!l.ok)return w1.createFallbackConfig(r,`ExP responded with ${l.status}`);let a;try{a=await l.json()}catch(d){if(d instanceof SyntaxError)return Vf(r,d,"fetchExperiments"),w1.createFallbackConfig(r,"ExP responded with invalid JSON");throw d}let f=(u=a.Configs.find(d=>d.Id==="vscode"))!=null?u:{Id:"vscode",Parameters:{}},c=Object.entries(f.Parameters).map(([d,h])=>d+(h?"":"cf"));return new w1(f.Parameters,a.AssignmentContext,c.join(";"))}};o(LC,"ExpConfigFromTAS");var Kp=LC;var Vj={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},Wp=class Wp{constructor(t){this.filters=t;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}extends(t){for(let[r,n]of Object.entries(t.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(t){for(let[r,n]of Object.entries(this.filters)){let s=Vj[r];s!==void 0&&(t.properties[s]=n)}}stringify(){let t=Object.keys(this.filters);return t.sort(),t.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(t,r){return new Wp({...this.filters,[t]:r})}};o(Wp,"FilterSettings");var cd=Wp;var OC=class OC{constructor(t){this.prefix=t}getCurrentAndUpComingValues(t){let r=this.getValue(t),n=this.getUpcomingValues(t);return[r,n]}};o(OC,"GranularityImplementation");var Yp=OC,MC=class MC extends Yp{getValue(t){return this.prefix}getUpcomingValues(t){return[]}};o(MC,"ConstantGranularity");var FC=MC,FR=o(e=>new FC(e),"DEFAULT_GRANULARITY"),UC=class UC extends Yp{constructor(r,n=.5,s=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=s}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],s=this.getUpcomingTimePeriodBucketStrings(r),l=this.getUpcomingByCallBucketStrings();for(let a of s)for(let f of l)n.push(this.prefix+a+f);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};o(UC,"TimeBucketGranularity");var Jp=UC;var OR="X-Copilot-ClientTimeBucket",qC=class qC{constructor(t,r){this.specs=new Map;this.prefix=t,this.clock=r,this.defaultGranularity=FR(t)}selectGranularity(t){for(let[r,n]of this.specs.entries())if(t.extends(r))return n;return this.defaultGranularity}update(t,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(t);else{let s=new Jp(this.prefix);isNaN(r)||s.setByCallBuckets(r),isNaN(n)||s.setTimePeriod(n*3600*1e3),this.specs.set(t,s)}}extendFilters(t){let r=this.selectGranularity(t),[n,s]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:t.withChange(OR,n),otherFilterSettingsToPrefetch:s.map(l=>t.withChange(OR,l))}}};o(qC,"GranularityDirectory");var Xp=qC;var VC=class VC{constructor(t){this.ctx=t;this.cache=new Ys(200)}async fetchExpConfig(t){let r=this.cache.get(t.stringify());return r||(r=new HC(()=>this.ctx.get(fd).fetchExperiments(this.ctx,t.toHeaders()),1e3*60*60),this.cache.set(t.stringify(),r)),r.run()}getCachedExpConfig(t){let r=this.cache.get(t.stringify());return r==null?void 0:r.value()}};o(VC,"FilterSettingsToExpConfigs");var $C=VC,jC=class jC{constructor(t,r=1/0){this.producer=t;this.expirationMs=r}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(t){try{this.result=await t}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};o(jC,"Task");var HC=jC,Su=class Su{constructor(t){this.ctx=t;this.staticFilters={};this.dynamicFilters={};this.upcomingDynamicFilters={};this.assignments=new $C(this.ctx)}registerStaticFilters(t){Object.assign(this.staticFilters,t)}registerDynamicFilter(t,r){this.dynamicFilters[t]=r}getDynamicFilterValues(){let t={};for(let[r,n]of Object.entries(this.dynamicFilters))t[r]=n();return t}registerUpcomingDynamicFilter(t,r){this.upcomingDynamicFilters[t]=r}async updateExPValuesAndAssignments({repoNwo:t,fileType:r,userKind:n,dogFood:s,retrievalOrg:l,customModel:a},f){var I,A;if(f instanceof F9)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let c={"X-Copilot-Repository":t,"X-Copilot-FileType":r,"X-Copilot-UserKind":n,"X-Copilot-Dogfood":s,"X-Copilot-CustomModel":a,"X-Copilot-RetrievalOrg":l},u=this.getGranularityDirectory(),d=this.makeFilterSettings(c),h=u.extendFilters(d),m=await this.getExpConfig(h.newFilterSettings);u.update(d,+((I=m.variables.copilotbycallbuckets)!=null?I:NaN),+((A=m.variables.copilottimeperiodsizeinh)!=null?A:NaN));let p=u.extendFilters(d),v=p.newFilterSettings,x=await this.getExpConfig(v),E=new Promise(L=>setTimeout(L,Su.upcomingDynamicFilterCheckDelayMs));for(let L of p.otherFilterSettingsToPrefetch)E=E.then(async()=>{await new Promise(D=>setTimeout(D,Su.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(L)});return this.prepareForUpcomingFilters(v),new F9(f.properties,f.measurements,f.issuedTime,{filters:v,exp:x})}getGranularityDirectory(){if(!this.granularityDirectory){let t=this.ctx.get(da).machineId;this.granularityDirectory=new Xp(t,this.ctx.get(ed))}return this.granularityDirectory}makeFilterSettings(t){return new cd({...this.staticFilters,...this.getDynamicFilterValues(),...t})}async getExpConfig(t){try{return this.assignments.fetchExpConfig(t)}catch(r){return w1.createFallbackConfig(this.ctx,`Error fetching ExP config: ${r}`)}}async prepareForUpcomingFilters(t){if(!(new Date().getMinutes()<60-Su.upcomingTimeBucketMinutes))for(let[r,n]of Object.entries(this.upcomingDynamicFilters))await new Promise(s=>setTimeout(s,Su.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(t.withChange(r,n()))}stringify(){var r;let t=this.assignments.getCachedExpConfig(new cd({}));return JSON.stringify((r=t==null?void 0:t.variables)!=null?r:{})}async getFallbackExpAndFilters(){let t=this.makeFilterSettings({}),r=await this.getExpConfig(t);return{filters:t,exp:r}}debounceMs(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdebouncems)!=null?r:0}debouncePredict(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdebouncepredict)!=null?r:!1}contextualFilterEnable(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterenable)!=null?r:!0}contextualFilterEnableTree(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterenabletree)!=null?r:!0}contextualFilterAcceptThreshold(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilteracceptthreshold)!=null?r:35}contextualFilterExplorationTraffic(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterexplorationtraffic)!=null?r:1}disableLogProb(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdisablelogprob)!=null?r:!0}overrideBlockMode(t){return t.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}fastCancellation(t){var r;return(r=t.filtersAndExp.exp.variables.copilotoverridefastcancellation)!=null?r:!0}overrideNumGhostCompletions(t){return t.filtersAndExp.exp.variables.copilotoverridednumghostcompletions}dropCompletionReasons(t){let r=t.filtersAndExp.exp.variables.copilotdropcompletionreasons;if(r)return r.split(",")}customEngine(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcustomengine)!=null?r:""}beforeRequestWaitMs(t){var r;return(r=t.filtersAndExp.exp.variables.copilotlms)!=null?r:0}multiLogitBias(t){var r;return(r=t.filtersAndExp.exp.variables.copilotlbeot)!=null?r:!1}requestMultilineExploration(t){var r;return(r=t.filtersAndExp.exp.variables.copilotrequestmultilineexploration)!=null?r:!1}suffixPercent(t){var r;return(r=t.filtersAndExp.exp.variables.CopilotSuffixPercent)!=null?r:15}suffixMatchThreshold(t){var r;return(r=t.filtersAndExp.exp.variables.copilotsuffixmatchthreshold)!=null?r:10}numberOfSnippets(t){var r;return(r=t.filtersAndExp.exp.variables.copilotnumberofsnippets)!=null?r:jf.DEFAULT_NUM_OF_SNIPPETS}neighboringTabsOption(t){switch(t.filtersAndExp.exp.variables.copilotneighboringtabs){case"none":return jf.NeighboringTabsOption.None;case"conservative":return jf.NeighboringTabsOption.Conservative;case"medium":return jf.NeighboringTabsOption.Medium;case"eager":return jf.NeighboringTabsOption.Eager;case"eagerbutlittle":return jf.NeighboringTabsOption.EagerButLittle;case"eagerbutmedium":return jf.NeighboringTabsOption.EagerButMedium;case"eagerbutmuch":return jf.NeighboringTabsOption.EagerButMuch;case"retrievalcomparable":return jf.NeighboringTabsOption.RetrievalComparable;default:return jf.NeighboringTabsOption.Eager}}retrievalStrategy(t){var r;return(r=t.filtersAndExp.exp.variables.retrieval)!=null?r:!1}retrievalServerRoute(t){let r=t.filtersAndExp.exp.variables.retrievalserverroute;switch(r){case"aims":return"2";case"devdiv":return"1";case"githubnext":return"0";default:return r!=null?r:"0"}}maxPromptCompletionTokens(t,r){var n;return(n=t.filtersAndExp.exp.variables.maxpromptcompletionTokens)!=null?n:r}hybridInference(t){var r;return(r=t.filtersAndExp.exp.variables.hybridinference)!=null?r:!1}hybridInferenceThreshold(t){var r;return((r=t.filtersAndExp.exp.variables.hybridinferencethreshold)!=null?r:-100)/100}requestMultiOnNewLine(t){var r;return(r=t.filtersAndExp.exp.variables.copilotrequestmultionnewline)!=null?r:!1}requestMultiModel(t){var r;return(r=t.filtersAndExp.exp.variables.copilotrequestmultimodel)!=null?r:!1}requestMultiModelThreshold(t){var r;return((r=t.filtersAndExp.exp.variables.copilotrequestmultimodelthreshold)!=null?r:100)/100}promptOrderListPreset(t){switch(t.filtersAndExp.exp.variables.copilotpromptorderlistpreset){default:return"default"}}useLanguageDetection(t){var r;return(r=t.filtersAndExp.exp.variables.copilotlanguagedetection)!=null?r:!1}defaultCommentMarker(t){var s,l;let r=(s=t.filtersAndExp.exp.variables.copilotlanguagedetectioncommentmarkerstart)!=null?s:void 0,n=(l=t.filtersAndExp.exp.variables.copilotlanguagedetectioncommentmarkerend)!=null?l:void 0;if(r||n)return{start:r!=null?r:"",end:n!=null?n:""}}promptPriorityPreset(t){switch(t.filtersAndExp.exp.variables.copilotpromptprioritypreset){case"office-exp":return"office-exp";default:return"default"}}ideAgentChatGpt4MaxTokens(t){var r;return(r=t.filtersAndExp.exp.variables.ideagentchatgpt4maxtokens)!=null?r:-1}ideAgentChatGpt4MaxRequestTokens(t){var r;return(r=t.filtersAndExp.exp.variables.ideagentchatgpt4maxrequesttokens)!=null?r:-1}};o(Su,"Features"),Su.upcomingDynamicFilterCheckDelayMs=20,Su.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11);var ta=Su;var MR=zC(),O9={Enable:"enable",InlineSuggestEnable:"inlineSuggest.enable",ShowEditorCompletions:"editor.showEditorCompletions",EnableAutoCompletions:"editor.enableAutoCompletions",DelayCompletions:"editor.delayCompletions",FilterCompletions:"editor.filterCompletions",DebugOverrideCapiUrl:"advanced.debug.overrideCapiUrl",DebugTestOverrideCapiUrl:"advanced.debug.testOverrideCapiUrl",DebugOverrideProxyUrl:"advanced.debug.overrideProxyUrl",DebugTestOverrideProxyUrl:"advanced.debug.testOverrideProxyUrl",DebugOverrideEngine:"advanced.debug.overrideEngine",DebugOverrideLogLevels:"advanced.debug.overrideLogLevels",DebugFilterLogCategories:"advanced.debug.filterLogCategories",DebugSnippyOverrideUrl:"advanced.debug.codeRefOverrideUrl",DebugUseElectronFetcher:"advanced.debug.useElectronFetcher",DebugUseEditorFetcher:"advanced.debug.useEditorFetcher"};var KC=class KC{};o(KC,"BlockModeConfig");var U8=KC,WC=class WC extends U8{async forLanguage(t,r,n){let s=t.get(ta).overrideBlockMode(n);return s?Wj(s,r):r=="ruby"?"parsing":(0,Zp.isSupportedLanguageId)(r)?"parsingandserver":"server"}};o(WC,"ConfigBlockModeConfig");var Qp=WC;function Wj(e,t){switch(e){case"parsing":return(0,Zp.isSupportedLanguageId)(t)?"parsing":"server";case"server":return"server";case"parsingandserver":default:return(0,Zp.isSupportedLanguageId)(t)?"parsingandserver":"server"}}o(Wj,"toApplicableBlockMode");var YC=class YC{};o(YC,"ConfigProvider");var ud=YC,JC=class JC extends ud{getConfig(t){return Jj(t)}getOptionalConfig(t){return UR(t)}dumpForTelemetry(){return{}}getLanguageConfig(t,r){let n=this.getConfig(t);return r&&r in n?n[r]:n["*"]}};o(JC,"DefaultsOnlyConfigProvider");var ey=JC;function Yj(e){return(e==null?void 0:e.type)==="object"&&"properties"in e}o(Yj,"isContributesObject");function Jj(e){let t=UR(e);if(t!==void 0)return t;throw new Error(`Missing config default value: ${Fm}.${e}`)}o(Jj,"getConfigDefaultForKey");function UR(e){try{let t=MR.contributes.configuration[0],r=[],n=`${Fm}.${e}`.split(".");for(;n.length>0;){r.push(n.shift());let s=t.properties[r.join(".")];if(Yj(s))r.length=0,t=s;else if(n.length==0&&(s==null?void 0:s.default)!==void 0)return s.default}}catch(t){throw new Error(`Error inspecting config default value ${Fm}.${e}: ${t}`)}}o(UR,"getOptionalConfigDefaultForKey");function M9(e,t){return e.get(ud).getConfig(t)}o(M9,"getConfig");function qR(e){return e.get(ud).dumpForTelemetry()}o(qR,"dumpForTelemetry");var XC=class XC{constructor(){this.packageJson=MR}isProduction(){return this.getBuildType()!="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};o(XC,"BuildInfo");var Il=XC;function $R(e){return e.get(Il).isProduction()}o($R,"isProduction");function GC(e){return e.get(Il).getBuildType()}o(GC,"getBuildType");function HR(e){return e.get(Il).getBuild()}o(HR,"getBuild");function VR(e){return e.get(Il).getVersion()}o(VR,"getVersion");var ZC=class ZC{constructor(t,r){this.sessionId=t;this.machineId=r}};o(ZC,"EditorSession");var da=ZC;function yc({name:e,version:t}){return`${e}/${t}`}o(yc,"formatNameAndVersion");var QC=class QC{};o(QC,"EditorAndPluginInfo");var Na=QC;function BC(e){let t=e.get(Na);return{"Editor-Version":yc(t.getEditorInfo()),"Editor-Plugin-Version":yc(t.getEditorPluginInfo())}}o(BC,"editorVersionHeaders");var ty=Sn(bp()),ry=Sn(require("os"));var Xj=require("events"),eE=class eE extends Xj{constructor(){super(),this.setMaxListeners(13)}emit(t,r,n){return super.emit(t,r,n)}};o(eE,"CopilotTokenNotifier");var mf=eE;var tE=class tE{constructor(t,r,n,s){this.trackingId=r,this.optedIn=n!=null?n:!1,this.ftFlag=s!=null?s:"",this.setupUpdateOnToken(t)}setupUpdateOnToken(t){t.get(mf).on("onCopilotToken",r=>{var u;let n=r.getTokenValue("rt")==="1",s=(u=r.getTokenValue("ft"))!=null?u:"",l=r.getTokenValue("tid"),a=r.organization_list,f=r.enterprise_list,c=r.getTokenValue("sku");l!==void 0&&(this.trackingId=l,this.organizationsList=a==null?void 0:a.toString(),this.enterpriseList=f==null?void 0:f.toString(),this.sku=c,this.optedIn=n,this.ftFlag=s)})}};o(tE,"TelemetryUserConfig");var yl=tE;var Zj=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function Qj(e){var n,s,l,a,f,c;let t={type:e.name,value:e.message},r=(n=e.stack)==null?void 0:n.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r!=null&&r.startsWith(e.toString()+`
`)){t.stacktrace=[];for(let u of r.slice(e.toString().length+1).split(/\n/).reverse()){let d=u.match(Zj),h={filename:"",function:""};d&&(h.function=(a=(l=(s=d[2])==null?void 0:s.trim())==null?void 0:l.replace(/^[^.]{1,2}(\.|$)/,"_$1"))!=null?a:h.function,h.filename=(c=(f=d[4])==null?void 0:f.trim())!=null?c:h.filename,d[5]&&d[5]!==":0"&&(h.lineno=d[5].slice(1)),d[6]&&d[5]!==":0"&&(h.colno=d[6].slice(1)),h.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(h.filename)),t.stacktrace.push(h)}}return t}o(Qj,"buildExceptionDetail");function ez(e,t){var a,f;let r=e.get(Na),n=r.getEditorInfo(),s=e.get(yl),l={"#editor":(a=n.devName)!=null?a:n.name,"#editor_version":yc({name:(f=n.devName)!=null?f:n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":yc(r.getEditorPluginInfo()),"#session_id":e.get(da).sessionId,"#machine_id":e.get(da).machineId,"#architecture":ry.arch(),"#os_platform":ry.platform(),...t};return s.trackingId&&(l.user=s.trackingId,l["#tracking_id"]=s.trackingId),l}o(ez,"buildContext");function jR(e,t){var u,d,h,m;let r=e.get(Il),n=e.get(Na).getEditorInfo(),s={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotIDEAgent",context:ez(e,{"#node_version":process.versions.node}),sensitive_context:{}},l=[];s.exception_detail=[];let a=0,f=t;for(;f instanceof Error&&a<10;){let p=Qj(f);s.exception_detail.unshift(p),l.unshift([f,p]),a+=1,f=f.cause}let c=[];for(let[p,v]of l)if(v.stacktrace&&v.stacktrace.length>0){c.push(`${v.type}: ${(u=p.code)!=null?u:""}`);let x=[...v.stacktrace].reverse();for(let E of x)if((d=E.filename)!=null&&d.startsWith("./dist/"))return s;for(let E of x)if(E.in_app){c.push(`${(h=E.filename)==null?void 0:h.replace(/^\.\//,"")}:${E.lineno}:${E.colno}`);break}c.push(`${(m=x[0].filename)==null?void 0:m.replace(/^\.\//,"")}`)}else return s;return s.exception_detail.length>0&&(s.rollup_id=(0,ty.SHA256)(ty.enc.Utf16.parse(c.join(`
`))).toString()),s}o(jR,"buildPayload");var ny=class ny{constructor(t){this.flags=t}static fromEnvironment(t){return new ny({debug:rz(process.argv,process.env),verboseLogging:nz(process.env),telemetryLogging:iz(process.env),testMode:t})}};o(ny,"RuntimeMode");var dd=ny;function q8(e){return e.get(dd).flags.testMode}o(q8,"isRunningInTest");function U9(e){return q8(e)}o(U9,"shouldFailForDebugPurposes");function zR(e){return e.get(dd).flags.verboseLogging}o(zR,"isVerboseLoggingEnabled");function rz(e,t){return e.includes("--debug")||rE(t,"GITHUB_COPILOT_DEBUG")}o(rz,"determineDebugFlag");function nz(e){return rE(e,"COPILOT_AGENT_VERBOSE")}o(nz,"determineVerboseLoggingEnabled");function iz(e){return rE(e,"COPILOT_LOG_TELEMETRY")}o(iz,"determineTelemetryLoggingEnabled");function rE(e,t){if(t in e){let r=e[t];return r==="1"||(r==null?void 0:r.toLowerCase())==="true"}return!1}o(rE,"determineEnvFlagEnabled");var XR=Sn(KR()),ZR=Sn(YR()),vc=Sn(require("os"));var Xa=(s=>(s[s.DEBUG=0]="DEBUG",s[s.INFO=1]="INFO",s[s.WARN=2]="WARN",s[s.ERROR=3]="ERROR",s))(Xa||{}),nE=class nE{constructor(t){this.logVerbose=t}};o(nE,"LogVerbose");var $8=nE;function JR(e){return e.get($8).logVerbose}o(JR,"verboseLogging");var iE=class iE{shouldLog(t,r){}};o(iE,"LogTarget");var H8=iE,sE=class sE extends H8{constructor(r){super();this.console=r}logIt(r,n,s,...l){n==3?this.console.error(s,...l):(n==2||JR(r))&&this.console.warn(s,...l)}};o(sE,"ConsoleLog");var oy=sE;var oE=class oE{constructor(t,r){this.minLoggedLevel=t,this.context=r}setLevel(t){this.minLoggedLevel=t}stringToLevel(t){return Xa[t]}log(t,r,...n){let s=t.get(H8),l=s.shouldLog(t,r);if(l===!1||l===void 0&&!this.shouldLog(t,r,this.context))return;let a=`[${this.context}]`;s.logIt(t,r,a,...n)}sendErrorTelemetry(t,r,n){q9(t,r,vs.createAndMarkAsIssued({context:this.context,level:Xa[3],message:n}),1)}telemetryMessage(...t){return t.length>0?JSON.stringify(t):"no msg"}shouldLog(t,r,n){var f,c;if(JR(t))return!0;let s=M9(t,O9.DebugFilterLogCategories);if(s.length>0&&!s.includes(n))return!1;if($R(t))return r>=this.minLoggedLevel;let l=M9(t,O9.DebugOverrideLogLevels),a=(c=(f=this.stringToLevel(l["*"]))!=null?f:this.stringToLevel(l[this.context]))!=null?c:this.minLoggedLevel;return r>=a}debug(t,...r){this.log(t,0,...r)}info(t,...r){this.log(t,1,...r)}warn(t,...r){this.log(t,2,...r)}error(t,...r){this.sendErrorTelemetry(t,"log",this.telemetryMessage(...r)),this.log(t,3,...r)}exception(t,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let s=n;n.startsWith(".")&&(s=n.substring(1),n=`${this.context}${n}`),Vf(t,r,n);let l=r instanceof Error?r:new Error("Non-error thrown: "+r);this.log(t,3,`${s}:`,l)}};o(oE,"Logger");var Zi=oE;var hd=new Zi(1,"default");var lE=class lE{constructor(t,r,n,s=!1){this.ctx=t;this.namespace=r;this.includeAuthorizationHeader=s;this.onCopilotToken=o(t=>{this.token=t;let r=t.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:(t,r)=>{var l;if(typeof t.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof t.data}`);let n=(l=t.headers)!=null?l:{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let s={method:"POST",headers:n,body:t.data,forceUseHelix:!0};this.ctx.get(Pa).fetch(t.urlString,s).then(a=>a.text().then(f=>{r(a.status,a.headers,f)})).catch(a=>{hd.error(this.ctx,"Error sending telemetry",a),r(0,{})})}};this.client=new ZR.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:t.get(Q5).getUrl(),extensionConfig:{[XR.BreezeChannelIdentifier]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=sz(t),this.commonProperties=oz(t),t.get(mf).on("onCopilotToken",this.onCopilotToken)}sendTelemetryEvent(t,r,n){r={...r,...this.commonProperties};let s=this.qualifyEventName(t);this.client.track({name:s,tags:this.tags,data:{...r,...n},baseType:"EventData",baseData:{name:s,properties:r,measurements:n}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(this.qualifyEventName(t),r,n)}async dispose(){this.ctx.get(mf).removeListener("onCopilotToken",this.onCopilotToken),await this.client.unload(!0,void 0,1)}qualifyEventName(t){return t.startsWith(this.namespace)?t:`${this.namespace}/${t}`}};o(lE,"AppInsightsReporter");var V8=lE;function sz(e){let t={},r=e.get(da);t["ai.session.id"]=r.sessionId;let n=e.get(yl);return n.trackingId&&(t["ai.user.id"]=n.trackingId),t["ai.cloud.roleInstance"]="REDACTED",t["ai.device.osVersion"]=`${vc.type()} ${vc.release()}`,t["ai.device.osArchitecture"]=vc.arch(),t["ai.device.osPlatform"]=vc.platform(),t["ai.cloud.role"]="Web",t["ai.application.ver"]=e.get(Il).getVersion(),t}o(sz,"getTags");function oz(e){let t={};t.common_os=vc.platform(),t.common_platformversion=vc.release();let r=e.get(da);return t.common_vscodemachineid=r.machineId,t.common_vscodesessionid=r.sessionId,t.common_uikind="desktop",t.common_remotename="none",t.common_isnewappinstall="",t}o(oz,"getCommonProperties");var QR="7d7048df-6dd0-4048-bb23-b716c1461f8f",ek="3fdd7f28-937a-48c8-9a21-ba337db23bd1",az="f0000000-0000-0000-0000-000000000000";async function fE(e,t,r){let n=e.get(zf).deactivate();if(r){let s=e.get(zf);s.setReporter(new V8(e,t,QR)),s.setRestrictedReporter(new V8(e,t,ek)),s.setFTReporter(new V8(e,t,az,!0))}await n}o(fE,"setupTelemetryReporters");var cE=class cE{async register(t){return t}};o(cE,"PromiseQueue");var pf=cE,uE=class uE extends pf{constructor(){super(...arguments);this.promises=[]}async register(r){return this.promises.push(r),r}async awaitPromises(){await Promise.all(this.promises)}};o(uE,"TestPromiseQueue");var ay=uE;var dE=class dE{sendTelemetryEvent(t,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(t,r,n,s){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};o(dE,"FailingTelemetryReporter");var $9=dE;var nk=require("os"),ik=Sn(require("path"));function H9(e){return e.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}o(H9,"redactPaths");var lz=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),fz=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/];function gE(e){if(lz.has(e))return e;for(let t of fz)if(t.test(e))return e;return H9(e).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}o(gE,"redactMessage");function ly(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(ly,"escapeForRegExp");var cz=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+ly((0,nk.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function hE(e){return e.replace(cz,"~")}o(hE,"redactHomeDir");var sk="[\\\\/]?([^:)]*)(?=:\\d)",tk=new RegExp(ly(ik.sep),"g"),rk=new RegExp(ly(__dirname.replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+sk,"gi");function mE(e,t,r=!1,n=[]){var f;let s=new Error(t(e));s.name=e.name,typeof e.syscall=="string"&&(s.syscall=e.syscall),typeof e.code=="string"&&(s.code=e.code),typeof e.errno=="number"&&(s.errno=e.errno),s.stack=void 0;let l=(f=e.stack)==null?void 0:f.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),a;for(let c of[e.toString(),`${e.name}: ${e.message}`])if(l!=null&&l.startsWith(c+`
`)){a=l.slice(c.length+1).split(/\n/);break}if(a){s.stack=s.toString();for(let c of a)if(rk.test(c))s.stack+=`
${H9(c.replace(rk,(u,d)=>"./"+d.replace(tk,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(c))s.stack+=`
${H9(c)}`;else{let u=!1;for(let{prefix:d,path:h}of n){let m=new RegExp(ly(h.replace(/[\\/]$/,""))+sk,"gi");if(m.test(c)){s.stack+=`
${H9(c.replace(m,(p,v)=>d+v.replace(tk,"/")))}`,u=!0;break}}if(u)continue;r?s.stack+=`
${hE(c)}`:s.stack+=`
    at [redacted]:0:0`}}else r&&l&&(s.stack=hE(l));return e.cause instanceof Error&&(s.cause=mE(e.cause,t,r,n)),s}o(mE,"cloneError");function ok(e){let t=e.message;return typeof e.path=="string"&&e.path.length>0&&(t=t.replaceAll(e.path,"<path>")),t}o(ok,"errorMessageWithoutPath");function ak(e,t){return mE(e,o(function(n){return hE(ok(n))},"prepareMessage"),!0,t)}o(ak,"prepareErrorForRestrictedTelemetry");function pE(e,t,r=!1){return mE(e,o(function(s){if(r)return gE(ok(s));let l="[redacted]";return s.syscall&&s.code!==void 0?l=`${H9(s.syscall.toString())} ${s.code} ${l}`:s instanceof L9&&s.erroredSysCall&&s.code!==void 0?l=`${s.erroredSysCall} ${s.code} ${l}`:s.code!==void 0&&(l=`${s.code} ${l}`),l},"prepareMessage"),!1,t)}o(pE,"redactError");function j8(e){return e===1}o(j8,"isRestricted");var uz=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"];var _E=class _E{getReporter(t,r=0){return j8(r)?this.getRestrictedReporter(t):this.reporter}getRestrictedReporter(t){if(cy(t))return this.reporterRestricted;if(U9(t))return new $9}getFTReporter(t){if(lk(t))return this.reporterFT;if(U9(t))return new $9}setReporter(t){this.reporter=t}setRestrictedReporter(t){this.reporterRestricted=t}setFTReporter(t){this.reporterFT=t}async deactivate(){let t=Promise.resolve();this.reporter&&(t=this.reporter.dispose(),this.reporter=void 0);let r=Promise.resolve();this.reporterRestricted&&(r=this.reporterRestricted.dispose(),this.reporterRestricted=void 0);let n=Promise.resolve();this.reporterFT&&(n=this.reporterFT.dispose(),this.reporterFT=void 0),await Promise.all([t,r,n])}};o(_E,"TelemetryReporters");var zf=_E,dz=Iu.Type.Object({},{additionalProperties:Iu.Type.String()}),hz=Iu.Type.Object({meanLogProb:Iu.Type.Optional(Iu.Type.Number()),meanAlternativeLogProb:Iu.Type.Optional(Iu.Type.Number())},{additionalProperties:Iu.Type.Number()}),gz=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function mz(e){var t;return gz.has((t=e.code)!=null?t:"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o(mz,"isOomError");function pz(e){return LR(e)?"network":mz(e)||e.code==="EMFILE"||e.code==="ENFILE"||e.syscall==="uv_cwd"&&(e.code==="ENOENT"||e.code=="EIO")||e.code==="CopilotPromptLoadFailure"||`${e.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}o(pz,"getErrorType");var xa=class xa{constructor(t,r,n){this.properties=t,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(t,r){return new xa(t||{},r||{},wu())}extendedBy(t,r){let n={...this.properties,...t},s={...this.measurements,...r},l=new xa(n,s,this.issuedTime);return l.displayedTime=this.displayedTime,l}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=wu())}async extendWithExpTelemetry(t){let{filters:r,exp:n}=await t.get(ta).getFallbackExpAndFilters();n.addToTelemetry(this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(t){this.properties.editor_version=yc(t.get(Na).getEditorInfo()),this.properties.editor_plugin_version=yc(t.get(Na).getEditorPluginInfo());let r=t.get(da);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${VR(t)}`,this.properties.runtime_version=`node/${process.versions.node}`;let n=t.get(Na);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=yc(n.getEditorInfo());let s=t.get(Pa);this.properties.fetcher=s.name;let l=s.proxySettings;this.properties.proxy_enabled=l?"true":"false",this.properties.proxy_auth=l!=null&&l.proxyAuth?"true":"false",this.properties.proxy_kerberos_spn=l!=null&&l.kerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=s.rejectUnauthorized?"true":"false"}extendWithConfigProperties(t){let r=qR(t);r["copilot.build"]=HR(t),r["copilot.buildType"]=GC(t);let n=t.get(yl);n.trackingId&&(r["copilot.trackingId"]=n.trackingId),n.organizationsList&&(r.organizations_list=n.organizationsList),n.enterpriseList&&(r.enterprise_list=n.enterpriseList),n.sku&&(r.sku=n.sku),this.properties={...this.properties,...r}}extendWithRequestId(t){let r={completionId:t.completionId,created:t.created.toString(),headerRequestId:t.headerRequestId,serverExperiments:t.serverExperiments,deploymentId:t.deploymentId};this.properties={...this.properties,...r}}static maybeRemoveRepoInfoFromPropertiesHack(t,r){if(j8(t))return r;let n={};for(let s in r)xa.keysToRemoveFromStandardTelemetryHack.includes(s)||(n[s]=r[s]);return n}sanitizeKeys(){this.properties=xa.sanitizeKeys(this.properties),this.measurements=xa.sanitizeKeys(this.measurements);for(let t in this.measurements)isNaN(this.measurements[t])&&delete this.measurements[t]}static sanitizeKeys(t){t=t||{};let r={};for(let n in t){let s=xa.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[s]=t[n]}return r}updateMeasurements(){let t=wu()-this.issuedTime;if(this.measurements.timeSinceIssuedMs=t,this.displayedTime!==void 0){let r=wu()-this.displayedTime;this.measurements.timeSinceDisplayedMs=r}this.measurements.current_time===void 0&&(this.measurements.current_time=xz())}validateData(t,r){var s;let n;if(xa.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...xa.validateTelemetryProperties.Errors(this.properties)])}),!xa.validateTelemetryMeasurements.Check(this.measurements)){let l=JSON.stringify([...xa.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:l}:(n.problem="both",n.error+=`; ${l}`)}if(n===void 0)return!0;if(U9(t))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return q9(t,"invalidTelemetryData",xa.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),j8(r)&&q9(t,"invalidTelemetryData_in_secure",xa.createAndMarkAsIssued({problem:n.problem,requestId:(s=this.properties.requestId)!=null?s:"unknown"}),0),!1}async makeReadyForSending(t,r,n){this.extendWithConfigProperties(t),this.extendWithEditorAgnosticFields(t),this.sanitizeKeys(),n==="IncludeExp"&&await this.extendWithExpTelemetry(t),this.updateMeasurements(),this.validateData(t,r)||(this.properties.telemetry_failed_validation="true"),Ez(t,this.properties)}};o(xa,"TelemetryData"),xa.validateTelemetryProperties=yE.TypeCompiler.Compile(dz),xa.validateTelemetryMeasurements=yE.TypeCompiler.Compile(hz),xa.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"],xa.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"];var vs=xa,V9=class V9 extends vs{constructor(r,n,s,l){super(r,n,s);this.filtersAndExp=l}extendedBy(r,n){let s={...this.properties,...r},l={...this.measurements,...n},a=new V9(s,l,this.issuedTime,this.filtersAndExp);return a.displayedTime=this.displayedTime,a}async extendWithExpTelemetry(r){this.filtersAndExp.exp.addToTelemetry(this),this.filtersAndExp.filters.addToTelemetry(this)}static createEmptyConfigForTesting(){return new V9({},{},0,{filters:new cd({}),exp:w1.createEmptyConfig()})}};o(V9,"TelemetryWithExp");var F9=V9;function fy(e,t,r,n){var s;(s=e.get(zf).getReporter(e,t))==null||s.sendTelemetryEvent(r,vs.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(fy,"sendTelemetryEvent");function yz(e,t,r,n){var s;(s=e.get(zf).getReporter(e,t))==null||s.sendTelemetryErrorEvent(r,vs.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(yz,"sendTelemetryErrorEvent");function vz(e,t,r,n){var s;(s=e.get(zf).getFTReporter(e))==null||s.sendTelemetryEvent(r,vs.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(vz,"sendFTTelemetryEvent");function xE(e){return e.isFimEnabled?{promptPrefixCharLen:e.prefix.length,promptSuffixCharLen:e.suffix.length}:{promptCharLen:e.prefix.length}}o(xE,"telemetrizePromptLength");function wu(){return Date.now()}o(wu,"now");function xz(){return Math.floor(wu()/1e3)}o(xz,"nowSeconds");var _z="https://copilot-telemetry.githubusercontent.com/telemetry",bE=class bE{constructor(t=_z){this.url=t}getUrl(){return this.url}setUrlForTesting(t){this.url=t}};o(bE,"TelemetryEndpointUrl");var Q5=bE;function cy(e){return e.get(yl).optedIn}o(cy,"shouldSendRestricted");function lk(e){return e.get(yl).ftFlag!==""}o(lk,"shouldSendFinetuningTelemetry");async function Di(e,t,r,n){await e.get(pf).register(bz(e,t,r,n))}o(Di,"telemetry");async function bz(e,t,r,n=0){let s=r||vs.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,n!=null?n:!1,"IncludeExp"),(!j8(n)||cy(e))&&fy(e,n,t,s),j8(n)&&uz.includes(t)&&lk(e)&&vz(e,n,t,s)}o(bz,"_telemetry");async function hN(e,t){await e.get(pf).register(Cz(e,t))}o(hN,"telemetryExpProblem");async function Cz(e,t){let r="expProblem",n=vs.createAndMarkAsIssued(t,{});await n.makeReadyForSending(e,0,"SkipExp"),fy(e,0,r,n)}o(Cz,"_telemetryExpProblem");function Ez(e,t){t.unique_id=X2();let r=e.get(Na);t.common_extname=r.getEditorPluginInfo().name,t.common_extversion=r.getEditorPluginInfo().version,t.common_vscodeversion=yc(r.getEditorInfo())}o(Ez,"addRequiredProperties");var CE=class CE extends Error{constructor(t){let r;try{r=JSON.stringify(t)}catch{r=t.toString()}super(r),this.name="CopilotNonError"}};o(CE,"CopilotNonError");var vE=CE;async function Vf(e,t,r,n,s){var a;let l;if(t instanceof Error){if(l=t,l.name==="Canceled"&&l.message==="Canceled"||l.name==="CodeExpectedError"||l instanceof I1)return}else if(l=new vE(t),(a=l.stack)!=null&&a.startsWith(`${l}
`)){let f=l.stack.slice(`${l}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(f[0])&&f.shift(),l.stack=`${l}
${f.join(`
`)}`}await e.get(pf).register(Tz(e,l,r,n,s))}o(Vf,"telemetryException");async function Tz(e,t,r,n,s){var m,p;let l=e.get(Na).getEditorInfo(),a;l.root&&(a=[{prefix:`${l.name}:`,path:l.root}]);let f=pE(t,a),c=cy(e),u=pz(t),d=u==="exception",h=vs.createAndMarkAsIssued({origin:r!=null?r:"",type:t.name,code:`${(m=t.code)!=null?m:""}`,reason:f.stack||f.toString(),message:f.message,...n});if(await h.makeReadyForSending(e,0,"IncludeExp"),s!=null&&s.exception_detail)for(let v of s.exception_detail)v.value&&(c?v.value=gE(v.value):v.value="[redacted]");if(s!=null||(s=jR(e,pE(t,a,c))),s.context={...s.context,"copilot_event.unique_id":h.properties.unique_id,"#restricted_telemetry":c?"true":"false"},r&&(s.context["#origin"]=r,s.transaction=r),s.rollup_id!=="auto"&&(h.properties.errno=s.rollup_id),s.created_at=new Date(h.issuedTime).toISOString(),c){let v=ak(t,a),x=vs.createAndMarkAsIssued({origin:r!=null?r:"",type:t.name,code:`${(p=t.code)!=null?p:""}`,reason:v.stack||v.toString(),message:v.message,...n});s.rollup_id!=="auto"&&(x.properties.errno=s.rollup_id),await x.makeReadyForSending(e,1,"IncludeExp"),x.properties.unique_id=h.properties.unique_id,h.properties.restricted_unique_id=x.properties.unique_id,fy(e,1,`error.${u}`,x)}d&&(h.properties.failbot_payload=JSON.stringify(s)),fy(e,0,`error.${u}`,h)}o(Tz,"_telemetryException");async function q9(e,t,r,n){await e.get(pf).register(Sz(e,t,r,n))}o(q9,"telemetryError");async function Sz(e,t,r,n=0){if(j8(n)&&!cy(e))return;let s=r||vs.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,n,"IncludeExp"),yz(e,n,t,s)}o(Sz,"_telemetryError");async function fk(e,t,r,n,s){var a;let l=vs.createAndMarkAsIssued({completionTextJson:JSON.stringify(t),choiceIndex:s.toString()});if(r.logprobs)for(let[f,c]of Object.entries(r.logprobs))l.properties["logprobs_"+f]=(a=JSON.stringify(c))!=null?a:"unset";l.extendWithRequestId(n),await Di(e,"engine.completion",l,1)}o(fk,"logEngineCompletion");async function ck(e,t,r){let n;t.isFimEnabled?n={promptPrefixJson:JSON.stringify(t.prefix),promptSuffixJson:JSON.stringify(t.suffix),promptElementRanges:JSON.stringify(t.promptElementRanges)}:n={promptJson:JSON.stringify(t.prefix),promptElementRanges:JSON.stringify(t.promptElementRanges)};let s=r.extendedBy(n);await Di(e,"engine.prompt",s,1)}o(ck,"logEnginePrompt");var EE=class EE{async startup(t){await this.isNewInstall(t)?(await this.handleInstall(t,await this.wasPreviouslyInstalled(t)),await this.markInstalled(t)):await this.isNewUpgrade(t)&&(await this.handleUpgrade(t),await this.markUpgraded(t))}async uninstall(t){return await this.handleUninstall(t)}async handleInstall(t,r){r?Di(t,"installed.reinstall"):Di(t,"installed.new")}async handleUpgrade(t){Di(t,"installed.upgrade")}async handleUninstall(t){Di(t,"uninstalled")}};o(EE,"InstallationManager");var uy=EE;var TE=class TE extends uy{async isNewInstall(t){throw new Error("not callable from an uninstall script")}async markInstalled(t){throw new Error("not callable from an uninstall script")}async wasPreviouslyInstalled(t){throw new Error("not callable from an uninstall script")}async isNewUpgrade(t){throw new Error("not callable from an uninstall script")}async markUpgraded(t){throw new Error("not callable from an uninstall script")}};o(TE,"VsCodeUninstallationManager");var dy=TE;var FM=require("child_process");var Fw=Sn(qf());var SE=class SE{constructor(){this.instances=new Map}get(t){let r=this.tryGet(t);if(r)return r;throw new Error(`No instance of ${t.name} has been registered.`)}tryGet(t){let r=this.instances.get(t);if(r)return r}set(t,r){if(this.tryGet(t))throw new Error(`An instance of ${t.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(t,r),this.instances.set(t,r)}forceSet(t,r){this.assertIsInstance(t,r),this.instances.set(t,r)}assertIsInstance(t,r){if(!(r instanceof t)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${t.name} is not an instance of it (${n}).`)}}};o(SE,"Context");var hy=SE;var IE=class IE{};o(IE,"NotificationSender");var j9=IE;var aie=Tk(),DE=class DE{};o(DE,"UrlOpener");var z9=DE;var Oz=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],Sk="Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.",Ik="https://gh.io/copilot-network-errors",LE=class LE{constructor(){this.notifiedErrorCodes=[]}async notifyUser(t,r){Oz.includes(r.code)&&!this.didNotifyBefore(r.code)&&(this.displayCertificateErrorNotification(t,r),this.notifiedErrorCodes.push(r.code))}displayCertificateErrorNotification(t,r){new Zi(3,"certificates").error(t,`${Sk} Please visit ${Ik} to learn more. Original cause: ${JSON.stringify(r)}`),this.showCertificateWarningMessage(t)}showCertificateWarningMessage(t){let r={title:"Learn more"};t.get(j9).showWarningMessage(Sk,r).then(n=>{(n==null?void 0:n.title)===r.title&&t.get(z9).open(Ik)})}didNotifyBefore(t){return this.notifiedErrorCodes.indexOf(t)!==-1}};o(LE,"UserErrorNotifier");var gd=LE;var FE=class FE{constructor(){this._cache=new Ys(100)}get(t){return this._cache.get(t)}set(t,r){this._cache.set(t,r)}clear(){this._cache.clear()}};o(FE,"CompletionsCache");var G8=FE;var OE=class OE{constructor(){this.previousLabel=0,this.previousLabelTimestamp=Date.now()-3600,this.probabilityAccept=0}};o(OE,"ContextualFilterManager");var K8=OE;var MY=Sn(qf()),UY=Sn(bp());var ME=class ME{async debounce(t){return this.state&&(clearTimeout(this.state.timer),this.state.reject(),this.state=void 0),new Promise((r,n)=>{this.state={timer:setTimeout(()=>r(),t),reject:n}})}};o(ME,"Debouncer");var vy=ME;async function*wk(e,t){for await(let r of e)yield t(r)}o(wk,"asyncIterableMap");async function*Ak(e,t){for await(let r of e)await t(r)&&(yield r)}o(Ak,"asyncIterableFilter");var KE=Sn(qf()),Kk=Sn(Hk()),W9=require("path"),Y9=Sn(W8());var Vk=require("events");var eG="github.com",Wie=`https://${eG}`;var VE=class VE{};o(VE,"NetworkConfiguration");var md=VE;var ase=new Zi(1,"auth");var Ase=new Zi(1,"auth"),jE=class jE{constructor(){this.tokenRefreshEventEmitter=new Vk.EventEmitter}async getGitHubToken(t){let r=await this.getGitHubSession(t);return r==null?void 0:r.token}};o(jE,"CopilotTokenManager");var vl=jE;var zE=require("os"),xy=require("path"),Y8=Sn(W8());function _y(e){return jk(e)}o(_y,"isSupportedUriScheme");function jk(e){return["file","notebook","vscode-notebook","vscode-notebook-cell"].includes(e)}o(jk,"isFsScheme");function zk(e){return jk(e.scheme)&&(!e.authority||(0,zE.platform)()=="win32")}o(zk,"isFsUri");function tG(e){if(zk(e))if((0,zE.platform)()==="win32"){let t=e.path;return e.authority?t=`//${e.authority}${e.path}`:/^\/[A-Za-z]:/.test(t)&&(t=t.substring(1)),(0,xy.normalize)(t)}else return e.authority?void 0:e.path}o(tG,"getFsPath");function K9(e,t){return zk(e)?Y8.URI.file((0,xy.resolve)(tG(e),t)):Y8.Utils.resolvePath(e,rG(t))}o(K9,"resolveFilePath");function rG(e){return nG(e)?e.replaceAll("\\","/"):e}o(rG,"pathToURIPath");function nG(e){return/^[^/\\]*\\/.test(e)}o(nG,"isWinPath");function Gk(e){return["notebook","vscode-notebook","vscode-notebook-cell"].includes(e.scheme)?Y8.Utils.dirname(e).with({scheme:"file",fragment:""}):Y8.Utils.dirname(e)}o(Gk,"dirname");async function Wk(e){var s,l;let r=(s=(await e.get(vl).getCopilotToken(e,!1)).organization_list)!=null?s:[];return(l=["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225","4535c7beffc844b46bb1ed4aa04d759a"].find(a=>r.includes(a)))!=null?l:""}o(Wk,"getUserKind");async function Yk(e){var r;return(r=(await e.get(vl).getCopilotToken(e,!1)).getTokenValue("ft"))!=null?r:""}o(Yk,"getFtFlag");async function Jk(e){var r;return(r=(await e.get(vl).getCopilotToken(e,!1)).getTokenValue("rag"))!=null?r:""}o(Jk,"getRagFlag");function Xk(e){var n;if(e===void 0||e===0)return"";let t=J9(e);if(t==="github/github")return t;let r=(n=iG(e))==null?void 0:n.toLowerCase();return r!==void 0?r:""}o(Xk,"getDogFood");function J9(e){if(e!==void 0&&e!==0&&e.hostname==="github.com")return e.owner+"/"+e.repo}o(J9,"tryGetGitHubNWO");function iG(e){if(e!==void 0&&e!==0&&(e.hostname.endsWith("azure.com")||e.hostname.endsWith("visualstudio.com")))return e.owner+"/"+e.repo}o(iG,"tryGetADONWO");async function WE(e,t){var u;let r=YE(e,t.uri),n=(u=J9(r))!=null?u:"",s=Xk(r),l=await Wk(e),a=await Yk(e),f=await Jk(e);return{repoNwo:n,userKind:l,dogFood:s,fileType:t.languageId,customModel:a,retrievalOrg:f}}o(WE,"getExPFilters");function YE(e,t){let r=Y9.Utils.dirname(t);return sG(e,r)}o(YE,"extractRepoInfoInBackground");var sG=cG(oG,1e4);async function oG(e,t){var c;if(!_y(t.scheme))return;let r=await lG(e,t.fsPath);if(!r)return;let n=e.get(KE.FileSystem),s=(0,W9.join)(r,".git","config"),l;try{l=await n.readFileString(Y9.URI.file(s))}catch{return}let a=(c=fG(l))!=null?c:"",f=aG(a);return f===void 0?{baseFolder:r,url:a,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:r,url:a,...f}}o(oG,"extractRepoInfo");function aG(e){let t={};try{if(t=(0,Kk.default)(e),t.host==""||t.owner==""||t.name==""||t.pathname=="")return}catch{return}return{hostname:t.host,owner:t.owner,repo:t.name,pathname:t.pathname}}o(aG,"parseRepoUrl");async function lG(e,t){let r=t+"_add_to_make_longer",n=e.get(KE.FileSystem);for(;t.length>1&&t.length<r.length;){let s=(0,W9.join)(t,".git","config"),l=!1;try{await n.stat(Y9.URI.file(s)),l=!0}catch{l=!1}if(l)return t;r=t,t=(0,W9.dirname)(t)}}o(lG,"getRepoBaseFolder");function fG(e){var c;let t=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,s=/^\s*\[/,l,a,f=!1;for(let u of e.split(`
`))if(f&&l!==void 0){if(l+=u,u.endsWith("\\"))l=l.substring(0,l.length-1);else if(f=!1,a==="origin")return l}else{let d=(c=u.match(t))!=null?c:u.match(r);if(d)a=d[1];else if(u.match(s))a=void 0;else{if(l&&a!=="origin")continue;{let h=u.match(n);if(h){if(l=h[1],l.endsWith("\\"))l=l.substring(0,l.length-1),f=!0;else if(a==="origin")return l}}}}return l}o(fG,"getRepoUrlFromConfigText");var JE=class JE{constructor(t){this.result=t}};o(JE,"CompletedComputation");var GE=JE;function cG(e,t){let r=new Ys(t),n=new Set;return(s,...l)=>{let a=JSON.stringify(l),f=r.get(a);if(f)return f.result;if(n.has(a))return 0;let c=e(s,...l);return n.add(a),c.then(u=>{r.set(a,new GE(u)),n.delete(a)}),0}}o(cG,"computeInBackgroundAndMemoize");async function XE(e,t,r){if(t instanceof by)return t;let n=e.get(ta);if(!r)try{let a=await WE(e,t);r=await n.updateExPValuesAndAssignments(a,vs.createAndMarkAsIssued())}catch(a){return a instanceof I1||hd.exception(e,a,"languageDetectionExperiment"),t}let s=n.useLanguageDetection(r),l=await e.get(N1).detectLanguage(t);return s?new by(t,l):t}o(XE,"decorateDocumentWithDetectedLanguage");var ZE=class ZE{constructor(t,r){this.delegateDocument=t;this.overrideLanguage=r}get uri(){return this.delegateDocument.uri}get vscodeUri(){return this.delegateDocument.vscodeUri}get languageId(){return this.overrideLanguage.isGuess&&this.overrideLanguage.languageId==="unknown"?this.delegateDocument.languageId:this.overrideLanguage.languageId}get version(){return this.delegateDocument.version}get lineCount(){return this.delegateDocument.lineCount}getText(t){return this.delegateDocument.getText(t)}lineAt(t){return this.delegateDocument.lineAt(t)}positionAt(t){return this.delegateDocument.positionAt(t)}offsetAt(t){return this.delegateDocument.offsetAt(t)}};o(ZE,"LanguageDetectionExperimentDocument");var by=ZE;var QE=class QE{};o(QE,"StatusReporter");var Au=QE;var Zk="https://repositorypolicy.azurewebsites.net/GetPolicy/v2";var Cy={isBlocked:!1,reason:"VALID_FILE"},Pu={isBlocked:!1,reason:"NO_MATCHING_POLICY"},X9={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"};var eT=class eT{};o(eT,"PolicyEvaluator");var J8=eT;var xf=Sn(jl());var Ey=new WeakMap;function Ty(e,t){if(e==null||typeof e!="object")return String(e);let r,n="",s=0,l=Object.prototype.toString.call(e);if(l!=="[object RegExp]"&&l!=="[object Date]"&&Ey.has(e))return Ey.get(e);switch(Ey.set(e,"~"+ ++t),l){case"[object Set]":r=Array.from(e);case"[object Array]":for(r||(r=e),n+="a";s<r.length;n+=Ty(r[s++],t));break;case"[object Object]":for(n+="o",r=Object.keys(e).sort();s<r.length;n+=r[s]+Ty(e[r[s++]],t));break;case"[object Map]":for(n+="o",r=Array.from(e.keys()).sort();s<r.length;n+=r[s]+Ty(e.get(r[s++]),t));break;case"[object Date]":return"d"+ +e;case"[object RegExp]":return"r"+e.source+e.flags;default:throw new Error(`Unsupported value ${e}`)}return Ey.set(e,n),n}o(Ty,"t");function Sy(e){return Ty(e,0)}o(Sy,"r");var tT=new WeakMap;function Qk(e,t,r=Sy(t)){let n,s,l=tT.get(e);l||(tT.set(e,l=[[],s=[],n=[]]),queueMicrotask(function(){let u,d=0;function h(m){for(;u=n[d++];u.r(m));}o(h,"o"),tT.delete(e),e(s).then(function(m){if(m.length!==n.length)return h(new Error("loader value length mismatch"));for(;u=m[d++],d<=m.length;u instanceof Error?n[d-1].r(u):n[d-1].s(u));},h)}));let a=l[0].indexOf(r);if(~a)return l[2][a].p;let f=l[0].push(r)-1,c=l[2][f]={};return l[1][f]=t,c.p=new Promise(function(u,d){c.s=u,c.r=d})}o(Qk,"n");var eB=new WeakMap;function uG(e,t,r,n=Sy(r)){if(t||(t=eB.get(e)),t||eB.set(e,t=new Map),t.has(n))return Promise.resolve(t.get(n));let s=Qk(e,r,n);return t.set(n,s),s.catch(()=>t.delete(n)),s}o(uG,"n");function Iy(e,t){return function(r,n){return uG(e,t,r,n)}}o(Iy,"o");var EB=Sn(hB(),1);var Q9=o(e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");var xG={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},e7=o(e=>e.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),_G=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),gB=o(e=>e.join(""),"rangesToString"),mB=o((e,t)=>{let r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],s=[],l=r+1,a=!1,f=!1,c=!1,u=!1,d=r,h="";e:for(;l<e.length;){let x=e.charAt(l);if((x==="!"||x==="^")&&l===r+1){u=!0,l++;continue}if(x==="]"&&a&&!c){d=l+1;break}if(a=!0,x==="\\"&&!c){c=!0,l++;continue}if(x==="["&&!c){for(let[E,[I,A,L]]of Object.entries(xG))if(e.startsWith(E,l)){if(h)return["$.",!1,e.length-r,!0];l+=E.length,L?s.push(I):n.push(I),f=f||A;continue e}}if(c=!1,h){x>h?n.push(e7(h)+"-"+e7(x)):x===h&&n.push(e7(x)),h="",l++;continue}if(e.startsWith("-]",l+1)){n.push(e7(x+"-")),l+=2;continue}if(e.startsWith("-",l+1)){h=x,l+=2;continue}n.push(e7(x)),l++}if(d<l)return["",!1,0,!1];if(!n.length&&!s.length)return["$.",!1,e.length-r,!0];if(s.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!u){let x=n[0].length===2?n[0].slice(-1):n[0];return[_G(x),!1,d-r,!1]}let m="["+(u?"^":"")+gB(n)+"]",p="["+(u?"":"^")+gB(s)+"]";return[n.length&&s.length?"("+m+"|"+p+")":n.length?m:p,f,d-r,!0]},"parseClass");var e3=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var bG=new Set(["!","?","+","*","@"]),pB=o(e=>bG.has(e),"isExtglobType"),CG="(?!(?:^|/)\\.\\.?(?:$|/))",wy="(?!\\.)",EG=new Set(["[","."]),TG=new Set(["..","."]),SG=new Set("().*{}+?[]^$\\!"),IG=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),sT="[^/]",yB=sT+"*?",vB=sT+"+?",_a,Ra,Nu,Fs,ha,t3,pd,r3,Ru,yd,t7,Py,xB,X8,Ay,r7,iT,Ny,_B,Za=class Za{constructor(t,r,n={}){Xi(this,Py);Xi(this,r7);fa(this,"type");Xi(this,_a,void 0);Xi(this,Ra,void 0);Xi(this,Nu,!1);Xi(this,Fs,[]);Xi(this,ha,void 0);Xi(this,t3,void 0);Xi(this,pd,void 0);Xi(this,r3,!1);Xi(this,Ru,void 0);Xi(this,yd,void 0);Xi(this,t7,!1);this.type=t,t&&Qi(this,Ra,!0),Qi(this,ha,r),Qi(this,_a,N0(this,ha)?N0(N0(this,ha),_a):this),Qi(this,Ru,N0(this,_a)===this?n:N0(N0(this,_a),Ru)),Qi(this,pd,N0(this,_a)===this?[]:N0(N0(this,_a),pd)),t==="!"&&!N0(N0(this,_a),r3)&&N0(this,pd).push(this),Qi(this,t3,N0(this,ha)?N0(N0(this,ha),Fs).length:0)}get hasMagic(){if(N0(this,Ra)!==void 0)return N0(this,Ra);for(let t of N0(this,Fs))if(typeof t!="string"&&(t.type||t.hasMagic))return Qi(this,Ra,!0);return N0(this,Ra)}toString(){return N0(this,yd)!==void 0?N0(this,yd):this.type?Qi(this,yd,this.type+"("+N0(this,Fs).map(t=>String(t)).join("|")+")"):Qi(this,yd,N0(this,Fs).map(t=>String(t)).join(""))}push(...t){for(let r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof Za&&N0(r,ha)===this))throw new Error("invalid part: "+r);N0(this,Fs).push(r)}}toJSON(){var r;let t=this.type===null?N0(this,Fs).slice().map(n=>typeof n=="string"?n:n.toJSON()):[this.type,...N0(this,Fs).map(n=>n.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===N0(this,_a)||N0(N0(this,_a),r3)&&((r=N0(this,ha))==null?void 0:r.type)==="!")&&t.push({}),t}isStart(){var r;if(N0(this,_a)===this)return!0;if(!((r=N0(this,ha))!=null&&r.isStart()))return!1;if(N0(this,t3)===0)return!0;let t=N0(this,ha);for(let n=0;n<N0(this,t3);n++){let s=N0(t,Fs)[n];if(!(s instanceof Za&&s.type==="!"))return!1}return!0}isEnd(){var r,n,s;if(N0(this,_a)===this||((r=N0(this,ha))==null?void 0:r.type)==="!")return!0;if(!((n=N0(this,ha))!=null&&n.isEnd()))return!1;if(!this.type)return(s=N0(this,ha))==null?void 0:s.isEnd();let t=N0(this,ha)?N0(N0(this,ha),Fs).length:0;return N0(this,t3)===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let r=new Za(this.type,t);for(let n of N0(this,Fs))r.copyIn(n);return r}static fromGlob(t,r={}){var s;let n=new Za(null,void 0,r);return gl(s=Za,X8,Ay).call(s,t,n,0,r),n}toMMPattern(){if(this!==N0(this,_a))return N0(this,_a).toMMPattern();let t=this.toString(),[r,n,s,l]=this.toRegExpSource();if(!(s||N0(this,Ra)||N0(this,Ru).nocase&&!N0(this,Ru).nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;let f=(N0(this,Ru).nocase?"i":"")+(l?"u":"");return Object.assign(new RegExp(`^${r}$`,f),{_src:r,_glob:t})}toRegExpSource(t){var c;let r=t!=null?t:!!N0(this,Ru).dot;if(N0(this,_a)===this&&gl(this,Py,xB).call(this),!this.type){let u=this.isStart()&&this.isEnd(),d=N0(this,Fs).map(v=>{var L;let[x,E,I,A]=typeof v=="string"?gl(L=Za,Ny,_B).call(L,v,N0(this,Ra),u):v.toRegExpSource(t);return Qi(this,Ra,N0(this,Ra)||I),Qi(this,Nu,N0(this,Nu)||A),x}).join(""),h="";if(this.isStart()&&typeof N0(this,Fs)[0]=="string"&&!(N0(this,Fs).length===1&&TG.has(N0(this,Fs)[0]))){let x=EG,E=r&&x.has(d.charAt(0))||d.startsWith("\\.")&&x.has(d.charAt(2))||d.startsWith("\\.\\.")&&x.has(d.charAt(4)),I=!r&&!t&&x.has(d.charAt(0));h=E?CG:I?wy:""}let m="";return this.isEnd()&&N0(N0(this,_a),r3)&&((c=N0(this,ha))==null?void 0:c.type)==="!"&&(m="(?:$|\\/)"),[h+d+m,e3(d),Qi(this,Ra,!!N0(this,Ra)),N0(this,Nu)]}let n=this.type==="*"||this.type==="+",s=this.type==="!"?"(?:(?!(?:":"(?:",l=gl(this,r7,iT).call(this,r);if(this.isStart()&&this.isEnd()&&!l&&this.type!=="!"){let u=this.toString();return Qi(this,Fs,[u]),this.type=null,Qi(this,Ra,void 0),[u,e3(this.toString()),!1,!1]}let a=!n||t||r||!wy?"":gl(this,r7,iT).call(this,!0);a===l&&(a=""),a&&(l=`(?:${l})(?:${a})*?`);let f="";if(this.type==="!"&&N0(this,t7))f=(this.isStart()&&!r?wy:"")+vB;else{let u=this.type==="!"?"))"+(this.isStart()&&!r&&!t?wy:"")+yB+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;f=s+l+u}return[f,e3(l),Qi(this,Ra,!!N0(this,Ra)),N0(this,Nu)]}};_a=new WeakMap,Ra=new WeakMap,Nu=new WeakMap,Fs=new WeakMap,ha=new WeakMap,t3=new WeakMap,pd=new WeakMap,r3=new WeakMap,Ru=new WeakMap,yd=new WeakMap,t7=new WeakMap,Py=new WeakSet,xB=o(function(){if(this!==N0(this,_a))throw new Error("should only call on root");if(N0(this,r3))return this;this.toString(),Qi(this,r3,!0);let t;for(;t=N0(this,pd).pop();){if(t.type!=="!")continue;let r=t,n=N0(r,ha);for(;n;){for(let s=N0(r,t3)+1;!n.type&&s<N0(n,Fs).length;s++)for(let l of N0(t,Fs)){if(typeof l=="string")throw new Error("string part in extglob AST??");l.copyIn(N0(n,Fs)[s])}r=n,n=N0(r,ha)}}return this},"#fillNegs"),X8=new WeakSet,Ay=o(function(t,r,n,s){var p,v;let l=!1,a=!1,f=-1,c=!1;if(r.type===null){let x=n,E="";for(;x<t.length;){let I=t.charAt(x++);if(l||I==="\\"){l=!l,E+=I;continue}if(a){x===f+1?(I==="^"||I==="!")&&(c=!0):I==="]"&&!(x===f+2&&c)&&(a=!1),E+=I;continue}else if(I==="["){a=!0,f=x,c=!1,E+=I;continue}if(!s.noext&&pB(I)&&t.charAt(x)==="("){r.push(E),E="";let A=new Za(I,r);x=gl(p=Za,X8,Ay).call(p,t,A,x,s),r.push(A);continue}E+=I}return r.push(E),x}let u=n+1,d=new Za(null,r),h=[],m="";for(;u<t.length;){let x=t.charAt(u++);if(l||x==="\\"){l=!l,m+=x;continue}if(a){u===f+1?(x==="^"||x==="!")&&(c=!0):x==="]"&&!(u===f+2&&c)&&(a=!1),m+=x;continue}else if(x==="["){a=!0,f=u,c=!1,m+=x;continue}if(pB(x)&&t.charAt(u)==="("){d.push(m),m="";let E=new Za(x,d);d.push(E),u=gl(v=Za,X8,Ay).call(v,t,E,u,s);continue}if(x==="|"){d.push(m),m="",h.push(d),d=new Za(null,r);continue}if(x===")")return m===""&&N0(r,Fs).length===0&&Qi(r,t7,!0),d.push(m),m="",r.push(...h,d),u;m+=x}return r.type=null,Qi(r,Ra,void 0),Qi(r,Fs,[t.substring(n-1)]),u},"#parseAST"),r7=new WeakSet,iT=o(function(t){return N0(this,Fs).map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,s,l,a]=r.toRegExpSource(t);return Qi(this,Nu,N0(this,Nu)||a),n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")},"#partsToRegExp"),Ny=new WeakSet,_B=o(function(t,r,n=!1){let s=!1,l="",a=!1;for(let f=0;f<t.length;f++){let c=t.charAt(f);if(s){s=!1,l+=(SG.has(c)?"\\":"")+c;continue}if(c==="\\"){f===t.length-1?l+="\\\\":s=!0;continue}if(c==="["){let[u,d,h,m]=mB(t,f);if(h){l+=u,a=a||d,f+=h-1,r=r||m;continue}}if(c==="*"){n&&t==="*"?l+=vB:l+=yB,r=!0;continue}if(c==="?"){l+=sT,r=!0;continue}l+=IG(c)}return[l,e3(t),!!r,a]},"#parseGlob"),Xi(Za,X8),Xi(Za,Ny),o(Za,"AST");var Z8=Za;var oT=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var Qa=o((e,t,r={})=>(Q9(t),!r.nocomment&&t.charAt(0)==="#"?!1:new Q8(t,r).match(e)),"minimatch"),wG=/^\*+([^+@!?\*\[\(]*)$/,AG=o(e=>t=>!t.startsWith(".")&&t.endsWith(e),"starDotExtTest"),PG=o(e=>t=>t.endsWith(e),"starDotExtTestDot"),NG=o(e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),"starDotExtTestNocase"),RG=o(e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),"starDotExtTestNocaseDot"),kG=/^\*+\.\*+$/,BG=o(e=>!e.startsWith(".")&&e.includes("."),"starDotStarTest"),DG=o(e=>e!=="."&&e!==".."&&e.includes("."),"starDotStarTestDot"),LG=/^\.\*+$/,FG=o(e=>e!=="."&&e!==".."&&e.startsWith("."),"dotStarTest"),OG=/^\*+$/,MG=o(e=>e.length!==0&&!e.startsWith("."),"starTest"),UG=o(e=>e.length!==0&&e!=="."&&e!=="..","starTestDot"),qG=/^\?+([^+@!?\*\[\(]*)?$/,$G=o(([e,t=""])=>{let r=TB([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocase"),HG=o(([e,t=""])=>{let r=SB([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocaseDot"),VG=o(([e,t=""])=>{let r=SB([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTestDot"),jG=o(([e,t=""])=>{let r=TB([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTest"),TB=o(([e])=>{let t=e.length;return r=>r.length===t&&!r.startsWith(".")},"qmarksTestNoExt"),SB=o(([e])=>{let t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),IB=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",bB={win32:{sep:"\\"},posix:{sep:"/"}},zG=IB==="win32"?bB.win32.sep:bB.posix.sep;Qa.sep=zG;var Kf=Symbol("globstar **");Qa.GLOBSTAR=Kf;var GG="[^/]",KG=GG+"*?",WG="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",YG="(?:(?!(?:\\/|^)\\.).)*?",JG=o((e,t={})=>r=>Qa(r,e,t),"filter");Qa.filter=JG;var Gf=o((e,t={})=>Object.assign({},e,t),"ext"),XG=o(e=>{var n,s;if(!e||typeof e!="object"||!Object.keys(e).length)return Qa;let t=Qa;return Object.assign(o((l,a,f={})=>t(l,a,Gf(e,f)),"m"),{Minimatch:(n=class extends t.Minimatch{constructor(a,f={}){super(a,Gf(e,f))}static defaults(a){return t.defaults(Gf(e,a)).Minimatch}},o(n,"Minimatch"),n),AST:(s=class extends t.AST{constructor(a,f,c={}){super(a,f,Gf(e,c))}static fromGlob(a,f={}){return t.AST.fromGlob(a,Gf(e,f))}},o(s,"AST"),s),unescape:(l,a={})=>t.unescape(l,Gf(e,a)),escape:(l,a={})=>t.escape(l,Gf(e,a)),filter:(l,a={})=>t.filter(l,Gf(e,a)),defaults:l=>t.defaults(Gf(e,l)),makeRe:(l,a={})=>t.makeRe(l,Gf(e,a)),braceExpand:(l,a={})=>t.braceExpand(l,Gf(e,a)),match:(l,a,f={})=>t.match(l,a,Gf(e,f)),sep:t.sep,GLOBSTAR:Kf})},"defaults");Qa.defaults=XG;var wB=o((e,t={})=>(Q9(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,EB.default)(e)),"braceExpand");Qa.braceExpand=wB;var ZG=o((e,t={})=>new Q8(e,t).makeRe(),"makeRe");Qa.makeRe=ZG;var QG=o((e,t,r={})=>{let n=new Q8(t,r);return e=e.filter(s=>n.match(s)),n.options.nonull&&!e.length&&e.push(t),e},"match");Qa.match=QG;var CB=/[?*]|[+@!]\(.*?\)|\[|\]/,eK=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),aT=class aT{constructor(t,r={}){fa(this,"options");fa(this,"set");fa(this,"pattern");fa(this,"windowsPathsNoEscape");fa(this,"nonegate");fa(this,"negate");fa(this,"comment");fa(this,"empty");fa(this,"preserveMultipleSlashes");fa(this,"partial");fa(this,"globSet");fa(this,"globParts");fa(this,"nocase");fa(this,"isWindows");fa(this,"platform");fa(this,"windowsNoMagicRoot");fa(this,"regexp");Q9(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||IB,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...l)=>console.error(...l)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(l=>this.slashSplit(l));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let s=this.globParts.map((l,a,f)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=l[0]===""&&l[1]===""&&(l[2]==="?"||!CB.test(l[2]))&&!CB.test(l[3]),u=/^[a-z]:/i.test(l[0]);if(c)return[...l.slice(0,4),...l.slice(4).map(d=>this.parse(d))];if(u)return[l[0],...l.slice(1).map(d=>this.parse(d))]}return l.map(c=>this.parse(c))});if(this.debug(this.pattern,s),this.set=s.filter(l=>l.indexOf(!1)===-1),this.isWindows)for(let l=0;l<this.set.length;l++){let a=this.set[l];a[0]===""&&a[1]===""&&this.globParts[l][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let s=0;s<t[n].length;s++)t[n][s]==="**"&&(t[n][s]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let s=n;for(;r[s+1]==="**";)s++;s!==n&&r.splice(n,s-n)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((n,s)=>{let l=n[n.length-1];return s==="**"&&l==="**"?n:s===".."&&l&&l!==".."&&l!=="."&&l!=="**"?(n.pop(),n):(n.push(s),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let s=1;s<t.length-1;s++){let l=t[s];s===1&&l===""&&t[0]===""||(l==="."||l==="")&&(r=!0,t.splice(s,1),s--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){let s=t[n-1];s&&s!=="."&&s!==".."&&s!=="**"&&(r=!0,t.splice(n-1,2),n-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let n of t){let s=-1;for(;(s=n.indexOf("**",s+1))!==-1;){let a=s;for(;n[a+1]==="**";)a++;a>s&&n.splice(s+1,a-s);let f=n[s+1],c=n[s+2],u=n[s+3];if(f!==".."||!c||c==="."||c===".."||!u||u==="."||u==="..")continue;r=!0,n.splice(s,1);let d=n.slice(0);d[s]="**",t.push(d),s--}if(!this.preserveMultipleSlashes){for(let a=1;a<n.length-1;a++){let f=n[a];a===1&&f===""&&n[0]===""||(f==="."||f==="")&&(r=!0,n.splice(a,1),a--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let l=0;for(;(l=n.indexOf("..",l+1))!==-1;){let a=n[l-1];if(a&&a!=="."&&a!==".."&&a!=="**"){r=!0;let c=l===1&&n[l+1]==="**"?["."]:[];n.splice(l-1,2,...c),n.length===0&&n.push(""),l-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){let s=this.partsMatch(t[r],t[n],!this.preserveMultipleSlashes);s&&(t[r]=s,t[n]=[])}return t.filter(r=>r.length)}partsMatch(t,r,n=!1){let s=0,l=0,a=[],f="";for(;s<t.length&&l<r.length;)if(t[s]===r[l])a.push(f==="b"?r[l]:t[s]),s++,l++;else if(n&&t[s]==="**"&&r[l]===t[s+1])a.push(t[s]),s++;else if(n&&r[l]==="**"&&t[s]===r[l+1])a.push(r[l]),l++;else if(t[s]==="*"&&r[l]&&(this.options.dot||!r[l].startsWith("."))&&r[l]!=="**"){if(f==="b")return!1;f="a",a.push(t[s]),s++,l++}else if(r[l]==="*"&&t[s]&&(this.options.dot||!t[s].startsWith("."))&&t[s]!=="**"){if(f==="a")return!1;f="b",a.push(r[l]),s++,l++}else return!1;return t.length===r.length&&a}parseNegate(){if(this.nonegate)return;let t=this.pattern,r=!1,n=0;for(let s=0;s<t.length&&t.charAt(s)==="!";s++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n=!1){let s=this.options;if(this.isWindows){let x=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),E=!x&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),I=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),A=!I&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),L=E?3:x?0:void 0,D=A?3:I?0:void 0;if(typeof L=="number"&&typeof D=="number"){let[R,V]=[t[L],r[D]];R.toLowerCase()===V.toLowerCase()&&(r[D]=R,D>L?r=r.slice(D):L>D&&(t=t.slice(L)))}}let{optimizationLevel:l=1}=this.options;l>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var a=0,f=0,c=t.length,u=r.length;a<c&&f<u;a++,f++){this.debug("matchOne loop");var d=r[f],h=t[a];if(this.debug(r,d,h),d===!1)return!1;if(d===Kf){this.debug("GLOBSTAR",[r,d,h]);var m=a,p=f+1;if(p===u){for(this.debug("** at the end");a<c;a++)if(t[a]==="."||t[a]===".."||!s.dot&&t[a].charAt(0)===".")return!1;return!0}for(;m<c;){var v=t[m];if(this.debug(`
globstar while`,t,m,r,p,v),this.matchOne(t.slice(m),r.slice(p),n))return this.debug("globstar found match!",m,c,v),!0;if(v==="."||v===".."||!s.dot&&v.charAt(0)==="."){this.debug("dot detected!",t,m,r,p);break}this.debug("globstar swallow a segment, and continue"),m++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,m,r,p),m===c))}let x;if(typeof d=="string"?(x=h===d,this.debug("string match",d,h,x)):(x=d.test(h),this.debug("pattern match",d,h,x)),!x)return!1}if(a===c&&f===u)return!0;if(a===c)return n;if(f===u)return a===c-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return wB(this.pattern,this.options)}parse(t){Q9(t);let r=this.options;if(t==="**")return Kf;if(t==="")return"";let n,s=null;(n=t.match(OG))?s=r.dot?UG:MG:(n=t.match(wG))?s=(r.nocase?r.dot?RG:NG:r.dot?PG:AG)(n[1]):(n=t.match(qG))?s=(r.nocase?r.dot?HG:$G:r.dot?VG:jG)(n):(n=t.match(kG))?s=r.dot?DG:BG:(n=t.match(LG))&&(s=FG);let l=Z8.fromGlob(t,this.options).toMMPattern();return s?Object.assign(l,{test:s}):l}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?KG:r.dot?WG:YG,s=new Set(r.nocase?["i"]:[]),l=t.map(c=>{let u=c.map(d=>{if(d instanceof RegExp)for(let h of d.flags.split(""))s.add(h);return typeof d=="string"?eK(d):d===Kf?Kf:d._src});return u.forEach((d,h)=>{let m=u[h+1],p=u[h-1];d!==Kf||p===Kf||(p===void 0?m!==void 0&&m!==Kf?u[h+1]="(?:\\/|"+n+"\\/)?"+m:u[h]=n:m===void 0?u[h-1]=p+"(?:\\/|"+n+")?":m!==Kf&&(u[h-1]=p+"(?:\\/|\\/"+n+"\\/)"+m,u[h+1]=Kf))}),u.filter(d=>d!==Kf).join("/")}).join("|"),[a,f]=t.length>1?["(?:",")"]:["",""];l="^"+a+l+f+"$",this.negate&&(l="^(?!"+l+").+$");try{this.regexp=new RegExp(l,[...s].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;this.isWindows&&(t=t.split("\\").join("/"));let s=this.slashSplit(t);this.debug(this.pattern,"split",s);let l=this.set;this.debug(this.pattern,"set",l);let a=s[s.length-1];if(!a)for(let f=s.length-2;!a&&f>=0;f--)a=s[f];for(let f=0;f<l.length;f++){let c=l[f],u=s;if(n.matchBase&&c.length===1&&(u=[a]),this.matchOne(u,c,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return Qa.defaults(t).Minimatch}};o(aT,"Minimatch");var Q8=aT;Qa.AST=Z8;Qa.Minimatch=Q8;Qa.escape=oT;Qa.unescape=e3;var Oy=Sn(qf()),vd=Sn(W8());var AB=require("child_process");var tK=new Zi(1,"repository"),By=class By{constructor(){this.data={}}getKeys(){return Object.keys(this.data)}getEntries(){return Object.entries(this.data)}get(t){let r=this.getAll(t);return r?r[r.length-1]:void 0}getAll(t){return this.data[this.normalizeKey(t)]}add(t,r){t in this.data||(this.data[t]=[]),this.data[t].push(r)}getSectionValues(t,r){let n=`${t}.`.toLowerCase(),s=`.${r}`.toLowerCase();return Object.keys(this.data).filter(l=>l.startsWith(n)&&l.endsWith(s)).map(l=>l.slice(n.length,-s.length))}concat(t){return this.getEntries().concat(t.getEntries()).reduce((r,[n,s])=>(s.forEach(l=>r.add(n,l)),r),new By)}normalizeKey(t){let r=t.split(".");return r[0]=r[0].toLowerCase(),r[r.length-1]=r[r.length-1].toLowerCase(),r.join(".")}};o(By,"GitConfigData");var e6=By,lT=class lT{};o(lT,"GitConfigLoader");var xc=lT,fT=class fT extends xc{runCommand(t,r,n){return new Promise((s,l)=>{(0,AB.execFile)(r,n,{cwd:t},(a,f)=>{a?l(a):s(f)})})}async tryRunCommand(t,r,n,s){try{return await this.runCommand(r,n,s)}catch(l){tK.info(t,`Failed to run command '${n}' in ${r}: ${l}`);return}}async getConfig(t,r){let n=await this.tryRunCommand(t,r.fsPath,"git",["config","--list","--null",...this.extraArgs()]);return n?this.extractConfig(n):void 0}extractConfig(t){let r=new e6;for(let n of t.split("\0").filter(s=>s)){let s=n.split(`
`,1)[0],l=n.slice(s.length+1);r.add(s,l)}return r}extraArgs(){return[]}};o(fT,"GitCLIConfigLoader");var Ry=fT,cT=class cT extends xc{constructor(r){super();this.loaders=r}async getConfig(r,n){for(let s of this.loaders){let l=await s.getConfig(r,n);if(l)return l}}};o(cT,"GitFallbackConfigLoader");var ky=cT;var PB=require("os"),uT=Sn(W8());var dT=class dT{constructor(t){this.url=t;this.isUrl()?this.parseUrl():this.tryParseSSHString()||(this._scheme="file")}get scheme(){return this._scheme}get authority(){return this._authority}get hostname(){return this._hostname}get path(){return this._path}isInvalid(){return this._error!==void 0}isRemote(){return this.scheme!=="file"&&this.hostname!==void 0}isGitHub(){var t;return this.isRemote()&&/(?:^|\.)(?:github\.com|ghe\.com)$/i.test((t=this.hostname)!=null?t:"")}isADO(){var t;return this.isRemote()&&/(?:^|\.)(?:visualstudio\.com|azure\.com)$/i.test((t=this.hostname)!=null?t:"")}getUrlForApi(){if(!this.isRemote())return null;if(this.isUrl()&&!this.isInvalid())return uT.URI.from({scheme:this.scheme,authority:this.authority.replace(/^[^@]+@/,""),path:this.path}).toString();if(this.scheme=="ssh"&&this.isADO()){let t=this.url.indexOf(":");return this.url.substring(0,t+1)+this.path}return this.url}isUrl(){return/[A-Za-z0-9][A-Za-z0-9]+:\/\//.test(this.url)}parseUrl(){let t;try{t=uT.URI.parse(this.url)}catch(r){this._error=r;return}this._scheme=t.scheme,this.setAuthority(t.authority),this.setPath(t.path)}setAuthority(t){this._authority=t;let r=t.replace(/^[^@]+@/,"").replace(/:\d*$/,"");r&&(this._hostname=r)}tryParseSSHString(){var r,n,s,l,a;let t=/^(?<host>[^:/\\[]*(?:\[[^/\\\]]*\])?):/.exec(this.url);if(t&&((0,PB.platform)()!=="win32"||((s=(n=(r=t.groups)==null?void 0:r.host)==null?void 0:n.length)!=null?s:0)>1)){let f=(a=(l=t.groups)==null?void 0:l.host)!=null?a:"";return this._scheme="ssh",this.setAuthority(f),this.setPath(this.url.substring(f.length+1)),!0}return!1}setPath(t){if(this.isADO())try{this._path=decodeURIComponent(t);return}catch{}this._path=t}};o(dT,"GitRemoteUrl");var Dy=dT;var hT=class hT{async resolveRemote(t,r){var a,f,c,u;let n=await t.get(xc).getConfig(t,r);if(!n)return;let s=this.getRemotes(n),l=s.filter(d=>d.url.isGitHub());if(l.length)return(f=(a=l.find(d=>d.name==="origin"))==null?void 0:a.url)!=null?f:l[0].url;if(s.length)return(u=(c=s.find(d=>d.name==="origin"))==null?void 0:c.url)!=null?u:s[0].url}getRemotes(t){let r=this.getInsteadOfRules(t);return t.getSectionValues("remote","url").map(n=>{var s;return{name:n,url:new Dy(this.applyInsteadOfRules(r,(s=t.get(`remote.${n}.url`))!=null?s:""))}}).filter(n=>n.url.isRemote())}applyInsteadOfRules(t,r){for(let n of t)if(r.startsWith(n.base))return n.insteadOf+r.slice(n.base.length);return r}getInsteadOfRules(t){return t.getSectionValues("url","insteadof").map(r=>({base:r,insteadOf:t.get(`url.${r}.insteadof`)})).sort((r,n)=>n.base.length-r.base.length)}};o(hT,"GitRemoteResolver");var Ly=hT;var rK=100,mT=class mT{constructor(t,r){this.baseFolder=t;this.remote=r;this.setNWO()}get tenant(){return this._tenant}get owner(){return this._owner}get name(){return this._name}get adoOrganization(){return this._adoOrganization}isGitHub(){var t,r;return(r=(t=this.remote)==null?void 0:t.isGitHub())!=null?r:!1}isADO(){var t,r;return(r=(t=this.remote)==null?void 0:t.isADO())!=null?r:!1}setNWO(){var r,n,s,l,a,f,c,u,d,h;let t=(n=(r=this.remote)==null?void 0:r.path)==null?void 0:n.replace(/^\//,"").split("/");if(this.isGitHub()){this._owner=t==null?void 0:t[0],this._name=(s=t==null?void 0:t[1])==null?void 0:s.replace(/\.git$/,"");let m=/^(?<tenant>[^.]+)\.ghe\.com$/.exec((a=(l=this.remote)==null?void 0:l.hostname)!=null?a:"");m&&(this._tenant=(f=m.groups)==null?void 0:f.tenant)}else if(this.isADO()&&(t==null?void 0:t.length)===4){if(((c=this.remote)==null?void 0:c.scheme)==="ssh"){this._adoOrganization=t==null?void 0:t[1],this._owner=t==null?void 0:t[2],this._name=t==null?void 0:t[3];return}let m=/(?:(?<org>[^.]+)\.)?visualstudio\.com$/.exec((d=(u=this.remote)==null?void 0:u.hostname)!=null?d:"");m?(this._adoOrganization=(h=m.groups)==null?void 0:h.org,this._owner=t==null?void 0:t[1],this._name=t==null?void 0:t[3]):(this._adoOrganization=t==null?void 0:t[0],this._owner=t==null?void 0:t[1],this._name=t==null?void 0:t[3])}}};o(mT,"GitRepository");var gT=mT,Fy=class Fy{constructor(t){this.ctx=t;this.remoteResolver=new Ly;this.cache=new Ys(rK)}async getRepo(t){let r,n=[];do{if(this.cache.has(t.toString())){let l=this.cache.get(t.toString());return this.updateCache(n,l),l}n.push(t.toString());let s=await this.tryGetRepoForFolder(t);if(s)return this.updateCache(n,s),s;r=t,t=Gk(t)}while(t!==r);this.updateCache(n,void 0)}updateCache(t,r){t.forEach(n=>this.cache.set(n,r))}async tryGetRepoForFolder(t){return await this.isBaseRepoFolder(t)?new gT(t,await this.repoUrl(t)):void 0}async isBaseRepoFolder(t){return await Fy.getRepoConfigLocation(this.ctx,t)!==void 0}async repoUrl(t){return await this.remoteResolver.resolveRemote(this.ctx,t)}static async getRepoConfigLocation(t,r){try{let n=t.get(Oy.FileSystem),s=vd.Utils.joinPath(r,".git");if((await n.stat(s)).type&Oy.FileType.File)return await this.getConfigLocationForGitfile(n,r,s);let a=vd.Utils.joinPath(s,"config");return await n.stat(a),a}catch{return}}static async getConfigLocationForGitfile(t,r,n){let l=(await t.readFileString(n)).match(/^gitdir:\s+(.+)$/m);if(!l)return;let a=K9(r,l[1]),f=vd.Utils.joinPath(a,"config");if(await this.tryStat(t,f)!==void 0)return f;let c=vd.Utils.joinPath(a,"config.worktree");if(await this.tryStat(t,c)!==void 0)return c;let u=vd.Utils.joinPath(a,"commondir");a=K9(a,(await t.readFileString(u)).trimEnd());let d=vd.Utils.joinPath(a,"config");return await t.stat(d),d}static async tryStat(t,r){try{return await t.stat(r)}catch{return}}};o(Fy,"RepositoryManager");var R1=Fy;var VT=Sn(nD());var fv=o((e,t)=>{if(VT.Value.Check(e,t))return t;let n=`Typebox schema validation failed:
${[...VT.Value.Errors(e,t)].map(s=>`${s.path} ${s.message}`).join(`
`)}`;throw new Error(n)},"assertShape");var jT="contentExclusion",Jf,_d,i6,uv,iD,a7,dv,sD,l7,zT,GT=class GT extends J8{constructor(r){super();Xi(this,uv);Xi(this,dv);Xi(this,l7);Xi(this,Jf,void 0);Xi(this,_d,new Ys(1e4));Xi(this,i6,new Ys(200));Xi(this,a7,Iy(async r=>{let n=await N0(this,Jf).get(vl).getGitHubSession(N0(this,Jf));if(!n)throw new I1("No token found");let s=N0(this,Jf).get(md).getContentRestrictionsUrl(n),l=new URL(s);l.searchParams.set("repos",r.join(","));let a=await N0(this,Jf).get(Pa).fetch(l.href,{method:"GET",headers:{Authorization:`token ${n.token}`}}),f=await a.json();if(!a.ok){if(a.status===404)return Array.from(r,()=>[]);throw gl(this,l7,zT).call(this,"fetch.error",{message:f.message}),new ld(a)}return gl(this,l7,zT).call(this,"fetch.success"),fv(cY,f).map(c=>c.rules)},N0(this,i6)));Qi(this,Jf,r)}async evaluate(r){let n=r.fsPath;if(N0(this,_d).has(n))return N0(this,_d).get(n);try{let l=await gl(this,dv,sD).call(this,r);if(!l)return Pu;let a=r.path.replace(l.baseFolder.path,"");var s=await this.evaluateFileFromRepo(a,l.url)}catch(l){return Vf(N0(this,Jf),l,`${jT}.evaluate`),X9}return N0(this,_d).set(n,s),s}async evaluateFileFromRepo(r,n){let s=await gl(this,uv,iD).call(this,n);if(!s)return Pu;for(let l of s)for(let a of l.paths)if(Qa(r,a,{nocase:!0,matchBase:!0,nonegate:!0,dot:!0}))return sY(l);return Cy}async refresh(){try{let r=[...N0(this,i6).keys()];this.reset(),await Promise.all(r.map(n=>N0(this,a7).call(this,n)))}catch(r){Vf(N0(this,Jf),r,`${jT}.refresh`)}}reset(){N0(this,i6).clear(),N0(this,_d).clear()}};Jf=new WeakMap,_d=new WeakMap,i6=new WeakMap,uv=new WeakSet,iD=o(async function(r){let n=await N0(this,a7).call(this,r.toLowerCase());if(n.length!==0)return n},"#rulesForRepo"),a7=new WeakMap,dv=new WeakSet,sD=o(async function(r){let s=await N0(this,Jf).get(R1).getRepo(r);if(!s||!(s!=null&&s.remote))return;let l=s.remote.getUrlForApi();if(l)return{baseFolder:s.baseFolder,url:l}},"#getGitRepo"),l7=new WeakSet,zT=o(function(r,n,s){Di(N0(this,Jf),`${jT}.${r}`,vs.createAndMarkAsIssued(n,s))},"#telemetry"),o(GT,"CopilotContentRestrictions");var cv=GT;function sY(e){return{isBlocked:!0,reason:"FILE_BLOCKED",message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`}}o(sY,"fileBlockedEvaluationResult");var oY=xf.Type.Object({name:xf.Type.String(),type:xf.Type.Union([xf.Type.Literal("Organization"),xf.Type.Literal("Repository")])}),aY=xf.Type.Object({paths:xf.Type.Array(xf.Type.String()),source:oY}),lY=xf.Type.Array(aY),fY=xf.Type.Object({rules:lY,last_updated_at:xf.Type.String()}),cY=xf.Type.Array(fY);var ga=Sn(jl());var WT=class WT extends J8{constructor(r){super();this.ctx=r;this.repoUriToPolicyMap=new Map;this.ruleLoaderCache=new Ys(200);this.requestStatus={status:"initial"};this.initialWaitMs=30*1e3;this.maxRetryCount=3;this.ruleLoader=Iy(async r=>{let n=new URL(Zk),s=await this.ctx.get(vl).getGitHubToken(this.ctx);if(!s)throw new I1("No GitHub token found");let l=this.ctx.get(da),a=this.ctx.get(Na),f=this.ctx.get(yl),c=this.ctx.get(Pa),u={trackingid:`${f.trackingId}`,githubtoken:`${s}`,machineid:`${l.machineId}`,sessionid:`${l.sessionId}`,extname:`${a.getEditorPluginInfo().name}`,extversion:`${a.getEditorPluginInfo().version}`},d=await c.fetch(n.href,{headers:u,method:"POST",json:{repos:r}});if(d.ok){let m=await d.json();return f7.debug(this.ctx,"repositoryControl.fetch","success"),Di(this.ctx,"repositoryControl.fetch.success"),fv(mY,m).map(p=>p.rules)}f7.debug(this.ctx,"repositoryControl.fetch","error"),Di(this.ctx,"repositoryControl.fetch.error");let h=new ld(d);throw Vf(this.ctx,h,"repositoryControl.fetch"),h},this.ruleLoaderCache)}async refresh(){try{if(this.requestStatus.status!=="retrying"){this.requestStatus={status:"initial"};let r=[...this.ruleLoaderCache.keys()];this.reset(),await Promise.all(r.map(n=>this.ruleLoader(n)))}}catch(r){Vf(this.ctx,r,"repositoryControl.refresh")}}reset(){this.repoUriToPolicyMap.clear(),this.ruleLoaderCache.clear()}async fetchRepositoryPolicy(r){if(this.requestStatus.status==="retrying"||this.requestStatus.status==="maxRetries")return"POLICY_NOT_AVAILABLE";let n=await this.loaderWithRetry(r);return n?n.length===0?"NO_MATCHING_POLICY":n[0]:"POLICY_NOT_AVAILABLE"}async loaderWithRetry(r){if(this.requestStatus.status==="retrying"){let n=this.requestStatus.waitMs;await new Promise(s=>setTimeout(s,n))}try{let n=await this.ruleLoader(r);return this.requestStatus={status:"initial"},n}catch{let s=this.requestStatus.status==="retrying"?this.requestStatus.retryCount+1:0,l=this.requestStatus.status==="retrying"?this.requestStatus.waitMs*2:this.initialWaitMs;if(s>=this.maxRetryCount){Di(this.ctx,"repositoryControl.fetch.maxRetries"),this.requestStatus={status:"maxRetries"};return}this.requestStatus={status:"retrying",retryCount:s,waitMs:l},this.loaderWithRetry(r)}}async evaluate(r,n){try{let l=await this.ctx.get(R1).getRepo(r);if(!l||!l.remote)return Pu;let a=l.remote.getUrlForApi();if(!a)return Pu;let f=await this.fetchRepositoryPolicy(a);return f==="POLICY_NOT_AVAILABLE"?X9:f==="NO_MATCHING_POLICY"?Pu:this._evaluate(r,n,f)}catch(s){return Vf(this.ctx,s,"repositoryControl.evaluate"),X9}}async _evaluate(r,n,s){if(s!=null&&s.blocked)return KT(s);if(s.fileContent&&n){let l=s.fileContent.includes;if(n&&l&&l.length>0&&!new RegExp(l.join("|"),"i").test(n))return KT(s);let a=s.fileContent.excludes;if(n&&a&&a.length>0&&new RegExp(a.join("|"),"i").test(n))return KT(s)}return Cy}};o(WT,"CopilotRepositoryControl");var hv=WT;function KT(e){return{isBlocked:!0,reason:"FILE_BLOCKED",message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`}}o(KT,"getBlockedRepoResponse");var uY=ga.Type.Object({name:ga.Type.String(),type:ga.Type.Union([ga.Type.Literal("Organization"),ga.Type.Literal("Repository")])}),dY=ga.Type.Object({fileContent:ga.Type.Optional(ga.Type.Object({includes:ga.Type.Optional(ga.Type.Array(ga.Type.String())),excludes:ga.Type.Optional(ga.Type.Array(ga.Type.String()))})),blocked:ga.Type.Optional(ga.Type.Boolean()),source:uY}),hY=ga.Type.Array(dY),gY=ga.Type.Object({rules:hY}),mY=ga.Type.Array(gY);var f7=new Zi(1,"contentExclusion");var Lu,bc,bd,gv,oD,mv,aD,YT=class YT{constructor(t){this.ctx=t;Xi(this,gv);Xi(this,mv);Xi(this,Lu,!1);Xi(this,bc,null);Xi(this,bd,new cv(this.ctx));this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=o(async t=>{if(!N0(this,Lu)||!t)return;let r=await this.ctx.get(B1).getTextDocumentWithValidation(t.document.uri),n=r.status==="invalid",s=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,s)},"onDidChangeActiveTextEditor");this.ctx.get(B1).onDidFocusTextDocument(this.onDidChangeActiveTextEditor),this.ctx.get(mf).on("onCopilotToken",(r,n)=>{var l,a;Qi(this,Lu,(l=n==null?void 0:n.copilotignore_enabled)!=null?l:!1),this.evaluateResultCache.clear(),N0(this,bd).refresh();let s=(a=r.organization_list)!=null?a:[];gl(this,mv,aD).call(this,s)})}get enabled(){return N0(this,Lu)}async evaluate(t,r,n){var c;if(!N0(this,Lu)||!_y(t.scheme))return{isBlocked:!1};let s=[],l=o(async(u,d)=>{let h=Date.now(),m=await d.evaluate(t,r),p=Date.now();return s.push({key:u,result:m,elapsedMs:p-h}),m},"track"),f=(c=(await Promise.all([N0(this,bc)&&l("repositoryControl.evaluate",N0(this,bc)),l("contentExclusion.evaluate",N0(this,bd))])).find(u=>u==null?void 0:u.isBlocked))!=null?c:{isBlocked:!1};try{for(let u of s)gl(this,gv,oD).call(this,u.key,t,u.result,u.elapsedMs)}catch(u){console.log("Error tracking telemetry",u)}return n==="UPDATE"&&this.updateStatusIcon(f.isBlocked,f.message),f}updateStatusIcon(t,r){N0(this,Lu)&&(t?this.ctx.get(Au).setInactive(r!=null?r:"Copilot is disabled"):this.ctx.get(Au).forceNormal())}set __repositoryControl(t){Qi(this,bc,t)}get __repositoryControl(){return N0(this,bc)}set __contentRestrictions(t){Qi(this,bd,t)}get __contentRestrictions(){return N0(this,bd)}};Lu=new WeakMap,bc=new WeakMap,bd=new WeakMap,gv=new WeakSet,oD=o(function(t,r,n,s){var u,d;let l=r.path+t;if(this.evaluateResultCache.get(l)===n.reason)return!1;if(this.evaluateResultCache.set(l,(u=n.reason)!=null?u:"UNKNOWN"),n.reason===Pu.reason)return f7.debug(this.ctx,`[${t}] No matching policy for this repository. uri: ${r}`),!1;let f={isBlocked:n.isBlocked?"true":"false",reason:(d=n.reason)!=null?d:"UNKNOWN"},c={elapsedMs:s};return Di(this.ctx,t,vs.createAndMarkAsIssued(f,c)),Di(this.ctx,t,vs.createAndMarkAsIssued({...f,path:r.path},c),1),f7.debug(this.ctx,`[${t}] ${r}`,n),!0},"#trackEvaluationResult"),mv=new WeakSet,aD=o(function(t){let n=["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225"].find(s=>t.includes(s));N0(this,Lu)&&n?(N0(this,bc)||Qi(this,bc,new hv(this.ctx)),N0(this,bc).refresh()):Qi(this,bc,null)},"#refreshMSFTRepoControl"),o(YT,"CopilotRepositoryControlManager");var c7=YT;function pY(e){try{return e.getText(),!1}catch(t){if(t instanceof RangeError)return!0;throw t}}o(pY,"isDocumentTooLarge");async function JT(e,t){var n;if(pY(t))return{status:"invalid",reason:"Document is too large"};let r=await e.get(c7).evaluate(t.uri,t.getText());return r.isBlocked?{status:"invalid",reason:(n=r.message)!=null?n:"Document is blocked by repository policy"}:{status:"valid",document:t}}o(JT,"isDocumentValid");var yY=require("path"),XT=class XT{constructor(t){this.ctx=t}async textDocuments(){let t=await this.getDecoratedOpenDocuments(),r=[];for(let n of t)(await JT(this.ctx,n)).status==="valid"&&r.push(n);return r}getTextDocument(t){return this.getTextDocumentWithValidation(t).then(r=>{if(r.status==="valid")return r.document})}async getTextDocumentWithValidation(t){try{let n=(await this.getDecoratedOpenDocuments()).find(s=>s.uri.toString()==t.toString());return!n&&(n=await this.openTextDocument(t),!n)?await this.notFoundResult(t):JT(this.ctx,n)}catch{return await this.notFoundResult(t)}}async notFoundResult(t){let r=(await this.textDocuments()).map(n=>n.uri).join(", ");return{status:"notfound",message:`Document for URI could not be found: ${t}, URIs of the known document are: ${r}`}}openTextDocument(t){return Promise.reject(new Error("Not found"))}async getDecoratedOpenDocuments(){let t=await this.getOpenTextDocuments();return Promise.all(t.map(r=>XE(this.ctx,r)))}async getWorkspaceFolder(t){return this.getWorkspaceFolders().find(r=>{if(t.uri.toString().startsWith(r.toString()))return r})}async getRelativePath(t){if(t.uri.scheme!=="untitled"){for(let r of this.getWorkspaceFolders()){let n=r.with({query:"",fragment:""}).toString().replace(/\/?$/,"/");if(t.uri.toString().startsWith(n))return t.uri.toString().slice(n.length)}return yY.basename(t.uri.fsPath)}}};o(XT,"TextDocumentManager");var B1=XT;var s6={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".idc"]},csharp:{extensions:[".cake",".cs",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".jsonl",".mcmeta",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","Pipfile.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},python:{extensions:[".ipynb",".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:["Notebook",".gclient","DEPS","SConscript","SConstruct","wscript"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".flaskenv",".kshrc",".login",".profile",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","zlogin","zlogout","zprofile","zshenv","zshrc"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".gemrc","CITATION.cff","glide.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]}};var lD=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],fD={".php":[".blade"]},cD=Object.keys(s6).flatMap(e=>s6[e].extensions);var pv=require("path"),rS=class rS{constructor(t,r,n){this.languageId=t;this.isGuess=r;this.fileExtension=n}};o(rS,"Language");var Cd=rS,nS=class nS{};o(nS,"LanguageDetection");var N1=nS;function uD(e){return new ZT(new tS(new eS),new QT(e))}o(uD,"getLanguageDetection");var iS=class iS extends N1{constructor(r,n){super();this.delegate=r;this.notebookDelegate=n;this.cache=new Ys(100)}async detectLanguage(r){let n=pv.basename(r.uri.path);return vY(n)?this.notebookDelegate.detectLanguage(r):this.detectLanguageForRegularFile(n,r)}async detectLanguageForRegularFile(r,n){let s=this.cache.get(r);return s||(s=await this.delegate.detectLanguage(n),s.isGuess||this.cache.set(r,s)),s}};o(iS,"CachingLanguageDetection");var ZT=iS;function vY(e){return e.endsWith(".ipynb")}o(vY,"isNotebook");var sS=class sS extends N1{constructor(r){super();this.ctx=r}async detectLanguage(r){let s=this.ctx.get(B1).findNotebook(r);return s?this.detectCellLanguage(r,s):new Cd("python",!1,".ipynb")}detectCellLanguage(r,n){let s=n.getCells().find(l=>l.document.uri.toString()===r.uri.toString());return s?new Cd(s.document.languageId,!1,".ipynb"):new Cd("unknown",!1,".ipynb")}};o(sS,"NotebookLanguageDetection");var QT=sS,oS=class oS extends N1{async detectLanguage(t){let r=pv.basename(t.uri.path),n=pv.extname(r).toLowerCase(),s=this.extensionWithoutTemplateLanguage(r,n),l=this.detectLanguageId(r,s);return new Cd(l.languageId,l.isGuess,this.computeFullyQualifiedExtension(n,s))}extensionWithoutTemplateLanguage(t,r){if(lD.includes(r)){let n=t.substring(0,t.lastIndexOf(".")),s=pv.extname(n).toLowerCase();if(s.length>0&&cD.includes(s)&&this.isExtensionValidForTemplateLanguage(r,s))return s}return r}isExtensionValidForTemplateLanguage(t,r){let n=fD[t];return!n||n.includes(r)}detectLanguageId(t,r){var l,a;let n=[],s=[];for(let f in s6){let c=s6[f];if(c.filenames){if(c.filenames.includes(t))return{languageId:f,isGuess:!1};c.filenames.some(u=>t.startsWith(u+"."))&&s.push(f)}c.extensions.includes(r)&&n.push(f)}return(a=(l=this.determineLanguageIdByCandidates(n))!=null?l:this.determineLanguageIdByCandidates(s))!=null?a:{languageId:"unknown",isGuess:!0}}determineLanguageIdByCandidates(t){if(t.length===1)return{languageId:t[0],isGuess:!1};if(t.length>1)return{languageId:t[0],isGuess:!0}}computeFullyQualifiedExtension(t,r){return t!==r?r+t:t}};o(oS,"FilenameAndExensionLanguageDetection");var eS=oS,aS=class aS extends N1{constructor(r){super();this.delegate=r}async detectLanguage(r){let n=await this.delegate.detectLanguage(r),s=n.languageId;return s==="c"||s==="cpp"?new Cd("cpp",n.isGuess,n.fileExtension):n}};o(aS,"GroupingLanguageDetection");var tS=aS;var pD=Sn(require("util"));function dD(e,t,r,n,s,l,a,f){return fk(e,t,r,s,n),{completionText:t,meanLogProb:xY(e,r),meanAlternativeLogProb:_Y(e,r),choiceIndex:n,requestId:s,modelInfo:f,blockFinished:l,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:a}}o(dD,"convertToAPIChoice");function xY(e,t){var r;if((r=t==null?void 0:t.logprobs)!=null&&r.token_logprobs)try{let n=0,s=0,l=50;for(let a=0;a<t.logprobs.token_logprobs.length-1&&l>0;a++,l--)n+=t.logprobs.token_logprobs[a],s+=1;return s>0?n/s:void 0}catch(n){hd.exception(e,n,"Error calculating mean prob")}}o(xY,"calculateMeanLogProb");function _Y(e,t){var r;if((r=t==null?void 0:t.logprobs)!=null&&r.top_logprobs)try{let n=0,s=0,l=50;for(let a=0;a<t.logprobs.token_logprobs.length-1&&l>0;a++,l--){let f={...t.logprobs.top_logprobs[a]};delete f[t.logprobs.tokens[a]],n+=Math.max(...Object.values(f)),s+=1}return s>0?n/s:void 0}catch(n){hd.exception(e,n,"Error calculating mean prob")}}o(_Y,"calculateMeanAlternativeLogProb");function lS(e,t){return q8(e)||t<=1?0:t<10?.2:t<20?.4:.8}o(lS,"getTemperatureForSamples");var bY={markdown:[`


`],python:[`
def `,`
class `,`
if `,`

#`]};function hD(e,t){var r;return(r=bY[t!=null?t:""])!=null?r:[`


`,"\n```"]}o(hD,"getStops");function gD(e){return 1}o(gD,"getTopP");function fS(e){return 500}o(fS,"getMaxSolutionTokens");var Wl=new Zi(1,"streamChoices"),mS=class mS{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new dS;this.function_call=new uS}append(t){var r,n,s,l,a,f,c;t.text&&this.text.push(t.text),(r=t.delta)!=null&&r.content&&this.text.push(t.delta.content),t.logprobs&&(this.tokens.push((n=t.logprobs.tokens)!=null?n:[]),this.text_offset.push((s=t.logprobs.text_offset)!=null?s:[]),this.logprobs.push((l=t.logprobs.token_logprobs)!=null?l:[]),this.top_logprobs.push((a=t.logprobs.top_logprobs)!=null?a:[])),t.copilot_annotations&&this.copilot_annotations.update(t.copilot_annotations),(f=t.delta)!=null&&f.copilot_annotations&&this.copilot_annotations.update(t.delta.copilot_annotations),(c=t.delta)!=null&&c.function_call&&this.function_call.update(t.delta.function_call)}};o(mS,"APIJsonDataStreaming");var cS=mS;function EY(e){let t=e.split(`
`),r=t.pop();return[t.filter(n=>n!=""),r]}o(EY,"splitChunk");var pS=class pS{constructor(){this.arguments=[]}update(t){t.name&&(this.name=t.name),this.arguments.push(t.arguments)}};o(pS,"StreamingFunctionCall");var uS=pS,yS=class yS{constructor(){this.current={}}update(t){Object.entries(t).forEach(([r,n])=>{n.forEach(s=>this.update_namespace(r,s))})}update_namespace(t,r){this.current[t]||(this.current[t]=[]);let n=this.current[t],s=n.findIndex(l=>l.id===r.id);s>=0?n[s]=r:n.push(r)}for(t){var r;return(r=this.current[t])!=null?r:[]}};o(yS,"StreamCopilotAnnotations");var dS=yS,vv=class vv{constructor(t,r,n,s,l,a,f,c){this.ctx=t;this.expectedNumChoices=r;this.response=n;this.body=s;this.telemetryData=l;this.dropCompletionReasons=a;this.fastCancellation=f;this.cancellationToken=c;this.requestId=u7(this.response);this.stats=new hS(this.expectedNumChoices);this.solutions={}}static async create(t,r,n,s,l,a){let f=await n.body();f.setEncoding("utf8");let c=t.get(ta).fastCancellation(s);return new vv(t,r,n,f,s,l!=null?l:["content_filter"],c,a)}async*processSSE(t=async()=>{}){try{yield*this.processSSEInner(t)}finally{this.fastCancellation&&this.cancel(),Wl.info(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),Wl.debug(this.ctx,`request stats: ${this.stats}`)}}async*processSSEInner(t){var n,s,l,a;let r="";e:for await(let f of this.body){if(this.maybeCancel("after awaiting body chunk"))return;Wl.debug(this.ctx,"chunk",f.toString());let[c,u]=EY(r+f.toString());r=u;for(let d of c){let h=d.slice(5).trim();if(h=="[DONE]"){yield*this.finishSolutions();return}let m;try{m=JSON.parse(h)}catch{Wl.error(this.ctx,"Error parsing JSON stream data",d);continue}if(m.choices===void 0){m.error!==void 0?Wl.error(this.ctx,"Error in response:",m.error.message):Wl.error(this.ctx,"Unexpected response with no choices or error: "+h);continue}if(this.requestId.created==0&&(this.requestId=u7(this.response,m),this.requestId.created==0&&Wl.error(this.ctx,`Request id invalid, should have "completionId" and "created": ${this.requestId}`,this.requestId)),this.allSolutionsDone()&&this.fastCancellation)break e;for(let p=0;p<m.choices.length;p++){let v=m.choices[p];Wl.debug(this.ctx,"choice",v),this.stats.add(v.index),v.index in this.solutions||(this.solutions[v.index]=new cS);let x=this.solutions[v.index];if(x==null)continue;x.append(v);let E,I=((n=v.text)==null?void 0:n.indexOf(`
`))>-1||((l=(s=v.delta)==null?void 0:s.content)==null?void 0:l.indexOf(`
`))>-1;if((v.finish_reason||I)&&(E=await t(x.text.join(""),x.copilot_annotations),this.maybeCancel("after awaiting finishedCb")))return;if(!(v.finish_reason||E!==void 0))continue;let L=(a=v.finish_reason)!=null?a:"client-trimmed";if(Di(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:L})),this.dropCompletionReasons.includes(v.finish_reason)?this.solutions[v.index]=null:(this.stats.markYielded(v.index),yield{solution:x,finishOffset:E,reason:v.finish_reason,requestId:this.requestId,index:v.index}),this.maybeCancel("after yielding finished choice"))return;this.solutions[v.index]=null}}}for(let[f,c]of Object.entries(this.solutions)){let u=Number(f);if(c!=null&&(this.stats.markYielded(u),yield{solution:c,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:u},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let f=JSON.parse(r);f.error!==void 0&&Wl.error(this.ctx,`Error in response: ${f.error.message}`,f.error)}catch{Wl.error(this.ctx,`Error parsing extraData: ${r}`)}}async*finishSolutions(){for(let[t,r]of Object.entries(this.solutions)){let n=Number(t);if(r!=null&&(this.stats.markYielded(n),yield{solution:r,finishOffset:void 0,reason:"DONE",requestId:this.requestId,index:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(t){var r;return(r=this.cancellationToken)!=null&&r.isCancellationRequested?(Wl.debug(this.ctx,"Cancelled: "+t),this.cancel(),!0):!1}cancel(){this.body.destroy()}allSolutionsDone(){let t=Object.values(this.solutions);return t.length==this.expectedNumChoices&&t.every(r=>r==null)}};o(vv,"SSEProcessor");var yv=vv;function mD(e,t,r){let n=t.solution.text.join(""),s=!1;t.finishOffset!==void 0&&(Wl.debug(e,`solution ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),s=!0),Wl.info(e,`solution ${t.index} returned. finish reason: [${t.reason}]`),Wl.debug(e,`solution ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let l=TY(t.solution);return dD(e,n,l,t.index,t.requestId,s,r)}o(mD,"prepareSolutionForReturn");function TY(e){let t=e.text.join(""),r=SY(e),n={text:t,tokens:e.text,function_call:r};if(e.logprobs.length===0)return n;let s=e.logprobs.reduce((c,u)=>c.concat(u),[]),l=e.top_logprobs.reduce((c,u)=>c.concat(u),[]),a=e.text_offset.reduce((c,u)=>c.concat(u),[]),f=e.tokens.reduce((c,u)=>c.concat(u),[]);return{...n,logprobs:{token_logprobs:s,top_logprobs:l,text_offset:a,tokens:f}}}o(TY,"convertToAPIJsonData");function SY(e){if(e.function_call.name){let t=e.function_call.arguments.length>0?JSON.parse(e.function_call.arguments.join("")):[];return{name:e.function_call.name,arguments:t}}}o(SY,"extractFunctionCall");var vS=class vS{constructor(t){this.choices=new Map;for(let r=0;r<t;r++)this.choices.set(r,new gS)}add(t){this.choices.get(t).increment()}markYielded(t){this.choices.get(t).markYielded()}toString(){return Array.from(this.choices.entries()).map(([t,r])=>`${t}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}};o(vS,"ChunkStats");var hS=vS,xS=class xS{constructor(){this.yieldedTokens=-1;this.seenTokens=0}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};o(xS,"ChoiceStats");var gS=xS;var _f=new Zi(1,"fetchCompletions");function u7(e,t){return{headerRequestId:e.headers.get("x-request-id")||"",completionId:t&&t.id?t.id:"",created:t&&t.created?t.created:0,serverExperiments:e.headers.get("X-Copilot-Experiment")||"",deploymentId:e.headers.get("azureml-model-deployment")||""}}o(u7,"getRequestId");function IY(e){let t=e.headers.get("openai-processing-ms");return t?parseInt(t,10):0}o(IY,"getProcessingTime");function _S(e,t){let r=t.split("/").pop();return r||(_f.error(e,"Malformed engine URL: "+t),t)}o(_S,"extractEngineName");function wY(e){switch(e){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}o(wY,"uiKindToIntent");var bS=class bS{};o(bS,"OpenAIFetcher");var Ed=bS;function AY(e,t,r,n,s,l,a,f,c,u){var x;let d=e.get(Au),h=pD.format("%s/%s",r,n);if(!a){_f.error(e,`Failed to send request to ${h} due to missing key`);return}let m=vs.createAndMarkAsIssued({endpoint:n,engineName:_S(e,r),uiKind:f},xE(t));u&&(m=m.extendedBy(u));for(let[E,I]of Object.entries(l))E=="prompt"||E=="suffix"||(m.properties[`request.option.${E}`]=(x=JSON.stringify(I))!=null?x:"undefined");m.properties.headerRequestId=s,Di(e,"request.sent",m);let p=wu(),v=wY(f);return AC(e,h,a,v,s,l,c).then(E=>{let I=u7(E,void 0);m.extendWithRequestId(I);let A=wu()-p;return m.measurements.totalTimeMs=A,_f.info(e,`request.response: [${h}] took ${A} ms`),_f.debug(e,"request.response properties",m.properties),_f.debug(e,"request.response measurements",m.measurements),_f.debug(e,"prompt:",t),Di(e,"request.response",m),E}).catch(E=>{var L,D,R,V;if(wC(E))throw E;d.setWarning(E.message);let I=m.extendedBy({error:"Network exception"});Di(e,"request.shownWarning",I),m.properties.message=String((L=E.name)!=null?L:""),m.properties.code=String((D=E.code)!=null?D:""),m.properties.errno=String((R=E.errno)!=null?R:""),m.properties.type=String((V=E.type)!=null?V:"");let A=wu()-p;throw m.measurements.totalTimeMs=A,_f.debug(e,`request.response: [${h}] took ${A} ms`),_f.debug(e,"request.error properties",m.properties),_f.debug(e,"request.error measurements",m.measurements),Di(e,"request.error",m),E}).finally(()=>{ck(e,t,m)})}o(AY,"fetchWithInstrumentation");function PY(e,t){return t!=null&&t?e:Ak(e,async r=>r.completionText.trim().length>0)}o(PY,"postProcessChoices");var CS=class CS extends Ed{async fetchAndStreamCompletions(t,r,n,s,l,a){let f=t.get(Au),c="completions",u=await this.fetchWithParameters(t,c,r,n,l,a);if(u==="not-sent")return{type:"canceled",reason:"before fetch request"};if(l!=null&&l.isCancellationRequested){let v=await u.body();try{v.destroy()}catch(x){_f.exception(t,x,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(u===void 0){let v=this.createTelemetryData(c,t,r);return f.setWarning(),v.properties.error="Response was undefined",Di(t,"request.shownWarning",v),{type:"failed",reason:"fetch response was undefined"}}if(u.status!==200){let v=this.createTelemetryData(c,t,r);return this.handleError(t,f,v,u)}let d=t.get(ta).dropCompletionReasons(n),m=(await yv.create(t,r.count,u,n,d,l)).processSSE(s),p=wk(m,async v=>mD(t,v,n));return{type:"success",choices:PY(p,r.allowEmptyChoices),getProcessingTime:()=>IY(u)}}createTelemetryData(t,r,n){return vs.createAndMarkAsIssued({endpoint:t,engineName:_S(r,n.engineUrl),uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchWithParameters(t,r,n,s,l,a){let f=t.get(ta).disableLogProb(s),c={prompt:n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:fS(t),temperature:lS(t,n.count),top_p:gD(t),n:n.count,stop:hD(t,n.languageId)};(n.requestLogProbs||!f)&&(c.logprobs=2);let u=J9(n.repoInfo);return u!==void 0&&(c.nwo=u),n.postOptions&&Object.assign(c,n.postOptions),await new Promise((h,m)=>{setImmediate(h)}),l!=null&&l.isCancellationRequested?"not-sent":await AY(t,n.prompt,n.engineUrl,r,n.ourRequestId,c,(await t.get(vl).getCopilotToken(t)).token,n.uiKind,l,a)}async handleError(t,r,n,s){if(r.setWarning(),n.properties.error=`Response status was ${s.status}`,n.properties.status=String(s.status),Di(t,"request.shownWarning",n),s.status===401||s.status===403)return t.get(vl).resetCopilotToken(t,s.status),{type:"failed",reason:`token expired or invalid: ${s.status}`};if(s.status===499)return _f.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server"};let l=await s.text();return s.status===466?(r.setError(l),_f.info(t,l),{type:"failed",reason:`client not supported: ${l}`}):(_f.error(t,"Unhandled status from server:",s.status,l),{type:"failed",reason:`unhandled status from server: ${s.status} ${l}`})}};o(CS,"LiveOpenAIFetcher");var d7=CS;var h7=class h7{constructor(t,r,n,s){this._uri=t,this._languageId=r,this._version=n,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(h7.isIncremental(n)){let s=vD(n.range),l=this.offsetAt(s.start),a=this.offsetAt(s.end);this._content=this._content.substring(0,l)+n.text+this._content.substring(a,this._content.length);let f=Math.max(s.start.line,0),c=Math.max(s.end.line,0),u=this._lineOffsets,d=yD(n.text,!1,l);if(c-f===d.length)for(let m=0,p=d.length;m<p;m++)u[m+f+1]=d[m];else d.length<1e4?u.splice(f+1,c-f,...d):this._lineOffsets=u=u.slice(0,f+1).concat(d,u.slice(c+1));let h=n.text.length-(a-l);if(h!==0)for(let m=f+1+d.length,p=u.length;m<p;m++)u[m]=u[m]+h}else if(h7.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=yD(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,s=r.length;if(s===0)return{line:0,character:t};for(;n<s;){let a=Math.floor((n+s)/2);r[a]>t?s=a:n=a+1}let l=n-1;return{line:l,character:t-r[l]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],s=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,s),n)}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}};o(h7,"FullTextDocument");var xv=h7,ES;(function(e){function t(s,l,a,f){return new xv(s,l,a,f)}o(t,"create"),e.create=t;function r(s,l,a){if(s instanceof xv)return s.update(l,a),s;throw new Error("TextDocument.update: document must be created by TextDocument.create")}o(r,"update"),e.update=r;function n(s,l){let a=s.getText(),f=TS(l.map(NY),(d,h)=>{let m=d.range.start.line-h.range.start.line;return m===0?d.range.start.character-h.range.start.character:m}),c=0,u=[];for(let d of f){let h=s.offsetAt(d.range.start);if(h<c)throw new Error("Overlapping edit");h>c&&u.push(a.substring(c,h)),d.newText.length&&u.push(d.newText),c=s.offsetAt(d.range.end)}return u.push(a.substr(c)),u.join("")}o(n,"applyEdits"),e.applyEdits=n})(ES||(ES={}));function TS(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),s=e.slice(r);TS(n,t),TS(s,t);let l=0,a=0,f=0;for(;l<n.length&&a<s.length;)t(n[l],s[a])<=0?e[f++]=n[l++]:e[f++]=s[a++];for(;l<n.length;)e[f++]=n[l++];for(;a<s.length;)e[f++]=s[a++];return e}o(TS,"mergeSort");function yD(e,t,r=0){let n=t?[r]:[];for(let s=0;s<e.length;s++){let l=e.charCodeAt(s);(l===13||l===10)&&(l===13&&s+1<e.length&&e.charCodeAt(s+1)===10&&s++,n.push(r+s+1))}return n}o(yD,"computeLineOffsets");function vD(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}o(vD,"getWellformedRange");function NY(e){let t=vD(e.range);return t!==e.range?{newText:e.newText,range:t}:e}o(NY,"getWellformedEdit");var xD;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(xD||(xD={}));var SS;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(SS||(SS={}));var _D;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(_D||(_D={}));var _v;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(_v||(_v={}));var bf;(function(e){function t(n,s){return n===Number.MAX_VALUE&&(n=_v.MAX_VALUE),s===Number.MAX_VALUE&&(s=_v.MAX_VALUE),{line:n,character:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&p0.uinteger(s.line)&&p0.uinteger(s.character)}o(r,"is"),e.is=r})(bf||(bf={}));var Os;(function(e){function t(n,s,l,a){if(p0.uinteger(n)&&p0.uinteger(s)&&p0.uinteger(l)&&p0.uinteger(a))return{start:bf.create(n,s),end:bf.create(l,a)};if(bf.is(n)&&bf.is(s))return{start:n,end:s};throw new Error(`Range#create called with invalid arguments[${n}, ${s}, ${l}, ${a}]`)}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&bf.is(s.start)&&bf.is(s.end)}o(r,"is"),e.is=r})(Os||(Os={}));var bv;(function(e){function t(n,s){return{uri:n,range:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&Os.is(s.range)&&(p0.string(s.uri)||p0.undefined(s.uri))}o(r,"is"),e.is=r})(bv||(bv={}));var bD;(function(e){function t(n,s,l,a){return{targetUri:n,targetRange:s,targetSelectionRange:l,originSelectionRange:a}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&Os.is(s.targetRange)&&p0.string(s.targetUri)&&Os.is(s.targetSelectionRange)&&(Os.is(s.originSelectionRange)||p0.undefined(s.originSelectionRange))}o(r,"is"),e.is=r})(bD||(bD={}));var IS;(function(e){function t(n,s,l,a){return{red:n,green:s,blue:l,alpha:a}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&p0.numberRange(s.red,0,1)&&p0.numberRange(s.green,0,1)&&p0.numberRange(s.blue,0,1)&&p0.numberRange(s.alpha,0,1)}o(r,"is"),e.is=r})(IS||(IS={}));var CD;(function(e){function t(n,s){return{range:n,color:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&Os.is(s.range)&&IS.is(s.color)}o(r,"is"),e.is=r})(CD||(CD={}));var ED;(function(e){function t(n,s,l){return{label:n,textEdit:s,additionalTextEdits:l}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&p0.string(s.label)&&(p0.undefined(s.textEdit)||a6.is(s))&&(p0.undefined(s.additionalTextEdits)||p0.typedArray(s.additionalTextEdits,a6.is))}o(r,"is"),e.is=r})(ED||(ED={}));var TD;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(TD||(TD={}));var SD;(function(e){function t(n,s,l,a,f,c){let u={startLine:n,endLine:s};return p0.defined(l)&&(u.startCharacter=l),p0.defined(a)&&(u.endCharacter=a),p0.defined(f)&&(u.kind=f),p0.defined(c)&&(u.collapsedText=c),u}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&p0.uinteger(s.startLine)&&p0.uinteger(s.startLine)&&(p0.undefined(s.startCharacter)||p0.uinteger(s.startCharacter))&&(p0.undefined(s.endCharacter)||p0.uinteger(s.endCharacter))&&(p0.undefined(s.kind)||p0.string(s.kind))}o(r,"is"),e.is=r})(SD||(SD={}));var wS;(function(e){function t(n,s){return{location:n,message:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&bv.is(s.location)&&p0.string(s.message)}o(r,"is"),e.is=r})(wS||(wS={}));var ID;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(ID||(ID={}));var wD;(function(e){e.Unnecessary=1,e.Deprecated=2})(wD||(wD={}));var AD;(function(e){function t(r){let n=r;return p0.objectLiteral(n)&&p0.string(n.href)}o(t,"is"),e.is=t})(AD||(AD={}));var Cv;(function(e){function t(n,s,l,a,f,c){let u={range:n,message:s};return p0.defined(l)&&(u.severity=l),p0.defined(a)&&(u.code=a),p0.defined(f)&&(u.source=f),p0.defined(c)&&(u.relatedInformation=c),u}o(t,"create"),e.create=t;function r(n){var s;let l=n;return p0.defined(l)&&Os.is(l.range)&&p0.string(l.message)&&(p0.number(l.severity)||p0.undefined(l.severity))&&(p0.integer(l.code)||p0.string(l.code)||p0.undefined(l.code))&&(p0.undefined(l.codeDescription)||p0.string((s=l.codeDescription)===null||s===void 0?void 0:s.href))&&(p0.string(l.source)||p0.undefined(l.source))&&(p0.undefined(l.relatedInformation)||p0.typedArray(l.relatedInformation,wS.is))}o(r,"is"),e.is=r})(Cv||(Cv={}));var o6;(function(e){function t(n,s,...l){let a={title:n,command:s};return p0.defined(l)&&l.length>0&&(a.arguments=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.string(s.title)&&p0.string(s.command)}o(r,"is"),e.is=r})(o6||(o6={}));var a6;(function(e){function t(l,a){return{range:l,newText:a}}o(t,"replace"),e.replace=t;function r(l,a){return{range:{start:l,end:l},newText:a}}o(r,"insert"),e.insert=r;function n(l){return{range:l,newText:""}}o(n,"del"),e.del=n;function s(l){let a=l;return p0.objectLiteral(a)&&p0.string(a.newText)&&Os.is(a.range)}o(s,"is"),e.is=s})(a6||(a6={}));var AS;(function(e){function t(n,s,l){let a={label:n};return s!==void 0&&(a.needsConfirmation=s),l!==void 0&&(a.description=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&p0.string(s.label)&&(p0.boolean(s.needsConfirmation)||s.needsConfirmation===void 0)&&(p0.string(s.description)||s.description===void 0)}o(r,"is"),e.is=r})(AS||(AS={}));var l6;(function(e){function t(r){let n=r;return p0.string(n)}o(t,"is"),e.is=t})(l6||(l6={}));var PD;(function(e){function t(l,a,f){return{range:l,newText:a,annotationId:f}}o(t,"replace"),e.replace=t;function r(l,a,f){return{range:{start:l,end:l},newText:a,annotationId:f}}o(r,"insert"),e.insert=r;function n(l,a){return{range:l,newText:"",annotationId:a}}o(n,"del"),e.del=n;function s(l){let a=l;return a6.is(a)&&(AS.is(a.annotationId)||l6.is(a.annotationId))}o(s,"is"),e.is=s})(PD||(PD={}));var PS;(function(e){function t(n,s){return{textDocument:n,edits:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&DS.is(s.textDocument)&&Array.isArray(s.edits)}o(r,"is"),e.is=r})(PS||(PS={}));var NS;(function(e){function t(n,s,l){let a={kind:"create",uri:n};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(a.options=s),l!==void 0&&(a.annotationId=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return s&&s.kind==="create"&&p0.string(s.uri)&&(s.options===void 0||(s.options.overwrite===void 0||p0.boolean(s.options.overwrite))&&(s.options.ignoreIfExists===void 0||p0.boolean(s.options.ignoreIfExists)))&&(s.annotationId===void 0||l6.is(s.annotationId))}o(r,"is"),e.is=r})(NS||(NS={}));var RS;(function(e){function t(n,s,l,a){let f={kind:"rename",oldUri:n,newUri:s};return l!==void 0&&(l.overwrite!==void 0||l.ignoreIfExists!==void 0)&&(f.options=l),a!==void 0&&(f.annotationId=a),f}o(t,"create"),e.create=t;function r(n){let s=n;return s&&s.kind==="rename"&&p0.string(s.oldUri)&&p0.string(s.newUri)&&(s.options===void 0||(s.options.overwrite===void 0||p0.boolean(s.options.overwrite))&&(s.options.ignoreIfExists===void 0||p0.boolean(s.options.ignoreIfExists)))&&(s.annotationId===void 0||l6.is(s.annotationId))}o(r,"is"),e.is=r})(RS||(RS={}));var kS;(function(e){function t(n,s,l){let a={kind:"delete",uri:n};return s!==void 0&&(s.recursive!==void 0||s.ignoreIfNotExists!==void 0)&&(a.options=s),l!==void 0&&(a.annotationId=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return s&&s.kind==="delete"&&p0.string(s.uri)&&(s.options===void 0||(s.options.recursive===void 0||p0.boolean(s.options.recursive))&&(s.options.ignoreIfNotExists===void 0||p0.boolean(s.options.ignoreIfNotExists)))&&(s.annotationId===void 0||l6.is(s.annotationId))}o(r,"is"),e.is=r})(kS||(kS={}));var BS;(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(s=>p0.string(s.kind)?NS.is(s)||RS.is(s)||kS.is(s):PS.is(s)))}o(t,"is"),e.is=t})(BS||(BS={}));var ND;(function(e){function t(n){return{uri:n}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.string(s.uri)}o(r,"is"),e.is=r})(ND||(ND={}));var RD;(function(e){function t(n,s){return{uri:n,version:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.string(s.uri)&&p0.integer(s.version)}o(r,"is"),e.is=r})(RD||(RD={}));var DS;(function(e){function t(n,s){return{uri:n,version:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.string(s.uri)&&(s.version===null||p0.integer(s.version))}o(r,"is"),e.is=r})(DS||(DS={}));var kD;(function(e){function t(n,s,l,a){return{uri:n,languageId:s,version:l,text:a}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.string(s.uri)&&p0.string(s.languageId)&&p0.integer(s.version)&&p0.string(s.text)}o(r,"is"),e.is=r})(kD||(kD={}));var LS;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}o(t,"is"),e.is=t})(LS||(LS={}));var g7;(function(e){function t(r){let n=r;return p0.objectLiteral(r)&&LS.is(n.kind)&&p0.string(n.value)}o(t,"is"),e.is=t})(g7||(g7={}));var BD;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(BD||(BD={}));var DD;(function(e){e.PlainText=1,e.Snippet=2})(DD||(DD={}));var LD;(function(e){e.Deprecated=1})(LD||(LD={}));var FD;(function(e){function t(n,s,l){return{newText:n,insert:s,replace:l}}o(t,"create"),e.create=t;function r(n){let s=n;return s&&p0.string(s.newText)&&Os.is(s.insert)&&Os.is(s.replace)}o(r,"is"),e.is=r})(FD||(FD={}));var OD;(function(e){e.asIs=1,e.adjustIndentation=2})(OD||(OD={}));var MD;(function(e){function t(r){let n=r;return n&&(p0.string(n.detail)||n.detail===void 0)&&(p0.string(n.description)||n.description===void 0)}o(t,"is"),e.is=t})(MD||(MD={}));var UD;(function(e){function t(r){return{label:r}}o(t,"create"),e.create=t})(UD||(UD={}));var qD;(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}o(t,"create"),e.create=t})(qD||(qD={}));var Ev;(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(t,"fromPlainText"),e.fromPlainText=t;function r(n){let s=n;return p0.string(s)||p0.objectLiteral(s)&&p0.string(s.language)&&p0.string(s.value)}o(r,"is"),e.is=r})(Ev||(Ev={}));var $D;(function(e){function t(r){let n=r;return!!n&&p0.objectLiteral(n)&&(g7.is(n.contents)||Ev.is(n.contents)||p0.typedArray(n.contents,Ev.is))&&(r.range===void 0||Os.is(r.range))}o(t,"is"),e.is=t})($D||($D={}));var HD;(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}o(t,"create"),e.create=t})(HD||(HD={}));var VD;(function(e){function t(r,n,...s){let l={label:r};return p0.defined(n)&&(l.documentation=n),p0.defined(s)?l.parameters=s:l.parameters=[],l}o(t,"create"),e.create=t})(VD||(VD={}));var jD;(function(e){e.Text=1,e.Read=2,e.Write=3})(jD||(jD={}));var zD;(function(e){function t(r,n){let s={range:r};return p0.number(n)&&(s.kind=n),s}o(t,"create"),e.create=t})(zD||(zD={}));var GD;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(GD||(GD={}));var KD;(function(e){e.Deprecated=1})(KD||(KD={}));var WD;(function(e){function t(r,n,s,l,a){let f={name:r,kind:n,location:{uri:l,range:s}};return a&&(f.containerName=a),f}o(t,"create"),e.create=t})(WD||(WD={}));var YD;(function(e){function t(r,n,s,l){return l!==void 0?{name:r,kind:n,location:{uri:s,range:l}}:{name:r,kind:n,location:{uri:s}}}o(t,"create"),e.create=t})(YD||(YD={}));var JD;(function(e){function t(n,s,l,a,f,c){let u={name:n,detail:s,kind:l,range:a,selectionRange:f};return c!==void 0&&(u.children=c),u}o(t,"create"),e.create=t;function r(n){let s=n;return s&&p0.string(s.name)&&p0.number(s.kind)&&Os.is(s.range)&&Os.is(s.selectionRange)&&(s.detail===void 0||p0.string(s.detail))&&(s.deprecated===void 0||p0.boolean(s.deprecated))&&(s.children===void 0||Array.isArray(s.children))&&(s.tags===void 0||Array.isArray(s.tags))}o(r,"is"),e.is=r})(JD||(JD={}));var XD;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(XD||(XD={}));var Tv;(function(e){e.Invoked=1,e.Automatic=2})(Tv||(Tv={}));var ZD;(function(e){function t(n,s,l){let a={diagnostics:n};return s!=null&&(a.only=s),l!=null&&(a.triggerKind=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.typedArray(s.diagnostics,Cv.is)&&(s.only===void 0||p0.typedArray(s.only,p0.string))&&(s.triggerKind===void 0||s.triggerKind===Tv.Invoked||s.triggerKind===Tv.Automatic)}o(r,"is"),e.is=r})(ZD||(ZD={}));var QD;(function(e){function t(n,s,l){let a={title:n},f=!0;return typeof s=="string"?(f=!1,a.kind=s):o6.is(s)?a.command=s:a.edit=s,f&&l!==void 0&&(a.kind=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return s&&p0.string(s.title)&&(s.diagnostics===void 0||p0.typedArray(s.diagnostics,Cv.is))&&(s.kind===void 0||p0.string(s.kind))&&(s.edit!==void 0||s.command!==void 0)&&(s.command===void 0||o6.is(s.command))&&(s.isPreferred===void 0||p0.boolean(s.isPreferred))&&(s.edit===void 0||BS.is(s.edit))}o(r,"is"),e.is=r})(QD||(QD={}));var eL;(function(e){function t(n,s){let l={range:n};return p0.defined(s)&&(l.data=s),l}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&Os.is(s.range)&&(p0.undefined(s.command)||o6.is(s.command))}o(r,"is"),e.is=r})(eL||(eL={}));var tL;(function(e){function t(n,s){return{tabSize:n,insertSpaces:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.uinteger(s.tabSize)&&p0.boolean(s.insertSpaces)}o(r,"is"),e.is=r})(tL||(tL={}));var rL;(function(e){function t(n,s,l){return{range:n,target:s,data:l}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&Os.is(s.range)&&(p0.undefined(s.target)||p0.string(s.target))}o(r,"is"),e.is=r})(rL||(rL={}));var nL;(function(e){function t(n,s){return{range:n,parent:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&Os.is(s.range)&&(s.parent===void 0||e.is(s.parent))}o(r,"is"),e.is=r})(nL||(nL={}));var iL;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(iL||(iL={}));var sL;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(sL||(sL={}));var oL;(function(e){function t(r){let n=r;return p0.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}o(t,"is"),e.is=t})(oL||(oL={}));var aL;(function(e){function t(n,s){return{range:n,text:s}}o(t,"create"),e.create=t;function r(n){let s=n;return s!=null&&Os.is(s.range)&&p0.string(s.text)}o(r,"is"),e.is=r})(aL||(aL={}));var lL;(function(e){function t(n,s,l){return{range:n,variableName:s,caseSensitiveLookup:l}}o(t,"create"),e.create=t;function r(n){let s=n;return s!=null&&Os.is(s.range)&&p0.boolean(s.caseSensitiveLookup)&&(p0.string(s.variableName)||s.variableName===void 0)}o(r,"is"),e.is=r})(lL||(lL={}));var fL;(function(e){function t(n,s){return{range:n,expression:s}}o(t,"create"),e.create=t;function r(n){let s=n;return s!=null&&Os.is(s.range)&&(p0.string(s.expression)||s.expression===void 0)}o(r,"is"),e.is=r})(fL||(fL={}));var cL;(function(e){function t(n,s){return{frameId:n,stoppedLocation:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&Os.is(n.stoppedLocation)}o(r,"is"),e.is=r})(cL||(cL={}));var OS;(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(OS||(OS={}));var MS;(function(e){function t(n){return{value:n}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&(s.tooltip===void 0||p0.string(s.tooltip)||g7.is(s.tooltip))&&(s.location===void 0||bv.is(s.location))&&(s.command===void 0||o6.is(s.command))}o(r,"is"),e.is=r})(MS||(MS={}));var uL;(function(e){function t(n,s,l){let a={position:n,label:s};return l!==void 0&&(a.kind=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&bf.is(s.position)&&(p0.string(s.label)||p0.typedArray(s.label,MS.is))&&(s.kind===void 0||OS.is(s.kind))&&s.textEdits===void 0||p0.typedArray(s.textEdits,a6.is)&&(s.tooltip===void 0||p0.string(s.tooltip)||g7.is(s.tooltip))&&(s.paddingLeft===void 0||p0.boolean(s.paddingLeft))&&(s.paddingRight===void 0||p0.boolean(s.paddingRight))}o(r,"is"),e.is=r})(uL||(uL={}));var dL;(function(e){function t(r){return{kind:"snippet",value:r}}o(t,"createSnippet"),e.createSnippet=t})(dL||(dL={}));var hL;(function(e){function t(r,n,s,l){return{insertText:r,filterText:n,range:s,command:l}}o(t,"create"),e.create=t})(hL||(hL={}));var gL;(function(e){function t(r){return{items:r}}o(t,"create"),e.create=t})(gL||(gL={}));var mL;(function(e){e.Invoked=0,e.Automatic=1})(mL||(mL={}));var pL;(function(e){function t(r,n){return{range:r,text:n}}o(t,"create"),e.create=t})(pL||(pL={}));var yL;(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}o(t,"create"),e.create=t})(yL||(yL={}));var vL;(function(e){function t(r){let n=r;return p0.objectLiteral(n)&&SS.is(n.uri)&&p0.string(n.name)}o(t,"is"),e.is=t})(vL||(vL={}));var xL;(function(e){function t(l,a,f,c){return new US(l,a,f,c)}o(t,"create"),e.create=t;function r(l){let a=l;return!!(p0.defined(a)&&p0.string(a.uri)&&(p0.undefined(a.languageId)||p0.string(a.languageId))&&p0.uinteger(a.lineCount)&&p0.func(a.getText)&&p0.func(a.positionAt)&&p0.func(a.offsetAt))}o(r,"is"),e.is=r;function n(l,a){let f=l.getText(),c=s(a,(d,h)=>{let m=d.range.start.line-h.range.start.line;return m===0?d.range.start.character-h.range.start.character:m}),u=f.length;for(let d=c.length-1;d>=0;d--){let h=c[d],m=l.offsetAt(h.range.start),p=l.offsetAt(h.range.end);if(p<=u)f=f.substring(0,m)+h.newText+f.substring(p,f.length);else throw new Error("Overlapping edit");u=m}return f}o(n,"applyEdits"),e.applyEdits=n;function s(l,a){if(l.length<=1)return l;let f=l.length/2|0,c=l.slice(0,f),u=l.slice(f);s(c,a),s(u,a);let d=0,h=0,m=0;for(;d<c.length&&h<u.length;)a(c[d],u[h])<=0?l[m++]=c[d++]:l[m++]=u[h++];for(;d<c.length;)l[m++]=c[d++];for(;h<u.length;)l[m++]=u[h++];return l}o(s,"mergeSort")})(xL||(xL={}));var qS=class qS{constructor(t,r,n,s){this._uri=t,this._languageId=r,this._version=n,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let s=0;s<r.length;s++){n&&(t.push(s),n=!1);let l=r.charAt(s);n=l==="\r"||l===`
`,l==="\r"&&s+1<r.length&&r.charAt(s+1)===`
`&&s++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,s=r.length;if(s===0)return bf.create(0,t);for(;n<s;){let a=Math.floor((n+s)/2);r[a]>t?s=a:n=a+1}let l=n-1;return bf.create(l,t-r[l])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],s=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,s),n)}get lineCount(){return this.getLineOffsets().length}};o(qS,"FullTextDocument");var US=qS,p0;(function(e){let t=Object.prototype.toString;function r(p){return typeof p<"u"}o(r,"defined"),e.defined=r;function n(p){return typeof p>"u"}o(n,"undefined"),e.undefined=n;function s(p){return p===!0||p===!1}o(s,"boolean"),e.boolean=s;function l(p){return t.call(p)==="[object String]"}o(l,"string"),e.string=l;function a(p){return t.call(p)==="[object Number]"}o(a,"number"),e.number=a;function f(p,v,x){return t.call(p)==="[object Number]"&&v<=p&&p<=x}o(f,"numberRange"),e.numberRange=f;function c(p){return t.call(p)==="[object Number]"&&-2147483648<=p&&p<=2147483647}o(c,"integer"),e.integer=c;function u(p){return t.call(p)==="[object Number]"&&0<=p&&p<=2147483647}o(u,"uinteger"),e.uinteger=u;function d(p){return t.call(p)==="[object Function]"}o(d,"func"),e.func=d;function h(p){return p!==null&&typeof p=="object"}o(h,"objectLiteral"),e.objectLiteral=h;function m(p,v){return Array.isArray(p)&&p.every(v)}o(m,"typedArray"),e.typedArray=m})(p0||(p0={}));var $S=class $S{range(t,r,n,s){return n!==void 0&&s!==void 0?Os.create(t,r,n,s):Os.create(t,r)}position(t,r){return bf.create(t,r)}};o($S,"LocationFactory");var Td=$S;var Fu=Sn(qf());var RY=["getFunctionPositions","isEmptyBlockStart","isBlockBodyFinished","getNodeStart","parsesWithoutError"],kY=["isSupportedLanguageId","getBlockCloseToken","getPrompt"],Efe=[...RY,...kY];var BY=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(e=>e+"\\b")),Nfe=new RegExp(`^(${BY.join("|")})`);var Cc=Sn(qf());var jS=Sn(qf());var bL=new Ys;function CL(e){return[...e].sort((t,r)=>{var l,a;let n=(l=bL.get(t.uri.toString()))!=null?l:0;return((a=bL.get(r.uri.toString()))!=null?a:0)-n})}o(CL,"sortByAccessTimes");var HS=class HS{constructor(t){this.docManager=t}async truncateDocs(t,r,n,s){let l=[],a=0;for(let f of t)if(!(a+f.getText().length>m7.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(f.uri.scheme==="file"&&r.scheme==="file"&&f.uri.fsPath!==r.fsPath&&VS(n,f.languageId)&&(l.push({uri:f.uri.toString(),relativePath:await this.docManager.getRelativePath(f),languageId:f.languageId,source:f.getText()}),a+=f.getText().length),l.length>=s))break;return l}async getNeighborFiles(t,r,n){let s=[],l=new Map;return s=await this.truncateDocs(CL(await this.docManager.textDocuments()),t,r,n),l.set("opentabs",s.map(a=>a.uri)),{docs:s,neighborSource:l}}};o(HS,"OpenTabFiles");var Sv=HS;function VS(e,t){return(0,jS.normalizeLanguageId)(e)===(0,jS.normalizeLanguageId)(t)}o(VS,"considerNeighborFile");var D1=class D1{static reset(){D1.instance=void 0}static async getNeighborFiles(t,r,n){if(D1.instance===void 0){let s=t.get(B1);D1.instance=new Sv(s)}return await D1.instance.getNeighborFiles(r,n.fileType,D1.MAX_NEIGHBOR_FILES)}};o(D1,"NeighborSource"),D1.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5,D1.MAX_NEIGHBOR_FILES=20,D1.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"];var m7=D1;var zS=Sn(qf());var s1e=TL(),E1e=new Zi(0,"retrieval");var SL=2.98410452738298,IL=-.838732736843507,wL=1.50314646255716,AL=-.237798634012662,PL={python:.314368072478742},NL={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var Z1e=new Zi(1,"restraint"),FY={link:e=>Math.exp(e)/(1+Math.exp(e)),unlink:e=>Math.log(e/(1-e))};function OY(e,t){let r=Math.min(...Array.from(t.keys()).filter(a=>a>=e)),n=Math.max(...Array.from(t.keys()).filter(a=>a<e)),s=t.get(r),l=t.get(n);return l+(s-l)*(e-n)/(r-n)}o(OY,"linearInterpolation");var KS=class KS{constructor(t,r,n){this.name=t,this.coefficient=r,this.transformation=n||(s=>s)}contribution(t){return this.coefficient*this.transformation(t)}};o(KS,"Regressor");var f6=KS,WS=class WS{constructor(t,r,n){this.link=FY;if(this.intercept=t,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let s in n)this.logitsToQuantiles.set(n[s],Number(s))}predict(t,r){let n=this.intercept;for(let s of this.coefficients){let l=r[s.name];if(l===void 0)return NaN;n+=s.contribution(l)}return this.link.link(n)}quantile(t,r){let n=this.predict(t,r);return OY(n,this.logitsToQuantiles)}};o(WS,"LogisticRegression");var GS=WS,Q1e=new GS(SL,[new f6("compCharLen",IL,e=>Math.log(1+e)),new f6("meanLogProb",wL),new f6("meanAlternativeLogProb",AL)].concat(Object.entries(PL).map(e=>new f6(e[0],e[1]))),NL);var Aue=new Zi(1,"ghostText");var Pue=new vy;var p7=class p7{constructor(t=!1){this.requestMultilineOverride=t}};o(p7,"ForceMultiLine"),p7.default=new p7;var y7=p7;var QO=Sn(require("fs")),eM=require("tls");var ox=new Zi(1,"certificates"),cw=class cw{};o(cw,"RootCertificateReader");var Xl=cw;function tM(e,t=process.platform){return new nw(e,[new iw,new sw,IQ(e,t)])}o(tM,"getRootCertificateReader");function IQ(e,t){switch(t){case"linux":return new ow(e);case"darwin":return new aw(e);case"win32":return new lw(e);default:return new fw}}o(IQ,"createPlatformReader");var uw=class uw extends Xl{constructor(r,n){super();this.ctx=r;this.delegate=n}async getAllRootCAs(){try{return await this.delegate.getAllRootCAs()}catch(r){return ox.warn(this.ctx,`Failed to read root certificates: ${r}`),[]}}};o(uw,"ErrorHandlingCertificateReader");var rw=uw,dw=class dw extends Xl{constructor(r,n){super();this.delegates=n.map(s=>new rw(r,s))}async getAllRootCAs(){return this.certificates||(this.certificates=(await Promise.all(this.delegates.map(r=>r.getAllRootCAs()))).flat()),this.certificates}};o(dw,"CachingRootCertificateReader");var nw=dw,hw=class hw extends Xl{async getAllRootCAs(){return eM.rootCertificates}};o(hw,"NodeTlsRootCertificateReader");var iw=hw,gw=class gw extends Xl{async getAllRootCAs(){let t=process.env.NODE_EXTRA_CA_CERTS;return t?await rM(t):[]}};o(gw,"EnvironmentVariableRootCertificateReader");var sw=gw,mw=class mw extends Xl{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=[];for(let n of["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt"]){let s=await rM(n);ox.debug(this.ctx,`Read ${s.length} certificates from ${n}`),r=r.concat(s)}return r}};o(mw,"LinuxRootCertificateReader");var ow=mw,pw=class pw extends Xl{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=XO(),n=r.all(r.der2.pem).filter(s=>s!==void 0);return ox.debug(this.ctx,`Read ${n.length} certificates from Mac keychain`),n}};o(pw,"MacRootCertificateReader");var aw=pw,yw=class yw extends Xl{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=ZO().all();return ox.debug(this.ctx,`Read ${r.length} certificates from Windows store`),r}};o(yw,"WindowsRootCertificateReader");var lw=yw,vw=class vw extends Xl{async getAllRootCAs(){throw new Error("No certificate reader available for unsupported platform")}};o(vw,"UnsupportedPlatformRootCertificateReader");var fw=vw;async function rM(e){try{let n=(await QO.promises.readFile(e,{encoding:"utf8"})).split(/(?=-----BEGIN CERTIFICATE-----)/g).filter(l=>l.length>0),s=new Set(n);return Array.from(s)}catch(t){if((t==null?void 0:t.code)!=="ENOENT")throw t}return[]}o(rM,"readCertsFromFile");var bM=Sn(require("http"));var eee=407,nl=new Zi(0,"proxySocketFactory"),Iw=class Iw{};o(Iw,"ProxySocketFactory");var x3=Iw,ww=class ww extends Error{constructor(r,n,s){var l,a,f;super(r);this.code=n==null?void 0:n.code,this.syscall=n==null?void 0:n.syscall,this.errno=n==null?void 0:n.errno,/^Failed to establish a socket connection to proxies:/.test((l=n==null?void 0:n.message)!=null?l:"")?this.code="ProxyFailedToEstablishSocketConnection":/^InitializeSecurityContext:/.test((a=n==null?void 0:n.message)!=null?a:"")?this.code="ProxyInitializeSecurityContext":(n==null?void 0:n.message)==="Miscellaneous failure (see text): Server not found in Kerberos database"?this.code="ProxyKerberosServerNotFound":/^Unspecified GSS failure. {2}Minor code may provide more information: No Kerberos credentials available/.test((f=n==null?void 0:n.message)!=null?f:"")&&(this.code="ProxyGSSFailureNoKerberosCredentialsAvailable"),s!==void 0&&(this.code=s)}};o(ww,"ProxySocketError");var Dd=ww;function CM(e){return new Ew(e,new Tw(e))}o(CM,"getProxySocketFactory");var Aw=class Aw extends x3{constructor(r,n,s=new Sw,l=process.platform){super();this.ctx=r;this.delegate=n;this.kerberosLoader=s;this.platform=l;this.successfullyAuthorized=new Ys(20)}async createSocket(r,n){this.successfullyAuthorized.get(this.getProxyCacheKey(n))&&(nl.debug(this.ctx,"Proxy authorization already successful once, skipping 407 rountrip"),await this.reauthorize(r,n));try{return await this.delegate.createSocket(r,n)}catch(s){if(s instanceof Dd&&s.code===`ProxyStatusCode${eee}`){nl.debug(this.ctx,"Proxy authorization required, trying to authorize first time");let l=await this.authorizeAndCreateSocket(r,n);if(l)return nl.debug(this.ctx,"Proxy authorization successful, caching result"),Di(this.ctx,"proxy.kerberosAuthorized"),this.successfullyAuthorized.set(this.getProxyCacheKey(n),!0),l}throw s}}async reauthorize(r,n){let s=await this.authorize(n);s&&(nl.debug(this.ctx,"Proxy re-authorization successful, received token"),r.headers["Proxy-Authorization"]="Negotiate "+s)}async authorizeAndCreateSocket(r,n){let s=await this.authorize(n);if(nl.debug(this.ctx,"Proxy authorization successful, received token"),s)return nl.debug(this.ctx,"Trying to create socket with proxy authorization"),r.headers["Proxy-Authorization"]="Negotiate "+s,await this.delegate.createSocket(r,n)}async authorize(r){nl.debug(this.ctx,"Loading kerberos module");let n=this.kerberosLoader.load(),s=this.computeSpn(r);nl.debug(this.ctx,"Initializing kerberos client using spn",s);let l=await n.initializeClient(s);nl.debug(this.ctx,"Perform client side kerberos step");let a=await l.step("");return nl.debug(this.ctx,"Received kerberos server response"),a}computeSpn(r){let n=r.kerberosServicePrincipal;if(n)return nl.debug(this.ctx,"Using configured kerberos spn",n),n;let s=this.platform==="win32"?`HTTP/${r.host}`:`HTTP@${r.host}`;return nl.debug(this.ctx,"Using default kerberos spn",s),s}getProxyCacheKey(r){return r.host+":"+r.port}};o(Aw,"KerberosProxySocketFactory");var Ew=Aw,Pw=class Pw extends x3{constructor(r){super();this.ctx=r}async createSocket(r,n){let s=this.createConnectRequestOptions(r,n);return new Promise((l,a)=>{nl.debug(this.ctx,"Attempting to establish connection to proxy");let f=bM.request(s);f.useChunkedEncodingByDefault=!1,f.once("connect",(c,u,d)=>{nl.debug(this.ctx,"Socket Connect returned status code",c.statusCode),f.removeAllListeners(),u.removeAllListeners(),c.statusCode!==200?(u.destroy(),a(new Dd(`tunneling socket could not be established, statusCode=${c.statusCode}`,void 0,`ProxyStatusCode${c.statusCode}`))):d.length>0?(u.destroy(),a(new Dd(`got non-empty response body from proxy, length=${d.length}`,void 0,"ProxyNonEmptyResponseBody"))):(nl.debug(this.ctx,"Successfully established tunneling connection to proxy"),l(u))}),f.once("error",c=>{nl.debug(this.ctx,"Proxy socket connection error",c.message),f.removeAllListeners(),a(new Dd(`tunneling socket could not be established, cause=${c.message}`,c))}),f.on("timeout",()=>{nl.debug(this.ctx,"Proxy socket connection timeout"),a(new Dd(`tunneling socket could not be established, proxy socket connection timeout while connecting to ${s.host}:${s.port}`,void 0,"ProxyTimeout"))}),f.end()})}createConnectRequestOptions(r,n){let s=`${r.hostname}:${r.port}`,l={...n,method:"CONNECT",path:s,agent:!1,headers:{host:s,"Proxy-Connection":"keep-alive"},timeout:r.timeout};return r.localAddress&&(l.localAddress=r.localAddress),this.configureProxyAuthorization(l,r),l}configureProxyAuthorization(r,n){r.headers["Proxy-Authorization"]=[],r.proxyAuth&&r.headers["Proxy-Authorization"].push("Basic "+Buffer.from(r.proxyAuth).toString("base64")),n.headers&&n.headers["Proxy-Authorization"]&&r.headers["Proxy-Authorization"].push(n.headers["Proxy-Authorization"])}};o(Pw,"TunnelingProxySocketFactory");var Tw=Pw,Nw=class Nw{load(){return _M()}};o(Nw,"KerberosLoader");var Sw=Nw;var EM=require("events");var Rw=class Rw extends EM.EventEmitter{};o(Rw,"PostInsertionNotifier");var D7=Rw;var kw=Sn(qf()),wM=require("os"),M1=Sn(W8());var tee=new Zi(1,"repository"),Ld="\\\\",AM="(?:[#;].*)",A6=`(?:[^"${Ld}]|${Ld}.)`,ree="[0-9A-Za-z-]",TM=`[A-Za-z]${ree}*`,PM=`\\s*${AM}?$`,NM=`(?:[^"${Ld};#]|${Ld}.)`,nee=`(?:"${A6}*"|"${A6}*(?<strCont>${Ld})$)`,iee=`(?:${NM}|${nee})+`,see=`(?:(?<cont>${Ld})$)`,RM=`(?<value>${iee})${see}?${PM}`,SM=new RegExp(`^${RM}`),oee=new RegExp(`^(?<value>${A6}*(?:(?<strCont>${Ld})$|(?<quote>")))`),aee=new RegExp(`^\\s*(?:(?<key>${TM})\\s*=\\s*${RM}|(?<soloKey>${TM})${PM})`),lee=new RegExp(`(?<value>${NM}+)|"(?<string>${A6}*)"`,"g"),IM="[-.0-9A-Za-z]+",fee=`\\s+"(?<ext>${A6}*)"`,cee=`\\s+"(?<extOnly>${A6}*)"`,uee=new RegExp(`^\\s*\\[(?:(?<simple>${IM})${fee}|${cee}|(?<simpleOnly>${IM}))\\]`),dee=new RegExp(`^\\s*${AM}$`),Dw=class Dw{constructor(t){this.content=t;this.stopped=!1;this.section="";this.line="";this.lineNum=0;this.lines=[];this.linesWithErrors=[]}parse(t){for(this.stopped=!1,this.section="",this.line="",this.linesWithErrors=[],this.configValueHandler=t,this.lines=this.content.split(/\r?\n/),this.lineNum=0;!this.stopped&&this.lineNum<this.lines.length;this.lineNum++)this.line=this.lines[this.lineNum],this.parseSectionStart(),this.parseConfigPair(),this.parseComment(),/^\s*$/.test(this.line)||this.errorAt(this.lineNum+1)}stop(){this.stopped=!0}hasErrors(){return this.linesWithErrors.length>0}errorAt(t){this.linesWithErrors.push(t)}parseSectionStart(){var r,n;let t=this.line.match(uee);t&&((r=t.groups)!=null&&r.simple?this.section=t.groups.simple.toLowerCase()+"."+this.unescapeBaseValue(t.groups.ext):(n=t.groups)!=null&&n.extOnly?this.section="."+this.unescapeBaseValue(t.groups.extOnly):this.section=t.groups.simpleOnly.toLowerCase(),this.line=this.line.slice(t[0].length))}unescapeBaseValue(t){return t.replace(/\\(.)/g,"$1")}parseConfigPair(){var r,n,s,l;let t=this.line.match(aee);if(t){if((r=t.groups)!=null&&r.key){let a=this.handleContinued(t);(n=this.configValueHandler)==null||n.call(this,this.nameWithSection(t.groups.key.toLowerCase()),a)}else(s=t.groups)!=null&&s.soloKey&&((l=this.configValueHandler)==null||l.call(this,this.nameWithSection(t.groups.soloKey.toLowerCase()),""));this.line=""}}handleContinued(t){var s,l,a;let r=t,n=[this.matchedValue(r)];for(;(s=r==null?void 0:r.groups)!=null&&s.cont||(l=r==null?void 0:r.groups)!=null&&l.strCont;){if(this.line=this.lines[++this.lineNum],this.lineNum>=this.lines.length){this.errorAt(this.lineNum);break}r.groups.strCont?(r=this.line.match(oee),r?(n.push(this.matchedValue(r)),(a=r.groups)!=null&&a.quote&&(r=this.line.slice(r[0].length).match(SM),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))):this.errorAt(this.lineNum+1)):(r=this.line.match(SM),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))}return this.normalizeValue(n.join(""))}matchedValue(t){return t.groups.strCont?t.groups.value.slice(0,-1):t.groups.value}normalizeValue(t){let r=!1,n=[...t.matchAll(lee)].map(s=>{var l;return(l=s.groups)!=null&&l.value?(r=!0,this.unescapeValue(s.groups.value.replace(/\s/g," "))):(r=!1,this.unescapeValue(s.groups.string))}).join("");return r?n.trimEnd():n}unescapeValue(t){let r={n:`
`,t:"	",b:"\b"};return t.replace(/\\(.)/g,(n,s)=>r[s]||s)}nameWithSection(t){return this.section?this.section+"."+t:t}parseComment(){dee.test(this.line)&&(this.line="")}};o(Dw,"GitConfigParser");var Bw=Dw,Lw=class Lw extends xc{async getConfig(t,r){let n=await R1.getRepoConfigLocation(t,r);if(!n)return;let s=await this.getParsedConfig(t,n);if(s)return this.mergeConfig(await this.baseConfig(t,n),s)}mergeConfig(...t){return t.filter(r=>r!==void 0).reduce((r,n)=>r.concat(n),new e6)}async getParsedConfig(t,r,n=!0){let s=await this.tryLoadConfig(t,r,n);if(!s)return;let l=new Bw(s),a=new e6;return l.parse((f,c)=>a.add(f,c)),a}async tryLoadConfig(t,r,n){try{return await t.get(kw.FileSystem).readFileString(r)}catch(s){(n||s.code!=="ENOENT")&&tee.warn(t,`Failed to load git config from ${r.toString()}: ${s}`);return}}async baseConfig(t,r){let n=await this.commondirConfigUri(t,r),s=M1.Utils.joinPath(this.xdgConfigUri(),"git","config"),l=M1.Utils.joinPath(this.homeUri(),".gitconfig");return this.mergeConfig(await this.getParsedConfig(t,s,!1),await this.getParsedConfig(t,l,!1),n?await this.getParsedConfig(t,n,!1):void 0)}async commondirConfigUri(t,r){if(M1.Utils.basename(r).toLowerCase()!=="config.worktree")return;let n=M1.Utils.dirname(r),s=M1.Utils.joinPath(n,"commondir");try{let l=(await t.get(kw.FileSystem).readFileString(s)).trimEnd();return M1.Utils.joinPath(K9(n,l),"config")}catch{return}}xdgConfigUri(){return process.env.XDG_CONFIG_HOME?M1.URI.file(process.env.XDG_CONFIG_HOME):M1.Utils.joinPath(this.homeUri(),".config")}homeUri(){return M1.URI.file((0,wM.homedir)())}};o(Lw,"GitParsingConfigLoader");var ux=Lw;function kM(e){let t=new hy;return t.set(ud,e),t.set(ed,new ed),t.set(Il,new Il),hee(t),t.set(G8,new G8),t.set(mf,new mf),t.set(Xl,tM(t)),t.set(x3,CM(t)),t.set(N1,uD(t)),t.set(ta,new ta(t)),t.set(D7,new D7),t.set(yl,new yl(t)),t.set(Q5,new Q5),t.set(zf,new zf),t.set(ad,new ad),t.set(gd,new gd),t.set(K8,new K8),t.set(Ed,new d7),t.set(U8,new Qp),t.set(fd,new Kp),t.set(pf,new pf),t.set(Fw.SnippetOrchestrator,new Fw.SnippetOrchestrator),t.set(y7,y7.default),t.set(R1,new R1(t)),t.set(xc,new ky([new Ry,new ux])),t.set(Td,new Td),t}o(kM,"createProductionContext");function hee(e){e.set(dd,dd.fromEnvironment(!1)),e.set($8,new $8(zR(e))),e.set(H8,new oy(console))}o(hee,"setupRudimentaryLogging");var Q3e=new Zi(0,"context");var BM=require("os");var gee=require("crypto"),mee=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function pee(e){let t=e.replace(/-/g,":").toLowerCase();return!mee.has(t)}o(pee,"validateMacAddress");function yee(){let e=(0,BM.networkInterfaces)();for(let t in e){let r=e[t];if(r){for(let{mac:n}of r)if(pee(n))return n}}throw new Error("Unable to retrieve mac address (unexpected format)")}o(yee,"getMac");var Ow;function vee(){try{let e=yee();return gee.createHash("sha256").update(e,"utf8").digest("hex")}catch{return}}o(vee,"getMacMachineId");function DM(){return Ow||(Ow=vee()||X2()),Ow}o(DM,"getMachineId");var LM=Sn(require("tls"));var Mw=class Mw{constructor(t){this._certificateReader=t.get(Xl)}async enhanceProxySettings(t){let r=await this.getCertificates();return{...t,ca:r}}async getCertificates(){let t=await this._certificateReader.getAllRootCAs();if(t.length!==0)return t}async applyToRequestOptions(t){let r=await this._certificateReader.getAllRootCAs(),n={_vscodeAdditionalCaCerts:r};t.secureContext=LM.createSecureContext(n),t.ca=r,t.cert=r,r.map(s=>{t.secureContext.context.addCACert(s)})}};o(Mw,"RootCertificateConfigurator");var dx=Mw;var Uw=class Uw extends Pa{constructor(r){super();this.ctx=r;this.name="HelixFetcher";this.createSocketFactory=o((r,n)=>async s=>{s.rejectUnauthorized=n,s.timeout=r.connectionTimeoutInMs,await this.certificateConfigurator.applyToRequestOptions(s);let l=await this.certificateConfigurator.enhanceProxySettings(r);return await this.proxySocketFactory.createSocket(s,l)},"createSocketFactory");this.fetchApi=this.createFetchApi(r),this.certificateConfigurator=new dx(r),this.proxySocketFactory=r.get(x3)}set proxySettings(r){this._proxySettings=r,this.fetchApi=this.createFetchApi(this.ctx)}get proxySettings(){return this._proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.fetchApi=this.createFetchApi(this.ctx)}get rejectUnauthorized(){return super.rejectUnauthorized}createFetchApi(r){let n=r.get(Il);return super.rejectUnauthorized===!1&&(process.env.NODE_TLS_REJECT_UNAUTHORIZED="0"),PR({userAgent:`GithubCopilot/${n.getVersion()}`,socketFactory:this._proxySettings?this.createSocketFactory(this._proxySettings,super.rejectUnauthorized):void 0,rejectUnauthorized:super.rejectUnauthorized})}async fetch(r,n){let s={...n,body:n.body?n.body:n.json,signal:n.signal};await this.certificateConfigurator.applyToRequestOptions(s);let l=await this.certificateConfigurator.getCertificates();this.fetchApi.setCA(l);let a=await this.fetchApi.fetch(r,s);return new Gp(a.status,a.statusText,a.headers,()=>a.text(),async()=>a.body)}disconnectAll(){return this.fetchApi.reset()}makeAbortController(){return new NR}};o(Uw,"HelixFetcher");var hx=Uw;var OM=zC(),xee=X2()+Date.now();async function MM(){let e=kM(new ey);return e.set(Pa,new hx(e)),e.set(Na,new qw(await _ee())),e.set(da,new da(xee,DM())),e.forceSet(pf,new ay),await fE(e,OM.name,!0),e}o(MM,"createUninstallContext");async function _ee(){let e="unknown";try{return await new Promise((t,r)=>{var s;let n=(0,FM.spawn)("code -v",{shell:!0,stdio:"pipe"});(s=n.stdout)==null||s.on("data",l=>{e==="unknown"&&(e=l.toString("utf8").split(`
`)[0]||"unknown")}),n.on("exit",()=>t(e)),n.on("error",l=>r(l))})}catch{return e}}o(_ee,"lookupVscodeVersion");var $w=class $w extends Na{constructor(r){super();this.vscodeVersion=r}getEditorInfo(){return{name:"vscode",version:this.vscodeVersion}}getEditorPluginInfo(){return{name:"copilot",version:OM.version}}};o($w,"UninstallEditorInfo");var qw=$w;async function bee(){let e=await MM(),t=new dy;process.argv.includes("--dry-run")||await t.uninstall(e)}o(bee,"doUninstall");bee().then(()=>process.exit(0)).catch(e=>{console.error(e),process.exit(1)});
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cédric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.1.0
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.1.0
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)
*/
//# sourceMappingURL=extensionUninstalled.js.map
