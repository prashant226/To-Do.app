/*! For license information please see index.js.LICENSE.txt */
(()=>{var __webpack_modules__={7873:function(t,e){"use strict";var n,r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.create=function(e){return e?e instanceof Function?{dispose:e}:"dispose"in e?e:e instanceof Set?new i([...e]):e.length>0?new i(e):t.empty:t.empty},t.empty={dispose:()=>{}},t.normalize=function(t){return t?t instanceof i?t.items:"dispose"in t?[t]:t instanceof Set?[...t]:t:[]},t.fn=function(t){const e=new s;function n(){e.dispose()}return t&&t((t=>e.track(t)),(t=>e.untrack(t))),n.track=e.track.bind(e),n.untrack=e.untrack.bind(e),n.dispose=e.dispose,Object.defineProperty(n,"disposed",{get:()=>e.disposed}),n}}(n=e.Disposable||(e.Disposable={}));class i{constructor(t){this.items=t}dispose(){o(this.items)}}function o(t){var e;if(t)if(e=t,Array.isArray(e)||t instanceof Set)for(var n of t)n.dispose();else t.dispose()}e.dispose=o;class s{constructor(){this.disposables=new Set,this.disposed=!1,this.dispose=()=>{this.disposed=!0,o(this.disposables),this.disposables.clear()}}track(t){for(const e of n.normalize(t))this.disposables.add(e);return t}untrack(t){for(const e of n.normalize(t))this.disposables.delete(e);return t}}e.Disposer=s,e.disposeOnReturn=function(t){let e=!1;const i=new Set;try{const a=t((t=>{for(const e of n.normalize(t))i.add(e);return t}),(t=>{for(const e of n.normalize(t))i.delete(e);return t}));return!(s=a)||"object"!=typeof s&&"function"!=typeof s||"function"!=typeof s.then?a:(e=!0,function(){return r(this,void 0,void 0,(function*(){try{return yield a}finally{o(i)}}))}())}finally{e||o(i)}var s},e.addAndDeleteOnDispose=function(t,e,r){return t instanceof Set?(t.add(e),n.create((()=>t.delete(e)))):(t.set(e,r),n.create((()=>t.delete(e))))}},4761:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(7873);class i{waitOne(){return new Promise((t=>this.one(t)))}}e.EventSource=i,e.EventEmitter=class extends i{constructor(){super(...arguments),this.subscriptions=new Set}sub(t){const e={handler:t,isOnce:!1};return this.subscriptions.add(e),r.Disposable.create((()=>this.subscriptions.delete(e)))}one(t){const e={handler:t,isOnce:!1};return this.subscriptions.add(e),r.Disposable.create((()=>this.subscriptions.delete(e)))}asEvent(){return this}emit(t,e){for(const n of this.subscriptions.values())n.isOnce&&this.subscriptions.delete(n),n.handler(t,e)}}},2876:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(){let t,e;this._state="none",this.promise=new Promise(((n,r)=>{t=n,e=r})),this.resolve=e=>{this._state="resolved",t(e)},this.reject=t=>{this._state="rejected",e(t)}}get state(){return this._state}}e.Deferred=n,e.Barrier=class{constructor(){this.deferred=new n,this.unlock=this.deferred.resolve,this.reject=this.deferred.reject,this.onUnlocked=this.deferred.promise}get state(){return this.deferred.state}},e.ProducerConsumer=class{constructor(){this.barriers=[],this.nextBarriers=[]}popOrNext(){let t=this.barriers.shift();return t||(t=new n,this.nextBarriers.push(t)),t}produce(t){this.popOrNext().resolve(t)}rejectSingle(t){this.popOrNext().reject(t)}consume(){let t=this.nextBarriers.shift();return t||(t=new n,this.barriers.push(t)),t.promise}}},1388:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(7873),i=n(4761),o=n(2876);function s(t,e){const n=setInterval(e,t);return r.Disposable.create((()=>clearInterval(n)))}function a(t,e){const n=setTimeout(e,t);return r.Disposable.create((()=>clearTimeout(n)))}e.startIntervalCallImmediately=function(t,e){e();const n=setInterval(e,t);return r.Disposable.create((()=>clearInterval(n)))},e.startInterval=s,e.startTimeout=a,e.EventTimer=class{constructor(t,e){this.intervalMs=t,this.emitter=new i.EventEmitter,this.onTick=this.emitter.asEvent(),"started"===e&&this.start()}get state(){return this.activeInterval?"started":"stopped"}startImmediate(){return!!this.start()&&(this.emitter.emit(void 0,this),!0)}start(){return!this.activeInterval&&(this.activeInterval=s(this.intervalMs,(()=>this.emitter.emit(void 0,this))),!0)}stop(){return!!this.activeInterval&&(this.activeInterval.dispose(),this.activeInterval=void 0,!0)}dispose(){stop()}},e.ResettableTimeout=class{constructor(t){this.timeoutMs=t,this.source=new o.Barrier,this.onTimeout=this.source.onUnlocked,this.startOrRestartTimeout(t)}get timedOut(){return"none"!==this.source.state}startOrRestartTimeout(t){this.timeout&&(this.timeout.dispose(),this.timeout=void 0),this.timeout=a(t,(()=>this.source.unlock()))}reset(t){this.startOrRestartTimeout(t||this.timeoutMs)}},e.wait=function(t){return new Promise((e=>{setTimeout((()=>e()),t)}))}},2424:(t,e)=>{"use strict";function n(t,e={color:"black"}){const n={color:e.color};return e.strikeThrough&&(n["text-decoration"]="line-through"),e.bold&&(n["font-weight"]="bold"),{text:t,style:(r=n,Object.entries(r).reduce(((t,[e,n])=>`${t}${e}:${n};`),""))};var r}Object.defineProperty(e,"__esModule",{value:!0}),e.renderConsoleText=function(t){const e=new Array,n={};let r="";!function t(i){if("length"in i)for(const e of i)t(e);else"text"in i?(r+=`%c${i.text}`,e.push(i.style),i.data&&Object.assign(n,i.data)):"data"in i&&Object.assign(n,i.data)}(t);const i=[r,...e];return Object.keys(n).length>0&&i.push(n),i},e.normalText=function(t){return n(t,{color:"black"})},e.formatName=function(t){return n(`(${t})`,{color:"gray"})},e.styled=n},9496:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(2424),i=n(9803);function o(t){if(!t)return"nullish";const e=Object.getPrototypeOf(t);return e?e.constructor.name:"?"}function s(t){return r.styled(function(t,e){for(;t.length<10;)t+=" ";return t}(`${t}: `),{color:"black",bold:!0})}function a(t,e){let n="";for(let r=1;r<=e;r++)n+=t;return n}e.MobxConsoleLogger=class{constructor(t,e={}){this.mobx=t,this.indentation=0,this.uncommittedGroupText=void 0,this.spyDisposer=t.spy((t=>this.handleMobxEvent(t))),this.options=Object.assign({useGroups:!1,disableDelayGroups:!1,groupsDefaultOpen:!1},e)}dispose(){this.spyDisposer()}logText(t){this.flushParentGroup(!0),console.debug(...this.renderTextToArgs(t))}log(t){this.logText({style:"",text:t})}startGroup(t){this.flushParentGroup(!0),this.options.useGroups?(this.uncommittedGroupText={args:this.renderTextToArgs(t)},this.options.disableDelayGroups&&this.flushParentGroup(!0)):this.logText(t),this.indentation++}renderTextToArgs(t){return this.options.useGroups?r.renderConsoleText(t):r.renderConsoleText([r.normalText(a("|  ",this.indentation)),t])}endGroup(){this.flushParentGroup(!1)||this.options.useGroups&&console.groupEnd(),this.indentation--}flushParentGroup(t){return!!this.uncommittedGroupText&&(t?this.options.groupsDefaultOpen?console.group(...this.uncommittedGroupText.args):console.groupCollapsed(...this.uncommittedGroupText.args):console.debug(...this.uncommittedGroupText.args),this.uncommittedGroupText=void 0,!0)}handleMobxEvent(t){"spyReportStart"in t?"add"===t.type||"update"===t.type||"delete"===t.type?this.startGroup([s("add"===t.type?"init":"update"),r.normalText(`${o(t.object)}.${t.key} -> `),..."add"!==t.type?[r.styled(i.formatValue(t.oldValue,70),{color:"red",strikeThrough:!0}),r.normalText(" ")]:[],..."delete"!==t.type?[r.styled(i.formatValue(t.newValue,60),{color:"add"===t.type?"blue":"green"})]:[],r.normalText(" "),r.formatName(t.name),{data:{object:t.object,newValue:this.mobx.toJS(t.newValue),oldValue:this.mobx.toJS(t.oldValue)}}]):"action"===t.type?this.startGroup([s("action"),r.styled(t.name,{color:"BlueViolet"}),{data:{args:t.arguments}}]):"reaction"===t.type?this.startGroup([s("reaction"),r.styled(t.name,{color:"BlueViolet"})]):this.startGroup([s(t.type),r.styled(i.formatValue(o,100),{color:"BlueViolet"})]):"spyReportEnd"in t?this.endGroup():"compute"===t.type?this.logText([s("compute"),r.normalText(`${o(t.object)} `),r.formatName(t.name)]):"scheduled-reaction"===t.type&&this.logText([s("scheduled-reaction"),r.normalText(`${t.name}`)])}}},9803:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatValue=function t(e,n){switch(typeof e){case"number":return""+e;case"string":return e.length+2<=n?`"${e}"`:`"${e.substr(0,n-7)}"+...`;case"boolean":return e?"true":"false";case"undefined":return"undefined";case"object":return null===e?"null":function(e,n){let r="{ ",i=!0;for(const[o,s]of Object.entries(e)){if(i||(r+=", "),r.length-5>n){r+="...";break}i=!1,r+=`${o}: ${t(s,n-r.length)}`}return r+=" }",r}(e,n);case"symbol":return e.toString();case"function":return`[[Function${e.name?" "+e.name:""}]]`;default:return""+e}}},3503:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9496);e.MobxConsoleLogger=r.MobxConsoleLogger},9742:(t,e)=>{"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,o=c(t),s=o[0],a=o[1],l=new i(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),u=0,d=a>0?s-4:s;for(n=0;n<d;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=255&e;return 2===a&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,l[u++]=255&e),1===a&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,l[u++]=e>>8&255,l[u++]=255&e),l},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],s=16383,a=0,c=r-i;a<c;a+=s)o.push(l(t,a,a+s>c?c:a+s));return 1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,r){for(var i,o,s=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},8764:(t,e,n)=>{"use strict";const r=n(9742),i=n(645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return d(t)}return l(t,e,n)}function l(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|g(t,e);let r=a(n);const i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(J(t,Uint8Array)){const e=new Uint8Array(t);return f(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(J(t,ArrayBuffer)||t&&J(t.buffer,ArrayBuffer))return f(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(J(t,SharedArrayBuffer)||t&&J(t.buffer,SharedArrayBuffer)))return f(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return c.from(r,e,n);const i=function(t){if(c.isBuffer(t)){const e=0|p(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||q(t.length)?a(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function d(t){return u(t),a(t<0?0:0|p(t))}function h(t){const e=t.length<0?0:0|p(t.length),n=a(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function f(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,c.prototype),r}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function g(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||J(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return X(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(t).length;default:if(i)return r?-1:X(t).length;e=(""+e).toLowerCase(),i=!0}}function v(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return A(this,e,n);case"ascii":return O(this,e,n);case"latin1":case"binary":return D(this,e,n);case"base64":return k(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),q(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,i){let o,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let r=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===c)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){let n=!0;for(let r=0;r<c;r++)if(l(t,o+r)!==l(e,r)){n=!1;break}if(n)return o}return-1}function w(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=e.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if(q(r))return s;t[n+s]=r}return s}function S(t,e,n,r){return K(X(e,t.length-n),t,n,r)}function E(t,e,n,r){return K(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function C(t,e,n,r){return K(G(e),t,n,r)}function _(t,e,n,r){return K(function(t,e){let n,r,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function k(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function A(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;for(;i<n;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=n){let n,r,a,c;switch(s){case 1:e<128&&(o=e);break;case 2:n=t[i+1],128==(192&n)&&(c=(31&e)<<6|63&n,c>127&&(o=c));break;case 3:n=t[i+1],r=t[i+2],128==(192&n)&&128==(192&r)&&(c=(15&e)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:n=t[i+1],r=t[i+2],a=t[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(t){const e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=x));return n}(r)}e.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,n){return l(t,e,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,n){return function(t,e,n){return u(t),t<=0?a(t):void 0!==e?"string"==typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},c.allocUnsafe=function(t){return d(t)},c.allocUnsafeSlow=function(t){return d(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(J(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),J(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=c.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(J(e,Uint8Array))i+e.length>r.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?A(this,0,t):v.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(t,e,n,r,i){if(J(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0);const a=Math.min(o,s),l=this.slice(r,i),u=t.slice(e,n);for(let t=0;t<a;++t)if(l[t]!==u[t]){o=l[t],s=u[t];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return S(this,t,e,n);case"ascii":case"latin1":case"binary":return E(this,t,e,n);case"base64":return C(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function O(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function D(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function T(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=e;r<n;++r)i+=Y[t[r]];return i}function R(t,e,n){const r=t.slice(e,n);let i="";for(let t=0;t<r.length-1;t+=2)i+=String.fromCharCode(r[t]+256*r[t+1]);return i}function I(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function F(t,e,n,r,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function P(t,e,n,r,i){H(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function j(t,e,n,r,i){H(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function B(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,r,o){return e=+e,n>>>=0,o||B(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function N(t,e,n,r,o){return e=+e,n>>>=0,o||B(t,0,n,8),i.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||I(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||I(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||I(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||I(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||I(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=Q((function(t){$(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||W(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=Q((function(t){$(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||W(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||I(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||I(t,e,this.length);let r=e,i=1,o=this[t+--r];for(;r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return t>>>=0,e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||I(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){t>>>=0,e||I(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=Q((function(t){$(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||W(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),c.prototype.readBigInt64BE=Q((function(t){$(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||W(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||I(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||I(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||I(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||I(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||F(this,t,e,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||F(this,t,e,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=Q((function(t,e=0){return P(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Q((function(t,e=0){return j(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);F(this,t,e,n,r-1,-r)}let i=0,o=1,s=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);F(this,t,e,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||F(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=Q((function(t,e=0){return P(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Q((function(t,e=0){return j(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{const o=c.isBuffer(t)?t:c.from(t,r),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=o[i%s]}return this};const M={};function L(t,e,n){M[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function V(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function H(t,e,n,r,i,o){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new M.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,n){$(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||W(e,t.length-(n+1))}(r,i,o)}function $(t,e){if("number"!=typeof t)throw new M.ERR_INVALID_ARG_TYPE(e,"number",t)}function W(t,e,n){if(Math.floor(t)!==t)throw $(t,n),new M.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new M.ERR_BUFFER_OUT_OF_BOUNDS;throw new M.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}L("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),L("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),L("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=V(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=V(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r}),RangeError);const z=/[^+/0-9A-Za-z-_]/g;function X(t,e){let n;e=e||1/0;const r=t.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function G(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function K(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function J(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function q(t){return t!=t}const Y=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function Q(t){return"undefined"==typeof BigInt?Z:t}function Z(){throw new Error("BigInt not supported")}},645:(t,e)=>{e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,l=c>>1,u=-7,d=n?i-1:0,h=n?-1:1,f=t[e+d];for(d+=h,o=f&(1<<-u)-1,f>>=-u,u+=a;u>0;o=256*o+t[e+d],d+=h,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+t[e+d],d+=h,u-=8);if(0===o)o=1-l;else{if(o===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=l}return(f?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,c,l=8*o-i-1,u=(1<<l)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+d>=1?h/c:h*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(e*c-1)*Math.pow(2,i),s+=d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;t[n+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+f]=255&s,f+=p,s/=256,l-=8);t[n+f-p]|=128*g}},2023:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(n){return new Sha256(e,!0).update(n)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(t){return e.create().update(t)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];e[r]=createOutputMethod(r,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if("string"==typeof t)return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(null==t)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(n,r){return new HmacSha256(n,e,!0).update(r)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(e){return new HmacSha256(e,t)},e.update=function(t,n){return e.create(t).update(n)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];e[r]=createHmacOutputMethod(r,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function HmacSha256(t,e,n){var r,i=typeof t;if("string"===i){var o,s=[],a=t.length,c=0;for(r=0;r<a;++r)(o=t.charCodeAt(r))<128?s[c++]=o:o<2048?(s[c++]=192|o>>6,s[c++]=128|63&o):o<55296||o>=57344?(s[c++]=224|o>>12,s[c++]=128|o>>6&63,s[c++]=128|63&o):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++r)),s[c++]=240|o>>18,s[c++]=128|o>>12&63,s[c++]=128|o>>6&63,s[c++]=128|63&o);t=s}else{if("object"!==i)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR)}t.length>64&&(t=new Sha256(e,!0).update(t).array());var l=[],u=[];for(r=0;r<64;++r){var d=t[r]||0;l[r]=92^d,u[r]=54^d}Sha256.call(this,e,n),this.update(u),this.oKeyPad=l,this.inner=!0,this.sharedMemory=n}Sha256.prototype.update=function(t){if(!this.finalized){var e,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR);e=!0}for(var r,i,o=0,s=t.length,a=this.blocks;o<s;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),e)for(i=this.start;o<s&&i<64;++o)a[i>>2]|=t[o]<<SHIFT[3&i++];else for(i=this.start;o<s&&i<64;++o)(r=t.charCodeAt(o))<128?a[i>>2]|=r<<SHIFT[3&i++]:r<2048?(a[i>>2]|=(192|r>>6)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]):r<55296||r>=57344?(a[i>>2]|=(224|r>>12)<<SHIFT[3&i++],a[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]):(r=65536+((1023&r)<<10|1023&t.charCodeAt(++o)),a[i>>2]|=(240|r>>18)<<SHIFT[3&i++],a[i>>2]|=(128|r>>12&63)<<SHIFT[3&i++],a[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=a[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t,e,n,r,i,o,s,a,c,l=this.h0,u=this.h1,d=this.h2,h=this.h3,f=this.h4,p=this.h5,g=this.h6,v=this.h7,m=this.blocks;for(t=16;t<64;++t)e=((i=m[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,n=((i=m[t-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,m[t]=m[t-16]+e+m[t-7]+n<<0;for(c=u&d,t=0;t<64;t+=4)this.first?(this.is224?(o=300032,v=(i=m[0]-1413257819)-150054599<<0,h=i+24177077<<0):(o=704751109,v=(i=m[0]-210244248)-1521486534<<0,h=i+143694565<<0),this.first=!1):(e=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),r=(o=l&u)^l&d^c,v=h+(i=v+(n=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&p^~f&g)+K[t]+m[t])<<0,h=i+(e+r)<<0),e=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),r=(s=h&l)^h&u^o,g=d+(i=g+(n=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))+(v&f^~v&p)+K[t+1]+m[t+1])<<0,e=((d=i+(e+r)<<0)>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),r=(a=d&h)^d&l^s,p=u+(i=p+(n=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&v^~g&f)+K[t+2]+m[t+2])<<0,e=((u=i+(e+r)<<0)>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),r=(c=u&d)^u&h^a,f=l+(i=f+(n=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&g^~p&v)+K[t+3]+m[t+3])<<0,l=i+(e+r)<<0;this.h0=this.h0+l<<0,this.h1=this.h1+u<<0,this.h2=this.h2+d<<0,this.h3=this.h3+h<<0,this.h4=this.h4+f<<0,this.h5=this.h5+p<<0,this.h6=this.h6+g<<0,this.h7=this.h7+v<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,c=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s];return this.is224||(c+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),c},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,c=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,s>>24&255,s>>16&255,s>>8&255,255&s];return this.is224||c.push(a>>24&255,a>>16&255,a>>8&255,255&a),c},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},2188:(t,e,n)=>{"use strict";n.r(e),n.d(e,{$mobx:()=>k,FlowCancellationError:()=>Ae,IDerivationState:()=>Y,ObservableMap:()=>En,ObservableSet:()=>kn,Reaction:()=>Kt,_allowStateChanges:()=>Et,_allowStateChangesInsideComputed:()=>kt,_allowStateReadsEnd:()=>ft,_allowStateReadsStart:()=>ht,_endAction:()=>St,_getAdministration:()=>jn,_getGlobalState:()=>Nt,_interceptReads:()=>Te,_isComputingDerivation:()=>ot,_resetGlobalState:()=>Mt,_startAction:()=>wt,action:()=>oe,autorun:()=>le,comparer:()=>D,computed:()=>et,configure:()=>ve,createAtom:()=>O,decorate:()=>me,entries:()=>Le,extendObservable:()=>ye,flow:()=>Oe,get:()=>We,getAtom:()=>Pn,getDebugName:()=>Bn,getDependencyTree:()=>Se,getObserverTree:()=>Ce,has:()=>$e,intercept:()=>Re,isAction:()=>ae,isArrayLike:()=>b,isBoxedObservable:()=>xt,isComputed:()=>Fe,isComputedProp:()=>Pe,isFlowCancellationError:()=>xe,isObservable:()=>Be,isObservableArray:()=>bn,isObservableMap:()=>Cn,isObservableObject:()=>Fn,isObservableProp:()=>Ue,isObservableSet:()=>An,keys:()=>Ne,observable:()=>J,observe:()=>ze,onBecomeObserved:()=>fe,onBecomeUnobserved:()=>pe,onReactionError:()=>Jt,reaction:()=>he,remove:()=>He,runInAction:()=>se,set:()=>Ve,spy:()=>ee,toJS:()=>Je,trace:()=>qe,transaction:()=>Qe,untracked:()=>lt,values:()=>Me,when:()=>Ze});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function s(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function a(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}var c=[];Object.freeze(c);var l={};function u(){return++Ut.mobxGuid}function d(t){throw h(!1,t),"X"}function h(t,e){if(!t)throw new Error("[mobx] "+(e||"An invariant failed, however the error is obfuscated because this is a production build."))}function f(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}Object.freeze(l);var p=function(){};function g(t){return null!==t&&"object"==typeof t}function v(t){if(null===t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function m(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function y(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(t){return g(t)&&!0===t[n]}}function b(t){return Array.isArray(t)||bn(t)}function w(t){return t instanceof Map}function S(t){return t instanceof Set}function E(t){var e=new Set;for(var n in t)e.add(n);return Object.getOwnPropertySymbols(t).forEach((function(n){Object.getOwnPropertyDescriptor(t,n).enumerable&&e.add(n)})),Array.from(e)}function C(t){return t&&t.toString?t.toString():new String(t).toString()}function _(t){return null===t?null:"object"==typeof t?""+t:t}var k=Symbol("mobx administration"),A=function(){function t(t){void 0===t&&(t="Atom@"+u()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Y.NOT_TRACKING}return t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.reportObserved=function(){return zt(this)},t.prototype.reportChanged=function(){$t(),function(t){t.lowestObserverState!==Y.STALE&&(t.lowestObserverState=Y.STALE,t.observers.forEach((function(e){e.dependenciesState===Y.UP_TO_DATE&&(e.isTracing!==Q.NONE&&Xt(e,t),e.onBecomeStale()),e.dependenciesState=Y.STALE})))}(this),Wt()},t.prototype.toString=function(){return this.name},t}(),x=y("Atom",A);function O(t,e,n){void 0===e&&(e=p),void 0===n&&(n=p);var r=new A(t);return e!==p&&fe(r,e),n!==p&&pe(r,n),r}var D={identity:function(t,e){return t===e},structural:function(t,e){return Nn(t,e)},default:function(t,e){return Object.is(t,e)},shallow:function(t,e){return Nn(t,e,1)}},T=Symbol("mobx did run lazy initializers"),R=Symbol("mobx pending decorators"),I={},F={};function P(t,e){var n=e?I:F;return n[t]||(n[t]={configurable:!0,enumerable:e,get:function(){return j(this),this[t]},set:function(e){j(this),this[t]=e}})}function j(t){var e,n;if(!0!==t[T]){var r=t[R];if(r){m(t,T,!0);var i=a(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var s=o(i),c=s.next();!c.done;c=s.next()){var l=r[c.value];l.propertyCreator(t,l.prop,l.descriptor,l.decoratorTarget,l.decoratorArguments)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}}}}function B(t,e){return function(){var n,r=function(r,o,s,a){if(!0===a)return e(r,o,s,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,R)){var c=r[R];m(r,R,i({},c))}return r[R][o]={prop:o,propertyCreator:e,descriptor:s,decoratorTarget:r,decoratorArguments:n},P(o,t)};return U(arguments)?(n=c,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function U(t){return(2===t.length||3===t.length)&&("string"==typeof t[1]||"symbol"==typeof t[1])||4===t.length&&!0===t[3]}function N(t,e,n){return Be(t)?t:Array.isArray(t)?J.array(t,{name:n}):v(t)?J.object(t,void 0,{name:n}):w(t)?J.map(t,{name:n}):S(t)?J.set(t,{name:n}):t}function M(t){return t}function L(t){h(t);var e=B(!0,(function(e,n,r,i,o){var s=r?r.initializer?r.initializer.call(e):r.value:void 0;On(e).addObservableProp(n,s,t)})),n=("undefined"!=typeof process&&process.env,e);return n.enhancer=t,n}var V={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function H(t){return null==t?V:"string"==typeof t?{name:t,deep:!0,proxy:!0}:t}Object.freeze(V);var $=L(N),W=L((function(t,e,n){return null==t||Fn(t)||bn(t)||Cn(t)||An(t)?t:Array.isArray(t)?J.array(t,{name:n,deep:!1}):v(t)?J.object(t,void 0,{name:n,deep:!1}):w(t)?J.map(t,{name:n,deep:!1}):S(t)?J.set(t,{name:n,deep:!1}):d(!1)})),z=L(M),X=L((function(t,e,n){return Nn(t,e)?e:t}));function G(t){return t.defaultDecorator?t.defaultDecorator.enhancer:!1===t.deep?M:N}var K={box:function(t,e){arguments.length>2&&q("box");var n=H(e);return new At(t,G(n),n.name,!0,n.equals)},array:function(t,e){arguments.length>2&&q("array");var n=H(e);return pn(t,G(n),n.name)},map:function(t,e){arguments.length>2&&q("map");var n=H(e);return new En(t,G(n),n.name)},set:function(t,e){arguments.length>2&&q("set");var n=H(e);return new kn(t,G(n),n.name)},object:function(t,e,n){"string"==typeof arguments[1]&&q("object");var r=H(n);if(!1===r.proxy)return ye({},t,e,r);var i=be(r),o=ye({},void 0,void 0,r),s=sn(o);return we(s,t,e,i),s},ref:z,shallow:W,deep:$,struct:X},J=function(t,e,n){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return $.apply(null,arguments);if(Be(t))return t;var r=v(t)?J.object(t,e,n):Array.isArray(t)?J.array(t,e):w(t)?J.map(t,e):S(t)?J.set(t,e):t;if(r!==t)return r;d(!1)};function q(t){d("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}Object.keys(K).forEach((function(t){return J[t]=K[t]}));var Y,Q,Z=B(!1,(function(t,e,n,r,o){var s=n.get,a=n.set,c=o[0]||{};On(t).addComputedProp(t,e,i({get:s,set:a,context:t},c))})),tt=Z({equals:D.structural}),et=function(t,e,n){if("string"==typeof e)return Z.apply(null,arguments);if(null!==t&&"object"==typeof t&&1===arguments.length)return Z.apply(null,arguments);var r="object"==typeof e?e:{};return r.get=t,r.set="function"==typeof e?e:r.set,r.name=r.name||t.name||"",new Ot(r)};et.struct=tt,function(t){t[t.NOT_TRACKING=-1]="NOT_TRACKING",t[t.UP_TO_DATE=0]="UP_TO_DATE",t[t.POSSIBLY_STALE=1]="POSSIBLY_STALE",t[t.STALE=2]="STALE"}(Y||(Y={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(Q||(Q={}));var nt=function(t){this.cause=t};function rt(t){return t instanceof nt}function it(t){switch(t.dependenciesState){case Y.UP_TO_DATE:return!1;case Y.NOT_TRACKING:case Y.STALE:return!0;case Y.POSSIBLY_STALE:for(var e=ht(!0),n=ut(),r=t.observing,i=r.length,o=0;o<i;o++){var s=r[o];if(Dt(s)){if(Ut.disableErrorBoundaries)s.get();else try{s.get()}catch(t){return dt(n),ft(e),!0}if(t.dependenciesState===Y.STALE)return dt(n),ft(e),!0}}return pt(t),dt(n),ft(e),!1}}function ot(){return null!==Ut.trackingDerivation}function st(t){var e=t.observers.size>0;Ut.computationDepth>0&&e&&d(!1),Ut.allowStateChanges||!e&&"strict"!==Ut.enforceActions||d(!1)}function at(t,e,n){var r=ht(!0);pt(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++Ut.runId;var i,o=Ut.trackingDerivation;if(Ut.trackingDerivation=t,!0===Ut.disableErrorBoundaries)i=e.call(n);else try{i=e.call(n)}catch(t){i=new nt(t)}return Ut.trackingDerivation=o,function(t){for(var e=t.observing,n=t.observing=t.newObserving,r=Y.UP_TO_DATE,i=0,o=t.unboundDepsCount,s=0;s<o;s++)0===(a=n[s]).diffValue&&(a.diffValue=1,i!==s&&(n[i]=a),i++),a.dependenciesState>r&&(r=a.dependenciesState);for(n.length=i,t.newObserving=null,o=e.length;o--;)0===(a=e[o]).diffValue&&Vt(a,t),a.diffValue=0;for(;i--;){var a;1===(a=n[i]).diffValue&&(a.diffValue=0,Lt(a,t))}r!==Y.UP_TO_DATE&&(t.dependenciesState=r,t.onBecomeStale())}(t),ft(r),i}function ct(t){var e=t.observing;t.observing=[];for(var n=e.length;n--;)Vt(e[n],t);t.dependenciesState=Y.NOT_TRACKING}function lt(t){var e=ut();try{return t()}finally{dt(e)}}function ut(){var t=Ut.trackingDerivation;return Ut.trackingDerivation=null,t}function dt(t){Ut.trackingDerivation=t}function ht(t){var e=Ut.allowStateReads;return Ut.allowStateReads=t,e}function ft(t){Ut.allowStateReads=t}function pt(t){if(t.dependenciesState!==Y.UP_TO_DATE){t.dependenciesState=Y.UP_TO_DATE;for(var e=t.observing,n=e.length;n--;)e[n].lowestObserverState=Y.UP_TO_DATE}}var gt=0,vt=1,mt=Object.getOwnPropertyDescriptor((function(){}),"name");function yt(t,e,n){var r=function(){return bt(t,e,n||this,arguments)};return r.isMobxAction=!0,r}function bt(t,e,n,r){var i=wt();try{return e.apply(n,r)}catch(t){throw i.error=t,t}finally{St(i)}}function wt(t,e,n){var r=ut();$t();var i={prevDerivation:r,prevAllowStateChanges:Ct(!0),prevAllowStateReads:ht(!0),notifySpy:!1,startTime:0,actionId:vt++,parentActionId:gt};return gt=i.actionId,i}function St(t){gt!==t.actionId&&d("invalid action stack. did you forget to finish an action?"),gt=t.parentActionId,void 0!==t.error&&(Ut.suppressReactionErrors=!0),_t(t.prevAllowStateChanges),ft(t.prevAllowStateReads),Wt(),dt(t.prevDerivation),t.notifySpy,Ut.suppressReactionErrors=!1}function Et(t,e){var n,r=Ct(t);try{n=e()}finally{_t(r)}return n}function Ct(t){var e=Ut.allowStateChanges;return Ut.allowStateChanges=t,e}function _t(t){Ut.allowStateChanges=t}function kt(t){var e,n=Ut.computationDepth;Ut.computationDepth=0;try{e=t()}finally{Ut.computationDepth=n}return e}mt&&mt.configurable;var At=function(t){function e(e,n,r,i,o){void 0===r&&(r="ObservableValue@"+u()),void 0===i&&(i=!0),void 0===o&&(o=D.default);var s=t.call(this,r)||this;return s.enhancer=n,s.name=r,s.equals=o,s.hasUnreportedChange=!1,s.value=n(e,void 0,r),s}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.prototype.set=function(t){this.value,(t=this.prepareNewValue(t))!==Ut.UNCHANGED&&this.setNewValue(t)},e.prototype.prepareNewValue=function(t){if(st(this),an(this)){var e=ln(this,{object:this,type:"update",newValue:t});if(!e)return Ut.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value,this.name),this.equals(this.value,t)?Ut.UNCHANGED:t},e.prototype.setNewValue=function(t){var e=this.value;this.value=t,this.reportChanged(),un(this)&&hn(this,{type:"update",object:this,newValue:t,oldValue:e})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(t){return cn(this,t)},e.prototype.observe=function(t,e){return e&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),dn(this,t)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return _(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(A),xt=y("ObservableValue",At),Ot=function(){function t(t){this.dependenciesState=Y.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Y.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+u(),this.value=new nt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Q.NONE,h(t.get,"missing option for computed: get"),this.derivation=t.get,this.name=t.name||"ComputedValue@"+u(),t.set&&(this.setter=yt(this.name+"-setter",t.set)),this.equals=t.equals||(t.compareStructural||t.struct?D.structural:D.default),this.scope=t.context,this.requiresReaction=!!t.requiresReaction,this.keepAlive=!!t.keepAlive}return t.prototype.onBecomeStale=function(){!function(t){t.lowestObserverState===Y.UP_TO_DATE&&(t.lowestObserverState=Y.POSSIBLY_STALE,t.observers.forEach((function(e){e.dependenciesState===Y.UP_TO_DATE&&(e.dependenciesState=Y.POSSIBLY_STALE,e.isTracing!==Q.NONE&&Xt(e,t),e.onBecomeStale())})))}(this)},t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.get=function(){this.isComputing&&d("Cycle detected in computation "+this.name+": "+this.derivation),0!==Ut.inBatch||0!==this.observers.size||this.keepAlive?(zt(this),it(this)&&this.trackAndCompute()&&function(t){t.lowestObserverState!==Y.STALE&&(t.lowestObserverState=Y.STALE,t.observers.forEach((function(e){e.dependenciesState===Y.POSSIBLY_STALE?e.dependenciesState=Y.STALE:e.dependenciesState===Y.UP_TO_DATE&&(t.lowestObserverState=Y.UP_TO_DATE)})))}(this)):it(this)&&(this.warnAboutUntrackedRead(),$t(),this.value=this.computeValue(!1),Wt());var t=this.value;if(rt(t))throw t.cause;return t},t.prototype.peek=function(){var t=this.computeValue(!1);if(rt(t))throw t.cause;return t},t.prototype.set=function(t){if(this.setter){h(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else h(!1,!1)},t.prototype.trackAndCompute=function(){var t=this.value,e=this.dependenciesState===Y.NOT_TRACKING,n=this.computeValue(!0),r=e||rt(t)||rt(n)||!this.equals(t,n);return r&&(this.value=n),r},t.prototype.computeValue=function(t){var e;if(this.isComputing=!0,Ut.computationDepth++,t)e=at(this,this.derivation,this.scope);else if(!0===Ut.disableErrorBoundaries)e=this.derivation.call(this.scope);else try{e=this.derivation.call(this.scope)}catch(t){e=new nt(t)}return Ut.computationDepth--,this.isComputing=!1,e},t.prototype.suspend=function(){this.keepAlive||(ct(this),this.value=void 0)},t.prototype.observe=function(t,e){var n=this,r=!0,i=void 0;return le((function(){var o=n.get();if(!r||e){var s=ut();t({type:"update",object:n,newValue:o,oldValue:i}),dt(s)}r=!1,i=o}))},t.prototype.warnAboutUntrackedRead=function(){},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return _(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(),Dt=y("ComputedValue",Ot),Tt=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED"],Rt=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},It={};function Ft(){return"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:It}var Pt,jt=!0,Bt=!1,Ut=((Pt=Ft()).__mobxInstanceCount>0&&!Pt.__mobxGlobals&&(jt=!1),Pt.__mobxGlobals&&Pt.__mobxGlobals.version!==(new Rt).version&&(jt=!1),jt?Pt.__mobxGlobals?(Pt.__mobxInstanceCount+=1,Pt.__mobxGlobals.UNCHANGED||(Pt.__mobxGlobals.UNCHANGED={}),Pt.__mobxGlobals):(Pt.__mobxInstanceCount=1,Pt.__mobxGlobals=new Rt):(setTimeout((function(){Bt||d("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Rt));function Nt(){return Ut}function Mt(){var t=new Rt;for(var e in t)-1===Tt.indexOf(e)&&(Ut[e]=t[e]);Ut.allowStateChanges=!Ut.enforceActions}function Lt(t,e){t.observers.add(e),t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function Vt(t,e){t.observers.delete(e),0===t.observers.size&&Ht(t)}function Ht(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,Ut.pendingUnobservations.push(t))}function $t(){Ut.inBatch++}function Wt(){if(0==--Ut.inBatch){Yt();for(var t=Ut.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Ot&&n.suspend())}Ut.pendingUnobservations=[]}}function zt(t){var e=Ut.trackingDerivation;return null!==e?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(0===t.observers.size&&Ut.inBatch>0&&Ht(t),!1)}function Xt(t,e){if(console.log("[mobx.trace] '"+t.name+"' is invalidated due to a change in: '"+e.name+"'"),t.isTracing===Q.BREAK){var n=[];Gt(Se(t),n,1),new Function("debugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+e.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof Ot?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function Gt(t,e,n){e.length>=1e3?e.push("(and many more)"):(e.push(""+new Array(n).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return Gt(t,e,n+1)})))}var Kt=function(){function t(t,e,n,r){void 0===t&&(t="Reaction@"+u()),void 0===r&&(r=!1),this.name=t,this.onInvalidate=e,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=Y.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+u(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Q.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ut.pendingReactions.push(this),Yt())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){if(!this.isDisposed){if($t(),this._isScheduled=!1,it(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(t){this.reportExceptionInDerivation(t)}}Wt()}},t.prototype.track=function(t){if(!this.isDisposed){$t(),this._isRunning=!0;var e=at(this,t,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ct(this),rt(e)&&this.reportExceptionInDerivation(e.cause),Wt()}},t.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler)this.errorHandler(t,this);else{if(Ut.disableErrorBoundaries)throw t;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Ut.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,t),Ut.globalReactionErrorHandlers.forEach((function(n){return n(t,e)}))}},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||($t(),ct(this),Wt()))},t.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t[k]=this,t},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(t){void 0===t&&(t=!1),qe(this,t)},t}();function Jt(t){return Ut.globalReactionErrorHandlers.push(t),function(){var e=Ut.globalReactionErrorHandlers.indexOf(t);e>=0&&Ut.globalReactionErrorHandlers.splice(e,1)}}var qt=function(t){return t()};function Yt(){Ut.inBatch>0||Ut.isRunningReactions||qt(Qt)}function Qt(){Ut.isRunningReactions=!0;for(var t=Ut.pendingReactions,e=0;t.length>0;){100==++e&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction()}Ut.isRunningReactions=!1}var Zt=y("Reaction",Kt);function te(t){var e=qt;qt=function(n){return t((function(){return e(n)}))}}function ee(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function ne(){d(!1)}function re(t){return function(e,n,r){if(r){if(r.value)return{value:yt(t,r.value),enumerable:!1,configurable:!0,writable:!0};var i=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return yt(t,i.call(this))}}}return ie(t).apply(this,arguments)}}function ie(t){return function(e,n,r){Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:function(){},set:function(e){m(this,n,oe(t,e))}})}}var oe=function(t,e,n,r){return 1===arguments.length&&"function"==typeof t?yt(t.name||"<unnamed action>",t):2===arguments.length&&"function"==typeof e?yt(t,e):1===arguments.length&&"string"==typeof t?re(t):!0!==r?re(e).apply(null,arguments):void m(t,e,yt(t.name||e,n.value,this))};function se(t,e){return bt("string"==typeof t||t.name,"function"==typeof t?t:e,this,void 0)}function ae(t){return"function"==typeof t&&!0===t.isMobxAction}function ce(t,e,n){m(t,e,yt(e,n.bind(t)))}function le(t,e){void 0===e&&(e=l);var n,r=e&&e.name||t.name||"Autorun@"+u();if(e.scheduler||e.delay){var i=de(e),o=!1;n=new Kt(r,(function(){o||(o=!0,i((function(){o=!1,n.isDisposed||n.track(s)})))}),e.onError,e.requiresObservable)}else n=new Kt(r,(function(){this.track(s)}),e.onError,e.requiresObservable);function s(){t(n)}return n.schedule(),n.getDisposer()}oe.bound=function(t,e,n,r){return!0===r?(ce(t,e,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return ce(this,e,n.value||n.initializer.call(this)),this[e]},set:ne}:{enumerable:!1,configurable:!0,set:function(t){ce(this,e,t)},get:function(){}}};var ue=function(t){return t()};function de(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:ue}function he(t,e,n){void 0===n&&(n=l);var r,i,o,s=n.name||"Reaction@"+u(),a=oe(s,n.onError?(r=n.onError,i=e,function(){try{return i.apply(this,arguments)}catch(t){r.call(this,t)}}):e),c=!n.scheduler&&!n.delay,d=de(n),h=!0,f=!1,p=n.compareStructural?D.structural:n.equals||D.default,g=new Kt(s,(function(){h||c?v():f||(f=!0,d(v))}),n.onError,n.requiresObservable);function v(){if(f=!1,!g.isDisposed){var e=!1;g.track((function(){var n=t(g);e=h||!p(o,n),o=n})),h&&n.fireImmediately&&a(o,g),h||!0!==e||a(o,g),h&&(h=!1)}}return g.schedule(),g.getDisposer()}function fe(t,e,n){return ge("onBecomeObserved",t,e,n)}function pe(t,e,n){return ge("onBecomeUnobserved",t,e,n)}function ge(t,e,n,r){var i="function"==typeof r?Pn(e,n):Pn(e),o="function"==typeof r?r:n,s=t+"Listeners";return i[s]?i[s].add(o):i[s]=new Set([o]),"function"!=typeof i[t]?d(!1):function(){var t=i[s];t&&(t.delete(o),0===t.size&&delete i[s])}}function ve(t){var e=t.enforceActions,n=t.computedRequiresReaction,r=t.computedConfigurable,i=t.disableErrorBoundaries,o=t.reactionScheduler,s=t.reactionRequiresObservable,a=t.observableRequiresReaction;if(!0===t.isolateGlobalState&&((Ut.pendingReactions.length||Ut.inBatch||Ut.isRunningReactions)&&d("isolateGlobalState should be called before MobX is running any reactions"),Bt=!0,jt&&(0==--Ft().__mobxInstanceCount&&(Ft().__mobxGlobals=void 0),Ut=new Rt)),void 0!==e){var c=void 0;switch(e){case!0:case"observed":c=!0;break;case!1:case"never":c=!1;break;case"strict":case"always":c="strict";break;default:d("Invalid value for 'enforceActions': '"+e+"', expected 'never', 'always' or 'observed'")}Ut.enforceActions=c,Ut.allowStateChanges=!0!==c&&"strict"!==c}void 0!==n&&(Ut.computedRequiresReaction=!!n),void 0!==s&&(Ut.reactionRequiresObservable=!!s),void 0!==a&&(Ut.observableRequiresReaction=!!a,Ut.allowStateReads=!Ut.observableRequiresReaction),void 0!==r&&(Ut.computedConfigurable=!!r),void 0!==i&&(!0===i&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Ut.disableErrorBoundaries=!!i),o&&te(o)}function me(t,e){var n="function"==typeof t?t.prototype:t,r=function(t){var r=e[t];Array.isArray(r)||(r=[r]);var i=Object.getOwnPropertyDescriptor(n,t),o=r.reduce((function(e,r){return r(n,t,e)}),i);o&&Object.defineProperty(n,t,o)};for(var i in e)r(i);return t}function ye(t,e,n,r){var i=be(r=H(r));return j(t),On(t,r.name,i.enhancer),e&&we(t,e,n,i),t}function be(t){return t.defaultDecorator||(!1===t.deep?z:$)}function we(t,e,n,r){var i,s;$t();try{var a=E(e);try{for(var c=o(a),l=c.next();!l.done;l=c.next()){var u=l.value,d=Object.getOwnPropertyDescriptor(e,u),h=(n&&u in n?n[u]:d.get?Z:r)(t,u,d,!0);h&&Object.defineProperty(t,u,h)}}catch(t){i={error:t}}finally{try{l&&!l.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}}finally{Wt()}}function Se(t,e){return Ee(Pn(t,e))}function Ee(t){var e,n,r={name:t.name};return t.observing&&t.observing.length>0&&(r.dependencies=(e=t.observing,n=[],e.forEach((function(t){-1===n.indexOf(t)&&n.push(t)})),n).map(Ee)),r}function Ce(t,e){return _e(Pn(t,e))}function _e(t){var e={name:t.name};return function(t){return t.observers&&t.observers.size>0}(t)&&(e.observers=Array.from(function(t){return t.observers}(t)).map(_e)),e}var ke=0;function Ae(){this.message="FLOW_CANCELLED"}function xe(t){return t instanceof Ae}function Oe(t){1!==arguments.length&&d("Flow expects 1 argument and cannot be used as decorator");var e=t.name||"<unnamed flow>";return function(){var n,r=this,i=arguments,o=++ke,s=oe(e+" - runid: "+o+" - init",t).apply(r,i),a=void 0,c=new Promise((function(t,r){var i=0;function c(t){var n;a=void 0;try{n=oe(e+" - runid: "+o+" - yield "+i++,s.next).call(s,t)}catch(t){return r(t)}u(n)}function l(t){var n;a=void 0;try{n=oe(e+" - runid: "+o+" - yield "+i++,s.throw).call(s,t)}catch(t){return r(t)}u(n)}function u(e){if(!e||"function"!=typeof e.then)return e.done?t(e.value):(a=Promise.resolve(e.value)).then(c,l);e.then(u,r)}n=r,c(void 0)}));return c.cancel=oe(e+" - runid: "+o+" - cancel",(function(){try{a&&De(a);var t=s.return(void 0),e=Promise.resolve(t.value);e.then(p,p),De(e),n(new Ae)}catch(t){n(t)}})),c}}function De(t){"function"==typeof t.cancel&&t.cancel()}function Te(t,e,n){var r;if(Cn(t)||bn(t)||xt(t))r=jn(t);else{if(!Fn(t))return d(!1);if("string"!=typeof e)return d(!1);r=jn(t,e)}return void 0!==r.dehancer?d(!1):(r.dehancer="function"==typeof e?e:n,function(){r.dehancer=void 0})}function Re(t,e,n){return"function"==typeof n?function(t,e,n){return jn(t,e).intercept(n)}(t,e,n):function(t,e){return jn(t).intercept(e)}(t,e)}function Ie(t,e){if(null==t)return!1;if(void 0!==e){if(!1===Fn(t))return!1;if(!t[k].values.has(e))return!1;var n=Pn(t,e);return Dt(n)}return Dt(t)}function Fe(t){return arguments.length>1?d(!1):Ie(t)}function Pe(t,e){return"string"!=typeof e?d(!1):Ie(t,e)}function je(t,e){return null!=t&&(void 0!==e?!!Fn(t)&&t[k].values.has(e):Fn(t)||!!t[k]||x(t)||Zt(t)||Dt(t))}function Be(t){return 1!==arguments.length&&d(!1),je(t)}function Ue(t,e){return"string"!=typeof e?d(!1):je(t,e)}function Ne(t){return Fn(t)?t[k].getKeys():Cn(t)||An(t)?Array.from(t.keys()):bn(t)?t.map((function(t,e){return e})):d(!1)}function Me(t){return Fn(t)?Ne(t).map((function(e){return t[e]})):Cn(t)?Ne(t).map((function(e){return t.get(e)})):An(t)?Array.from(t.values()):bn(t)?t.slice():d(!1)}function Le(t){return Fn(t)?Ne(t).map((function(e){return[e,t[e]]})):Cn(t)?Ne(t).map((function(e){return[e,t.get(e)]})):An(t)?Array.from(t.entries()):bn(t)?t.map((function(t,e){return[e,t]})):d(!1)}function Ve(t,e,n){if(2!==arguments.length||An(t))if(Fn(t)){var r=t[k],i=r.values.get(e);i?r.write(e,n):r.addObservableProp(e,n,r.defaultEnhancer)}else if(Cn(t))t.set(e,n);else if(An(t))t.add(e);else{if(!bn(t))return d(!1);"number"!=typeof e&&(e=parseInt(e,10)),h(e>=0,"Not a valid index: '"+e+"'"),$t(),e>=t.length&&(t.length=e+1),t[e]=n,Wt()}else{$t();var o=e;try{for(var s in o)Ve(t,s,o[s])}finally{Wt()}}}function He(t,e){if(Fn(t))t[k].remove(e);else if(Cn(t))t.delete(e);else if(An(t))t.delete(e);else{if(!bn(t))return d(!1);"number"!=typeof e&&(e=parseInt(e,10)),h(e>=0,"Not a valid index: '"+e+"'"),t.splice(e,1)}}function $e(t,e){return Fn(t)?jn(t).has(e):Cn(t)||An(t)?t.has(e):bn(t)?e>=0&&e<t.length:d(!1)}function We(t,e){if($e(t,e))return Fn(t)?t[e]:Cn(t)?t.get(e):bn(t)?t[e]:d(!1)}function ze(t,e,n,r){return"function"==typeof n?function(t,e,n,r){return jn(t,e).observe(n,r)}(t,e,n,r):function(t,e,n){return jn(t).observe(e,n)}(t,e,n)}Ae.prototype=Object.create(Error.prototype);var Xe={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Ge(t,e,n,r){return r.detectCycles&&t.set(e,n),n}function Ke(t,e,n){if(!e.recurseEverything&&!Be(t))return t;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return t;if(xt(t))return Ke(t.get(),e,n);if(Be(t)&&Ne(t),!0===e.detectCycles&&null!==t&&n.has(t))return n.get(t);if(bn(t)||Array.isArray(t)){var r=Ge(n,t,[],e),i=t.map((function(t){return Ke(t,e,n)}));r.length=i.length;for(var o=0,s=i.length;o<s;o++)r[o]=i[o];return r}if(An(t)||Object.getPrototypeOf(t)===Set.prototype){if(!1===e.exportMapsAsObjects){var a=Ge(n,t,new Set,e);return t.forEach((function(t){a.add(Ke(t,e,n))})),a}var c=Ge(n,t,[],e);return t.forEach((function(t){c.push(Ke(t,e,n))})),c}if(Cn(t)||Object.getPrototypeOf(t)===Map.prototype){if(!1===e.exportMapsAsObjects){var l=Ge(n,t,new Map,e);return t.forEach((function(t,r){l.set(r,Ke(t,e,n))})),l}var u=Ge(n,t,{},e);return t.forEach((function(t,r){u[r]=Ke(t,e,n)})),u}var d=Ge(n,t,{},e);return E(t).forEach((function(r){d[r]=Ke(t[r],e,n)})),d}function Je(t,e){var n;return"boolean"==typeof e&&(e={detectCycles:e}),e||(e=Xe),e.detectCycles=void 0===e.detectCycles?!0===e.recurseEverything:!0===e.detectCycles,e.detectCycles&&(n=new Map),Ke(t,e,n)}function qe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!1;"boolean"==typeof t[t.length-1]&&(n=t.pop());var r=Ye(t);if(!r)return d(!1);r.isTracing===Q.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?Q.BREAK:Q.LOG}function Ye(t){switch(t.length){case 0:return Ut.trackingDerivation;case 1:return Pn(t[0]);case 2:return Pn(t[0],t[1])}}function Qe(t,e){void 0===e&&(e=void 0),$t();try{return t.apply(e)}finally{Wt()}}function Ze(t,e,n){return 1===arguments.length||e&&"object"==typeof e?en(t,e):tn(t,e,n||{})}function tn(t,e,n){var r;"number"==typeof n.timeout&&(r=setTimeout((function(){if(!o[k].isDisposed){o();var t=new Error("WHEN_TIMEOUT");if(!n.onError)throw t;n.onError(t)}}),n.timeout)),n.name=n.name||"When@"+u();var i=yt(n.name+"-effect",e),o=le((function(e){t()&&(e.dispose(),r&&clearTimeout(r),i())}),n);return o}function en(t,e){var n,r=new Promise((function(r,o){var s=tn(t,r,i(i({},e),{onError:o}));n=function(){s(),o("WHEN_CANCELLED")}}));return r.cancel=n,r}function nn(t){return t[k]}function rn(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t}var on={has:function(t,e){if(e===k||"constructor"===e||e===T)return!0;var n=nn(t);return rn(e)?n.has(e):e in t},get:function(t,e){if(e===k||"constructor"===e||e===T)return t[e];var n=nn(t),r=n.values.get(e);if(r instanceof A){var i=r.get();return void 0===i&&n.has(e),i}return rn(e)&&n.has(e),t[e]},set:function(t,e,n){return!!rn(e)&&(Ve(t,e,n),!0)},deleteProperty:function(t,e){return!!rn(e)&&(nn(t).remove(e),!0)},ownKeys:function(t){return nn(t).keysAtom.reportObserved(),Reflect.ownKeys(t)},preventExtensions:function(t){return d("Dynamic observable objects cannot be frozen"),!1}};function sn(t){var e=new Proxy(t,on);return t[k].proxy=e,e}function an(t){return void 0!==t.interceptors&&t.interceptors.length>0}function cn(t,e){var n=t.interceptors||(t.interceptors=[]);return n.push(e),f((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function ln(t,e){var n=ut();try{for(var r=a(t.interceptors||[]),i=0,o=r.length;i<o&&(h(!(e=r[i](e))||e.type,"Intercept handlers should return nothing or a change object"),e);i++);return e}finally{dt(n)}}function un(t){return void 0!==t.changeListeners&&t.changeListeners.length>0}function dn(t,e){var n=t.changeListeners||(t.changeListeners=[]);return n.push(e),f((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function hn(t,e){var n=ut(),r=t.changeListeners;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](e);dt(n)}}var fn={get:function(t,e){return e===k?t[k]:"length"===e?t[k].getArrayLength():"number"==typeof e?vn.get.call(t,e):"string"!=typeof e||isNaN(e)?vn.hasOwnProperty(e)?vn[e]:t[e]:vn.get.call(t,parseInt(e))},set:function(t,e,n){return"length"===e&&t[k].setArrayLength(n),"number"==typeof e&&vn.set.call(t,e,n),"symbol"==typeof e||isNaN(e)?t[e]=n:vn.set.call(t,parseInt(e),n),!0},preventExtensions:function(t){return d("Observable arrays cannot be frozen"),!1}};function pn(t,e,n,r){void 0===n&&(n="ObservableArray@"+u()),void 0===r&&(r=!1);var i,o,s,a=new gn(n,e,r);i=a.values,o=k,s=a,Object.defineProperty(i,o,{enumerable:!1,writable:!1,configurable:!0,value:s});var c=new Proxy(a.values,fn);if(a.proxy=c,t&&t.length){var l=Ct(!0);a.spliceWithArray(0,0,t),_t(l)}return c}var gn=function(){function t(t,e,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new A(t||"ObservableArray@"+u()),this.enhancer=function(n,r){return e(n,r,t+"[..]")}}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.dehanceValues=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.prototype.intercept=function(t){return cn(this,t)},t.prototype.observe=function(t,e){return void 0===e&&(e=!1),e&&t({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),dn(this,t)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(t){if("number"!=typeof t||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t!==e)if(t>e){for(var n=new Array(t-e),r=0;r<t-e;r++)n[r]=void 0;this.spliceWithArray(e,0,n)}else this.spliceWithArray(t,e-t)},t.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=e},t.prototype.spliceWithArray=function(t,e,n){var r=this;st(this.atom);var i=this.values.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),e=1===arguments.length?i-t:null==e?0:Math.max(0,Math.min(e,i-t)),void 0===n&&(n=c),an(this)){var o=ln(this,{object:this.proxy,type:"splice",index:t,removedCount:e,added:n});if(!o)return c;e=o.removedCount,n=o.added}n=0===n.length?n:n.map((function(t){return r.enhancer(t,void 0)}));var s=this.spliceItemsIntoValues(t,e,n);return 0===e&&0===n.length||this.notifyArraySplice(t,n,s),this.dehanceValues(s)},t.prototype.spliceItemsIntoValues=function(t,e,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,a([t,e],n));var i=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(n,this.values.slice(t+e)),i},t.prototype.notifyArrayChildUpdate=function(t,e,n){var r=!this.owned&&!1,i=un(this),o=i||r?{object:this.proxy,type:"update",index:t,newValue:e,oldValue:n}:null;this.atom.reportChanged(),i&&hn(this,o)},t.prototype.notifyArraySplice=function(t,e,n){var r=!this.owned&&!1,i=un(this),o=i||r?{object:this.proxy,type:"splice",index:t,removed:n,added:e,removedCount:n.length,addedCount:e.length}:null;this.atom.reportChanged(),i&&hn(this,o)},t}(),vn={intercept:function(t){return this[k].intercept(t)},observe:function(t,e){return void 0===e&&(e=!1),this[k].observe(t,e)},clear:function(){return this.splice(0)},replace:function(t){var e=this[k];return e.spliceWithArray(0,e.values.length,t)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this[k];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray(t);case 2:return i.spliceWithArray(t,e)}return i.spliceWithArray(t,e,n)},spliceWithArray:function(t,e,n){return this[k].spliceWithArray(t,e,n)},push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[k];return n.spliceWithArray(n.values.length,0,t),n.values.length},pop:function(){return this.splice(Math.max(this[k].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[k];return n.spliceWithArray(0,0,t),n.values.length},reverse:function(){var t=this.slice();return t.reverse.apply(t,arguments)},sort:function(t){var e=this.slice();return e.sort.apply(e,arguments)},remove:function(t){var e=this[k],n=e.dehanceValues(e.values).indexOf(t);return n>-1&&(this.splice(n,1),!0)},get:function(t){var e=this[k];if(e){if(t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+e.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(t,e){var n=this[k],r=n.values;if(t<r.length){st(n.atom);var i=r[t];if(an(n)){var o=ln(n,{type:"update",object:n.proxy,index:t,newValue:e});if(!o)return;e=o.newValue}(e=n.enhancer(e,i))!==i&&(r[t]=e,n.notifyArrayChildUpdate(t,e,i))}else{if(t!==r.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+r.length);n.spliceWithArray(t,0,[e])}}};["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach((function(t){vn[t]=function(){var e=this[k];e.atom.reportObserved();var n=e.dehanceValues(e.values);return n[t].apply(n,arguments)}}));var mn,yn=y("ObservableArrayAdministration",gn);function bn(t){return g(t)&&yn(t[k])}var wn,Sn={},En=function(){function t(t,e,n){if(void 0===e&&(e=N),void 0===n&&(n="ObservableMap@"+u()),this.enhancer=e,this.name=n,this[mn]=Sn,this._keysAtom=O(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(t)}return t.prototype._has=function(t){return this._data.has(t)},t.prototype.has=function(t){var e=this;if(!Ut.trackingDerivation)return this._has(t);var n=this._hasMap.get(t);if(!n){var r=n=new At(this._has(t),M,this.name+"."+C(t)+"?",!1);this._hasMap.set(t,r),pe(r,(function(){return e._hasMap.delete(t)}))}return n.get()},t.prototype.set=function(t,e){var n=this._has(t);if(an(this)){var r=ln(this,{type:n?"update":"add",object:this,newValue:e,name:t});if(!r)return this;e=r.newValue}return n?this._updateValue(t,e):this._addValue(t,e),this},t.prototype.delete=function(t){var e=this;if(an(this)&&!(r=ln(this,{type:"delete",object:this,name:t})))return!1;if(this._has(t)){var n=un(this),r=n?{type:"delete",object:this,oldValue:this._data.get(t).value,name:t}:null;return Qe((function(){e._keysAtom.reportChanged(),e._updateHasMapEntry(t,!1),e._data.get(t).setNewValue(void 0),e._data.delete(t)})),n&&hn(this,r),!0}return!1},t.prototype._updateHasMapEntry=function(t,e){var n=this._hasMap.get(t);n&&n.setNewValue(e)},t.prototype._updateValue=function(t,e){var n=this._data.get(t);if((e=n.prepareNewValue(e))!==Ut.UNCHANGED){var r=un(this),i=r?{type:"update",object:this,oldValue:n.value,name:t,newValue:e}:null;n.setNewValue(e),r&&hn(this,i)}},t.prototype._addValue=function(t,e){var n=this;st(this._keysAtom),Qe((function(){var r=new At(e,n.enhancer,n.name+"."+C(t),!1);n._data.set(t,r),e=r.value,n._updateHasMapEntry(t,!0),n._keysAtom.reportChanged()}));var r=un(this);r&&hn(this,r?{type:"add",object:this,name:t,newValue:e}:null)},t.prototype.get=function(t){return this.has(t)?this.dehanceValue(this._data.get(t).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},t.prototype.values=function(){var t=this,e=0,n=Array.from(this.keys());return Hn({next:function(){return e<n.length?{value:t.get(n[e++]),done:!1}:{done:!0}}})},t.prototype.entries=function(){var t=this,e=0,n=Array.from(this.keys());return Hn({next:function(){if(e<n.length){var r=n[e++];return{value:[r,t.get(r)],done:!1}}return{done:!0}}})},t.prototype[(mn=k,Symbol.iterator)]=function(){return this.entries()},t.prototype.forEach=function(t,e){var n,r;try{for(var i=o(this),a=i.next();!a.done;a=i.next()){var c=s(a.value,2),l=c[0],u=c[1];t.call(e,u,l,this)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.merge=function(t){var e=this;return Cn(t)&&(t=t.toJS()),Qe((function(){v(t)?E(t).forEach((function(n){return e.set(n,t[n])})):Array.isArray(t)?t.forEach((function(t){var n=s(t,2),r=n[0],i=n[1];return e.set(r,i)})):w(t)?(t.constructor!==Map&&d("Cannot initialize from classes that inherit from Map: "+t.constructor.name),t.forEach((function(t,n){return e.set(n,t)}))):null!=t&&d("Cannot initialize map from "+t)})),this},t.prototype.clear=function(){var t=this;Qe((function(){lt((function(){var e,n;try{for(var r=o(t.keys()),i=r.next();!i.done;i=r.next()){var s=i.value;t.delete(s)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}))}))},t.prototype.replace=function(t){var e=this;return Qe((function(){var n,r=v(n=t)?Object.keys(n):Array.isArray(n)?n.map((function(t){return s(t,1)[0]})):w(n)||Cn(n)?Array.from(n.keys()):d("Cannot get keys from '"+n+"'");Array.from(e.keys()).filter((function(t){return-1===r.indexOf(t)})).forEach((function(t){return e.delete(t)})),e.merge(t)})),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var t,e,n={};try{for(var r=o(this),i=r.next();!i.done;i=r.next()){var a=s(i.value,2),c=a[0],l=a[1];n["symbol"==typeof c?c:C(c)]=l}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.toJS=function(){return new Map(this)},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var t=this;return this.name+"[{ "+Array.from(this.keys()).map((function(e){return C(e)+": "+t.get(e)})).join(", ")+" }]"},t.prototype.observe=function(t,e){return dn(this,t)},t.prototype.intercept=function(t){return cn(this,t)},t}(),Cn=y("ObservableMap",En),_n={},kn=function(){function t(t,e,n){if(void 0===e&&(e=N),void 0===n&&(n="ObservableSet@"+u()),this.name=n,this[wn]=_n,this._data=new Set,this._atom=O(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(t,r){return e(t,r,n)},t&&this.replace(t)}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.clear=function(){var t=this;Qe((function(){lt((function(){var e,n;try{for(var r=o(t._data.values()),i=r.next();!i.done;i=r.next()){var s=i.value;t.delete(s)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}))}))},t.prototype.forEach=function(t,e){var n,r;try{for(var i=o(this),s=i.next();!s.done;s=i.next()){var a=s.value;t.call(e,a,a,this)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.add=function(t){var e=this;if(st(this._atom),an(this)&&!(r=ln(this,{type:"add",object:this,newValue:t})))return this;if(!this.has(t)){Qe((function(){e._data.add(e.enhancer(t,void 0)),e._atom.reportChanged()}));var n=un(this),r=n?{type:"add",object:this,newValue:t}:null;n&&hn(this,r)}return this},t.prototype.delete=function(t){var e=this;if(an(this)&&!(r=ln(this,{type:"delete",object:this,oldValue:t})))return!1;if(this.has(t)){var n=un(this),r=n?{type:"delete",object:this,oldValue:t}:null;return Qe((function(){e._atom.reportChanged(),e._data.delete(t)})),n&&hn(this,r),!0}return!1},t.prototype.has=function(t){return this._atom.reportObserved(),this._data.has(this.dehanceValue(t))},t.prototype.entries=function(){var t=0,e=Array.from(this.keys()),n=Array.from(this.values());return Hn({next:function(){var r=t;return t+=1,r<n.length?{value:[e[r],n[r]],done:!1}:{done:!0}}})},t.prototype.keys=function(){return this.values()},t.prototype.values=function(){this._atom.reportObserved();var t=this,e=0,n=Array.from(this._data.values());return Hn({next:function(){return e<n.length?{value:t.dehanceValue(n[e++]),done:!1}:{done:!0}}})},t.prototype.replace=function(t){var e=this;return An(t)&&(t=t.toJS()),Qe((function(){Array.isArray(t)||S(t)?(e.clear(),t.forEach((function(t){return e.add(t)}))):null!=t&&d("Cannot initialize set from "+t)})),this},t.prototype.observe=function(t,e){return dn(this,t)},t.prototype.intercept=function(t){return cn(this,t)},t.prototype.toJS=function(){return new Set(this)},t.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},t.prototype[(wn=k,Symbol.iterator)]=function(){return this.values()},t}(),An=y("ObservableSet",kn),xn=function(){function t(t,e,n,r){void 0===e&&(e=new Map),this.target=t,this.values=e,this.name=n,this.defaultEnhancer=r,this.keysAtom=new A(n+".keys")}return t.prototype.read=function(t){return this.values.get(t).get()},t.prototype.write=function(t,e){var n=this.target,r=this.values.get(t);if(r instanceof Ot)r.set(e);else{if(an(this)){if(!(o=ln(this,{type:"update",object:this.proxy||n,name:t,newValue:e})))return;e=o.newValue}if((e=r.prepareNewValue(e))!==Ut.UNCHANGED){var i=un(this),o=i?{type:"update",object:this.proxy||n,oldValue:r.value,name:t,newValue:e}:null;r.setNewValue(e),i&&hn(this,o)}}},t.prototype.has=function(t){var e=this.pendingKeys||(this.pendingKeys=new Map),n=e.get(t);if(n)return n.get();var r=!!this.values.get(t);return n=new At(r,M,this.name+"."+C(t)+"?",!1),e.set(t,n),n.get()},t.prototype.addObservableProp=function(t,e,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(an(this)){var i=ln(this,{object:this.proxy||r,name:t,type:"add",newValue:e});if(!i)return;e=i.newValue}var o=new At(e,n,this.name+"."+C(t),!1);this.values.set(t,o),e=o.value,Object.defineProperty(r,t,function(t){return Dn[t]||(Dn[t]={configurable:!0,enumerable:!0,get:function(){return this[k].read(t)},set:function(e){this[k].write(t,e)}})}(t)),this.notifyPropertyAddition(t,e)},t.prototype.addComputedProp=function(t,e,n){var r,i,o,s=this.target;n.name=n.name||this.name+"."+C(e),this.values.set(e,new Ot(n)),(t===s||(r=t,i=e,!(o=Object.getOwnPropertyDescriptor(r,i))||!1!==o.configurable&&!1!==o.writable))&&Object.defineProperty(t,e,function(t){return Tn[t]||(Tn[t]={configurable:Ut.computedConfigurable,enumerable:!1,get:function(){return Rn(this).read(t)},set:function(e){Rn(this).write(t,e)}})}(e))},t.prototype.remove=function(t){if(this.values.has(t)){var e=this.target;if(an(this)&&!(s=ln(this,{object:this.proxy||e,name:t,type:"remove"})))return;try{$t();var n=un(this),r=this.values.get(t),i=r&&r.get();if(r&&r.set(void 0),this.keysAtom.reportChanged(),this.values.delete(t),this.pendingKeys){var o=this.pendingKeys.get(t);o&&o.set(!1)}delete this.target[t];var s=n?{type:"remove",object:this.proxy||e,oldValue:i,name:t}:null;n&&hn(this,s)}finally{Wt()}}},t.prototype.illegalAccess=function(t,e){console.warn("Property '"+e+"' of '"+t+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},t.prototype.observe=function(t,e){return dn(this,t)},t.prototype.intercept=function(t){return cn(this,t)},t.prototype.notifyPropertyAddition=function(t,e){var n=un(this),r=n?{type:"add",object:this.proxy||this.target,name:t,newValue:e}:null;if(n&&hn(this,r),this.pendingKeys){var i=this.pendingKeys.get(t);i&&i.set(!0)}this.keysAtom.reportChanged()},t.prototype.getKeys=function(){var t,e;this.keysAtom.reportObserved();var n=[];try{for(var r=o(this.values),i=r.next();!i.done;i=r.next()){var a=s(i.value,2),c=a[0];a[1]instanceof At&&n.push(c)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t}();function On(t,e,n){if(void 0===e&&(e=""),void 0===n&&(n=N),Object.prototype.hasOwnProperty.call(t,k))return t[k];v(t)||(e=(t.constructor.name||"ObservableObject")+"@"+u()),e||(e="ObservableObject@"+u());var r=new xn(t,new Map,C(e),n);return m(t,k,r),r}var Dn=Object.create(null),Tn=Object.create(null);function Rn(t){return t[k]||(j(t),t[k])}var In=y("ObservableObjectAdministration",xn);function Fn(t){return!!g(t)&&(j(t),In(t[k]))}function Pn(t,e){if("object"==typeof t&&null!==t){if(bn(t))return void 0!==e&&d(!1),t[k].atom;if(An(t))return t[k];if(Cn(t)){var n=t;return void 0===e?n._keysAtom:((r=n._data.get(e)||n._hasMap.get(e))||d(!1),r)}var r;if(j(t),e&&!t[k]&&t[e],Fn(t))return e?((r=t[k].values.get(e))||d(!1),r):d(!1);if(x(t)||Dt(t)||Zt(t))return t}else if("function"==typeof t&&Zt(t[k]))return t[k];return d(!1)}function jn(t,e){return t||d("Expecting some object"),void 0!==e?jn(Pn(t,e)):x(t)||Dt(t)||Zt(t)||Cn(t)||An(t)?t:(j(t),t[k]?t[k]:void d(!1))}function Bn(t,e){return(void 0!==e?Pn(t,e):Fn(t)||Cn(t)||An(t)?jn(t):Pn(t)).name}var Un=Object.prototype.toString;function Nn(t,e,n){return void 0===n&&(n=-1),Mn(t,e,n)}function Mn(t,e,n,r,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;if("function"!==o&&"object"!==o&&"object"!=typeof e)return!1;var s=Un.call(t);if(s!==Un.call(e))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++}t=Ln(t),e=Ln(e);var a="[object Array]"===s;if(!a){if("object"!=typeof t||"object"!=typeof e)return!1;var c=t.constructor,l=e.constructor;if(c!==l&&!("function"==typeof c&&c instanceof c&&"function"==typeof l&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var u=(r=r||[]).length;u--;)if(r[u]===t)return i[u]===e;if(r.push(t),i.push(e),a){if((u=t.length)!==e.length)return!1;for(;u--;)if(!Mn(t[u],e[u],n-1,r,i))return!1}else{var d=Object.keys(t),h=void 0;if(u=d.length,Object.keys(e).length!==u)return!1;for(;u--;)if(!Vn(e,h=d[u])||!Mn(t[h],e[h],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function Ln(t){return bn(t)?t.slice():w(t)||Cn(t)||S(t)||An(t)?Array.from(t.entries()):t}function Vn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Hn(t){return t[Symbol.iterator]=$n,t}function $n(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:ee,extras:{getDebugName:Bn},$mobx:k})},6470:t=>{"use strict";function e(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function n(t,e){for(var n,r="",i=0,o=-1,s=0,a=0;a<=t.length;++a){if(a<t.length)n=t.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var c=r.lastIndexOf("/");if(c!==r.length-1){-1===c?(r="",i=0):i=(r=r.slice(0,c)).length-1-r.lastIndexOf("/"),o=a,s=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=a,s=0;continue}e&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+t.slice(o+1,a):r=t.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===n&&-1!==s?++s:s=-1}return r}var r={resolve:function(){for(var t,r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s;o>=0?s=arguments[o]:(void 0===t&&(t=process.cwd()),s=t),e(s),0!==s.length&&(r=s+"/"+r,i=47===s.charCodeAt(0))}return r=n(r,!i),i?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(t){if(e(t),0===t.length)return".";var r=47===t.charCodeAt(0),i=47===t.charCodeAt(t.length-1);return 0!==(t=n(t,!r)).length||r||(t="."),t.length>0&&i&&(t+="/"),r?"/"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,n=0;n<arguments.length;++n){var i=arguments[n];e(i),i.length>0&&(void 0===t?t=i:t+="/"+i)}return void 0===t?".":r.normalize(t)},relative:function(t,n){if(e(t),e(n),t===n)return"";if((t=r.resolve(t))===(n=r.resolve(n)))return"";for(var i=1;i<t.length&&47===t.charCodeAt(i);++i);for(var o=t.length,s=o-i,a=1;a<n.length&&47===n.charCodeAt(a);++a);for(var c=n.length-a,l=s<c?s:c,u=-1,d=0;d<=l;++d){if(d===l){if(c>l){if(47===n.charCodeAt(a+d))return n.slice(a+d+1);if(0===d)return n.slice(a+d)}else s>l&&(47===t.charCodeAt(i+d)?u=d:0===d&&(u=0));break}var h=t.charCodeAt(i+d);if(h!==n.charCodeAt(a+d))break;47===h&&(u=d)}var f="";for(d=i+u+1;d<=o;++d)d!==o&&47!==t.charCodeAt(d)||(0===f.length?f+="..":f+="/..");return f.length>0?f+n.slice(a+u):(a+=u,47===n.charCodeAt(a)&&++a,n.slice(a))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return".";for(var n=t.charCodeAt(0),r=47===n,i=-1,o=!0,s=t.length-1;s>=1;--s)if(47===(n=t.charCodeAt(s))){if(!o){i=s;break}}else o=!1;return-1===i?r?"/":".":r&&1===i?"//":t.slice(0,i)},basename:function(t,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');e(t);var r,i=0,o=-1,s=!0;if(void 0!==n&&n.length>0&&n.length<=t.length){if(n.length===t.length&&n===t)return"";var a=n.length-1,c=-1;for(r=t.length-1;r>=0;--r){var l=t.charCodeAt(r);if(47===l){if(!s){i=r+1;break}}else-1===c&&(s=!1,c=r+1),a>=0&&(l===n.charCodeAt(a)?-1==--a&&(o=r):(a=-1,o=c))}return i===o?o=c:-1===o&&(o=t.length),t.slice(i,o)}for(r=t.length-1;r>=0;--r)if(47===t.charCodeAt(r)){if(!s){i=r+1;break}}else-1===o&&(s=!1,o=r+1);return-1===o?"":t.slice(i,o)},extname:function(t){e(t);for(var n=-1,r=0,i=-1,o=!0,s=0,a=t.length-1;a>=0;--a){var c=t.charCodeAt(a);if(47!==c)-1===i&&(o=!1,i=a+1),46===c?-1===n?n=a:1!==s&&(s=1):-1!==n&&(s=-1);else if(!o){r=a+1;break}}return-1===n||-1===i||0===s||1===s&&n===i-1&&n===r+1?"":t.slice(n,i)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+"/"+r:r}(0,t)},parse:function(t){e(t);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return n;var r,i=t.charCodeAt(0),o=47===i;o?(n.root="/",r=1):r=0;for(var s=-1,a=0,c=-1,l=!0,u=t.length-1,d=0;u>=r;--u)if(47!==(i=t.charCodeAt(u)))-1===c&&(l=!1,c=u+1),46===i?-1===s?s=u:1!==d&&(d=1):-1!==s&&(d=-1);else if(!l){a=u+1;break}return-1===s||-1===c||0===d||1===d&&s===c-1&&s===a+1?-1!==c&&(n.base=n.name=0===a&&o?t.slice(1,c):t.slice(a,c)):(0===a&&o?(n.name=t.slice(1,s),n.base=t.slice(1,c)):(n.name=t.slice(a,s),n.base=t.slice(a,c)),n.ext=t.slice(s,c)),a>0?n.dir=t.slice(0,a-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,t.exports=r},8310:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});const r='<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<base href="$$literal-vsuri$$/index.html" />\n\t\t<script type="text/javascript">\n\t\t\tvar log;\n\t\t\tvar editorUi;\n\t\t\t(() => {\n\t\t\t\tconst api = (window.VsCodeApi = acquireVsCodeApi());\n\t\t\t\tfunction sendToVsCode(msg) {\n\t\t\t\t\tapi.postMessage(JSON.stringify(msg));\n\t\t\t\t}\n\t\t\t\tlog = function log(...msg) {\n\t\t\t\t\tsendToVsCode({ event: "log", body: msg });\n\t\t\t\t};\n\n\t\t\t\t// Fix draw.io tries to access unavailable localStorage\n\t\t\t\t// Replace it with a bridged version\n\t\t\t\tconst storage = $$localStorage$$;\n\t\t\t\tconst bridgedLocalStorage = {\n\t\t\t\t\tgetItem: function (key) {\n\t\t\t\t\t\tlog("localStorage: get " + key);\n\t\t\t\t\t\treturn storage[key];\n\t\t\t\t\t},\n\t\t\t\t\tsetItem: function (key, val) {\n\t\t\t\t\t\tlog("localStorage: set " + key + " to " + val);\n\t\t\t\t\t\tstorage[key] = val;\n\t\t\t\t\t\tsendToVsCode({\n\t\t\t\t\t\t\tevent: "updateLocalStorage",\n\t\t\t\t\t\t\tnewLocalStorage: storage,\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tremoveItem: function (key) {\n\t\t\t\t\t\tlog("localStorage: remove " + key);\n\t\t\t\t\t\tdelete storage[key];\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t\tObject.defineProperty(window, "localStorage", {\n\t\t\t\t\tvalue: bridgedLocalStorage,\n\t\t\t\t});\n\n\t\t\t\t// Fix draw.io tries to access unavailable cookie prop\n\t\t\t\tObject.defineProperty(document, "cookie", { value: "" });\n\n\t\t\t\t// See EditorUI.js:10675\n\t\t\t\tconst fakedWindowOpener = {\n\t\t\t\t\tpostMessage: (msg) => api.postMessage(msg),\n\t\t\t\t};\n\t\t\t\tObject.defineProperty(window, "opener", {\n\t\t\t\t\tvalue: fakedWindowOpener,\n\t\t\t\t});\n\n\t\t\t\twindow.addEventListener("message", function (evt) {\n\t\t\t\t\tif (evt.source !== fakedWindowOpener) {\n\t\t\t\t\t\tlet evtData = evt.data;\n\t\t\t\t\t\tif (evtData) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tvar dataObj = JSON.parse(evtData);\n\t\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (dataObj) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tdataObj.action === "export" &&\n\t\t\t\t\t\t\t\teditorUi.fileNode\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t// fix default export settings\n\n\t\t\t\t\t\t\t\tvar scale = Number.parseFloat(\n\t\t\t\t\t\t\t\t\teditorUi.fileNode.getAttribute("scale")\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tif (!Number.isNaN(scale)) {\n\t\t\t\t\t\t\t\t\tdataObj.scale = scale;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tvar border = Number.parseFloat(\n\t\t\t\t\t\t\t\t\teditorUi.fileNode.getAttribute("border")\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tif (!Number.isNaN(border)) {\n\t\t\t\t\t\t\t\t\tdataObj.border = border;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tevtData = JSON.stringify(dataObj);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Re-emit messages with faked source, so that drawio handles the payload.\n\t\t\t\t\t\t// If we don\'t do this, `evt.source === window.opener` will fail\n\t\t\t\t\t\t// and drawio ignores the message.\n\t\t\t\t\t\tconst fakedEvt = new Event("message");\n\t\t\t\t\t\tfakedEvt.source = fakedWindowOpener;\n\t\t\t\t\t\tfakedEvt.data = evtData;\n\t\t\t\t\t\twindow.dispatchEvent(fakedEvt);\n\t\t\t\t\t\tevt.stopPropagation();\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t})();\n\n\t\t\tvar urlParams = {\n\t\t\t\tembed: "1",\n\t\t\t\tconfigure: "1",\n\t\t\t\tproto: "json",\n\t\t\t\tui: $$theme$$,\n\t\t\t\tlang: $$lang$$,\n\t\t\t\tnoSaveBtn: "1",\n\t\t\t\tnoExitBtn: "1",\n\t\t\t\tchrome: $$chrome$$,\n\t\t\t\tget ["svg-warning"]() {\n\t\t\t\t\treturn editorUi.fileNode.getAttribute(\n\t\t\t\t\t\t"disableSvgWarning"\n\t\t\t\t\t) === "true"\n\t\t\t\t\t\t? "0"\n\t\t\t\t\t\t: "1";\n\t\t\t\t},\n\t\t\t};\n\n\t\t\t// Checks for local storage\n\t\t\tvar isLocalStorage = true;\n\n\t\t\tfunction mxscript(src, onLoad, id, dataAppKey, noWrite) {\n\t\t\t\tif (onLoad != null || noWrite) {\n\t\t\t\t\tvar s = document.createElement("script");\n\t\t\t\t\ts.setAttribute("type", "text/javascript");\n\t\t\t\t\ts.setAttribute("src", src);\n\t\t\t\t\tvar r = false;\n\n\t\t\t\t\tif (id != null) {\n\t\t\t\t\t\ts.setAttribute("id", id);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (dataAppKey != null) {\n\t\t\t\t\t\ts.setAttribute("data-app-key", dataAppKey);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (onLoad != null) {\n\t\t\t\t\t\ts.onload = s.onreadystatechange = function () {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!r &&\n\t\t\t\t\t\t\t\t(!this.readyState ||\n\t\t\t\t\t\t\t\t\tthis.readyState == "complete")\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tr = true;\n\t\t\t\t\t\t\t\tonLoad();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tvar t = document.getElementsByTagName("script")[0];\n\n\t\t\t\t\tif (t != null) {\n\t\t\t\t\t\tt.parentNode.insertBefore(s, t);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdocument.write(\n\t\t\t\t\t\t\'<script src="\' +\n\t\t\t\t\t\t\tsrc +\n\t\t\t\t\t\t\t\'"\' +\n\t\t\t\t\t\t\t(id != null ? \' id="\' + id + \'" \' : "") +\n\t\t\t\t\t\t\t(dataAppKey != null\n\t\t\t\t\t\t\t\t? \' data-app-key="\' + dataAppKey + \'" \'\n\t\t\t\t\t\t\t\t: "") +\n\t\t\t\t\t\t\t"></scr" +\n\t\t\t\t\t\t\t"ipt>"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t<\/script>\n\t\t<link\n\t\t\trel="stylesheet"\n\t\t\ttype="text/css"\n\t\t\thref="js/croppie/croppie.min.css"\n\t\t/>\n\t\t<link rel="stylesheet" type="text/css" href="styles/grapheditor.css" />\n\t\t<link rel="manifest" href="images/manifest.json" />\n\t\t<style type="text/css">\n\t\t\t.geEditor {\n\t\t\t\tcolor: black;\n\t\t\t\tbackground-color: white;\n\t\t\t}\n\t\t\tbody {\n\t\t\t\toverflow: hidden;\n\t\t\t}\n\t\t\tdiv.picker {\n\t\t\t\tz-index: 10007;\n\t\t\t}\n\t\t\t.geSidebarContainer .geTitle input {\n\t\t\t\tfont-size: 8pt;\n\t\t\t\tcolor: #606060;\n\t\t\t}\n\t\t\t.geBlock {\n\t\t\t\tz-index: -3;\n\t\t\t\tmargin: 100px;\n\t\t\t\tmargin-top: 40px;\n\t\t\t\tmargin-bottom: 30px;\n\t\t\t\tpadding: 20px;\n\t\t\t}\n\t\t\t.geBlock h1,\n\t\t\t.geBlock h2 {\n\t\t\t\tmargin-top: 0px;\n\t\t\t\tpadding-top: 0px;\n\t\t\t}\n\t\t\t.geEditor ::-webkit-scrollbar {\n\t\t\t\twidth: 14px;\n\t\t\t\theight: 14px;\n\t\t\t}\n\t\t\t.geEditor ::-webkit-scrollbar-track {\n\t\t\t\tbackground-clip: padding-box;\n\t\t\t\tborder: solid transparent;\n\t\t\t\tborder-width: 1px;\n\t\t\t}\n\t\t\t.geEditor ::-webkit-scrollbar-corner {\n\t\t\t\tbackground-color: transparent;\n\t\t\t}\n\t\t\t.geEditor ::-webkit-scrollbar-thumb {\n\t\t\t\tbackground-color: rgba(0, 0, 0, 0.1);\n\t\t\t\tbackground-clip: padding-box;\n\t\t\t\tborder: solid transparent;\n\t\t\t\tborder-radius: 10px;\n\t\t\t}\n\t\t\t.geEditor ::-webkit-scrollbar-thumb:hover {\n\t\t\t\tbackground-color: rgba(0, 0, 0, 0.4);\n\t\t\t}\n\t\t\t.geTemplate {\n\t\t\t\tborder: 1px solid transparent;\n\t\t\t\tdisplay: inline-block;\n\t\t\t\t_display: inline;\n\t\t\t\tvertical-align: top;\n\t\t\t\tborder-radius: 3px;\n\t\t\t\toverflow: hidden;\n\t\t\t\tfont-size: 14pt;\n\t\t\t\tcursor: pointer;\n\t\t\t\tmargin: 5px;\n\t\t\t}\n\t\t</style>\n\t\t<script src="js/PreConfig.js"><\/script>\n\t\t<script src="js/app.min.js"><\/script>\n\t\t<script src="js/extensions.min.js"><\/script>\n\t\t<script src="js/stencils.min.js"><\/script>\n\t\t<script src="js/shapes-14-6-5.min.js"><\/script>\n\t\t<script src="js/PostConfig.js"><\/script>\n\t</head>\n\t<body class="geEditor">\n\t\t<div id="geInfo">\n\t\t\t<div class="geBlock" style="text-align: center; min-width: 50%">\n\t\t\t\t<h1>Flowchart Maker and Online Diagram Software</h1>\n\t\t\t\t<p>\n\t\t\t\t\tdiagrams.net (formerly draw.io) is free online diagram\n\t\t\t\t\tsoftware. You can use it as a flowchart maker, network\n\t\t\t\t\tdiagram software, to create UML online, as an ER diagram\n\t\t\t\t\ttool, to design database schema, to build BPMN online, as a\n\t\t\t\t\tcircuit diagram maker, and more. draw.io can import .vsdx,\n\t\t\t\t\tGliffy&trade; and Lucidchart&trade; files .\n\t\t\t\t</p>\n\t\t\t\t<h2 id="geStatus">Loading...</h2>\n\t\t\t</div>\n\t\t</div>\n\t\t<script type="text/javascript">\n\t\t\t(() => {\n\t\t\t\tfunction patchFn(clazz, fnName, fnFactory) {\n\t\t\t\t\tvar old = clazz[fnName];\n\t\t\t\t\tclazz[fnName] = fnFactory(old);\n\t\t\t\t}\n\n\t\t\t\tlog("Document loaded, patching prototypes");\n\n\t\t\t\tpatchFn(Menus.prototype, "addSubmenu", function (old) {\n\t\t\t\t\treturn function (...args) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\targs[0] === "exportAs" ||\n\t\t\t\t\t\t\targs[0] === "importFrom"\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//console.log("addSubmenu: ", args[0]);\n\t\t\t\t\t\treturn old.apply(this, args);\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\tpatchFn(Menus.prototype, "addMenuItem", function (old) {\n\t\t\t\t\treturn function (...args) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t"print",\n\t\t\t\t\t\t\t\t"saveAndExit",\n\t\t\t\t\t\t\t\t"plugins",\n\t\t\t\t\t\t\t\t"exit",\n\t\t\t\t\t\t\t\t//"properties",\n\t\t\t\t\t\t\t].indexOf(args[1]) !== -1\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//console.log("addMenuItem: ", args[1]);\n\t\t\t\t\t\treturn old.apply(this, args);\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\t// Without this, it will crash. "help" is removed.\n\t\t\t\tMenus.prototype.defaultMenuItems =\n\t\t\t\t\tMenus.prototype.defaultMenuItems.filter(\n\t\t\t\t\t\t(i) => i !== "help"\n\t\t\t\t\t);\n\n\t\t\t\tpatchFn(Menus.prototype, "put", function (old) {\n\t\t\t\t\treturn function (...args) {\n\t\t\t\t\t\tif (["language", "help"].indexOf(args[0]) !== -1) {\n\t\t\t\t\t\t\treturn args[1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//console.log("put: ", args[0]);\n\t\t\t\t\t\treturn old.apply(this, args);\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\tEditorUi.prototype.addEmbedButtons = () => {};\n\n\t\t\t\tpatchFn(EditorUi.prototype, "init", function (old) {\n\t\t\t\t\treturn function (...args) {\n\t\t\t\t\t\teditorUi = this;\n\t\t\t\t\t\tconst result = old.apply(this, args);\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\t// This prevents Draw.io from overriding VS Code commands\n\t\t\t\tpatchFn(mxEvent, "addListener", function (old) {\n\t\t\t\t\treturn function (...args) {\n\t\t\t\t\t\tconst [target, eventName, oldHandler] = args;\n\t\t\t\t\t\t// console.log("Intercepting addListener", args);\n\t\t\t\t\t\tif (eventName === "keydown") {\n\t\t\t\t\t\t\targs[2] = (/** @type {KeyboardEvent} */ keyEvt) => {\n\t\t\t\t\t\t\t\t//console.log("Handling key", keyEvt);\n\t\t\t\t\t\t\t\t//log("Handling key", keyEvt.key);\n\n\t\t\t\t\t\t\t\t// Draw.io should not override these shortcuts\n\t\t\t\t\t\t\t\tif (keyEvt.key === "Tab" && keyEvt.ctrlKey) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tkeyEvt.key === "P" &&\n\t\t\t\t\t\t\t\t\t(keyEvt.ctrlKey || keyEvt.metaKey)\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t// this covers ctrl+shift+p.\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tkeyEvt.key === "p" &&\n\t\t\t\t\t\t\t\t\t(keyEvt.ctrlKey || keyEvt.metaKey)\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t// this covers ctrl+p.\n\t\t\t\t\t\t\t\t\t// We don\'t need this keyboard shortcuts in drawio.\n\t\t\t\t\t\t\t\t\t// Printing does not make sense in VS Code.\n\t\t\t\t\t\t\t\t\t// Users should use the drawio desktop app for that.\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tkeyEvt.key === "S" &&\n\t\t\t\t\t\t\t\t\tkeyEvt.shiftKey &&\n\t\t\t\t\t\t\t\t\tkeyEvt.altKey\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t// See https://github.com/hediet/vscode-drawio/issues/144\n\t\t\t\t\t\t\t\t\t// This shortcut destroys the diagram.\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tkeyEvt.key === "S" &&\n\t\t\t\t\t\t\t\t\tkeyEvt.ctrlKey &&\n\t\t\t\t\t\t\t\t\tkeyEvt.shiftKey\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t// We are handling saving ourselves. This action does not make sense.\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\toldHandler(keyEvt);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn old.apply(this, args);\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\t/**\n\t\t\t\t * See https://github.com/jgraph/mxgraph/blob/master/javascript/src/js/util/mxUrlConverter.js\n\t\t\t\t * for non minified version.\n\t\t\t\t * Fixes https://github.com/hediet/vscode-drawio/issues/53 and\n\t\t\t\t * https://github.com/hediet/vscode-drawio/issues/74.\n\t\t\t\t */\n\t\t\t\tfunction fix_mxUrlConverter_prototype_convert() {\n\t\t\t\t\tmxUrlConverter.prototype.baseUrl = "$$literal-vsuri$$/";\n\t\t\t\t\tmxUrlConverter.prototype.updateBaseUrl = function () {\n\t\t\t\t\t\tthis.baseDomain = "$$literal-vsuri$$";\n\t\t\t\t\t\tthis.baseUrl = "$$literal-vsuri$$/";\n\t\t\t\t\t};\n\t\t\t\t\tconst RX_IS_ABS_URL = /^(\\/\\/|[a-zA-Z][a-zA-Z\\d+\\-.]*:)/;\n\t\t\t\t\tmxUrlConverter.prototype.isRelativeUrl = function (url) {\n\t\t\t\t\t\treturn url != null && !RX_IS_ABS_URL.test(url);\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tfix_mxUrlConverter_prototype_convert();\n\n\t\t\t\t// Fix linkTarget export\n\t\t\t\t// This is super hacky.\n\t\t\t\t// See https://github.com/hediet/vscode-drawio/issues/204.\n\t\t\t\tpatchFn(Graph.prototype, "getSvg", function (old) {\n\t\t\t\t\treturn function (\n\t\t\t\t\t\tbackground,\n\t\t\t\t\t\tscale,\n\t\t\t\t\t\tborder,\n\t\t\t\t\t\tnocrop,\n\t\t\t\t\t\tcrisp,\n\t\t\t\t\t\tignoreSelection,\n\t\t\t\t\t\tshowText,\n\t\t\t\t\t\timgExport,\n\t\t\t\t\t\tlinkTarget,\n\t\t\t\t\t\thasShadow,\n\t\t\t\t\t\tincExtFonts,\n\t\t\t\t\t\tkeepTheme,\n\t\t\t\t\t\texportType,\n\t\t\t\t\t\t...args\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst baseLinkTarget =\n\t\t\t\t\t\t\teditorUi.fileNode.getAttribute("linkTarget");\n\t\t\t\t\t\tlinkTarget = linkTarget || baseLinkTarget;\n\n\t\t\t\t\t\treturn old.apply(this, [\n\t\t\t\t\t\t\tbackground,\n\t\t\t\t\t\t\tscale,\n\t\t\t\t\t\t\tborder,\n\t\t\t\t\t\t\tnocrop,\n\t\t\t\t\t\t\tcrisp,\n\t\t\t\t\t\t\tignoreSelection,\n\t\t\t\t\t\t\tshowText,\n\t\t\t\t\t\t\timgExport,\n\t\t\t\t\t\t\tlinkTarget,\n\t\t\t\t\t\t\thasShadow,\n\t\t\t\t\t\t\tincExtFonts,\n\t\t\t\t\t\t\tkeepTheme,\n\t\t\t\t\t\t\texportType,\n\t\t\t\t\t\t\t...args,\n\t\t\t\t\t\t]);\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\t// Force compact to exclude noisy properties\n\t\t\t\tpatchFn(EditorUi.prototype, "createFileData", function (old) {\n\t\t\t\t\treturn function (\n\t\t\t\t\t\tnode,\n\t\t\t\t\t\tgraph,\n\t\t\t\t\t\tfile,\n\t\t\t\t\t\turl,\n\t\t\t\t\t\tforceXml,\n\t\t\t\t\t\tforceSvg,\n\t\t\t\t\t\tforceHtml,\n\t\t\t\t\t\tembeddedCallback,\n\t\t\t\t\t\tignoreSelection,\n\t\t\t\t\t\tcompact,\n\t\t\t\t\t\tuncompressed\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn old.apply(this, [\n\t\t\t\t\t\t\tnode,\n\t\t\t\t\t\t\tgraph,\n\t\t\t\t\t\t\tfile,\n\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\tforceXml,\n\t\t\t\t\t\t\tforceSvg,\n\t\t\t\t\t\t\tforceHtml,\n\t\t\t\t\t\t\tembeddedCallback,\n\t\t\t\t\t\t\tignoreSelection,\n\t\t\t\t\t\t\t/* compact */ true,\n\t\t\t\t\t\t\tuncompressed,\n\t\t\t\t\t\t]);\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\tpatchFn(mxUtils, "getXml", function (old) {\n\t\t\t\t\treturn function (node) {\n\t\t\t\t\t\t// https://github.com/hediet/vscode-drawio/issues/209\n\t\t\t\t\t\tconst xmlSerializer = new XMLSerializer();\n\t\t\t\t\t\txml = xmlSerializer.serializeToString(node);\n\t\t\t\t\t\treturn xml;\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\tApp.main();\n\n\t\t\t\t// For debugging:\n\t\t\t\t// console.log("drawio", window.Draw);\n\n\t\t\t\t/**\n\t\t\t\t * @param url {string}\n\t\t\t\t */\n\t\t\t\tfunction loadScript(url) {\n\t\t\t\t\tconsole.log("load custom plugin:", url);\n\t\t\t\t\tconst pluginScript = document.createElement("script");\n\t\t\t\t\tpluginScript.type = "text/javascript";\n\t\t\t\t\tpluginScript.src = url;\n\t\t\t\t\tdocument\n\t\t\t\t\t\t.getElementsByTagName("head")[0]\n\t\t\t\t\t\t.appendChild(pluginScript);\n\t\t\t\t}\n\t\t\t\t/**\n\t\t\t\t * @param url {string[]}\n\t\t\t\t */\n\t\t\t\tfunction loadScripts(urls) {\n\t\t\t\t\turls.forEach(loadScript);\n\t\t\t\t}\n\t\t\t\tloadScripts($$customPluginPaths$$);\n\n\t\t\t\t/**\n\t\t\t\t * @param src {string}\n\t\t\t\t */\n\t\t\t\tfunction loadScriptSrc(src) {\n\t\t\t\t\tconst pluginScript = document.createElement("script");\n\t\t\t\t\tpluginScript.type = "text/javascript";\n\t\t\t\t\tpluginScript.text = src;\n\n\t\t\t\t\tdocument\n\t\t\t\t\t\t.getElementsByTagName("head")[0]\n\t\t\t\t\t\t.appendChild(pluginScript);\n\t\t\t\t}\n\n\t\t\t\t$$additionalCode$$.forEach(loadScriptSrc);\n\t\t\t})();\n\t\t<\/script>\n\t</body>\n</html>\n'},5357:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.DiagramConfig=e.Config=e.setContext=void 0;const o=n(2188),s=n(7549),a=n(4406),c=n(9884),l=n(4895),u=n(306),d="hediet.vscode-drawio";function h(t,e){return i(this,void 0,void 0,(function*(){return yield s.commands.executeCommand("setContext",t,e)}))}e.setContext=h;class f{constructor(t){this.globalState=t,this.packageJson=u,this._experimentalFeatures=new l.VsCodeSetting(`${d}.enableExperimentalFeatures`,{serializer:l.serializerWithDefault(!1)}),this._knownPlugins=new l.VsCodeSetting(`${d}.knownPlugins`,{serializer:l.serializerWithDefault([]),target:s.ConfigurationTarget.Global}),o.autorun((()=>{h("vscode-drawio.experimentalFeaturesEnabled",this.experimentalFeaturesEnabled)})),this._vscodeTheme=s.window.activeColorTheme,s.window.onDidChangeActiveColorTheme((t=>{this._vscodeTheme=t}))}get feedbackUrl(){if(this.packageJson.feedbackUrl)return s.Uri.parse(this.packageJson.feedbackUrl)}get isInsiders(){return"vscode-drawio-insiders-build"===this.packageJson.name||!1}get vscodeTheme(){return this._vscodeTheme}getDiagramConfig(t){return new p(t,this,this.globalState)}get experimentalFeaturesEnabled(){return this._experimentalFeatures.get()}get canAskForFeedback(){return this.getInternalConfig().versionLastAskedForFeedback!==this.packageJson.version&&!(this.getInternalConfig().thisVersionUsageTimeInSeconds<1200)}markAskedToTest(){return i(this,void 0,void 0,(function*(){yield this.updateInternalConfig((t=>Object.assign(Object.assign({},t),{versionLastAskedForFeedback:this.packageJson.version})))}))}isPluginAllowed(t,e){const n=this._knownPlugins.get().find((n=>n.pluginId===t&&n.fingerprint===e));if(n)return n.allowed}addKnownPlugin(t,e,n){return i(this,void 0,void 0,(function*(){const r=[...this._knownPlugins.get()].filter((n=>n.pluginId!==t||n.fingerprint!==e));r.push({pluginId:t,fingerprint:e,allowed:n}),yield this._knownPlugins.set(r)}))}getUsageTimeInSeconds(){return this.getInternalConfig().totalUsageTimeInSeconds}getUsageTimeOfThisVersionInSeconds(){return this.getInternalConfig().thisVersionUsageTimeInSeconds}addUsageTime10Seconds(){this.updateInternalConfig((t=>(t.currentVersion!==this.packageJson.version&&(t.currentVersion=this.packageJson.version,t.thisVersionUsageTimeInSeconds=0),Object.assign(Object.assign({},t),{totalUsageTimeInSeconds:t.totalUsageTimeInSeconds+10,thisVersionUsageTimeInSeconds:t.thisVersionUsageTimeInSeconds+10}))))}markAskedForSponsorship(){this.updateInternalConfig((t=>Object.assign(Object.assign({},t),{dateTimeLastAskedForSponsorship:(new Date).toDateString(),totalUsageTimeLastAskedForSponsorshipInSeconds:t.totalUsageTimeInSeconds})))}get canAskForSponsorship(){const t=this.getInternalConfig();if(t.dateTimeLastAskedForSponsorship){const e=new Date(t.dateTimeLastAskedForSponsorship),n=15552e6;if((new Date).getTime()-e.getTime()<n)return!1}let e=t.totalUsageTimeInSeconds;return void 0!==t.totalUsageTimeLastAskedForSponsorshipInSeconds&&(e-=t.totalUsageTimeLastAskedForSponsorshipInSeconds),!(e<3600)}getInternalConfig(){return this.globalState.get("config")||{totalUsageTimeInSeconds:0,thisVersionUsageTimeInSeconds:0,versionLastAskedForFeedback:void 0,dateTimeLastAskedForSponsorship:void 0,currentVersion:this.packageJson.version,totalUsageTimeLastAskedForSponsorshipInSeconds:0}}setInternalConfig(t){return i(this,void 0,void 0,(function*(){yield this.globalState.update("config",t)}))}updateInternalConfig(t){return i(this,void 0,void 0,(function*(){const e=this.getInternalConfig(),n=t(e);yield this.setInternalConfig(n)}))}}r([o.observable.ref],f.prototype,"_vscodeTheme",void 0),e.Config=f;class p{constructor(t,e,n){this.uri=t,this.config=e,this.memento=n,this._styles=new l.VsCodeSetting(`${d}.styles`,{scope:this.uri,serializer:l.serializerWithDefault([])}),this._customColorSchemes=new l.VsCodeSetting(`${d}.customColorSchemes`,{scope:this.uri,serializer:l.serializerWithDefault([])}),this._defaultVertexStyle=new l.VsCodeSetting(`${d}.defaultVertexStyle`,{scope:this.uri,serializer:l.serializerWithDefault({})}),this._defaultEdgeStyle=new l.VsCodeSetting(`${d}.defaultEdgeStyle`,{scope:this.uri,serializer:l.serializerWithDefault({})}),this._colorNames=new l.VsCodeSetting(`${d}.colorNames`,{scope:this.uri,serializer:l.serializerWithDefault({})}),this._simpleLabels=new l.VsCodeSetting(`${d}.simpleLabels`,{scope:this.uri,serializer:l.serializerWithDefault(!1)}),this._presetColors=new l.VsCodeSetting(`${d}.presetColors`,{scope:this.uri,serializer:l.serializerWithDefault([])}),this._theme=new l.VsCodeSetting(`${d}.theme`,{scope:this.uri,serializer:l.serializerWithDefault("automatic")}),this._useOfflineMode=new l.VsCodeSetting(`${d}.offline`,{scope:this.uri,serializer:l.serializerWithDefault(!0)}),this._onlineUrl=new l.VsCodeSetting(`${d}.online-url`,{scope:this.uri,serializer:l.serializerWithDefault("https://embed.diagrams.net/")}),this._codeLinkActivated=new l.VsCodeSetting(`${d}.codeLinkActivated`,{scope:this.uri,serializer:l.serializerWithDefault(!1)}),this._resizeImages=new l.VsCodeSetting(`${d}.resizeImages`,{scope:this.uri,serializer:l.serializerWithDefault(void 0)}),this.isResizeImageUpdating=!1,this._plugins=new l.VsCodeSetting(`${d}.plugins`,{scope:this.uri,serializer:l.serializerWithDefault([])}),this._customLibraries=new l.VsCodeSetting(`${d}.customLibraries`,{scope:this.uri,serializer:l.serializerWithDefault([])}),this._customFonts=new l.VsCodeSetting(`${d}.customFonts`,{scope:this.uri,serializer:l.serializerWithDefault([])}),this._zoomFactor=new l.VsCodeSetting(`${d}.zoomFactor`,{scope:this.uri,serializer:l.serializerWithDefault(1.2)}),this._globalVars=new l.VsCodeSetting(`${d}.globalVars`,{scope:this.uri,serializer:l.serializerWithDefault(null)})}get styles(){return this._styles.get()}get customColorSchemes(){return this._customColorSchemes.get()}get defaultVertexStyle(){return this._defaultVertexStyle.get()}get defaultEdgeStyle(){return this._defaultEdgeStyle.get()}get colorNames(){return this._colorNames.get()}get simpleLabels(){return this._simpleLabels.get()}get presetColors(){return this._presetColors.get()}get theme(){const t=this._theme.get();return"automatic"!==t?t:{[s.ColorThemeKind.Light]:"Kennedy",[s.ColorThemeKind.Dark]:"dark",[s.ColorThemeKind.HighContrast]:"Kennedy"}[this.config.vscodeTheme.kind]}setTheme(t){return i(this,void 0,void 0,(function*(){yield this._theme.set(t)}))}get mode(){return this._useOfflineMode.get()?{kind:"offline"}:{kind:"online",url:this._onlineUrl.get()}}get codeLinkActivated(){return this._codeLinkActivated.get()}setCodeLinkActivated(t){return this._codeLinkActivated.set(t)}get resizeImages(){const t=this._resizeImages.get();if(null!==t)return t}setResizeImages(t){return this._resizeImages.set(t)}get localStorage(){const t=this.memento.get(`${d}.local-storage`,{}),e=this.resizeImages;try{const n=JSON.parse(t[".drawio-config"]);n.resizeImages=e,t[".drawio-config"]=JSON.stringify(n)}catch(t){console.error(t)}return t}setLocalStorage(t){try{const e=JSON.parse(t[".drawio-config"]);e.resizeImages!==this.resizeImages&&(this.isResizeImageUpdating=!0,this.setResizeImages(e.resizeImages))}catch(t){console.error(t)}this.memento.update(`${d}.local-storage`,t)}get plugins(){return this._plugins.get().map((t=>{const e=this.evaluateTemplate(t.file,"plugins");return{file:s.Uri.file(e)}}))}get customLibraries(){const t=t=>i(this,void 0,void 0,(function*(){function e(t){return JSON.parse(t)}function r(t){const e=n(7121)(t);return JSON.parse(e.root.children[0].content)}let i;if("json"in t)i={kind:"value",value:e(t.json)};else if("xml"in t)i={kind:"value",value:r(t.xml)};else if("file"in t){const n=this.evaluateTemplate(t.file,"custom libraries"),o=yield s.workspace.fs.readFile(s.Uri.file(n)),c=a.BufferImpl.from(o).toString("utf-8");i=n.endsWith(".json")?{kind:"value",value:e(c)}:{kind:"value",value:r(c)}}else i={kind:"url",url:t.url};return{libName:t.libName,entryId:t.entryId,data:i}}));return Promise.all(this._customLibraries.get().map((e=>t(e))))}evaluateTemplate(t,e){return new c.SimpleTemplate(t).render({workspaceFolder:()=>{const n=s.workspace.getWorkspaceFolder(this.uri);if(!n)throw new Error(`Cannot get workspace folder of opened diagram - '${t}' cannot be evaluated to load ${e}!`);return n.uri.fsPath}})}get customFonts(){return this._customFonts.get()}get zoomFactor(){return this._zoomFactor.get()}get globalVars(){return this._globalVars.get()}get drawioLanguage(){return"zh-tw"===s.env.language.toLowerCase()?"zh-tw":s.env.language.split("-")[0].toLowerCase()}}r([o.computed],p.prototype,"styles",null),r([o.computed],p.prototype,"customColorSchemes",null),r([o.computed],p.prototype,"defaultVertexStyle",null),r([o.computed],p.prototype,"defaultEdgeStyle",null),r([o.computed],p.prototype,"colorNames",null),r([o.computed],p.prototype,"simpleLabels",null),r([o.computed],p.prototype,"presetColors",null),r([o.computed],p.prototype,"theme",null),r([o.computed],p.prototype,"mode",null),r([o.computed],p.prototype,"customLibraries",null),r([o.computed],p.prototype,"customFonts",null),r([o.computed],p.prototype,"zoomFactor",null),r([o.computed],p.prototype,"globalVars",null),r([o.computed],p.prototype,"drawioLanguage",null),e.DiagramConfig=p},1169:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.CustomizedDrawioClient=void 0;const i=n(4761),o=n(5609);class s extends o.DrawioClient{constructor(){super(...arguments),this.onNodeSelectedEmitter=new i.EventEmitter,this.onNodeSelected=this.onNodeSelectedEmitter.asEvent(),this.onCustomPluginLoadedEmitter=new i.EventEmitter,this.onCustomPluginLoaded=this.onCustomPluginLoadedEmitter.asEvent(),this.onCursorChangeEmitter=new i.EventEmitter,this.onCursorChanged=this.onCursorChangeEmitter.asEvent(),this.onSelectedCellsChangedEmitter=new i.EventEmitter,this.onSelectedCellsChanged=this.onSelectedCellsChangedEmitter.asEvent(),this.onSelectedRectangleChangedEmitter=new i.EventEmitter,this.onSelectedRectangleChanged=this.onSelectedRectangleChangedEmitter.asEvent(),this.onFocusChangedEmitter=new i.EventEmitter,this.onFocusChanged=this.onFocusChangedEmitter.asEvent(),this.onInvokeCommandEmitter=new i.EventEmitter,this.onInvokeCommand=this.onInvokeCommandEmitter.asEvent()}linkSelectedNodeWithData(t){this.sendCustomAction({action:"linkSelectedNodeWithData",linkedData:t})}getVertices(){return r(this,void 0,void 0,(function*(){const t=yield this.sendCustomActionExpectResponse({action:"getVertices"});if("getVertices"!==t.event)throw new Error("Invalid Response");return t.vertices}))}setNodeSelectionEnabled(t){this.sendCustomAction({action:"setNodeSelectionEnabled",enabled:t})}updateVertices(t){this.sendCustomAction({action:"updateVertices",verticesToUpdate:t})}addVertices(t){this.sendCustomAction({action:"addVertices",vertices:t})}updateLiveshareViewState(t){this.sendCustomAction(Object.assign({action:"updateLiveshareViewState"},t))}askForDonations(){this.sendCustomAction({action:"askForDonations"})}handleEvent(t){const e=Object.create(null,{handleEvent:{get:()=>super.handleEvent}});return r(this,void 0,void 0,(function*(){"nodeSelected"===t.event?this.onNodeSelectedEmitter.emit({label:t.label,linkedData:t.linkedData}):"pluginLoaded"===t.event?this.onCustomPluginLoadedEmitter.emit({pluginId:t.pluginId}):"focusChanged"===t.event?this.onFocusChangedEmitter.emit({hasFocus:t.hasFocus}):"cursorChanged"===t.event?this.onCursorChangeEmitter.emit({newPosition:t.position}):"selectedCellsChanged"===t.event?this.onSelectedCellsChangedEmitter.emit({selectedCellIds:t.selectedCellIds}):"invokeCommand"===t.event?this.onInvokeCommandEmitter.emit({command:t.command}):"selectedRectangleChanged"===t.event?this.onSelectedRectangleChangedEmitter.emit({rectangle:t.rect}):yield e.handleEvent.call(this,t)}))}}e.CustomizedDrawioClient=s},5609:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.DrawioClient=void 0;const i=n(4761),o=n(7873),s=n(4406);e.DrawioClient=class{constructor(t,e,n){this.messageStream=t,this.getConfig=e,this.reloadWebview=n,this.dispose=o.Disposable.fn(),this.onInitEmitter=new i.EventEmitter,this.onInit=this.onInitEmitter.asEvent(),this.onChangeEmitter=new i.EventEmitter,this.onChange=this.onChangeEmitter.asEvent(),this.onSaveEmitter=new i.EventEmitter,this.onSave=this.onSaveEmitter.asEvent(),this.onUnknownMessageEmitter=new i.EventEmitter,this.onUnknownMessage=this.onUnknownMessageEmitter.asEvent(),this.currentXml=void 0,this.isMerging=!1,this.currentActionId=0,this.responseHandlers=new Map,this.dispose.track(t.registerMessageHandler((t=>this.handleEvent(JSON.parse(t)))))}sendCustomAction(t){this.sendAction(t)}sendCustomActionExpectResponse(t){return this.sendActionWaitForResponse(t)}sendAction(t){this.messageStream.sendMessage(JSON.stringify(t))}sendActionWaitForResponse(t){return new Promise(((e,n)=>{const r=(this.currentActionId++).toString();this.responseHandlers.set(r,{resolve:t=>{this.responseHandlers.delete(r),e(t)},reject:n}),this.messageStream.sendMessage(JSON.stringify(Object.assign(t,{actionId:r})))}))}handleEvent(t){return r(this,void 0,void 0,(function*(){const e=t;if("message"in e){const t=e.message.actionId;if(t){const n=this.responseHandlers.get(t);this.responseHandlers.delete(t),n&&n.resolve(e)}}else if("init"===e.event)this.onInitEmitter.emit();else if("autosave"===e.event){const t=this.currentXml;t!==e.xml&&(this.currentXml=e.xml,this.isMerging||this.onChangeEmitter.emit({newXml:this.currentXml,oldXml:t}))}else if("save"===e.event){const t=this.currentXml;this.currentXml=e.xml,t!=this.currentXml?this.onChangeEmitter.emit({newXml:this.currentXml,oldXml:t}):this.onSaveEmitter.emit()}else if("export"===e.event){const t=[...this.responseHandlers.values()];if(this.responseHandlers.clear(),1!==t.length)for(const e of t)e.reject();else t[0].resolve(e)}else if("configure"===e.event){const t=yield this.getConfig();this.sendAction({action:"configure",config:t})}else this.onUnknownMessageEmitter.emit({message:e})}))}mergeXmlLike(t){return r(this,void 0,void 0,(function*(){const e=this.sendActionWaitForResponse({action:"merge",xml:t});this.isMerging=!0;try{const t=yield e;if("merge"!==t.event)throw new Error("Invalid response");if(t.error)throw new Error(t.error)}finally{this.isMerging=!1}}))}loadXmlLike(t){return r(this,void 0,void 0,(function*(){this.currentXml=void 0,this.sendAction({action:"load",xml:t,autosave:1}),yield this.getXml()}))}loadPngWithEmbeddedXml(t){return r(this,void 0,void 0,(function*(){let e=s.BufferImpl.from(t).toString("base64");this.loadXmlLike("data:image/png;base64,"+e)}))}export(t){return r(this,void 0,void 0,(function*(){if(t.endsWith(".png"))return yield this.exportAsPngWithEmbeddedXml();if(t.endsWith(".drawio")||t.endsWith(".dio")){const t=yield this.getXml();return s.BufferImpl.from(t,"utf-8")}if(t.endsWith(".svg"))return yield this.exportAsSvgWithEmbeddedXml();throw new Error(`Invalid file extension "${t}"! Only ".png", ".svg" and ".drawio" are supported.`)}))}getXmlUncached(){return r(this,void 0,void 0,(function*(){const t=yield this.sendActionWaitForResponse({action:"export",format:"xml"});if("export"!==t.event)throw new Error("Unexpected response");return t.xml}))}getXml(){return r(this,void 0,void 0,(function*(){if(!this.currentXml){const t=yield this.getXmlUncached();this.currentXml||(this.currentXml=t)}return this.currentXml}))}exportAsPngWithEmbeddedXml(){return r(this,void 0,void 0,(function*(){const t=yield this.sendActionWaitForResponse({action:"export",format:"xmlpng"});if("export"!==t.event)throw new Error("Unexpected response");const e="data:image/png;base64,";if(!t.data.startsWith(e))throw new Error("Invalid data");const n=t.data.substr(e.length);return s.BufferImpl.from(n,"base64")}))}exportAsSvgWithEmbeddedXml(){return r(this,void 0,void 0,(function*(){const t=yield this.sendActionWaitForResponse({action:"export",format:"xmlsvg"});if("export"!==t.event)throw new Error("Unexpected response");const e="data:image/svg+xml;base64,";if(!t.data.startsWith(e))throw new Error("Invalid data");const n=t.data.substr(e.length);return s.BufferImpl.from(n,"base64")}))}triggerOnSave(){this.onSaveEmitter.emit()}}},6591:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.DrawioClientFactory=void 0;const i=n(7549),o=n(7406),s=n(8310),a=n(901),c=n(2188),l=n(2023),u=n(503),d=n(4406);function h(t){try{if("string"==typeof t){const e=JSON.parse(t);return a.formatValue(e,80)}return a.formatValue(t,80)}catch(t){}return""+t}e.DrawioClientFactory=class{constructor(t,e,n){this.config=t,this.log=e,this.extensionUri=n}createDrawioClientInWebview(t,e,n){return r(this,void 0,void 0,(function*(){const i=this.config.getDiagramConfig(t),s=yield this.getPlugins(i),a=e.webview;a.options={enableScripts:!0};const l=c.observable({id:0});let u=0;const d=c.autorun((()=>{l.id,i.customLibraries,i.customFonts,i.presetColors,i.customColorSchemes,i.styles,i.defaultVertexStyle,i.defaultEdgeStyle,i.colorNames,i.simpleLabels,i.zoomFactor,i.globalVars,i.resizeImages;const t=this.getHtml(i,n,a,s)+" ".repeat(u++);i.isResizeImageUpdating?i.isResizeImageUpdating=!1:a.html=t}),{name:"Update Webview Html"}),f=new o.CustomizedDrawioClient({sendMessage:t=>{this.log.appendLine("vscode -> drawio: "+h(t)),a.postMessage(t)},registerMessageHandler:t=>a.onDidReceiveMessage((e=>{this.log.appendLine("vscode <- drawio: "+h(e)),t(e)}))},(()=>r(this,void 0,void 0,(function*(){const t=yield i.customLibraries;return{compressXml:!1,customFonts:i.customFonts,presetColors:i.presetColors,customColorSchemes:i.customColorSchemes,styles:i.styles,defaultVertexStyle:i.defaultVertexStyle,defaultEdgeStyle:i.defaultEdgeStyle,colorNames:i.colorNames,simpleLabels:i.simpleLabels,defaultLibraries:"general",libraries:o.simpleDrawioLibrary(t),zoomFactor:i.zoomFactor,globalVars:i.globalVars}}))),(()=>{c.runInAction("Force reload",(()=>{l.id++}))}));return f.onUnknownMessage.sub((({message:t})=>{if("updateLocalStorage"===t.event){const e=t.newLocalStorage;i.setLocalStorage(e)}})),e.onDidDispose((()=>{d(),f.dispose()})),f}))}getPlugins(t){return r(this,void 0,void 0,(function*(){const e=new Array,n=new Array;for(const i of u.getDrawioExtensions())n.push((()=>r(this,void 0,void 0,(function*(){e.push(...yield i.getDrawioPlugins({uri:t.uri}))})))());for(const o of t.plugins){let t;try{t=d.BufferImpl.from(yield i.workspace.fs.readFile(o.file)).toString("utf-8")}catch(t){i.window.showErrorMessage(`Could not read plugin file "${o.file}"!`);continue}const s=l.sha256.hex(t),a=o.file.toString(),c=this.config.isPluginAllowed(a,s);c?e.push({jsCode:t}):void 0===c&&n.push((()=>r(this,void 0,void 0,(function*(){const n=yield i.window.showWarningMessage(`Found unknown plugin "${a}" with fingerprint "${s}"`,{},{title:"Allow",action:()=>r(this,void 0,void 0,(function*(){e.push({jsCode:t}),yield this.config.addKnownPlugin(a,s,!0)}))},{title:"Disallow",action:()=>r(this,void 0,void 0,(function*(){yield this.config.addKnownPlugin(a,s,!1)}))});n&&(yield n.action())})))())}return yield Promise.all(n),e}))}getHtml(t,e,n,r){return"offline"===t.mode.kind?this.getOfflineHtml(t,e,n,r):this.getOnlineHtml(t,t.mode.url)}getOfflineHtml(t,e,n,r){const o=n.asWebviewUri(i.Uri.joinPath(this.extensionUri,"drawio/src/main/webapp")),a=n.asWebviewUri(i.Uri.joinPath(this.extensionUri,"dist/custom-drawio-plugins/index.js")),l=c.untracked((()=>t.localStorage));return s.default.replace(/\$\$literal-vsuri\$\$/g,o.toString()).replace("$$theme$$",JSON.stringify(t.theme)).replace("$$lang$$",JSON.stringify(t.drawioLanguage)).replace("$$simpleLabels$$",JSON.stringify(t.simpleLabels)).replace("$$chrome$$",JSON.stringify(e.isReadOnly?"0":"1")).replace("$$customPluginPaths$$",JSON.stringify([a.toString()])).replace("$$localStorage$$",JSON.stringify(l)).replace("$$additionalCode$$",JSON.stringify(r.map((t=>t.jsCode))))}getOnlineHtml(t,e){return`\n\t\t\t<html>\n\t\t\t<head>\n\t\t\t<meta charset="UTF-8">\n\t\t\t<meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline' 'unsafe-eval'; script-src * 'unsafe-inline' 'unsafe-eval'; connect-src * 'unsafe-inline'; img-src * data: blob: 'unsafe-inline'; frame-src *; style-src * 'unsafe-inline'; worker-src * data: 'unsafe-inline' 'unsafe-eval'; font-src * 'unsafe-inline' 'unsafe-eval';">\n\t\t\t<style>\n\t\t\t\thtml { height: 100%; width: 100%; padding: 0; margin: 0; }\n\t\t\t\tbody { height: 100%; width: 100%; padding: 0; margin: 0; }\n\t\t\t\tiframe { height: 100%; width: 100%; padding: 0; margin: 0; border: 0; display: block; }\n\t\t\t</style>\n\t\t\t</head>\n\t\t\t<body>\n\t\t\t\t<script>\n\t\t\t\t\tconst api = window.VsCodeApi = acquireVsCodeApi();\n\t\t\t\t\twindow.addEventListener('message', event => {\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (event.source === window.frames[0]) {\n\t\t\t\t\t\t\t//console.log("frame -> vscode", event.data);\n\t\t\t\t\t\t\tapi.postMessage(event.data);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//console.log("vscode -> frame", event.data);\n\t\t\t\t\t\t\twindow.frames[0].postMessage(event.data, "*");\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t<\/script>\n\n\t\t\t\t<iframe src="${e}?embed=1&ui=${encodeURIComponent(t.theme)}&proto=json&configure=1&noSaveBtn=1&noExitBtn=1&simpleLabels=${encodeURIComponent(t.simpleLabels)}&lang=${encodeURIComponent(t.drawioLanguage)}"></iframe>\n\t\t\t</body>\n\t\t</html>\n\t\t\t`}}},6219:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.res=void 0,e.res=function(t){return{main:t}}},7406:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(5609),e),i(n(1169),e),i(n(6219),e),i(n(1853),e),i(n(6591),e)},1853:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.simpleDrawioLibrary=void 0;const r=n(2319),i=n(6219);e.simpleDrawioLibrary=function(t){function e(t){return"value"===t.data.kind?{title:i.res(t.libName),data:t.data.value}:{title:i.res(t.libName),url:t.data.url}}const n=r.groupBy(t,(t=>t.entryId));return[{title:i.res("Custom Libraries"),entries:[...n.values()].map((t=>({title:i.res(t.key),id:t.key,libs:t.items.map(e)})))}]}},6215:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.DrawioBinaryDocument=e.DrawioEditorProviderBinary=void 0;const i=n(7549),o=n(6470),s=n(4406);e.DrawioEditorProviderBinary=class{constructor(t){this.drawioEditorService=t,this.onDidChangeCustomDocumentEmitter=new i.EventEmitter,this.onDidChangeCustomDocument=this.onDidChangeCustomDocumentEmitter.event}saveCustomDocument(t,e){return t.save()}saveCustomDocumentAs(t,e,n){return t.saveAs(e)}revertCustomDocument(t,e){return t.loadFromDisk()}backupCustomDocument(t,e,n){return r(this,void 0,void 0,(function*(){return t.backup(e.destination)}))}openCustomDocument(t,e,n){return r(this,void 0,void 0,(function*(){const n=new a(t,e.backupId);return n.onChange((()=>{this.onDidChangeCustomDocumentEmitter.fire({document:n})})),n.onInstanceSave((()=>{i.commands.executeCommand("workbench.action.files.save")})),n}))}resolveCustomEditor(t,e,n){return r(this,void 0,void 0,(function*(){try{const n=yield this.drawioEditorService.createDrawioEditorInWebview(e,{kind:"drawio",document:t},{isReadOnly:!1});t.setDrawioClient(n.drawioClient)}catch(t){throw i.window.showErrorMessage(`Failed to open diagram: ${t}`),t}}))}};class a{constructor(t,e){this.uri=t,this.backupId=e,this.onChangeEmitter=new i.EventEmitter,this.onChange=this.onChangeEmitter.event,this.onInstanceSaveEmitter=new i.EventEmitter,this.onInstanceSave=this.onInstanceSaveEmitter.event,this._isDirty=!1}get drawioClient(){return this._drawioClient}get isDirty(){return this._isDirty}setDrawioClient(t){if(this._drawioClient)throw new Error("Client already set!");this._drawioClient=t,t.onInit.sub((()=>r(this,void 0,void 0,(function*(){if(this.currentXml)this.drawioClient.loadXmlLike(this.currentXml);else if(this.backupId){const t=i.Uri.parse(this.backupId),e=yield i.workspace.fs.readFile(t),n=s.BufferImpl.from(e).toString("utf-8");yield this.drawioClient.loadXmlLike(n),this._isDirty=!0}else this.loadFromDisk()})))),t.onChange.sub((t=>{this.currentXml=t.newXml,this._isDirty=!0,this.onChangeEmitter.fire()})),t.onSave.sub((t=>{this.onInstanceSaveEmitter.fire()}))}loadFromDisk(){return r(this,void 0,void 0,(function*(){if(this._isDirty=!1,!this.uri.fsPath.endsWith(".png"))throw new Error("Invalid file extension");{const t=yield i.workspace.fs.readFile(this.uri);yield this.drawioClient.loadPngWithEmbeddedXml(t)}}))}save(){return this._isDirty=!1,this.saveAs(this.uri)}saveAs(t){return r(this,void 0,void 0,(function*(){const e=yield this.drawioClient.export(o.extname(t.path));yield i.workspace.fs.writeFile(t,e)}))}backup(t){return r(this,void 0,void 0,(function*(){const e=yield this.drawioClient.getXml();return yield i.workspace.fs.writeFile(t,s.BufferImpl.from(e,"utf-8")),{id:t.toString(),delete:()=>r(this,void 0,void 0,(function*(){try{yield i.workspace.fs.delete(t)}catch(t){}}))}}))}dispose(){}}e.DrawioBinaryDocument=a},7496:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.DrawioEditorProviderText=void 0;const i=n(7549),o=n(1465);e.DrawioEditorProviderText=class{constructor(t){this.drawioEditorService=t}resolveCustomTextEditor(t,e,n){return r(this,void 0,void 0,(function*(){try{const s=new Set(["git","conflictResolution"]).has(t.uri.scheme),a=(yield this.drawioEditorService.createDrawioEditorInWebview(e,{kind:"text",document:t},{isReadOnly:s})).drawioClient;function n(t){return{src:t,equals:e=>e.src===t}}let c=n(t.getText()),l=!1;i.workspace.onDidChangeTextDocument((e=>r(this,void 0,void 0,(function*(){if(e.document!==t)return;if(l)return;if(0===e.contentChanges.length)return;const r=e.document.getText(),i=n(r);i.equals(c)||(c=i,yield a.mergeXmlLike(r))})))),a.onChange.sub((({oldXml:e,newXml:s})=>r(this,void 0,void 0,(function*(){const e=yield function(){return r(this,void 0,void 0,(function*(){if(t.uri.path.endsWith(".svg")){const t=yield a.exportAsSvgWithEmbeddedXml();return s=(s=t.toString("utf-8")).replace(/^<svg /,(()=>'<svg host="65bd71144e" ')),o(s)}return s=s.startsWith('<mxfile host="')?s.replace(/^<mxfile host="(.*?)"/,(()=>'<mxfile host="65bd71144e"')):s.replace(/^<mxfile /,(()=>'<mxfile host="65bd71144e"')).replace(/^<mxfile>/,(()=>'<mxfile host="65bd71144e">')),o(s)}))}(),u=n(e);if(u.equals(c))return;c=u;const d=new i.WorkspaceEdit;d.replace(t.uri,new i.Range(0,0,t.lineCount,0),e),l=!0;try{(yield i.workspace.applyEdit(d))||i.window.showErrorMessage("Could not apply Draw.io document changes to the underlying document. Try to save again!")}finally{l=!1}})))),a.onSave.sub((()=>r(this,void 0,void 0,(function*(){yield t.save()})))),a.onInit.sub((()=>r(this,void 0,void 0,(function*(){a.loadXmlLike(t.getText())}))))}catch(t){throw i.window.showErrorMessage(`Failed to open diagram: ${t}`),t}}))}}},8718:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.DrawioEditor=e.DrawioEditorService=void 0;const o=n(7873),s=n(4761),a=n(2188),c=n(6470),l=n(7549),u=n(5208),d="hediet.vscode-drawio.changeTheme";class h{constructor(t,e){this.config=t,this.drawioClientFactory=e,this.dispose=o.Disposable.fn(),this.onEditorOpenedEmitter=new s.EventEmitter,this.onEditorOpened=this.onEditorOpenedEmitter.asEvent(),this.openedEditors=new a.ObservableSet,this.statusBar=this.dispose.track(l.window.createStatusBarItem(l.StatusBarAlignment.Right)),a.autorun((()=>{const t=this.activeDrawioEditor;t&&(this._lastActiveDrawioEditor=t),l.commands.executeCommand("setContext","hediet.vscode-drawio.active",!!t)})),this.dispose.track(u.registerFailableCommand(d,(()=>{const t=this.activeDrawioEditor;t&&t.handleChangeThemeCommand()}))),this.dispose.track(u.registerFailableCommand("hediet.vscode-drawio.convert",(()=>{const t=this.activeDrawioEditor;t&&t.handleConvertCommand()}))),this.dispose.track(u.registerFailableCommand("hediet.vscode-drawio.reload-webview",(()=>{for(const t of this.openedEditors)t.drawioClient.reloadWebview()}))),this.dispose.track(u.registerFailableCommand("hediet.vscode-drawio.export",(()=>{const t=this.activeDrawioEditor;t&&t.handleExportCommand()}))),this.dispose.track({dispose:a.autorun((()=>{const t=this.activeDrawioEditor;this.statusBar.command=d,t?(this.statusBar.text=`Theme: ${t.config.theme}`,this.statusBar.show()):this.statusBar.hide()}),{name:"Update UI"})})}get activeDrawioEditor(){return[...this.openedEditors].find((t=>t.isActive))}get lastActiveDrawioEditor(){return this._lastActiveDrawioEditor}createDrawioEditorInWebview(t,e,n){return i(this,void 0,void 0,(function*(){const r=yield this.drawioClientFactory.createDrawioClientInWebview(e.document.uri,t,n),i=this.config.getDiagramConfig(e.document.uri),o=new p(f,t,r,e,i);return this.openedEditors.add(o),this.onEditorOpenedEmitter.emit({editor:o}),o.webviewPanel.onDidDispose((()=>{this.openedEditors.delete(o)})),o}))}}r([a.computed],h.prototype,"activeDrawioEditor",null),r([a.observable],h.prototype,"_lastActiveDrawioEditor",void 0),e.DrawioEditorService=h;const f=Symbol();class p{constructor(t,e,n,r,i){this.webviewPanel=e,this.drawioClient=n,this.document=r,this.config=i,this.dispose=o.Disposable.fn(),this._isActive=!1,this._hasFocus=!1,this.knownDrawioFileExtensions=[".drawio",".dio",".drawio.svg",".drawio.png",".dio.svg",".dio.png"],this._isActive=e.active,this.dispose.track(e.onDidChangeViewState((()=>{this._isActive=e.active}))),this.dispose.track(n.onFocusChanged.sub((({hasFocus:t})=>{this._hasFocus=t}))),n.onInvokeCommand.sub((({command:t})=>{"convert"===t?this.handleConvertCommand():"export"===t?this.handleExportCommand():"save"===t&&this.drawioClient.triggerOnSave()}))}get fileExtension(){const t=this.uri.path;return this.knownDrawioFileExtensions.slice().sort(((t,e)=>e.length-t.length)).find((e=>t.endsWith(e)))||c.extname(t)}get isActive(){return this._isActive}get hasFocus(){return this._hasFocus}get uri(){return this.document.document.uri}getUriWithExtension(t){return this.uri.with({path:g(this.uri.path,this.fileExtension)+t})}convertTo(t){return i(this,void 0,void 0,(function*(){if(this.document.document.isDirty)return void(yield l.window.showErrorMessage("Save your diagram first!"));const e=this.getUriWithExtension(t);if(yield function(t){return i(this,void 0,void 0,(function*(){try{return yield l.workspace.fs.stat(t),!0}catch(t){return!1}}))}(e))return void(yield l.window.showErrorMessage(`File "${e.toString()}" already exists!`));const n=yield this.drawioClient.export(t),r=this.document.document.uri,o=yield l.workspace.fs.readFile(r);yield l.workspace.fs.writeFile(r,n);try{yield l.workspace.fs.rename(r,e)}catch(t){throw yield l.workspace.fs.writeFile(r,o),t}}))}exportTo(t){return i(this,void 0,void 0,(function*(){const e=yield this.drawioClient.export(t),n=yield l.window.showSaveDialog({defaultUri:this.getUriWithExtension(t)});n&&(yield l.workspace.fs.writeFile(n,e))}))}handleConvertCommand(){return i(this,void 0,void 0,(function*(){const t=yield l.window.showQuickPick([{label:".drawio.svg",description:"Converts the diagram to an editable SVG file"},{label:".drawio",description:"Converts the diagram to a drawio file"},{label:".drawio.png",description:"Converts the diagram to an editable png file"}].filter((t=>t.label!==this.fileExtension)));t&&(yield this.convertTo(t.label))}))}handleExportCommand(){return i(this,void 0,void 0,(function*(){const t=yield l.window.showQuickPick([{label:".svg",description:"Exports the diagram to a SVG file"},{label:".png",description:"Exports the diagram to a png file"},{label:".drawio",description:"Exports the diagram to a drawio file"}]);t&&(yield this.exportTo(t.label))}))}handleChangeThemeCommand(){return i(this,void 0,void 0,(function*(){let t=["automatic","min","atlas","dark","Kennedy","sketch"];const e=this.config.theme;t=t.filter((t=>t!==e)),t.unshift(e);const n=yield l.window.showQuickPick(t.map((t=>({label:t,description:`Selects Theme "${t}"`,theme:t}))),{onDidSelectItem:t=>i(this,void 0,void 0,(function*(){yield this.config.setTheme(t.theme)}))});n?yield this.config.setTheme(n.theme):yield this.config.setTheme(e)}))}}function g(t,e){if(!t.endsWith(e))throw new Error(`Value does not end with "${e}"!`);return t.substr(0,t.length-e.length)}r([a.observable],p.prototype,"_isActive",void 0),r([a.observable],p.prototype,"_hasFocus",void 0),e.DrawioEditor=p},503:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.DrawioExtension=e.getDrawioExtensions=void 0;const i=n(7549);e.getDrawioExtensions=function(){return i.extensions.all.filter((t=>!0===t.packageJSON.isDrawioExtension)).map((t=>new o(t)))};class o{constructor(t){this.api=t}getDrawioPlugins(t){return r(this,void 0,void 0,(function*(){this.api.isActive||(yield this.api.activate());const{drawioExtensionV1:e}=this.api.exports;if(e){const{getDrawioPlugins:n}=e;if(n)return yield n.apply(e,[t])}return[]}))}}e.DrawioExtension=o},2972:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Extension=void 0;const i=n(7549),o=n(7873),s=n(6215),a=n(7496),c=n(5357),l=n(8718),u=n(6853),d=n(9953),h=n(5914),f=n(4950),p=n(7406),g=n(5208);e.Extension=class{constructor(t){this.context=t,this.dispose=o.Disposable.fn(),this.log=this.dispose.track(i.window.createOutputChannel("Drawio Integration Log")),this.config=new c.Config(this.context.globalState),this.drawioClientFactory=new p.DrawioClientFactory(this.config,this.log,this.context.extensionUri),this.editorService=new l.DrawioEditorService(this.config,this.drawioClientFactory),this.linkCodeWithSelectedNodeService=this.dispose.track(new u.LinkCodeWithSelectedNodeService(this.editorService,this.config)),this.editDiagramsAsTextFeature=this.dispose.track(new d.EditDiagramAsTextFeature(this.editorService,this.config)),this.liveshareFeature=this.dispose.track(new h.LiveshareFeature(this.editorService,this.config)),this.insiderFeedbackFeature=this.dispose.track(new f.ActivityTracking(this.editorService,this.config)),this.dispose.track(i.window.registerCustomEditorProvider("hediet.vscode-drawio-text",new a.DrawioEditorProviderText(this.editorService),{webviewOptions:{retainContextWhenHidden:!0}})),this.dispose.track(i.window.registerCustomEditorProvider("hediet.vscode-drawio",new s.DrawioEditorProviderBinary(this.editorService),{supportsMultipleEditorsPerDocument:!1,webviewOptions:{retainContextWhenHidden:!0}})),this.dispose.track(g.registerFailableCommand("hediet.vscode-drawio.newDiagram",(()=>r(this,void 0,void 0,(function*(){const t=yield i.window.showSaveDialog({saveLabel:"Create",filters:{Diagrams:["drawio"]}});if(t)try{yield i.workspace.fs.writeFile(t,new Uint8Array),yield i.commands.executeCommand("vscode.openWith",t,"hediet.vscode-drawio-text")}catch(e){console.error("Cannot create or open file",e),yield i.window.showErrorMessage(`Cannot create or open file "${t.toString()}"!`)}})))))}}},4950:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.ActivityTracking=void 0;const i=n(7873),o=n(1388),s=n(7549);e.ActivityTracking=class{constructor(t,e){this.config=e,this.dispose=i.Disposable.fn();const n=new o.EventTimer(1e4,"stopped");let r;function a(){r?r.dispose():n.start(),r=o.startTimeout(6e4,(()=>{r=void 0,n.stop()}))}n.onTick.one((()=>{e.addUsageTime10Seconds(),this.showFeedbackIfApplicable()})),this.dispose.track(t.onEditorOpened.sub((({editor:t})=>{t.drawioClient.onInit.sub((()=>{e.canAskForSponsorship&&(e.markAskedForSponsorship(),t.drawioClient.onInvokeCommand.sub((({command:t})=>{"openDonationPage"===t&&s.env.openExternal(s.Uri.parse("https://github.com/sponsors/hediet"))})),t.drawioClient.askForDonations())})),a(),t.drawioClient.onCursorChanged.sub((()=>{a()})),t.drawioClient.onFocusChanged.sub((({hasFocus:t})=>{t&&a()}))})))}showFeedbackIfApplicable(){return r(this,void 0,void 0,(function*(){const{feedbackUrl:t,canAskForFeedback:e}=this.config;if(!e||!t)return;this.config.markAskedToTest();const n=yield s.window.showInformationMessage(`With your feedback on GitHub, the Draw.io extension version ${this.config.packageJson.versionName||this.config.packageJson.version} can be released as stable soon!`,{modal:!1},{title:"Give Feedback ❤️",action:()=>{s.env.openExternal(t)}},{title:"Skip For This Build",action:()=>{}});n&&n.action()}))}}},6853:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.LinkCodeWithSelectedNodeService=void 0;const o=n(7873),s=n(7549),a=n(1388),c=n(2188),l=n(1235),u=n(5208),d="hediet.vscode-drawio.toggleCodeLinkActivation",h={[s.SymbolKind.File]:"symbol-file",[s.SymbolKind.Module]:"symbol-module",[s.SymbolKind.Namespace]:"symbol-namespace",[s.SymbolKind.Package]:"symbol-package",[s.SymbolKind.Class]:"symbol-class",[s.SymbolKind.Method]:"symbol-method",[s.SymbolKind.Property]:"symbol-property",[s.SymbolKind.Field]:"symbol-field",[s.SymbolKind.Constructor]:"symbol-constructor",[s.SymbolKind.Enum]:"symbol-enum",[s.SymbolKind.Interface]:"symbol-interface",[s.SymbolKind.Function]:"symbol-function",[s.SymbolKind.Variable]:"symbol-variable",[s.SymbolKind.Constant]:"symbol-constant",[s.SymbolKind.String]:"symbol-string",[s.SymbolKind.Number]:"symbol-number",[s.SymbolKind.Boolean]:"symbol-boolean",[s.SymbolKind.Array]:"symbol-array",[s.SymbolKind.Object]:"symbol-object",[s.SymbolKind.Key]:"symbol-key",[s.SymbolKind.Null]:"symbol-null",[s.SymbolKind.EnumMember]:"symbol-enum-member",[s.SymbolKind.Struct]:"symbol-struct",[s.SymbolKind.Event]:"symbol-event",[s.SymbolKind.Operator]:"symbol-operator",[s.SymbolKind.TypeParameter]:"symbol-type-parameter"};class f{constructor(t,e){this.editorManager=t,this.config=e,this.dispose=o.Disposable.fn(),this.statusBar=s.window.createStatusBarItem(),this.lastActiveTextEditor=s.window.activeTextEditor,this.dispose.track([t.onEditorOpened.sub((({editor:t})=>this.handleDrawioEditor(t))),{dispose:c.autorun((()=>{const e=t.activeDrawioEditor;this.statusBar.command=d,e?(this.statusBar.text=`$(link) ${e.config.codeLinkActivated?"$(circle-filled)":"$(circle-outline)"} Code Link`,this.statusBar.show()):this.statusBar.hide()}),{name:"Update UI"})},s.window.onDidChangeActiveTextEditor((()=>{s.window.activeTextEditor&&(this.lastActiveTextEditor=s.window.activeTextEditor)})),u.registerFailableCommand("hediet.vscode-drawio.linkCodeWithSelectedNode",this.linkCodeWithSelectedNode),u.registerFailableCommand(d,this.toggleCodeLinkEnabled),u.registerFailableCommand("hediet.vscode-drawio.linkFileWithSelectedNode",this.linkFileWithSelectedNode),u.registerFailableCommand("hediet.vscode-drawio.linkSymbolWithSelectedNode",this.linkSymbolWithSelectedNode),u.registerFailableCommand("hediet.vscode-drawio.linkWsSymbolWithSelectedNode",this.linkWsSymbolWithSelectedNode)])}toggleCodeLinkEnabled(){return i(this,void 0,void 0,(function*(){const t=this.editorManager.activeDrawioEditor;t&&(yield t.config.setCodeLinkActivated(!t.config.codeLinkActivated))}))}linkCodeWithSelectedNode(){const t=this.editorManager.lastActiveDrawioEditor;if(!t)return void s.window.showErrorMessage("No active drawio instance.");const e=this.lastActiveTextEditor;if(!e)return void s.window.showErrorMessage("No text editor active.");if(!e.selection)return void s.window.showErrorMessage("Nothing selected.");const n=new g(e.document.uri,e.selection);t.drawioClient.linkSelectedNodeWithData(n.serialize(t.uri)),this.revealSelection(n)}linkFileWithSelectedNode(t){const e=this.editorManager.lastActiveDrawioEditor;if(!e)return void s.window.showErrorMessage("No active drawio instance.");const n=new p(t,void 0);e.drawioClient.linkSelectedNodeWithData(n.serialize(e.uri))}linkWsSymbolWithSelectedNode(){return i(this,void 0,void 0,(function*(){this.linkSymbolWithSelectedNode(!0)}))}linkSymbolWithSelectedNode(t=!1){return i(this,void 0,void 0,(function*(){const e=this.editorManager.lastActiveDrawioEditor;if(!e)return void s.window.showErrorMessage("No active drawio instance.");const n=s.window.activeTextEditor;if(null==n)return void s.window.showErrorMessage("No text editor active.");const r=n.document.uri,o=!n.selection.start.isEqual(n.selection.end),a=yield s.commands.executeCommand("vscode.executeDocumentSymbolProvider",r);let c=[];!function t(e,r){for(let i of e){let e=!0;o&&n&&(e=n.selections.reduce(((t,e)=>t&&void 0!==e.intersection(i.selectionRange)),e));let s=""==r?i.name:`${r}.${i.name}`;e&&c.push({label:`$(${h[i.kind]}) ${i.name}`,description:i.detail,detail:s}),t(i.children,s)}}(a,""),s.window.showQuickPick(c,{matchOnDescription:!0,matchOnDetail:!0,placeHolder:`Choose symbol from ${l.path.basename(r.fsPath)}`}).then((n=>i(this,void 0,void 0,(function*(){if(null==n)return;const i=new p(t?void 0:r,n.detail);e.drawioClient.linkSelectedNodeWithData(i.serialize(e.uri)),t&&n.detail&&!(yield m(n.detail))&&s.window.showWarningMessage(`Cannot resolve symbol ${n.detail}. This likely means workspace symbols are not supported by your language. Try "Link Symbol With Selected Node" instead.`)}))))}))}handleDrawioEditor(t){const e=t.drawioClient;e.onCustomPluginLoaded.sub((()=>{e.dispose.track({dispose:c.autorun((()=>{e.setNodeSelectionEnabled(t.config.codeLinkActivated)}),{name:"Send codeLinkActivated to drawio instance"})})})),e.onNodeSelected.sub((({linkedData:e,label:n})=>i(this,void 0,void 0,(function*(){if(t.config.codeLinkActivated)if(e)try{const n=yield p.deserialize(e,t.uri);yield this.revealSelection(n)}catch(t){s.window.showErrorMessage(t.message)}else{const t=n.match(/#([a-zA-Z0-9_<>,]+)/);if(t){const e=t[1],n=yield y(e);n?yield this.revealSelection(n):s.window.showErrorMessage(`No symbol found with name "${e}". Maybe you need to load the symbols by opening at least one of its code files?`)}}}))))}revealSelection(t){return i(this,void 0,void 0,(function*(){if(t.range){const e=yield s.workspace.openTextDocument(t.uri),n=yield s.window.showTextDocument(e,{viewColumn:s.ViewColumn.One,preserveFocus:!0});n.revealRange(t.range,s.TextEditorRevealType.Default);const r=s.window.createTextEditorDecorationType({backgroundColor:new s.ThemeColor("editor.stackFrameHighlightBackground")});this.lastDecorationType&&n.setDecorations(this.lastDecorationType,[]),this.lastDecorationType=r,n.setDecorations(r,[t.range]),a.wait(1e3).then((()=>{n.setDecorations(r,[])}))}else yield s.commands.executeCommand("vscode.open",t.uri,{viewColumn:s.ViewColumn.One,preserveFocus:!0})}))}}r([c.action.bound],f.prototype,"toggleCodeLinkEnabled",null),r([c.action.bound],f.prototype,"linkCodeWithSelectedNode",null),r([c.action.bound],f.prototype,"linkFileWithSelectedNode",null),r([c.action.bound],f.prototype,"linkWsSymbolWithSelectedNode",null),r([c.action.bound],f.prototype,"linkSymbolWithSelectedNode",null),e.LinkCodeWithSelectedNodeService=f;class p{constructor(t,e){this.uri=t,this.obj=e,e instanceof s.Range?this.range=e:"string"==typeof e&&(this.symbol=e)}static deserialize(t,e){return i(this,void 0,void 0,(function*(){const n=t;function r(t){return new s.Position(t.line,t.col)}if(n.path){let t=e.with({path:s.Uri.file(l.path.join(e.path,n.path)).path});if("start"in n){let e=new s.Range(r(n.start),r(n.end));return new g(t,e)}if("symbol"in n){let e=yield v(t,n.symbol);if(null==e)throw new Error(`Cannot find symbol by path: ${n.symbol}. Maybe you need to load the symbols by opening at least one of its code files?`);return new g(t,e)}return new g(t,void 0)}if("symbol"in n){let t=yield m(n.symbol);if(t)return t;throw new Error(`Cannot find symbol by path: ${n.symbol}. Maybe you need to load the symbols by opening at least one of its code files?`)}throw console.error("Draw.io: Data is invalid or cannot find symbol",n),new Error("Malformed symbol information. Check console log.")}))}serialize(t){function e(t){return{col:t.character,line:t.line}}let n={};return this.range?n={start:e(this.range.start),end:e(this.range.end)}:this.symbol&&(n={symbol:this.symbol}),this.uri?Object.assign({path:l.path.relative(t.fsPath,this.uri.fsPath).replace(/\\/g,"/")},n):Object.assign({},n)}}class g{constructor(t,e){this.uri=t,this.range=e}serialize(t){return new p(this.uri,this.range).serialize(t)}}function v(t,e){var n;return i(this,void 0,void 0,(function*(){const r=yield s.commands.executeCommand("vscode.executeDocumentSymbolProvider",t);let i=e.split("."),o=r;for(let t=0;t<i.length&&null!=o;t++)o=o.filter((e=>e.name==i[t])),t<i.length-1&&(o=null===(n=o[0])||void 0===n?void 0:n.children);if(null!=o&&0!=o.length)return o[0].selectionRange}))}function m(t){return i(this,void 0,void 0,(function*(){let e=t.split(".");if(0==e.length)return;let n=yield y(e[0]);if(n){if(2==e.length){const e=yield v(n.uri,t);e&&(n=new g(n.uri,e))}return n}}))}function y(t){return i(this,void 0,void 0,(function*(){const e=yield s.commands.executeCommand("vscode.executeWorkspaceSymbolProvider",t);for(let t of e)console.log(t.name);var n;const r=e.filter((e=>e.name===t)).sort((n=t=>{let e=0;const n=t.location.uri.toString(),r=s.window.visibleTextEditors.findIndex((t=>t.document.uri.toString()===n));return-1!==r&&(e+=(s.window.visibleTextEditors.length-r)/s.window.visibleTextEditors.length),""===t.containerName&&(e+=10),e},(t,e)=>n(e)-n(t)))[0];if(r)return new g(r.location.uri,r.location.range)}))}},9953:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.EditDiagramAsTextFeature=void 0;const i=n(7873),o=n(7549),s=n(8902),a=n(5208);e.EditDiagramAsTextFeature=class{constructor(t,e){if(this.editorManager=t,this.dispose=i.Disposable.fn(),this.drawioFsController=this.dispose.track(new s.DrawioFileSystemController),this.trackedDocuments=new Map,!e.experimentalFeaturesEnabled)return;this.dispose.track([o.workspace.onDidChangeTextDocument((t=>{const e=this.trackedDocuments.get(t.document);if(!e)return;const n=c.parse(t.document.getText());e.drawioClient.updateVertices(n.vertexUpdates)})),o.workspace.onDidCloseTextDocument((t=>{this.trackedDocuments.delete(t)}))]);let n=!1;this.dispose.track(a.registerFailableCommand("hediet.vscode-drawio.editDiagramAsText",(()=>r(this,void 0,void 0,(function*(){const t=this.editorManager.activeDrawioEditor;if(!t)return;const{didFileExist:e,file:i}=this.drawioFsController.getOrCreateFileForUri(t.uri.with({scheme:this.drawioFsController.scheme,path:t.uri.path+".drawio-txt"})),s=()=>r(this,void 0,void 0,(function*(){const e=yield t.drawioClient.getVertices();n=!0;try{const t=new c(e,[]);i.writeString(t.toString())}finally{n=!1}}));yield s(),e||i.onDidChangeFile((()=>r(this,void 0,void 0,(function*(){if(n)return;const e=c.parse(i.readString());e.removeDuplicates(),t.drawioClient.addVertices(e.newVertices),yield s()}))));const a=yield o.workspace.openTextDocument(i.uri);this.trackedDocuments.set(a,t),yield o.window.showTextDocument(a,{viewColumn:o.ViewColumn.Beside})})))))}};class c{constructor(t,e){this.vertexUpdates=t,this.newVertices=e}static parse(t){const e=t.split("\n"),n=new Array,r=new Array;for(const t of e){const e=t.match(/(.*):(.*)/);e?n.push({id:e[1],label:e[2]}):r.push({label:t})}return new c(n,r)}toString(){return this.vertexUpdates.map((t=>`${t.id}:${t.label}`)).join("\n")+this.newVertices.map((t=>t.label)).join("\n")}removeDuplicates(){this.newVertices=this.newVertices.filter((t=>!this.vertexUpdates.some((e=>e.label===t.label))))}}},4582:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentViewState=void 0;const i=n(7873),o=n(2188),s=n(14);class a{constructor(t,e){this.editorManager=t,this.normalizeUri=e}get _state(){const t=this.editorManager.activeDrawioEditor;var e;if(t)return{editor:t,cursorPos:(e=t.drawioClient,s.fromResource((t=>i.Disposable.fn((n=>{let r,i;n(e.onFocusChanged.sub((({hasFocus:e})=>{e||t(void 0)}))),n(e.onCursorChanged.sub((({newPosition:e})=>{r=e,i||(i=setTimeout((()=>{i=void 0,t(r)}),1e3/30))})))}))),(()=>{}))),selectedCellIds:l(t.drawioClient),selectedRectangle:c(t.drawioClient)}}get state(){const t=this._state;if(t)return{activeUri:this.normalizeUri(t.editor.uri),currentCursor:t.cursorPos.current(),selectedCellIds:t.selectedCellIds.current(),selectedRectangle:t.selectedRectangle.current()}}}function c(t){return s.fromResource((e=>i.Disposable.fn((n=>{let r,i;n(t.onFocusChanged.sub((({hasFocus:t})=>{t||e(void 0)}))),n(t.onSelectedRectangleChanged.sub((({rectangle:t})=>{r=t,i||(i=setTimeout((()=>{i=void 0,e(r)}),1e3/30))})))}))),(()=>{}))}function l(t){return s.fromResource((e=>i.Disposable.fn((n=>{n(t.onFocusChanged.sub((({hasFocus:t})=>{t||e([])}))),n(t.onSelectedCellsChanged.sub((({selectedCellIds:t})=>{e(t)})))}))),(()=>[]))}r([o.computed],a.prototype,"_state",null),r([o.computed],a.prototype,"state",null),e.CurrentViewState=a},7802:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.LiveshareFeature=void 0;const i=n(7873),o=n(8459),s=n(1523),a=n(14),c=n(7758);e.LiveshareFeature=class{constructor(t,e){this.editorManager=t,this.config=e,this.dispose=i.Disposable.fn(),this.init().catch(console.error)}init(){return r(this,void 0,void 0,(function*(){const t=yield o.getApi("hediet.vscode-drawio");t?this.dispose.track(new l(t,this.editorManager)):console.warn("Could not get liveshare API")}))}};class l{constructor(t,e){this.api=t,this.dispose=i.Disposable.fn(),this.session=a.fromResource((t=>{this.api.onDidChangeSession((({session:e})=>{t(u(e))}))}),(()=>u(this.api.session))),this.dispose.track(s.autorunTrackDisposables((n=>r(this,void 0,void 0,(function*(){const r=this.session.current();r&&n(new c.LiveshareSession(t,r,e))})))))}}function u(t){if(t.role!==o.Role.None)return Object.assign({},t)}},7758:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.LiveshareSession=void 0;const i=n(7873),o=n(4761),s=n(8459),a=n(1523),c=n(4582),l=n(4004);e.LiveshareSession=class{constructor(t,e,n){this.api=t,this.session=e,this.editorManager=n,this.dispose=i.Disposable.fn(),this.sessionModel=new l.SessionModel,this.normalizeUri=t=>this.session.role===s.Role.Host?this.api.convertLocalUriToShared(t).toString():t.toString(),this.dispose.track(a.autorunTrackDisposables((t=>[...n.openedEditors].map((e=>t([a.autorunTrackDisposables((()=>this.updateLiveshareOverlaysInDrawio(e)))])))))),this.init()}getPeerIdInformation(t){const e=this.api.peers.find((e=>e.peerNumber===t)),n=["#2965CC","#29A634","#D99E0B","#D13913","#8F398F","#00B3A4","#DB2C6F","#9BBF30","#96622D","#7157D9"];return{color:n[(e?this.api.peers.indexOf(e):n.length-2)%n.length],name:e&&e.user?e.user.displayName:void 0}}updateLiveshareOverlaysInDrawio(t){const e=[...this.sessionModel.viewStatesByPeerId.values()].filter((e=>e.peerId!==this.session.peerNumber&&e.viewState&&e.viewState.activeUri===this.normalizeUri(t.document.document.uri))),n=e.map((t=>({id:""+t.peerId,selectedCellIds:t.viewState.selectedCellIds,color:this.getPeerIdInformation(t.peerId).color}))),r=e.filter((t=>t.viewState&&t.viewState.currentCursor)).map((t=>({id:""+t.peerId,label:this.getPeerIdInformation(t.peerId).name,color:this.getPeerIdInformation(t.peerId).color,position:t.viewState.currentCursor}))),i=e.filter((t=>t.viewState&&t.viewState.selectedRectangle)).map((t=>({id:""+t.peerId,color:this.getPeerIdInformation(t.peerId).color,rectangle:t.viewState.selectedRectangle})));t.drawioClient.updateLiveshareViewState({selectedCells:n,cursors:r,selectedRectangles:i})}init(){return r(this,void 0,void 0,(function*(){let t;if(this.session.role===s.Role.Host){const e=yield this.api.shareService("drawio");if(this.dispose.track({dispose:()=>this.api.unshareService("drawio")}),!e)return void console.error("Could not share liveshare service");const n=new o.EventEmitter;t={sendAction:t=>{const r={event:"applyUpdate",update:t.update};e.notify("event",r),n.emit({event:r})},onEvent:n.asEvent()},e.onNotify("action",(e=>{t.sendAction(e)})),this.dispose.track(this.api.onDidChangePeers((({removed:e})=>{for(const n of e)t.sendAction({action:"applyUpdate",update:{kind:"removePeer",peerId:n.peerNumber}})})))}else{const e=yield this.api.getSharedService("drawio");if(!e)return void console.error("Could not get liveshare service");const n=new o.EventEmitter;t={sendAction:t=>e.notify("action",t),onEvent:n.asEvent()},e.onNotify("event",(t=>{n.emit({event:t})}))}t.onEvent.sub((({event:t})=>{this.sessionModel.apply(t.update)}));const e=new c.CurrentViewState(this.editorManager,this.normalizeUri);this.dispose.track(a.autorunTrackDisposables((()=>{t.sendAction({action:"applyUpdate",update:{kind:"updateViewState",newViewState:e.state,peerId:this.session.peerNumber}})})))}))}}},4004:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.SessionModel=void 0;const i=n(2188);class o{constructor(){this.viewStatesByPeerId=new i.ObservableMap}apply(t){if("updateViewState"===t.kind){const e=this.viewStatesByPeerId.get(t.peerId),n={peerId:t.peerId,viewState:t.newViewState};JSON.stringify(e)!==JSON.stringify(n)&&this.viewStatesByPeerId.set(t.peerId,n)}"removePeer"===t.kind&&this.viewStatesByPeerId.delete(t.peerId)}}r([i.action],o.prototype,"apply",null),e.SessionModel=o},5914:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(7802),e)},9884:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleTemplate=void 0,e.SimpleTemplate=class{constructor(t){this.str=t}render(t){return this.str.replace(/\$\{([a-zA-Z0-9]+)\}/g,((e,n)=>t[n]()))}}},1523:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.autorunTrackDisposables=void 0;const r=n(7873),i=n(2188);e.autorunTrackDisposables=function(t){let e;return{dispose:i.autorun((()=>{e&&e.dispose(),e=r.Disposable.fn(t)}))}}},4406:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BufferImpl=void 0;const r=n(8764);e.BufferImpl="undefined"==typeof Buffer?r.Buffer:Buffer},901:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatValue=void 0,e.formatValue=function t(e,n){switch(typeof e){case"number":return""+e;case"string":return e.length+2<=n?`"${e}"`:`"${e.substr(0,n-7)}"+...`;case"boolean":return e?"true":"false";case"undefined":return"undefined";case"object":return null===e?"null":Array.isArray(e)?function(e,n){let r="[ ",i=!0;for(const o of e){if(i||(r+=", "),r.length-5>n){r+="...";break}i=!1,r+=`${t(o,n-r.length)}`}return r+=" ]",r}(e,n):function(e,n){let r="{ ",i=!0;for(const[o,s]of Object.entries(e)){if(i||(r+=", "),r.length-5>n){r+="...";break}i=!1,r+=`${o}: ${t(s,n-r.length)}`}return r+=" }",r}(e,n);case"symbol":return e.toString();case"function":return`[[Function${e.name?" "+e.name:""}]]`;default:return""+e}}},14:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromResource=void 0;const r=n(7873),i=n(2188);e.fromResource=function(t,e){let n,o=!1,s=!1,a=e?e():void 0;const c=()=>{o&&(o=!1,r.dispose(n))},l=i.createAtom("ResourceBasedObservable",(()=>{o=!0,n=t(((...t)=>{i._allowStateChanges(!0,(()=>{if(t.length>0)a=t[0];else{if(!e)throw new Error("Either an argument or getValue must be provided");a=e()}l.reportChanged()}))}))}),c);return{current:()=>{if(!l.reportObserved()&&!o){if(e)return e();console.warn("Called `get` of a subscribingObservable outside a reaction. Current value will be returned but no new subscription has started")}return a},dispose:()=>{s=!0,c()},isAlive:()=>o}}},2319:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.groupBy=void 0,e.groupBy=function(t,e){const n=new Map;for(const r of t){const t=e(r);let i=n.get(t);i||(i={key:t,items:[]},n.set(t,i)),i.items.push(r)}return n}},1235:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.path=void 0;const path2=__webpack_require__(6470);function getPath(){try{const rq=eval("require"),obj=rq("path");if("relative"in obj)return obj}catch(t){}return path2}exports.path=getPath()},5208:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.registerFailableCommand=void 0;const i=n(7549);e.registerFailableCommand=function(t,e){return i.commands.registerCommand(t,((...t)=>r(this,void 0,void 0,(function*(){try{return yield e(...t)}catch(t){return i.window.showErrorMessage("The command failed: "+t.message),!1}}))))}},8902:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.File=e.VirtualFileSystemProvider=e.DrawioFileSystemController=void 0;const r=n(7549),i=n(7873),o=n(4406);e.DrawioFileSystemController=class{constructor(){this.dispose=i.Disposable.fn(),this.fs=new s,this.scheme="drawio",this.dispose.track(r.workspace.registerFileSystemProvider(this.scheme,this.fs,{isCaseSensitive:!0,isReadonly:!1}))}getOrCreateFileForUri(t){return this.fs.getOrCreateFile(t)}};class s{constructor(){this.fileChangedEmitter=new r.EventEmitter,this.onDidChangeFile=this.fileChangedEmitter.event,this.files=new Map}getOrCreateFile(t){const e=t.toString(),n=this.files.get(e);if(n)return{file:n,didFileExist:!0};const i=new a(t,Uint8Array.from([]));return i.onDidChangeFile((()=>this.fileChangedEmitter.fire([{type:r.FileChangeType.Changed,uri:i.uri}]))),this.files.set(e,i),{file:i,didFileExist:!1}}readFile(t){return this.getOrCreateFile(t).file.data}writeFile(t,e,n){return this.getOrCreateFile(t).file.write(e)}stat(t){const e=this.getOrCreateFile(t).file;return{type:r.FileType.File,ctime:0,mtime:0,size:e.data.length}}watch(t,e){return i.Disposable.empty}readDirectory(t){throw new Error("Method not implemented.")}createDirectory(t){throw new Error("Method not implemented.")}delete(t,e){throw new Error("Method not implemented.")}rename(t,e,n){throw new Error("Method not implemented.")}}e.VirtualFileSystemProvider=s;class a{constructor(t,e){this.uri=t,this.data=e,this.fileChangedEmitter=new r.EventEmitter,this.onDidChangeFile=this.fileChangedEmitter.event}write(t){this.data=t,this.fileChangedEmitter.fire(void 0)}writeString(t){this.write(Uint8Array.from(o.BufferImpl.from(t,"utf-8")))}readString(){return o.BufferImpl.from(this.data).toString("utf-8")}}e.File=a},4895:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.VsCodeSetting=e.serializerWithDefault=void 0;const i=n(7549),o=n(14),s=n(2188),a=n(4761);e.serializerWithDefault=function(t){return{deserialize:e=>void 0===e?t:e,serializer:t=>t}},e.VsCodeSetting=class{constructor(t,e={}){this.id=t,this.scope=e.scope,this.serializer=e.serializer||{deserialize:t=>t,serializer:t=>t},this.target=e.target,this.settingResource=new c(this.id,this.scope,this.target)}get T(){throw new Error}get(){const t=this.settingResource.value;return this.serializer.deserialize(t)}set(t){return r(this,void 0,void 0,(function*(){const e=this.serializer.serializer(t),n=i.workspace.getConfiguration(void 0,this.scope);let r;if(void 0!==this.target)r=this.target;else{const t=n.inspect(this.id);t&&[t.workspaceFolderLanguageValue,t.workspaceFolderValue].some((t=>void 0!==t))&&(r=i.ConfigurationTarget.WorkspaceFolder),r=t&&[t.workspaceLanguageValue,t.workspaceValue].some((t=>void 0!==t))?i.ConfigurationTarget.Workspace:i.ConfigurationTarget.Global}yield n.update(this.id,e,r)}))}};class c{constructor(t,e,n){this.id=t,this.scope=e,this.target=n,this.resource=o.fromResource((t=>c.onConfigChange.sub((()=>{t()}))),(()=>this.readValue())),this.stringifiedSettingValue=s.computed((()=>JSON.stringify(this.resource.current())),{name:`VsCodeSettingResource[${this.id}].value`,context:this})}readValue(){const t=i.workspace.getConfiguration(void 0,this.scope);if(void 0===this.target)return t.get(this.id);{const e=t.inspect(this.id);if(!e)return;if(this.target===i.ConfigurationTarget.Global)return e.globalValue;if(this.target===i.ConfigurationTarget.Workspace)return e.workspaceValue;if(this.target===i.ConfigurationTarget.WorkspaceFolder)return e.workspaceFolderValue}}get value(){const t=this.stringifiedSettingValue.get();if(void 0!==t)return JSON.parse(t)}}c.onConfigChange=new a.EventEmitter,i.workspace.onDidChangeConfiguration((()=>{s.runInAction("Update Configuration",(()=>{c.onConfigChange.emit()}))}))},2100:t=>{"use strict";t.exports={i8:"1.0.3015"}},8459:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(7549),i=n(2100).i8;async function o(t){const n=r.extensions.getExtension(e.extensionId);if(!n)return null;const o=n.isActive?n.exports:await n.activate();return o?o.getApi?o.getApi(i,t):o.getApiAsync(i):null}var s,a,c,l,u;e.extensionId="ms-vsliveshare.vsliveshare",e.getApi=o,e.getApiAsync=function(){return o()},(u=e.PolicySetting||(e.PolicySetting={})).AllowGuestDebugControl="allowGuestDebugControl",u.AllowGuestTaskControl="allowGuestTaskControl",u.AutoShareServers="autoShareServers",u.AnonymousGuestApproval="anonymousGuestApproval",u.ConnectionMode="connectionMode",u.AllowedDomains="allowedDomains",u.AllowReadWriteTerminals="allowReadWriteTerminals",(l=e.Role||(e.Role={}))[l.None=0]="None",l[l.Host=1]="Host",l[l.Guest=2]="Guest",(c=e.Access||(e.Access={}))[c.None=0]="None",c[c.ReadOnly=1]="ReadOnly",c[c.ReadWrite=3]="ReadWrite",c[c.Owner=255]="Owner",(a=e.View||(e.View={})).Session="liveshare.session",a.ExplorerSession="liveshare.session.explorer",a.PlannedSessions="liveshare.plannedSessions",a.Contacts="liveshare.contacts",a.Help="liveshare.help",(s=e.ViewItem||(e.ViewItem={})).Participants="participants",s.Servers="servers",s.Terminals="terminals",s.Comments="comments",s.Chat="chat",s.CurrentUser="participants.currentuser",s.Guest="participants.guest",s.FollowedGuest="participants.guest.followed",s.Participant="participants.participant",s.FollowedParticipant="participants.participant.followed",s.GuestAnonymous="participants.guest.anonymous",s.FollowedGuestAnonymous="participants.guest.followed.anonymous",s.GuestElevated="participants.guest.elevated",s.FollowedGuestElevated="participants.guest.followed.elevated",s.LocalServer="servers.local",s.RemoteServer="servers.remote",s.LocalTerminalReadOnly="terminals.local.readonly",s.LocalTerminalReadWrite="terminals.local.readwrite",s.RemoteTerminal="terminals.remote",s.SuggestedContacts="contacts.suggested",s.AvailableContacts="contacts.available",s.ContactsProvider="contacts.provider",s.SelfContact="contacts.selfContact",s.Contact="contacts.contact",s.ContactInvited="contacts.contact.invited",s.ContactOffline="contacts.contact.offline",s.RecentContact="contacts.recentContact",s.RecentContactOffline="contacts.recentContact.offline",s.RecentContactInvited="contacts.recentContact.invited",s.NoContact="contacts.noContact",s.RecentContacts="contacts.RecentContacts",s.NoSuggestedContacts="contacts.NoSuggestedUsers",s.NoRecentContacts="contacts.NoRecentContacts",s.InvitedContact="contacts.invited",s.SessionFeedbackQuestion="help.sessionFeedback",s.ReportAProblem="help.reportAProblem",s.TweetUsYourFeedback="help.tweetUsYourFeedback",s.Survey="help.survey",s.GoodFeedback="help.goodFeedback",s.BadFeedback="help.badFeedback",s.DontAskAgain="help.dontAskAgain",s.Thankyou="help.thankyou",s.MoreInfo="help.moreinfo",s.ConfigureSettings="help.configureSettings",s.Loading="loading",s.Other="other";class d{}e.ActivityType=d,d.session="session",d.workspace="workspace",d.debug="debug",d.terminal="terminal"},1465:(t,e,n)=>{function r(t){let e;for(t.content+=t.options.lineSeparator,e=0;e<t.level;e++)t.content+=t.options.indentation}function i(t,e){t.content+=e}function o(t,e,n){if("string"==typeof t.content)!function(t,e,n){n||(t.content=t.content.trim()),t.content.length>0&&(!n&&e.content.length>0&&r(e),i(e,t.content))}(t,e,n);else if("Element"===t.type)!function(t,e,n){if(!n&&e.content.length>0&&r(e),i(e,"<"+t.name),s(e,t.attributes),null===t.children){const t=e.options.whiteSpaceAtEndOfSelfclosingTag?" />":"/>";i(e,t)}else if(0===t.children.length)i(e,"></"+t.name+">");else{i(e,">"),e.level++;let s="preserve"===t.attributes["xml:space"];!s&&e.options.collapseContent&&t.children.some((function(t){return"Text"===t.type&&""!==t.content.trim()}))&&(s=!0),t.children.forEach((function(t){o(t,e,n||s,e.options)})),e.level--,n||s||r(e),i(e,"</"+t.name+">")}}(t,e,n);else{if("ProcessingInstruction"!==t.type)throw new Error("Unknown node type: "+t.type);a(t,e)}}function s(t,e){Object.keys(e).forEach((function(n){const r=e[n].replace(/"/g,"&quot;");i(t," "+n+'="'+r+'"')}))}function a(t,e){e.content.length>0&&r(e),i(e,"<?"+t.name),s(e,t.attributes),i(e,"?>")}t.exports=function(t,e={}){e.indentation=e.indentation||"    ",e.collapseContent=!0===e.collapseContent,e.lineSeparator=e.lineSeparator||"\r\n",e.whiteSpaceAtEndOfSelfclosingTag=!!e.whiteSpaceAtEndOfSelfclosingTag;const r=n(7121)(t,{filter:e.filter}),i={content:"",level:0,options:e};return r.declaration&&a(r.declaration,i),r.children.forEach((function(t){o(t,i,!1)})),i.content}},7121:t=>{t.exports=function(t,e={}){function n(){return o()||function(){const t=c(/^([^<]+)/);if(t){const n={type:"Text",content:t[1]};return{excluded:!1===e.filter(n),node:n}}}()||s()||function(){const t=c(/^<!\[CDATA\[[^\]\]>]*]]>/);if(t){const n={type:"CDATA",content:t[0]};return{excluded:!1===e.filter(n),node:n}}}()}function r(){return c(/\s*/),o(!0)||s()||function(){const t=c(/^<!DOCTYPE\s+[^>]*>/);if(t){const n={type:"DocumentType",content:t[0]};return{excluded:!1===e.filter(n),node:n}}}()||i(!1)}function i(t){const n=c(t?/^<\?(xml)\s*/:/^<\?([\w-:.]+)\s*/);if(!n)return;const r={name:n[1],type:"ProcessingInstruction",attributes:{}};for(;!l()&&!u("?>");){const t=a();if(!t)return r;r.attributes[t.name]=t.value}return c(/\?>/),{excluded:!t&&!1===e.filter(r),node:r}}function o(t){const r=c(/^<([\w-:.]+)\s*/);if(!r)return;const i={type:"Element",name:r[1],attributes:{},children:[]};for(;!(l()||u(">")||u("?>")||u("/>"));){const t=a();if(!t)return i;i.attributes[t.name]=t.value}const o=!t&&!1===e.filter(i);if(c(/^\s*\/>/))return i.children=null,{excluded:o,node:i};if(c(/\??>/),!o){let t=n();for(;t;)t.excluded||i.children.push(t.node),t=n()}return c(/^<\/[\w-:.]+>/),{excluded:o,node:i}}function s(){const t=c(/^<!--[\s\S]*?-->/);if(t){const n={type:"Comment",content:t[0]};return{excluded:!1===e.filter(n),node:n}}}function a(){const t=c(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);var e;if(t)return{name:t[1],value:(e=t[2],e.replace(/^['"]|['"]$/g,""))}}function c(e){const n=t.match(e);if(n)return t=t.slice(n[0].length),n}function l(){return 0===t.length}function u(e){return 0===t.indexOf(e)}return e.filter=e.filter||(()=>!0),t=t.trim(),function(){const t=i(!0),e=[];let n,o=r();for(;o;){if("Element"===o.node.type){if(n)throw new Error("Found multiple root nodes");n=o.node}o.excluded||e.push(o.node),o=r()}if(!n)throw new Error("Failed to parse XML");return{declaration:t?t.node:null,root:n,children:e}}()}},306:t=>{"use strict";t.exports=JSON.parse('{"name":"vscode-drawio","private":true,"displayName":"Draw.io Integration","description":"This unofficial extension integrates Draw.io into VS Code.","version":"1.6.6","license":"GPL-3.0","publisher":"hediet","keywords":["drawio","diagram","diagrams.net","visio","architecture","uml","code link"],"author":{"email":"henning.dieterichs@live.de","name":"Henning Dieterichs"},"readme":"./README.md","icon":"docs/logo.drawio.png","extensionKind":["ui","workspace"],"engines":{"vscode":"^1.46.0"},"categories":["Visualization"],"activationEvents":["onCustomEditor:hediet.vscode-drawio","onCustomEditor:hediet.vscode-drawio-text","onCommand:hediet.vscode-drawio.newDiagram"],"repository":{"url":"https://github.com/hediet/vscode-drawio.git"},"browser":"./dist/extension/index","main":"./dist/extension/index","capabilities":{"untrustedWorkspaces":{"supported":true}},"contributes":{"languages":[{"id":"drawio","extensions":[".drawio",".dio",".dio.svg",".drawio.svg",".drawio.png",".dio.png"],"aliases":["Draw.io","drawio"]}],"customEditors":[{"viewType":"hediet.vscode-drawio","displayName":"Draw.io (Binary)","selector":[{"filenamePattern":"*.drawio.png"},{"filenamePattern":"*.dio.png"}],"priority":"default"},{"viewType":"hediet.vscode-drawio-text","displayName":"Draw.io","selector":[{"filenamePattern":"*.drawio"},{"filenamePattern":"*.dio"},{"filenamePattern":"*.dio.svg"},{"filenamePattern":"*.drawio.svg"}],"priority":"default"}],"commands":[{"command":"hediet.vscode-drawio.convert","title":"Convert To...","category":"Draw.io"},{"command":"hediet.vscode-drawio.export","title":"Export To...","category":"Draw.io"},{"command":"hediet.vscode-drawio.toggleCodeLinkActivation","title":"Toggle Code Link Activation","category":"Draw.io"},{"command":"hediet.vscode-drawio.changeTheme","title":"Change Theme","category":"Draw.io"},{"command":"hediet.vscode-drawio.editDiagramAsText","title":"Edit Diagram As Text (Experimental)","enablement":"hediet.vscode-drawio.experimentalFeaturesEnabled","category":"Draw.io"},{"command":"hediet.vscode-drawio.linkCodeWithSelectedNode","title":"Link Code with Selected Node","category":"Draw.io"},{"command":"hediet.vscode-drawio.newDiagram","title":"New Draw.io Diagram","category":"Draw.io"},{"command":"hediet.vscode-drawio.linkFileWithSelectedNode","title":"Link File With Selected Node","category":"Draw.io"},{"command":"hediet.vscode-drawio.linkSymbolWithSelectedNode","title":"Link Symbol With Selected Node","category":"Draw.io"},{"command":"hediet.vscode-drawio.linkWsSymbolWithSelectedNode","title":"Link Workspace Symbol With Selected Node","category":"Draw.io"}],"keybindings":[{"command":"hediet.vscode-drawio.linkCodeWithSelectedNode","key":"shift+F3","when":"!findWidgetVisible"}],"configuration":{"title":"Draw.io Integration","properties":{"hediet.vscode-drawio.offline":{"type":"boolean","default":true,"title":"Use Offline Mode","description":"When enabled, the bundled instance of Draw.io is used."},"hediet.vscode-drawio.codeLinkActivated":{"type":"boolean","default":false,"title":"Code Link Enabled","description":"When activated, selecting a node will navigate to an associated code section."},"hediet.vscode-drawio.local-storage":{"anyOf":[{"type":"object"},{"type":"string"}],"default":{},"readOnly":true,"title":"Draw.io Local Storage","description":"Only change this property if you know what you are doing. Manual changes to this property are not supported!"},"hediet.vscode-drawio.styles":{"title":"Styles","description":"Defines an array of objects that contain the colours (fontColor, fillColor, strokeColor and gradientColor) for the Style tab of the format panel if the selection is empty. These objects can have a commonStyle (which is applied to both vertices and edges), vertexStyle (applied to vertices) and edgeStyle (applied to edges), and a graph with background and gridColor. An empty object means apply the default colors","type":"array","items":{"type":"object","properties":{"commonStyle":{"type":"object","properties":{"fontColor":{"type":"string"},"strokeColor":{"type":"string"},"fillColor":{"type":"string"}}},"graph":{"type":"object","properties":{"background":{"type":"string"},"gridColor":{"type":"string"}}}}}},"hediet.vscode-drawio.defaultVertexStyle":{"title":"Default Vertex Style","description":"Default styling of vertices (shapes).","type":"object"},"hediet.vscode-drawio.defaultEdgeStyle":{"title":"Default Edge Style","description":"Default styling of edges.","type":"object"},"hediet.vscode-drawio.simpleLabels":{"type":"boolean","default":false,"title":"Use SimpleLabels","description":"When enabled, no ForeignObjects are used in the svg."},"hediet.vscode-drawio.colorNames":{"title":"Color Names","description":"Names for colors, eg. {‘FFFFFF’: ‘White’, ‘000000’: ‘Black’} that are used as tooltips (uppercase, no leading # for the colour codes)","type":"object"},"hediet.vscode-drawio.presetColors":{"title":"Preset Colors","description":"Color codes for the upper palette in the color dialog.","type":"array","items":{"type":"string","description":"Use hex codes without # at the beginning only (FFFFFF for absolute white, for example)."}},"hediet.vscode-drawio.customColorSchemes":{"title":"Custom Color Schemes","markdownDescription":"Available color schemes in the style section at the top of the format panel. See example [here](https://www.diagrams.net/doc/faq/custom-colours-confluence-cloud#default-colour-schemes---format-panel)","type":"array","items":{"type":"array","description":"Represents a page of color schemes.","items":{"type":"object","properties":{"title":{"type":"string","description":"Title of the color used in tooltips."},"fill":{"type":"string","description":"Use hex codes with # at the beginning (#FFFFFF for absolute white, for example)."},"stroke":{"type":"string","description":"Use hex codes with # at the beginning (#FFFFFF for absolute white, for example)."},"gradient":{"type":"string","description":"Use hex codes with # at the beginning (#FFFFFF for absolute white, for example)."},"font":{"type":"string","description":"Use hex codes with # at the beginning (#FFFFFF for absolute white, for example)."}}}}},"hediet.vscode-drawio.customFonts":{"type":"array","items":{"type":"string"},"default":[],"title":"Custom Fonts","description":"Configures the Draw.io editor to use custom fonts."},"hediet.vscode-drawio.customLibraries":{"type":"array","items":{"type":"object","properties":{"entryId":{"type":"string","description":"The id of the entry. A specfic entry can be enabled or deactivated in the editor."},"libName":{"type":"string","description":"The name of the library in the shape overview."}},"anyOf":[{"type":"object","properties":{"url":{"type":"string"}}},{"type":"object","properties":{"xml":{"type":"string"}}},{"type":"object","properties":{"json":{}}},{"type":"object","properties":{"file":{"type":"string","description":"The file path to the library. Must be absolute. You can use ${workspaceFolder}."}}}]},"default":[],"title":"Custom Libraries","description":"Configures the Draw.io editor to use custom libraries."},"hediet.vscode-drawio.plugins":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"file":{"type":"string","description":"The file path to the library. Must be absolute. You can use ${workspaceFolder}."}}}]},"default":[],"title":"Plugins","description":"Loads Draw.io plugins."},"hediet.vscode-drawio.knownPlugins":{"type":"array","items":{"type":"object","properties":{"pluginId":{"type":"string"},"fingerprint":{"type":"string"},"allowed":{"type":"boolean"}}},"default":[],"title":"Known Plugins"},"hediet.vscode-drawio.online-url":{"type":"string","default":"https://embed.diagrams.net/","title":"Online URL","description":"The app to use when offline mode is disabled."},"hediet.vscode-drawio.theme":{"title":"Draw.io Theme","type":"string","default":"automatic","enum":["automatic","min","atlas","dark","Kennedy","sketch"],"description":"The theme to use for the Draw.io editor. Use \\"automatic\\" to automatically choose a Draw.io theme that matches your current VS Code theme."},"hediet.vscode-drawio.zoomFactor":{"type":"number","default":1.2,"title":"Draw.io zoom factor","description":"Defines the zoom factor for mouse wheel and trackpad zoom."},"hediet.vscode-drawio.globalVars":{"type":"object","title":"Draw.io global variables.","description":"Defines global variables for system-wide placeholders using a JSON structure with key, value pairs. Keep the number of global variables small."},"hediet.vscode-drawio.resizeImages":{"type":["boolean","null"],"title":"Draw.io resize images.","description":"If set to true, images are resized automatically on paste. If not defined, the user will be asked to confirm the resize.","default":null}}},"menus":{"explorer/context":[{"when":"hediet.vscode-drawio.active","command":"hediet.vscode-drawio.linkFileWithSelectedNode","group":"Draw.io"}],"commandPalette":[{"when":"false","command":"hediet.vscode-drawio.linkFileWithSelectedNode"}]}},"scripts":{"run-script":"node ./scripts/run-script","lint":"yarn run-script check-version && prettier --check ./src","build":"yarn pre-build && vsce package --yarn --out ./vscode-drawio.vsix","pre-build":"webpack --mode production && webpack --mode production --config ./drawio-custom-plugins/webpack.config.ts","dev":"webpack --mode development --watch","dev-drawio-plugins":"webpack --mode development --watch --config ./drawio-custom-plugins/webpack.config.ts","dev-drawio-plugins-web":"webpack-dev-server --hot --config ./drawio-custom-plugins/webpack.config.ts"},"devDependencies":{"@actions/exec":"^1.0.4","@actions/github":"^2.2.0","@hediet/semver":"^0.2.1","@types/copy-webpack-plugin":"^8.0.1","@types/mithril":"^2.0.4","@types/node":"^13.13.5","@types/vscode":"1.46.0","@types/xml-formatter":"^1.1.0","clean-webpack-plugin":"^4.0.0-alpha.0","copy-webpack-plugin":"^9.0.1","css-loader":"^3.4.2","ovsx":"^0.1.0-next.e000fdb","prettier":"^2.3.2","raw-loader":"^4.0.1","style-loader":"^1.1.3","ts-loader":"^9.2.3","ts-node":"^10.1.0","tslint":"^6.1.2","typescript":"^4.3.5","vsce":"^1.95.1","webpack":"^5.44.0","webpack-cli":"^4.7.2","webpack-dev-server":"^3.11.2"},"dependencies":{"@hediet/json-to-dictionary":"^0.2.1","@hediet/std":"0.6.0","@knuddels/mobx-logger":"^1.1.1","buffer":"^6.0.3","js-sha256":"^0.9.0","mithril":"^2.0.4","mobx":"5.15.4","mobx-utils":"5.5.7","path-browserify":"^1.0.1","vsls":"^1.0.3015","xml-formatter":"^2.0.1","xml-parser-xo":"^3.0.0"},"versionName":"1.6.6"}')},7549:t=>{"use strict";t.exports=require("vscode")}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.amdO={},__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=void 0,__webpack_require__(3503),__webpack_require__(2188);const e=__webpack_require__(2972);t.activate=function(t){t.subscriptions.push(new e.Extension(t))},t.deactivate=function(){}})(),module.exports=__webpack_exports__})();
//# sourceMappingURL=index.js.map